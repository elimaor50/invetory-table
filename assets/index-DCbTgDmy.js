(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();function z1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ah={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function j1(){if(ry)return Ql;ry=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var g in o)g!=="key"&&(f[g]=o[g])}else f=o;return o=f.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:f}}return Ql.Fragment=e,Ql.jsx=i,Ql.jsxs=i,Ql}var sy;function k1(){return sy||(sy=1,Ah.exports=j1()),Ah.exports}var E=k1(),xh={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function U1(){if(ay)return Dt;ay=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),V=Symbol.iterator;function O(D){return D===null||typeof D!="object"?null:(D=V&&D[V]||D["@@iterator"],typeof D=="function"?D:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,lt={};function it(D,F,rt){this.props=D,this.context=F,this.refs=lt,this.updater=rt||Y}it.prototype.isReactComponent={},it.prototype.setState=function(D,F){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,F,"setState")},it.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function wt(){}wt.prototype=it.prototype;function At(D,F,rt){this.props=D,this.context=F,this.refs=lt,this.updater=rt||Y}var yt=At.prototype=new wt;yt.constructor=At,nt(yt,it.prototype),yt.isPureReactComponent=!0;var Yt=Array.isArray,xt={H:null,A:null,T:null,S:null,V:null},qt=Object.prototype.hasOwnProperty;function z(D,F,rt,J,gt,at){return rt=at.ref,{$$typeof:a,type:D,key:F,ref:rt!==void 0?rt:null,props:at}}function x(D,F){return z(D.type,F,void 0,void 0,void 0,D.props)}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===a}function N(D){var F={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(rt){return F[rt]})}var M=/\/+/g;function k(D,F){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):F.toString(36)}function R(){}function se(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(F){D.status==="pending"&&(D.status="fulfilled",D.value=F)},function(F){D.status==="pending"&&(D.status="rejected",D.reason=F)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Qt(D,F,rt,J,gt){var at=typeof D;(at==="undefined"||at==="boolean")&&(D=null);var Et=!1;if(D===null)Et=!0;else switch(at){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(D.$$typeof){case a:case e:Et=!0;break;case A:return Et=D._init,Qt(Et(D._payload),F,rt,J,gt)}}if(Et)return gt=gt(D),Et=J===""?"."+k(D,0):J,Yt(gt)?(rt="",Et!=null&&(rt=Et.replace(M,"$&/")+"/"),Qt(gt,F,rt,"",function(cn){return cn})):gt!=null&&(C(gt)&&(gt=x(gt,rt+(gt.key==null||D&&D.key===gt.key?"":(""+gt.key).replace(M,"$&/")+"/")+Et)),F.push(gt)),1;Et=0;var dt=J===""?".":J+":";if(Yt(D))for(var Jt=0;Jt<D.length;Jt++)J=D[Jt],at=dt+k(J,Jt),Et+=Qt(J,F,rt,at,gt);else if(Jt=O(D),typeof Jt=="function")for(D=Jt.call(D),Jt=0;!(J=D.next()).done;)J=J.value,at=dt+k(J,Jt++),Et+=Qt(J,F,rt,at,gt);else if(at==="object"){if(typeof D.then=="function")return Qt(se(D),F,rt,J,gt);throw F=String(D),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Et}function Q(D,F,rt){if(D==null)return D;var J=[],gt=0;return Qt(D,J,"","",function(at){return F.call(rt,at,gt++)}),J}function et(D){if(D._status===-1){var F=D._result;F=F(),F.then(function(rt){(D._status===0||D._status===-1)&&(D._status=1,D._result=rt)},function(rt){(D._status===0||D._status===-1)&&(D._status=2,D._result=rt)}),D._status===-1&&(D._status=0,D._result=F)}if(D._status===1)return D._result.default;throw D._result}var ct=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function ht(){}return Dt.Children={map:Q,forEach:function(D,F,rt){Q(D,function(){F.apply(this,arguments)},rt)},count:function(D){var F=0;return Q(D,function(){F++}),F},toArray:function(D){return Q(D,function(F){return F})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Dt.Component=it,Dt.Fragment=i,Dt.Profiler=o,Dt.PureComponent=At,Dt.StrictMode=s,Dt.Suspense=v,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=xt,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return xt.H.useMemoCache(D)}},Dt.cache=function(D){return function(){return D.apply(null,arguments)}},Dt.cloneElement=function(D,F,rt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var J=nt({},D.props),gt=D.key,at=void 0;if(F!=null)for(Et in F.ref!==void 0&&(at=void 0),F.key!==void 0&&(gt=""+F.key),F)!qt.call(F,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&F.ref===void 0||(J[Et]=F[Et]);var Et=arguments.length-2;if(Et===1)J.children=rt;else if(1<Et){for(var dt=Array(Et),Jt=0;Jt<Et;Jt++)dt[Jt]=arguments[Jt+2];J.children=dt}return z(D.type,gt,void 0,void 0,at,J)},Dt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:f,_context:D},D},Dt.createElement=function(D,F,rt){var J,gt={},at=null;if(F!=null)for(J in F.key!==void 0&&(at=""+F.key),F)qt.call(F,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(gt[J]=F[J]);var Et=arguments.length-2;if(Et===1)gt.children=rt;else if(1<Et){for(var dt=Array(Et),Jt=0;Jt<Et;Jt++)dt[Jt]=arguments[Jt+2];gt.children=dt}if(D&&D.defaultProps)for(J in Et=D.defaultProps,Et)gt[J]===void 0&&(gt[J]=Et[J]);return z(D,at,void 0,void 0,null,gt)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(D){return{$$typeof:g,render:D}},Dt.isValidElement=C,Dt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:et}},Dt.memo=function(D,F){return{$$typeof:_,type:D,compare:F===void 0?null:F}},Dt.startTransition=function(D){var F=xt.T,rt={};xt.T=rt;try{var J=D(),gt=xt.S;gt!==null&&gt(rt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ht,ct)}catch(at){ct(at)}finally{xt.T=F}},Dt.unstable_useCacheRefresh=function(){return xt.H.useCacheRefresh()},Dt.use=function(D){return xt.H.use(D)},Dt.useActionState=function(D,F,rt){return xt.H.useActionState(D,F,rt)},Dt.useCallback=function(D,F){return xt.H.useCallback(D,F)},Dt.useContext=function(D){return xt.H.useContext(D)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(D,F){return xt.H.useDeferredValue(D,F)},Dt.useEffect=function(D,F,rt){var J=xt.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(D,F)},Dt.useId=function(){return xt.H.useId()},Dt.useImperativeHandle=function(D,F,rt){return xt.H.useImperativeHandle(D,F,rt)},Dt.useInsertionEffect=function(D,F){return xt.H.useInsertionEffect(D,F)},Dt.useLayoutEffect=function(D,F){return xt.H.useLayoutEffect(D,F)},Dt.useMemo=function(D,F){return xt.H.useMemo(D,F)},Dt.useOptimistic=function(D,F){return xt.H.useOptimistic(D,F)},Dt.useReducer=function(D,F,rt){return xt.H.useReducer(D,F,rt)},Dt.useRef=function(D){return xt.H.useRef(D)},Dt.useState=function(D){return xt.H.useState(D)},Dt.useSyncExternalStore=function(D,F,rt){return xt.H.useSyncExternalStore(D,F,rt)},Dt.useTransition=function(){return xt.H.useTransition()},Dt.version="19.1.1",Dt}var ly;function ud(){return ly||(ly=1,xh.exports=U1()),xh.exports}var Vt=ud();const Rs=z1(Vt);var wh={exports:{}},Fl={},Rh={exports:{}},Ch={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function L1(){return oy||(oy=1,function(a){function e(Q,et){var ct=Q.length;Q.push(et);t:for(;0<ct;){var ht=ct-1>>>1,D=Q[ht];if(0<o(D,et))Q[ht]=et,Q[ct]=D,ct=ht;else break t}}function i(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var et=Q[0],ct=Q.pop();if(ct!==et){Q[0]=ct;t:for(var ht=0,D=Q.length,F=D>>>1;ht<F;){var rt=2*(ht+1)-1,J=Q[rt],gt=rt+1,at=Q[gt];if(0>o(J,ct))gt<D&&0>o(at,J)?(Q[ht]=at,Q[gt]=ct,ht=gt):(Q[ht]=J,Q[rt]=ct,ht=rt);else if(gt<D&&0>o(at,ct))Q[ht]=at,Q[gt]=ct,ht=gt;else break t}}return et}function o(Q,et){var ct=Q.sortIndex-et.sortIndex;return ct!==0?ct:Q.id-et.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,V=null,O=3,Y=!1,nt=!1,lt=!1,it=!1,wt=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function Yt(Q){for(var et=i(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=Q)s(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function xt(Q){if(lt=!1,Yt(Q),!nt)if(i(v)!==null)nt=!0,qt||(qt=!0,k());else{var et=i(_);et!==null&&Qt(xt,et.startTime-Q)}}var qt=!1,z=-1,x=5,C=-1;function N(){return it?!0:!(a.unstable_now()-C<x)}function M(){if(it=!1,qt){var Q=a.unstable_now();C=Q;var et=!0;try{t:{nt=!1,lt&&(lt=!1,At(z),z=-1),Y=!0;var ct=O;try{e:{for(Yt(Q),V=i(v);V!==null&&!(V.expirationTime>Q&&N());){var ht=V.callback;if(typeof ht=="function"){V.callback=null,O=V.priorityLevel;var D=ht(V.expirationTime<=Q);if(Q=a.unstable_now(),typeof D=="function"){V.callback=D,Yt(Q),et=!0;break e}V===i(v)&&s(v),Yt(Q)}else s(v);V=i(v)}if(V!==null)et=!0;else{var F=i(_);F!==null&&Qt(xt,F.startTime-Q),et=!1}}break t}finally{V=null,O=ct,Y=!1}et=void 0}}finally{et?k():qt=!1}}}var k;if(typeof yt=="function")k=function(){yt(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,se=R.port2;R.port1.onmessage=M,k=function(){se.postMessage(null)}}else k=function(){wt(M,0)};function Qt(Q,et){z=wt(function(){Q(a.unstable_now())},et)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Q){Q.callback=null},a.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Q?Math.floor(1e3/Q):5},a.unstable_getCurrentPriorityLevel=function(){return O},a.unstable_next=function(Q){switch(O){case 1:case 2:case 3:var et=3;break;default:et=O}var ct=O;O=et;try{return Q()}finally{O=ct}},a.unstable_requestPaint=function(){it=!0},a.unstable_runWithPriority=function(Q,et){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ct=O;O=Q;try{return et()}finally{O=ct}},a.unstable_scheduleCallback=function(Q,et,ct){var ht=a.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?ht+ct:ht):ct=ht,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ct+D,Q={id:A++,callback:et,priorityLevel:Q,startTime:ct,expirationTime:D,sortIndex:-1},ct>ht?(Q.sortIndex=ct,e(_,Q),i(v)===null&&Q===i(_)&&(lt?(At(z),z=-1):lt=!0,Qt(xt,ct-ht))):(Q.sortIndex=D,e(v,Q),nt||Y||(nt=!0,qt||(qt=!0,k()))),Q},a.unstable_shouldYield=N,a.unstable_wrapCallback=function(Q){var et=O;return function(){var ct=O;O=et;try{return Q.apply(this,arguments)}finally{O=ct}}}}(Ch)),Ch}var uy;function P1(){return uy||(uy=1,Rh.exports=L1()),Rh.exports}var Dh={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function B1(){if(cy)return tn;cy=1;var a=ud();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(v,_,A){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:V==null?null:""+V,children:v,containerInfo:_,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return f(v,_,null,A)},tn.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},tn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},tn.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},tn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,V=g(A,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,Y=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:V,integrity:O,fetchPriority:Y}):A==="script"&&s.d.X(v,{crossOrigin:V,integrity:O,fetchPriority:Y,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},tn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},tn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,V=g(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:V,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},tn.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},tn.requestFormReset=function(v){s.d.r(v)},tn.unstable_batchedUpdates=function(v,_){return v(_)},tn.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.1.1",tn}var fy;function q1(){if(fy)return Dh.exports;fy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Dh.exports=B1(),Dh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function H1(){if(hy)return Fl;hy=1;var a=P1(),e=ud(),i=q1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(f(t)!==t)throw Error(s(188))}function v(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===r)return g(c),t;if(h===l)return g(c),n;h=h.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=h;else{for(var y=!1,b=c.child;b;){if(b===r){y=!0,r=c,l=h;break}if(b===l){y=!0,l=c,r=h;break}b=b.sibling}if(!y){for(b=h.child;b;){if(b===r){y=!0,r=h,l=c;break}if(b===l){y=!0,l=h,r=c;break}b=b.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),lt=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),wt=Symbol.for("react.provider"),At=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),Yt=Symbol.for("react.forward_ref"),xt=Symbol.for("react.suspense"),qt=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function se(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nt:return"Fragment";case it:return"Profiler";case lt:return"StrictMode";case xt:return"Suspense";case qt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case yt:return(t.displayName||"Context")+".Provider";case At:return(t._context.displayName||"Context")+".Consumer";case Yt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z:return n=t.displayName||null,n!==null?n:se(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return se(t(n))}catch{}}return null}var Qt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},ht=[],D=-1;function F(t){return{current:t}}function rt(t){0>D||(t.current=ht[D],ht[D]=null,D--)}function J(t,n){D++,ht[D]=t.current,t.current=n}var gt=F(null),at=F(null),Et=F(null),dt=F(null);function Jt(t,n){switch(J(Et,n),J(at,t),J(gt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Np(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Np(n),t=Op(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}rt(gt),J(gt,t)}function cn(){rt(gt),rt(at),rt(Et)}function De(t){t.memoizedState!==null&&J(dt,t);var n=gt.current,r=Op(n,t.type);n!==r&&(J(at,t),J(gt,r))}function yn(t){at.current===t&&(rt(gt),rt(at)),dt.current===t&&(rt(dt),Pl._currentValue=ct)}var Jn=Object.prototype.hasOwnProperty,ti=a.unstable_scheduleCallback,wi=a.unstable_cancelCallback,Ri=a.unstable_shouldYield,Xr=a.unstable_requestPaint,He=a.unstable_now,Ci=a.unstable_getCurrentPriorityLevel,ar=a.unstable_ImmediatePriority,lr=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Ii=a.unstable_LowPriority,Vi=a.unstable_IdlePriority,ei=a.log,or=a.unstable_setDisableYieldValue,fe=null,Ht=null;function fn(t){if(typeof ei=="function"&&or(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(fe,t)}catch{}}var Ge=Math.clz32?Math.clz32:sn,Ni=Math.log,Kr=Math.LN2;function sn(t){return t>>>=0,t===0?32:31-(Ni(t)/Kr|0)|0}var Oi=256,ni=4194304;function _n(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ur(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~h,l!==0?c=_n(l):(y&=b,y!==0?c=_n(y):r||(r=b&~t,r!==0&&(c=_n(r))))):(b=l&~h,b!==0?c=_n(b):y!==0?c=_n(y):r||(r=l&~t,r!==0&&(c=_n(r)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,r=n&-n,h>=r||h===32&&(r&4194048)!==0)?n:c}function ze(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Wr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zr(){var t=Oi;return Oi<<=1,(Oi&4194048)===0&&(Oi=256),t}function $r(){var t=ni;return ni<<=1,(ni&62914560)===0&&(ni=4194304),t}function Gn(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Qn(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function vn(t,n,r,l,c,h){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var b=t.entanglements,w=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var X=31-Ge(r),W=1<<X;b[X]=0,w[X]=-1;var B=P[X];if(B!==null)for(P[X]=null,X=0;X<B.length;X++){var H=B[X];H!==null&&(H.lane&=-536870913)}r&=~W}l!==0&&je(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(y&~n))}function je(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ge(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function S(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ge(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function q(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function tt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _t(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:$p(t.type))}function te(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var Gt=Math.random().toString(36).slice(2),le="__reactFiber$"+Gt,he="__reactProps$"+Gt,bn="__reactContainer$"+Gt,js="__reactEvents$"+Gt,_o="__reactListeners$"+Gt,ii="__reactHandles$"+Gt,ks="__reactResources$"+Gt,Vn="__reactMarker$"+Gt;function En(t){delete t[le],delete t[he],delete t[js],delete t[_o],delete t[ii]}function Mi(t){var n=t[le];if(n)return n;for(var r=t.parentNode;r;){if(n=r[bn]||r[le]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=kp(t);t!==null;){if(r=t[le])return r;t=kp(t)}return n}t=r,r=t.parentNode}return null}function ri(t){if(t=t[le]||t[bn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function si(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function an(t){var n=t[ks];return n||(n=t[ks]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(t){t[Vn]=!0}var Fa=new Set,Us={};function Fn(t,n){zi(t,n),zi(t+"Capture",n)}function zi(t,n){for(Us[t]=n,t=0;t<n.length;t++)Fa.add(n[t])}var vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},Jr={};function Eo(t){return Jn.call(Jr,t)?!0:Jn.call(bo,t)?!1:vo.test(t)?Jr[t]=!0:(bo[t]=!0,!1)}function cr(t,n,r){if(Eo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function ai(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Qe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var ts,To;function ji(t){if(ts===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ts=n&&n[1]||"",To=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ts+t+To}var Ls=!1;function Ps(t,n){if(!t||Ls)return"";Ls=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(H){var B=H}Reflect.construct(t,[],W)}else{try{W.call()}catch(H){B=H}t.call(W.prototype)}}else{try{throw Error()}catch(H){B=H}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),y=h[0],b=h[1];if(y&&b){var w=y.split(`
`),P=b.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===P.length)for(l=w.length-1,c=P.length-1;1<=l&&0<=c&&w[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==P[c]){var X=`
`+w[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=c);break}}}finally{Ls=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ji(r):""}function Ya(t){switch(t.tag){case 26:case 27:case 5:return ji(t.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return Ps(t.type,!1);case 11:return Ps(t.type.render,!1);case 1:return Ps(t.type,!0);case 31:return ji("Activity");default:return""}}function Bs(t){try{var n="";do n+=Ya(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xa(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Rc(t){var n=Xa(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,h=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,h.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function qs(t){t._valueTracker||(t._valueTracker=Rc(t))}function Ka(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Xa(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function es(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cc=/[\n"\\]/g;function Te(t){return t.replace(Cc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Tn(t,n,r,l,c,h,y,b){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ln(n)):t.value!==""+ln(n)&&(t.value=""+ln(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?fr(t,y,ln(n)):r!=null?fr(t,y,ln(r)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+ln(b):t.removeAttribute("name")}function ns(t,n,r,l,c,h,y,b){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;r=r!=null?""+ln(r):"",n=n!=null?""+ln(n):r,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function fr(t,n,r){n==="number"&&es(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ki(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+ln(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function ee(t,n,r){if(n!=null&&(n=""+ln(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+ln(r):""}function is(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(Qt(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=ln(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function Nn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var rs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function So(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||rs.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Wa(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&So(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&So(t,h,n[h])}function Za(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ic=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hs(t){return Ic.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ui=null;function On(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Li=null,Pi=null;function $a(t){var n=ri(t);if(n&&(t=n.stateNode)){var r=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(Tn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Te(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(s(90));Tn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ka(l)}break t;case"textarea":ee(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ki(t,!!r.multiple,n,!1)}}}var li=!1;function Ao(t,n,r){if(li)return t(n,r);li=!0;try{var l=t(n);return l}finally{if(li=!1,(Li!==null||Pi!==null)&&(yu(),Li&&(n=Li,t=Pi,Pi=Li=null,$a(n),t)))for(n=0;n<t.length;n++)$a(t[n])}}function ss(t,n){var r=t.stateNode;if(r===null)return null;var l=r[he]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(Yn)try{var as={};Object.defineProperty(as,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{Mn=!1}var oi=null,hr=null,Bi=null;function Ja(){if(Bi)return Bi;var t,n=hr,r=n.length,l,c="value"in oi?oi.value:oi.textContent,h=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[h-l];l++);return Bi=c.slice(t,1<l?1-l:void 0)}function ui(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ci(){return!0}function tl(){return!1}function ke(t){function n(r,l,c,h,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(r=t[b],this[b]=r?r(h):h[b]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ci:tl,this.isPropagationStopped=tl,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),n}var Kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gs=ke(Kt),ls=A({},Kt,{view:0,detail:0}),xo=ke(ls),Qs,Fs,fi,os=A({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fi&&(fi&&t.type==="mousemove"?(Qs=t.screenX-fi.screenX,Fs=t.screenY-fi.screenY):Fs=Qs=0,fi=t),Qs)},movementY:function(t){return"movementY"in t?t.movementY:Fs}}),zn=ke(os),wo=A({},os,{dataTransfer:0}),Vc=ke(wo),us=A({},ls,{relatedTarget:0}),Ys=ke(us),el=A({},Kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Xs=ke(el),Ro=A({},Kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ks=ke(Ro),Nc=A({},Kt,{data:0}),nl=ke(Nc),cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Co={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Do={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Do[t])?!!n[t]:!1}function fs(){return il}var Io=A({},ls,{key:function(t){if(t.key){var n=cs[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ui(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Co[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(t){return t.type==="keypress"?ui(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ui(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ws=ke(Io),Vo=A({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rl=ke(Vo),qi=A({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),No=ke(qi),Oo=A({},Kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mo=ke(Oo),zo=A({},os,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zs=ke(zo),on=A({},Kt,{newState:0,oldState:0}),jo=ke(on),ko=[9,13,27,32],hi=Yn&&"CompositionEvent"in window,u=null;Yn&&"documentMode"in document&&(u=document.documentMode);var m=Yn&&"TextEvent"in window&&!u,p=Yn&&(!hi||u&&8<u&&11>=u),T=" ",U=!1;function G(t,n){switch(t){case"keyup":return ko.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kt=!1;function Ie(t,n){switch(t){case"compositionend":return st(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return t=n.data,t===T&&U?null:t;default:return null}}function Ut(t,n){if(kt)return t==="compositionend"||!hi&&G(t,n)?(t=Ja(),Bi=hr=oi=null,kt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ue[t.type]:n==="textarea"}function Hi(t,n,r,l){Li?Pi?Pi.push(l):Pi=[l]:Li=l,n=Su(n,"onChange"),0<n.length&&(r=new Gs("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Fe=null,di=null;function sl(t){Rp(t,0)}function Uo(t){var n=si(t);if(Ka(n))return t}function Xd(t,n){if(t==="change")return n}var Kd=!1;if(Yn){var Oc;if(Yn){var Mc="oninput"in document;if(!Mc){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),Mc=typeof Wd.oninput=="function"}Oc=Mc}else Oc=!1;Kd=Oc&&(!document.documentMode||9<document.documentMode)}function Zd(){Fe&&(Fe.detachEvent("onpropertychange",$d),di=Fe=null)}function $d(t){if(t.propertyName==="value"&&Uo(di)){var n=[];Hi(n,di,t,On(t)),Ao(sl,n)}}function fv(t,n,r){t==="focusin"?(Zd(),Fe=n,di=r,Fe.attachEvent("onpropertychange",$d)):t==="focusout"&&Zd()}function hv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uo(di)}function dv(t,n){if(t==="click")return Uo(n)}function mv(t,n){if(t==="input"||t==="change")return Uo(n)}function gv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Sn=typeof Object.is=="function"?Object.is:gv;function al(t,n){if(Sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Jn.call(n,c)||!Sn(t[c],n[c]))return!1}return!0}function Jd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tm(t,n){var r=Jd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Jd(r)}}function em(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?em(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function nm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=es(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=es(t.document)}return n}function zc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var pv=Yn&&"documentMode"in document&&11>=document.documentMode,$s=null,jc=null,ll=null,kc=!1;function im(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kc||$s==null||$s!==es(l)||(l=$s,"selectionStart"in l&&zc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ll&&al(ll,l)||(ll=l,l=Su(jc,"onSelect"),0<l.length&&(n=new Gs("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=$s)))}function hs(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Js={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},Uc={},rm={};Yn&&(rm=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function ds(t){if(Uc[t])return Uc[t];if(!Js[t])return t;var n=Js[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in rm)return Uc[t]=n[r];return t}var sm=ds("animationend"),am=ds("animationiteration"),lm=ds("animationstart"),yv=ds("transitionrun"),_v=ds("transitionstart"),vv=ds("transitioncancel"),om=ds("transitionend"),um=new Map,Lc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lc.push("scrollEnd");function Xn(t,n){um.set(t,n),Fn(n,[t])}var cm=new WeakMap;function jn(t,n){if(typeof t=="object"&&t!==null){var r=cm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Bs(n)},cm.set(t,n),n)}return{value:t,source:n,stack:Bs(n)}}var kn=[],ta=0,Pc=0;function Lo(){for(var t=ta,n=Pc=ta=0;n<t;){var r=kn[n];kn[n++]=null;var l=kn[n];kn[n++]=null;var c=kn[n];kn[n++]=null;var h=kn[n];if(kn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}h!==0&&fm(r,c,h)}}function Po(t,n,r,l){kn[ta++]=t,kn[ta++]=n,kn[ta++]=r,kn[ta++]=l,Pc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Bc(t,n,r,l){return Po(t,n,r,l),Bo(t)}function ea(t,n){return Po(t,null,null,n),Bo(t)}function fm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,h=t.return;h!==null;)h.childLanes|=r,l=h.alternate,l!==null&&(l.childLanes|=r),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-Ge(r),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),h):null}function Bo(t){if(50<Nl)throw Nl=0,Xf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var na={};function bv(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,n,r,l){return new bv(t,n,r,l)}function qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gi(t,n){var r=t.alternate;return r===null?(r=An(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function hm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function qo(t,n,r,l,c,h){var y=0;if(l=t,typeof t=="function")qc(t)&&(y=1);else if(typeof t=="string")y=T1(t,r,gt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=An(31,r,n,c),t.elementType=C,t.lanes=h,t;case nt:return ms(r.children,c,h,n);case lt:y=8,c|=24;break;case it:return t=An(12,r,n,c|2),t.elementType=it,t.lanes=h,t;case xt:return t=An(13,r,n,c),t.elementType=xt,t.lanes=h,t;case qt:return t=An(19,r,n,c),t.elementType=qt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wt:case yt:y=10;break t;case At:y=9;break t;case Yt:y=11;break t;case z:y=14;break t;case x:y=16,l=null;break t}y=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=An(y,r,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function ms(t,n,r,l){return t=An(7,t,l,n),t.lanes=r,t}function Hc(t,n,r){return t=An(6,t,null,n),t.lanes=r,t}function Gc(t,n,r){return n=An(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ia=[],ra=0,Ho=null,Go=0,Un=[],Ln=0,gs=null,Qi=1,Fi="";function ps(t,n){ia[ra++]=Go,ia[ra++]=Ho,Ho=t,Go=n}function dm(t,n,r){Un[Ln++]=Qi,Un[Ln++]=Fi,Un[Ln++]=gs,gs=t;var l=Qi;t=Fi;var c=32-Ge(l)-1;l&=~(1<<c),r+=1;var h=32-Ge(n)+c;if(30<h){var y=c-c%5;h=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Qi=1<<32-Ge(n)+c|r<<c|l,Fi=h+t}else Qi=1<<h|r<<c|l,Fi=t}function Qc(t){t.return!==null&&(ps(t,1),dm(t,1,0))}function Fc(t){for(;t===Ho;)Ho=ia[--ra],ia[ra]=null,Go=ia[--ra],ia[ra]=null;for(;t===gs;)gs=Un[--Ln],Un[Ln]=null,Fi=Un[--Ln],Un[Ln]=null,Qi=Un[--Ln],Un[Ln]=null}var un=null,pe=null,Xt=!1,ys=null,mi=!1,Yc=Error(s(519));function _s(t){var n=Error(s(418,""));throw cl(jn(n,t)),Yc}function mm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[le]=t,n[he]=l,r){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(r=0;r<Ml.length;r++)Mt(Ml[r],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),ns(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),qs(n);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),is(n,l.value,l.defaultValue,l.children),qs(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Vp(n.textContent,r)?(l.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),l.onScroll!=null&&Mt("scroll",n),l.onScrollEnd!=null&&Mt("scrollend",n),l.onClick!=null&&(n.onclick=Au),n=!0):n=!1,n||_s(t)}function gm(t){for(un=t.return;un;)switch(un.tag){case 5:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:un=un.return}}function ol(t){if(t!==un)return!1;if(!Xt)return gm(t),Xt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||ch(t.type,t.memoizedProps)),r=!r),r&&pe&&_s(t),gm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){pe=Wn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}pe=null}}else n===27?(n=pe,Cr(t.type)?(t=mh,mh=null,pe=t):pe=n):pe=un?Wn(t.stateNode.nextSibling):null;return!0}function ul(){pe=un=null,Xt=!1}function pm(){var t=ys;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),ys=null),t}function cl(t){ys===null?ys=[t]:ys.push(t)}var Xc=F(null),vs=null,Yi=null;function dr(t,n,r){J(Xc,n._currentValue),n._currentValue=r}function Xi(t){t._currentValue=Xc.current,rt(Xc)}function Kc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Wc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var y=c.child;h=h.firstContext;t:for(;h!==null;){var b=h;h=c;for(var w=0;w<n.length;w++)if(b.context===n[w]){h.lanes|=r,b=h.alternate,b!==null&&(b.lanes|=r),Kc(h.return,r,t),l||(y=null);break t}h=b.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,h=y.alternate,h!==null&&(h.lanes|=r),Kc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function fl(t,n,r,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var b=c.type;Sn(c.pendingProps.value,y.value)||(t!==null?t.push(b):t=[b])}}else if(c===dt.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}c=c.return}t!==null&&Wc(n,t,r,l),n.flags|=262144}function Qo(t){for(t=t.firstContext;t!==null;){if(!Sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function bs(t){vs=t,Yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Je(t){return ym(vs,t)}function Fo(t,n){return vs===null&&bs(t),ym(t,n)}function ym(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Yi===null){if(t===null)throw Error(s(308));Yi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Yi=Yi.next=n;return r}var Ev=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Tv=a.unstable_scheduleCallback,Sv=a.unstable_NormalPriority,Ne={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zc(){return{controller:new Ev,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&Tv(Sv,function(){t.controller.abort()})}var dl=null,$c=0,sa=0,aa=null;function Av(t,n){if(dl===null){var r=dl=[];$c=0,sa=eh(),aa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return $c++,n.then(_m,_m),n}function _m(){if(--$c===0&&dl!==null){aa!==null&&(aa.status="fulfilled");var t=dl;dl=null,sa=0,aa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function xv(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var vm=Q.S;Q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Av(t,n),vm!==null&&vm(t,n)};var Es=F(null);function Jc(){var t=Es.current;return t!==null?t:oe.pooledCache}function Yo(t,n){n===null?J(Es,Es.current):J(Es,n.pool)}function bm(){var t=Jc();return t===null?null:{parent:Ne._currentValue,pool:t}}var ml=Error(s(460)),Em=Error(s(474)),Xo=Error(s(542)),tf={then:function(){}};function Tm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ko(){}function Sm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Ko,Ko),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,xm(t),t;default:if(typeof n.status=="string")n.then(Ko,Ko);else{if(t=oe,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,xm(t),t}throw gl=n,ml}}var gl=null;function Am(){if(gl===null)throw Error(s(459));var t=gl;return gl=null,t}function xm(t){if(t===ml||t===Xo)throw Error(s(483))}var mr=!1;function ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Zt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Bo(t),fm(t,null,r),n}return Po(t,l,n,r),Bo(t)}function pl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,S(t,r)}}function rf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?c=h=y:h=h.next=y,r=r.next}while(r!==null);h===null?c=h=n:h=h.next=n}else c=h=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var sf=!1;function yl(){if(sf){var t=aa;if(t!==null)throw t}}function _l(t,n,r,l){sf=!1;var c=t.updateQueue;mr=!1;var h=c.firstBaseUpdate,y=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var w=b,P=w.next;w.next=null,y===null?h=P:y.next=P,y=w;var X=t.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==y&&(b===null?X.firstBaseUpdate=P:b.next=P,X.lastBaseUpdate=w))}if(h!==null){var W=c.baseState;y=0,X=P=w=null,b=h;do{var B=b.lane&-536870913,H=B!==b.lane;if(H?(Lt&B)===B:(l&B)===B){B!==0&&B===sa&&(sf=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var St=t,vt=b;B=n;var re=r;switch(vt.tag){case 1:if(St=vt.payload,typeof St=="function"){W=St.call(re,W,B);break t}W=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=vt.payload,B=typeof St=="function"?St.call(re,W,B):St,B==null)break t;W=A({},W,B);break t;case 2:mr=!0}}B=b.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[B]:H.push(B))}else H={lane:B,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(P=X=H,w=W):X=X.next=H,y|=B;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;H=b,b=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);X===null&&(w=W),c.baseState=w,c.firstBaseUpdate=P,c.lastBaseUpdate=X,h===null&&(c.shared.lanes=0),Ar|=y,t.lanes=y,t.memoizedState=W}}function wm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Rm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)wm(r[t],n)}var la=F(null),Wo=F(0);function Cm(t,n){t=er,J(Wo,t),J(la,n),er=t|n.baseLanes}function af(){J(Wo,er),J(la,la.current)}function lf(){er=Wo.current,rt(la),rt(Wo)}var yr=0,It=null,ne=null,Se=null,Zo=!1,oa=!1,Ts=!1,$o=0,vl=0,ua=null,wv=0;function ve(){throw Error(s(321))}function of(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Sn(t[r],n[r]))return!1;return!0}function uf(t,n,r,l,c,h){return yr=h,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?fg:hg,Ts=!1,h=r(l,c),Ts=!1,oa&&(h=Im(n,r,l,c)),Dm(t),h}function Dm(t){Q.H=ru;var n=ne!==null&&ne.next!==null;if(yr=0,Se=ne=It=null,Zo=!1,vl=0,ua=null,n)throw Error(s(300));t===null||Le||(t=t.dependencies,t!==null&&Qo(t)&&(Le=!0))}function Im(t,n,r,l){It=t;var c=0;do{if(oa&&(ua=null),vl=0,oa=!1,25<=c)throw Error(s(301));if(c+=1,Se=ne=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}Q.H=Ov,h=n(r,l)}while(oa);return h}function Rv(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?bl(n):n,t=t.useState()[0],(ne!==null?ne.memoizedState:null)!==t&&(It.flags|=1024),n}function cf(){var t=$o!==0;return $o=0,t}function ff(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function hf(t){if(Zo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Zo=!1}yr=0,Se=ne=It=null,oa=!1,vl=$o=0,ua=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?It.memoizedState=Se=t:Se=Se.next=t,Se}function Ae(){if(ne===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=ne.next;var n=Se===null?It.memoizedState:Se.next;if(n!==null)Se=n,ne=t;else{if(t===null)throw It.alternate===null?Error(s(467)):Error(s(310));ne=t,t={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Se===null?It.memoizedState=Se=t:Se=Se.next=t}return Se}function df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(t){var n=vl;return vl+=1,ua===null&&(ua=[]),t=Sm(ua,t,n),n=It,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?fg:hg),t}function Jo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===yt)return Je(t)}throw Error(s(438,String(t)))}function mf(t){var n=null,r=It.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=df(),It.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=N;return n.index++,r}function Ki(t,n){return typeof n=="function"?n(t):n}function tu(t){var n=Ae();return gf(n,ne,t)}function gf(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var y=c.next;c.next=h.next,h.next=y}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var b=y=null,w=null,P=n,X=!1;do{var W=P.lane&-536870913;if(W!==P.lane?(Lt&W)===W:(yr&W)===W){var B=P.revertLane;if(B===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),W===sa&&(X=!0);else if((yr&B)===B){P=P.next,B===sa&&(X=!0);continue}else W={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},w===null?(b=w=W,y=h):w=w.next=W,It.lanes|=B,Ar|=B;W=P.action,Ts&&r(h,W),h=P.hasEagerState?P.eagerState:r(h,W)}else B={lane:W,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},w===null?(b=w=B,y=h):w=w.next=B,It.lanes|=W,Ar|=W;P=P.next}while(P!==null&&P!==n);if(w===null?y=h:w.next=b,!Sn(h,t.memoizedState)&&(Le=!0,X&&(r=aa,r!==null)))throw r;t.memoizedState=h,t.baseState=y,t.baseQueue=w,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function pf(t){var n=Ae(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,h=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do h=t(h,y.action),y=y.next;while(y!==c);Sn(h,n.memoizedState)||(Le=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),r.lastRenderedState=h}return[h,l]}function Vm(t,n,r){var l=It,c=Ae(),h=Xt;if(h){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!Sn((ne||c).memoizedState,r);y&&(c.memoizedState=r,Le=!0),c=c.queue;var b=Mm.bind(null,l,c,t);if(El(2048,8,b,[t]),c.getSnapshot!==n||y||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,ca(9,eu(),Om.bind(null,l,c,r,n),null),oe===null)throw Error(s(349));h||(yr&124)!==0||Nm(l,n,r)}return r}function Nm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=It.updateQueue,n===null?(n=df(),It.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Om(t,n,r,l){n.value=r,n.getSnapshot=l,zm(n)&&jm(t)}function Mm(t,n,r){return r(function(){zm(n)&&jm(t)})}function zm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Sn(t,r)}catch{return!0}}function jm(t){var n=ea(t,2);n!==null&&Dn(n,t,2)}function yf(t){var n=hn();if(typeof t=="function"){var r=t;if(t=r(),Ts){fn(!0);try{r()}finally{fn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},n}function km(t,n,r,l){return t.baseState=r,gf(t,ne,typeof l=="function"?l:Ki)}function Cv(t,n,r,l,c){if(iu(t))throw Error(s(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};Q.T!==null?r(!0):h.isTransition=!1,l(h),r=n.pending,r===null?(h.next=n.pending=h,Um(n,h)):(h.next=r.next,n.pending=r.next=h)}}function Um(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=Q.T,y={};Q.T=y;try{var b=r(c,l),w=Q.S;w!==null&&w(y,b),Lm(t,n,b)}catch(P){_f(t,n,P)}finally{Q.T=h}}else try{h=r(c,l),Lm(t,n,h)}catch(P){_f(t,n,P)}}function Lm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Pm(t,n,l)},function(l){return _f(t,n,l)}):Pm(t,n,r)}function Pm(t,n,r){n.status="fulfilled",n.value=r,Bm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Um(t,r)))}function _f(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Bm(n),n=n.next;while(n!==l)}t.action=null}function Bm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function qm(t,n){return n}function Hm(t,n){if(Xt){var r=oe.formState;if(r!==null){t:{var l=It;if(Xt){if(pe){e:{for(var c=pe,h=mi;c.nodeType!==8;){if(!h){c=null;break e}if(c=Wn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){pe=Wn(c.nextSibling),l=c.data==="F!";break t}}_s(l)}l=!1}l&&(n=r[0])}}return r=hn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qm,lastRenderedState:n},r.queue=l,r=og.bind(null,It,l),l.dispatch=r,l=yf(!1),h=Sf.bind(null,It,!1,l.queue),l=hn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=Cv.bind(null,It,c,h,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Gm(t){var n=Ae();return Qm(n,ne,t)}function Qm(t,n,r){if(n=gf(t,n,qm)[0],t=tu(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=bl(n)}catch(y){throw y===ml?Xo:y}else l=n;n=Ae();var c=n.queue,h=c.dispatch;return r!==n.memoizedState&&(It.flags|=2048,ca(9,eu(),Dv.bind(null,c,r),null)),[l,h,t]}function Dv(t,n){t.action=n}function Fm(t){var n=Ae(),r=ne;if(r!==null)return Qm(n,r,t);Ae(),n=n.memoizedState,r=Ae();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function ca(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=It.updateQueue,n===null&&(n=df(),It.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function eu(){return{destroy:void 0,resource:void 0}}function Ym(){return Ae().memoizedState}function nu(t,n,r,l){var c=hn();l=l===void 0?null:l,It.flags|=t,c.memoizedState=ca(1|n,eu(),r,l)}function El(t,n,r,l){var c=Ae();l=l===void 0?null:l;var h=c.memoizedState.inst;ne!==null&&l!==null&&of(l,ne.memoizedState.deps)?c.memoizedState=ca(n,h,r,l):(It.flags|=t,c.memoizedState=ca(1|n,h,r,l))}function Xm(t,n){nu(8390656,8,t,n)}function Km(t,n){El(2048,8,t,n)}function Wm(t,n){return El(4,2,t,n)}function Zm(t,n){return El(4,4,t,n)}function $m(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Jm(t,n,r){r=r!=null?r.concat([t]):null,El(4,4,$m.bind(null,n,t),r)}function vf(){}function tg(t,n){var r=Ae();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&of(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function eg(t,n){var r=Ae();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&of(n,l[1]))return l[0];if(l=t(),Ts){fn(!0);try{t()}finally{fn(!1)}}return r.memoizedState=[l,n],l}function bf(t,n,r){return r===void 0||(yr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=rp(),It.lanes|=t,Ar|=t,r)}function ng(t,n,r,l){return Sn(r,n)?r:la.current!==null?(t=bf(t,r,l),Sn(t,n)||(Le=!0),t):(yr&42)===0?(Le=!0,t.memoizedState=r):(t=rp(),It.lanes|=t,Ar|=t,n)}function ig(t,n,r,l,c){var h=et.p;et.p=h!==0&&8>h?h:8;var y=Q.T,b={};Q.T=b,Sf(t,!1,n,r);try{var w=c(),P=Q.S;if(P!==null&&P(b,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var X=xv(w,l);Tl(t,n,X,Cn(t))}else Tl(t,n,l,Cn(t))}catch(W){Tl(t,n,{then:function(){},status:"rejected",reason:W},Cn())}finally{et.p=h,Q.T=y}}function Iv(){}function Ef(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=rg(t).queue;ig(t,c,n,ct,r===null?Iv:function(){return sg(t),r(l)})}function rg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ct},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function sg(t){var n=rg(t).next.queue;Tl(t,n,{},Cn())}function Tf(){return Je(Pl)}function ag(){return Ae().memoizedState}function lg(){return Ae().memoizedState}function Vv(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Cn();t=gr(r);var l=pr(n,t,r);l!==null&&(Dn(l,n,r),pl(l,n,r)),n={cache:Zc()},t.payload=n;return}n=n.return}}function Nv(t,n,r){var l=Cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},iu(t)?ug(n,r):(r=Bc(t,n,r,l),r!==null&&(Dn(r,t,l),cg(r,n,l)))}function og(t,n,r){var l=Cn();Tl(t,n,r,l)}function Tl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(iu(t))ug(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var y=n.lastRenderedState,b=h(y,r);if(c.hasEagerState=!0,c.eagerState=b,Sn(b,y))return Po(t,n,c,0),oe===null&&Lo(),!1}catch{}finally{}if(r=Bc(t,n,c,l),r!==null)return Dn(r,t,l),cg(r,n,l),!0}return!1}function Sf(t,n,r,l){if(l={lane:2,revertLane:eh(),action:l,hasEagerState:!1,eagerState:null,next:null},iu(t)){if(n)throw Error(s(479))}else n=Bc(t,r,l,2),n!==null&&Dn(n,t,2)}function iu(t){var n=t.alternate;return t===It||n!==null&&n===It}function ug(t,n){oa=Zo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function cg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,S(t,r)}}var ru={readContext:Je,use:Jo,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve},fg={readContext:Je,use:Jo,useCallback:function(t,n){return hn().memoizedState=[t,n===void 0?null:n],t},useContext:Je,useEffect:Xm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,nu(4194308,4,$m.bind(null,n,t),r)},useLayoutEffect:function(t,n){return nu(4194308,4,t,n)},useInsertionEffect:function(t,n){nu(4,2,t,n)},useMemo:function(t,n){var r=hn();n=n===void 0?null:n;var l=t();if(Ts){fn(!0);try{t()}finally{fn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=hn();if(r!==void 0){var c=r(n);if(Ts){fn(!0);try{r(n)}finally{fn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=Nv.bind(null,It,t),[l.memoizedState,t]},useRef:function(t){var n=hn();return t={current:t},n.memoizedState=t},useState:function(t){t=yf(t);var n=t.queue,r=og.bind(null,It,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:vf,useDeferredValue:function(t,n){var r=hn();return bf(r,t,n)},useTransition:function(){var t=yf(!1);return t=ig.bind(null,It,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=It,c=hn();if(Xt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),oe===null)throw Error(s(349));(Lt&124)!==0||Nm(l,n,r)}c.memoizedState=r;var h={value:r,getSnapshot:n};return c.queue=h,Xm(Mm.bind(null,l,h,t),[t]),l.flags|=2048,ca(9,eu(),Om.bind(null,l,h,r,n),null),r},useId:function(){var t=hn(),n=oe.identifierPrefix;if(Xt){var r=Fi,l=Qi;r=(l&~(1<<32-Ge(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=$o++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=wv++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Tf,useFormState:Hm,useActionState:Hm,useOptimistic:function(t){var n=hn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Sf.bind(null,It,!0,r),r.dispatch=n,[t,n]},useMemoCache:mf,useCacheRefresh:function(){return hn().memoizedState=Vv.bind(null,It)}},hg={readContext:Je,use:Jo,useCallback:tg,useContext:Je,useEffect:Km,useImperativeHandle:Jm,useInsertionEffect:Wm,useLayoutEffect:Zm,useMemo:eg,useReducer:tu,useRef:Ym,useState:function(){return tu(Ki)},useDebugValue:vf,useDeferredValue:function(t,n){var r=Ae();return ng(r,ne.memoizedState,t,n)},useTransition:function(){var t=tu(Ki)[0],n=Ae().memoizedState;return[typeof t=="boolean"?t:bl(t),n]},useSyncExternalStore:Vm,useId:ag,useHostTransitionStatus:Tf,useFormState:Gm,useActionState:Gm,useOptimistic:function(t,n){var r=Ae();return km(r,ne,t,n)},useMemoCache:mf,useCacheRefresh:lg},Ov={readContext:Je,use:Jo,useCallback:tg,useContext:Je,useEffect:Km,useImperativeHandle:Jm,useInsertionEffect:Wm,useLayoutEffect:Zm,useMemo:eg,useReducer:pf,useRef:Ym,useState:function(){return pf(Ki)},useDebugValue:vf,useDeferredValue:function(t,n){var r=Ae();return ne===null?bf(r,t,n):ng(r,ne.memoizedState,t,n)},useTransition:function(){var t=pf(Ki)[0],n=Ae().memoizedState;return[typeof t=="boolean"?t:bl(t),n]},useSyncExternalStore:Vm,useId:ag,useHostTransitionStatus:Tf,useFormState:Fm,useActionState:Fm,useOptimistic:function(t,n){var r=Ae();return ne!==null?km(r,ne,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:mf,useCacheRefresh:lg},fa=null,Sl=0;function su(t){var n=Sl;return Sl+=1,fa===null&&(fa=[]),Sm(fa,t,n)}function Al(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function au(t,n){throw n.$$typeof===V?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function dg(t){var n=t._init;return n(t._payload)}function mg(t){function n(j,I){if(t){var L=j.deletions;L===null?(j.deletions=[I],j.flags|=16):L.push(I)}}function r(j,I){if(!t)return null;for(;I!==null;)n(j,I),I=I.sibling;return null}function l(j){for(var I=new Map;j!==null;)j.key!==null?I.set(j.key,j):I.set(j.index,j),j=j.sibling;return I}function c(j,I){return j=Gi(j,I),j.index=0,j.sibling=null,j}function h(j,I,L){return j.index=L,t?(L=j.alternate,L!==null?(L=L.index,L<I?(j.flags|=67108866,I):L):(j.flags|=67108866,I)):(j.flags|=1048576,I)}function y(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function b(j,I,L,K){return I===null||I.tag!==6?(I=Hc(L,j.mode,K),I.return=j,I):(I=c(I,L),I.return=j,I)}function w(j,I,L,K){var ft=L.type;return ft===nt?X(j,I,L.props.children,K,L.key):I!==null&&(I.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===x&&dg(ft)===I.type)?(I=c(I,L.props),Al(I,L),I.return=j,I):(I=qo(L.type,L.key,L.props,null,j.mode,K),Al(I,L),I.return=j,I)}function P(j,I,L,K){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=Gc(L,j.mode,K),I.return=j,I):(I=c(I,L.children||[]),I.return=j,I)}function X(j,I,L,K,ft){return I===null||I.tag!==7?(I=ms(L,j.mode,K,ft),I.return=j,I):(I=c(I,L),I.return=j,I)}function W(j,I,L){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Hc(""+I,j.mode,L),I.return=j,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case O:return L=qo(I.type,I.key,I.props,null,j.mode,L),Al(L,I),L.return=j,L;case Y:return I=Gc(I,j.mode,L),I.return=j,I;case x:var K=I._init;return I=K(I._payload),W(j,I,L)}if(Qt(I)||k(I))return I=ms(I,j.mode,L,null),I.return=j,I;if(typeof I.then=="function")return W(j,su(I),L);if(I.$$typeof===yt)return W(j,Fo(j,I),L);au(j,I)}return null}function B(j,I,L,K){var ft=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ft!==null?null:b(j,I,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case O:return L.key===ft?w(j,I,L,K):null;case Y:return L.key===ft?P(j,I,L,K):null;case x:return ft=L._init,L=ft(L._payload),B(j,I,L,K)}if(Qt(L)||k(L))return ft!==null?null:X(j,I,L,K,null);if(typeof L.then=="function")return B(j,I,su(L),K);if(L.$$typeof===yt)return B(j,I,Fo(j,L),K);au(j,L)}return null}function H(j,I,L,K,ft){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return j=j.get(L)||null,b(I,j,""+K,ft);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case O:return j=j.get(K.key===null?L:K.key)||null,w(I,j,K,ft);case Y:return j=j.get(K.key===null?L:K.key)||null,P(I,j,K,ft);case x:var Nt=K._init;return K=Nt(K._payload),H(j,I,L,K,ft)}if(Qt(K)||k(K))return j=j.get(L)||null,X(I,j,K,ft,null);if(typeof K.then=="function")return H(j,I,L,su(K),ft);if(K.$$typeof===yt)return H(j,I,L,Fo(I,K),ft);au(I,K)}return null}function St(j,I,L,K){for(var ft=null,Nt=null,mt=I,bt=I=0,Be=null;mt!==null&&bt<L.length;bt++){mt.index>bt?(Be=mt,mt=null):Be=mt.sibling;var Ft=B(j,mt,L[bt],K);if(Ft===null){mt===null&&(mt=Be);break}t&&mt&&Ft.alternate===null&&n(j,mt),I=h(Ft,I,bt),Nt===null?ft=Ft:Nt.sibling=Ft,Nt=Ft,mt=Be}if(bt===L.length)return r(j,mt),Xt&&ps(j,bt),ft;if(mt===null){for(;bt<L.length;bt++)mt=W(j,L[bt],K),mt!==null&&(I=h(mt,I,bt),Nt===null?ft=mt:Nt.sibling=mt,Nt=mt);return Xt&&ps(j,bt),ft}for(mt=l(mt);bt<L.length;bt++)Be=H(mt,j,bt,L[bt],K),Be!==null&&(t&&Be.alternate!==null&&mt.delete(Be.key===null?bt:Be.key),I=h(Be,I,bt),Nt===null?ft=Be:Nt.sibling=Be,Nt=Be);return t&&mt.forEach(function(Or){return n(j,Or)}),Xt&&ps(j,bt),ft}function vt(j,I,L,K){if(L==null)throw Error(s(151));for(var ft=null,Nt=null,mt=I,bt=I=0,Be=null,Ft=L.next();mt!==null&&!Ft.done;bt++,Ft=L.next()){mt.index>bt?(Be=mt,mt=null):Be=mt.sibling;var Or=B(j,mt,Ft.value,K);if(Or===null){mt===null&&(mt=Be);break}t&&mt&&Or.alternate===null&&n(j,mt),I=h(Or,I,bt),Nt===null?ft=Or:Nt.sibling=Or,Nt=Or,mt=Be}if(Ft.done)return r(j,mt),Xt&&ps(j,bt),ft;if(mt===null){for(;!Ft.done;bt++,Ft=L.next())Ft=W(j,Ft.value,K),Ft!==null&&(I=h(Ft,I,bt),Nt===null?ft=Ft:Nt.sibling=Ft,Nt=Ft);return Xt&&ps(j,bt),ft}for(mt=l(mt);!Ft.done;bt++,Ft=L.next())Ft=H(mt,j,bt,Ft.value,K),Ft!==null&&(t&&Ft.alternate!==null&&mt.delete(Ft.key===null?bt:Ft.key),I=h(Ft,I,bt),Nt===null?ft=Ft:Nt.sibling=Ft,Nt=Ft);return t&&mt.forEach(function(M1){return n(j,M1)}),Xt&&ps(j,bt),ft}function re(j,I,L,K){if(typeof L=="object"&&L!==null&&L.type===nt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case O:t:{for(var ft=L.key;I!==null;){if(I.key===ft){if(ft=L.type,ft===nt){if(I.tag===7){r(j,I.sibling),K=c(I,L.props.children),K.return=j,j=K;break t}}else if(I.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===x&&dg(ft)===I.type){r(j,I.sibling),K=c(I,L.props),Al(K,L),K.return=j,j=K;break t}r(j,I);break}else n(j,I);I=I.sibling}L.type===nt?(K=ms(L.props.children,j.mode,K,L.key),K.return=j,j=K):(K=qo(L.type,L.key,L.props,null,j.mode,K),Al(K,L),K.return=j,j=K)}return y(j);case Y:t:{for(ft=L.key;I!==null;){if(I.key===ft)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){r(j,I.sibling),K=c(I,L.children||[]),K.return=j,j=K;break t}else{r(j,I);break}else n(j,I);I=I.sibling}K=Gc(L,j.mode,K),K.return=j,j=K}return y(j);case x:return ft=L._init,L=ft(L._payload),re(j,I,L,K)}if(Qt(L))return St(j,I,L,K);if(k(L)){if(ft=k(L),typeof ft!="function")throw Error(s(150));return L=ft.call(L),vt(j,I,L,K)}if(typeof L.then=="function")return re(j,I,su(L),K);if(L.$$typeof===yt)return re(j,I,Fo(j,L),K);au(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,I!==null&&I.tag===6?(r(j,I.sibling),K=c(I,L),K.return=j,j=K):(r(j,I),K=Hc(L,j.mode,K),K.return=j,j=K),y(j)):r(j,I)}return function(j,I,L,K){try{Sl=0;var ft=re(j,I,L,K);return fa=null,ft}catch(mt){if(mt===ml||mt===Xo)throw mt;var Nt=An(29,mt,null,j.mode);return Nt.lanes=K,Nt.return=j,Nt}finally{}}}var ha=mg(!0),gg=mg(!1),Pn=F(null),gi=null;function _r(t){var n=t.alternate;J(Oe,Oe.current&1),J(Pn,t),gi===null&&(n===null||la.current!==null||n.memoizedState!==null)&&(gi=t)}function pg(t){if(t.tag===22){if(J(Oe,Oe.current),J(Pn,t),gi===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(gi=t)}}else vr()}function vr(){J(Oe,Oe.current),J(Pn,Pn.current)}function Wi(t){rt(Pn),gi===t&&(gi=null),rt(Oe)}var Oe=F(0);function lu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||dh(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Af(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var xf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Cn(),c=gr(l);c.payload=n,r!=null&&(c.callback=r),n=pr(t,c,l),n!==null&&(Dn(n,t,l),pl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Cn(),c=gr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=pr(t,c,l),n!==null&&(Dn(n,t,l),pl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Cn(),l=gr(r);l.tag=2,n!=null&&(l.callback=n),n=pr(t,l,r),n!==null&&(Dn(n,t,r),pl(n,t,r))}};function yg(t,n,r,l,c,h,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,y):n.prototype&&n.prototype.isPureReactComponent?!al(r,l)||!al(c,h):!0}function _g(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&xf.enqueueReplaceState(n,n.state,null)}function Ss(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function vg(t){ou(t)}function bg(t){console.error(t)}function Eg(t){ou(t)}function uu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Tg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function wf(t,n,r){return r=gr(r),r.tag=3,r.payload={element:null},r.callback=function(){uu(t,n)},r}function Sg(t){return t=gr(t),t.tag=3,t}function Ag(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){Tg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Tg(n,r,l),typeof c!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Mv(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&fl(n,r,c,!0),r=Pn.current,r!==null){switch(r.tag){case 13:return gi===null?Wf():r.alternate===null&&ye===0&&(ye=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===tf?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),$f(t,l,c)),!1;case 22:return r.flags|=65536,l===tf?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),$f(t,l,c)),!1}throw Error(s(435,r.tag))}return $f(t,l,c),Wf(),!1}if(Xt)return n=Pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Yc&&(t=Error(s(422),{cause:l}),cl(jn(t,r)))):(l!==Yc&&(n=Error(s(423),{cause:l}),cl(jn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=jn(l,r),c=wf(t.stateNode,l,c),rf(t,c),ye!==4&&(ye=2)),!1;var h=Error(s(520),{cause:l});if(h=jn(h,r),Vl===null?Vl=[h]:Vl.push(h),ye!==4&&(ye=2),n===null)return!0;l=jn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=wf(r.stateNode,l,t),rf(r,t),!1;case 1:if(n=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(xr===null||!xr.has(h))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Sg(c),Ag(c,t,r,l),rf(r,c),!1}r=r.return}while(r!==null);return!1}var xg=Error(s(461)),Le=!1;function Ye(t,n,r,l){n.child=t===null?gg(n,null,r,l):ha(n,t.child,r,l)}function wg(t,n,r,l,c){r=r.render;var h=n.ref;if("ref"in l){var y={};for(var b in l)b!=="ref"&&(y[b]=l[b])}else y=l;return bs(n),l=uf(t,n,r,y,h,c),b=cf(),t!==null&&!Le?(ff(t,n,c),Zi(t,n,c)):(Xt&&b&&Qc(n),n.flags|=1,Ye(t,n,l,c),n.child)}function Rg(t,n,r,l,c){if(t===null){var h=r.type;return typeof h=="function"&&!qc(h)&&h.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=h,Cg(t,n,h,l,c)):(t=qo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Mf(t,c)){var y=h.memoizedProps;if(r=r.compare,r=r!==null?r:al,r(y,l)&&t.ref===n.ref)return Zi(t,n,c)}return n.flags|=1,t=Gi(h,l),t.ref=n.ref,t.return=n,n.child=t}function Cg(t,n,r,l,c){if(t!==null){var h=t.memoizedProps;if(al(h,l)&&t.ref===n.ref)if(Le=!1,n.pendingProps=l=h,Mf(t,c))(t.flags&131072)!==0&&(Le=!0);else return n.lanes=t.lanes,Zi(t,n,c)}return Rf(t,n,r,l,c)}function Dg(t,n,r){var l=n.pendingProps,c=l.children,h=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=h!==null?h.baseLanes|r:r,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return Ig(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yo(n,h!==null?h.cachePool:null),h!==null?Cm(n,h):af(),pg(n);else return n.lanes=n.childLanes=536870912,Ig(t,n,h!==null?h.baseLanes|r:r,r)}else h!==null?(Yo(n,h.cachePool),Cm(n,h),vr(),n.memoizedState=null):(t!==null&&Yo(n,null),af(),vr());return Ye(t,n,c,r),n.child}function Ig(t,n,r,l){var c=Jc();return c=c===null?null:{parent:Ne._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Yo(n,null),af(),pg(n),t!==null&&fl(t,n,l,!0),null}function cu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Rf(t,n,r,l,c){return bs(n),r=uf(t,n,r,l,void 0,c),l=cf(),t!==null&&!Le?(ff(t,n,c),Zi(t,n,c)):(Xt&&l&&Qc(n),n.flags|=1,Ye(t,n,r,c),n.child)}function Vg(t,n,r,l,c,h){return bs(n),n.updateQueue=null,r=Im(n,l,r,c),Dm(t),l=cf(),t!==null&&!Le?(ff(t,n,h),Zi(t,n,h)):(Xt&&l&&Qc(n),n.flags|=1,Ye(t,n,r,h),n.child)}function Ng(t,n,r,l,c){if(bs(n),n.stateNode===null){var h=na,y=r.contextType;typeof y=="object"&&y!==null&&(h=Je(y)),h=new r(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=xf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},ef(n),y=r.contextType,h.context=typeof y=="object"&&y!==null?Je(y):na,h.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Af(n,r,y,l),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&xf.enqueueReplaceState(h,h.state,null),_l(n,l,h,c),yl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var b=n.memoizedProps,w=Ss(r,b);h.props=w;var P=h.context,X=r.contextType;y=na,typeof X=="object"&&X!==null&&(y=Je(X));var W=r.getDerivedStateFromProps;X=typeof W=="function"||typeof h.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,X||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b||P!==y)&&_g(n,h,l,y),mr=!1;var B=n.memoizedState;h.state=B,_l(n,l,h,c),yl(),P=n.memoizedState,b||B!==P||mr?(typeof W=="function"&&(Af(n,r,W,l),P=n.memoizedState),(w=mr||yg(n,r,w,l,B,P,y))?(X||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),h.props=l,h.state=P,h.context=y,l=w):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,nf(t,n),y=n.memoizedProps,X=Ss(r,y),h.props=X,W=n.pendingProps,B=h.context,P=r.contextType,w=na,typeof P=="object"&&P!==null&&(w=Je(P)),b=r.getDerivedStateFromProps,(P=typeof b=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==W||B!==w)&&_g(n,h,l,w),mr=!1,B=n.memoizedState,h.state=B,_l(n,l,h,c),yl();var H=n.memoizedState;y!==W||B!==H||mr||t!==null&&t.dependencies!==null&&Qo(t.dependencies)?(typeof b=="function"&&(Af(n,r,b,l),H=n.memoizedState),(X=mr||yg(n,r,X,l,B,H,w)||t!==null&&t.dependencies!==null&&Qo(t.dependencies))?(P||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,H,w),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,H,w)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),h.props=l,h.state=H,h.context=w,l=X):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,cu(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=ha(n,t.child,null,c),n.child=ha(n,null,r,c)):Ye(t,n,r,c),n.memoizedState=h.state,t=n.child):t=Zi(t,n,c),t}function Og(t,n,r,l){return ul(),n.flags|=256,Ye(t,n,r,l),n.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(t){return{baseLanes:t,cachePool:bm()}}function If(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Bn),t}function Mg(t,n,r){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,y;if((y=h)||(y=t!==null&&t.memoizedState===null?!1:(Oe.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Xt){if(c?_r(n):vr(),Xt){var b=pe,w;if(w=b){t:{for(w=b,b=mi;w.nodeType!==8;){if(!b){b=null;break t}if(w=Wn(w.nextSibling),w===null){b=null;break t}}b=w}b!==null?(n.memoizedState={dehydrated:b,treeContext:gs!==null?{id:Qi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},w=An(18,null,null,0),w.stateNode=b,w.return=n,n.child=w,un=n,pe=null,w=!0):w=!1}w||_s(n)}if(b=n.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return dh(b)?n.lanes=32:n.lanes=536870912,null;Wi(n)}return b=l.children,l=l.fallback,c?(vr(),c=n.mode,b=fu({mode:"hidden",children:b},c),l=ms(l,c,r,null),b.return=n,l.return=n,b.sibling=l,n.child=b,c=n.child,c.memoizedState=Df(r),c.childLanes=If(t,y,r),n.memoizedState=Cf,l):(_r(n),Vf(n,b))}if(w=t.memoizedState,w!==null&&(b=w.dehydrated,b!==null)){if(h)n.flags&256?(_r(n),n.flags&=-257,n=Nf(t,n,r)):n.memoizedState!==null?(vr(),n.child=t.child,n.flags|=128,n=null):(vr(),c=l.fallback,b=n.mode,l=fu({mode:"visible",children:l.children},b),c=ms(c,b,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ha(n,t.child,null,r),l=n.child,l.memoizedState=Df(r),l.childLanes=If(t,y,r),n.memoizedState=Cf,n=c);else if(_r(n),dh(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(s(419)),l.stack="",l.digest=y,cl({value:l,source:null,stack:null}),n=Nf(t,n,r)}else if(Le||fl(t,n,r,!1),y=(r&t.childLanes)!==0,Le||y){if(y=oe,y!==null&&(l=r&-r,l=(l&42)!==0?1:q(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,ea(t,l),Dn(y,t,l),xg;b.data==="$?"||Wf(),n=Nf(t,n,r)}else b.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,pe=Wn(b.nextSibling),un=n,Xt=!0,ys=null,mi=!1,t!==null&&(Un[Ln++]=Qi,Un[Ln++]=Fi,Un[Ln++]=gs,Qi=t.id,Fi=t.overflow,gs=n),n=Vf(n,l.children),n.flags|=4096);return n}return c?(vr(),c=l.fallback,b=n.mode,w=t.child,P=w.sibling,l=Gi(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,P!==null?c=Gi(P,c):(c=ms(c,b,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,b=t.child.memoizedState,b===null?b=Df(r):(w=b.cachePool,w!==null?(P=Ne._currentValue,w=w.parent!==P?{parent:P,pool:P}:w):w=bm(),b={baseLanes:b.baseLanes|r,cachePool:w}),c.memoizedState=b,c.childLanes=If(t,y,r),n.memoizedState=Cf,l):(_r(n),r=t.child,t=r.sibling,r=Gi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Vf(t,n){return n=fu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function fu(t,n){return t=An(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Nf(t,n,r){return ha(n,t.child,null,r),t=Vf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function zg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Kc(t.return,n,r)}function Of(t,n,r,l,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=r,h.tailMode=c)}function jg(t,n,r){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(Ye(t,n,l.children,r),l=Oe.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zg(t,r,n);else if(t.tag===19)zg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(Oe,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&lu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Of(n,!1,c,r,h);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&lu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Of(n,!0,r,null,h);break;case"together":Of(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Zi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ar|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(fl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Gi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Gi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Mf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Qo(t)))}function zv(t,n,r){switch(n.tag){case 3:Jt(n,n.stateNode.containerInfo),dr(n,Ne,t.memoizedState.cache),ul();break;case 27:case 5:De(n);break;case 4:Jt(n,n.stateNode.containerInfo);break;case 10:dr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(_r(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Mg(t,n,r):(_r(n),t=Zi(t,n,r),t!==null?t.sibling:null);_r(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(fl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return jg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(Oe,Oe.current),l)break;return null;case 22:case 23:return n.lanes=0,Dg(t,n,r);case 24:dr(n,Ne,t.memoizedState.cache)}return Zi(t,n,r)}function kg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Le=!0;else{if(!Mf(t,r)&&(n.flags&128)===0)return Le=!1,zv(t,n,r);Le=(t.flags&131072)!==0}else Le=!1,Xt&&(n.flags&1048576)!==0&&dm(n,Go,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")qc(l)?(t=Ss(l,t),n.tag=1,n=Ng(null,n,l,t,r)):(n.tag=0,n=Rf(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Yt){n.tag=11,n=wg(null,n,l,t,r);break t}else if(c===z){n.tag=14,n=Rg(null,n,l,t,r);break t}}throw n=se(l)||l,Error(s(306,n,""))}}return n;case 0:return Rf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Ss(l,n.pendingProps),Ng(t,n,l,c,r);case 3:t:{if(Jt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,nf(t,n),_l(n,l,null,r);var y=n.memoizedState;if(l=y.cache,dr(n,Ne,l),l!==h.cache&&Wc(n,[Ne],r,!0),yl(),l=y.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Og(t,n,l,r);break t}else if(l!==c){c=jn(Error(s(424)),n),cl(c),n=Og(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pe=Wn(t.firstChild),un=n,Xt=!0,ys=null,mi=!0,r=gg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ul(),l===c){n=Zi(t,n,r);break t}Ye(t,n,l,r)}n=n.child}return n;case 26:return cu(t,n),t===null?(r=Bp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Xt||(r=n.type,t=n.pendingProps,l=xu(Et.current).createElement(r),l[le]=n,l[he]=t,Ke(l,r,t),_e(l),n.stateNode=l):n.memoizedState=Bp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return De(n),t===null&&Xt&&(l=n.stateNode=Up(n.type,n.pendingProps,Et.current),un=n,mi=!0,c=pe,Cr(n.type)?(mh=c,pe=Wn(l.firstChild)):pe=c),Ye(t,n,n.pendingProps.children,r),cu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Xt&&((c=l=pe)&&(l=u1(l,n.type,n.pendingProps,mi),l!==null?(n.stateNode=l,un=n,pe=Wn(l.firstChild),mi=!1,c=!0):c=!1),c||_s(n)),De(n),c=n.type,h=n.pendingProps,y=t!==null?t.memoizedProps:null,l=h.children,ch(c,h)?l=null:y!==null&&ch(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=uf(t,n,Rv,null,null,r),Pl._currentValue=c),cu(t,n),Ye(t,n,l,r),n.child;case 6:return t===null&&Xt&&((t=r=pe)&&(r=c1(r,n.pendingProps,mi),r!==null?(n.stateNode=r,un=n,pe=null,t=!0):t=!1),t||_s(n)),null;case 13:return Mg(t,n,r);case 4:return Jt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ha(n,null,l,r):Ye(t,n,l,r),n.child;case 11:return wg(t,n,n.type,n.pendingProps,r);case 7:return Ye(t,n,n.pendingProps,r),n.child;case 8:return Ye(t,n,n.pendingProps.children,r),n.child;case 12:return Ye(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,dr(n,n.type,l.value),Ye(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,bs(n),c=Je(c),l=l(c),n.flags|=1,Ye(t,n,l,r),n.child;case 14:return Rg(t,n,n.type,n.pendingProps,r);case 15:return Cg(t,n,n.type,n.pendingProps,r);case 19:return jg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=fu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Gi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Dg(t,n,r);case 24:return bs(n),l=Je(Ne),t===null?(c=Jc(),c===null&&(c=oe,h=Zc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=r),c=h),n.memoizedState={parent:l,cache:c},ef(n),dr(n,Ne,c)):((t.lanes&r)!==0&&(nf(t,n),_l(n,null,null,r),yl()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),dr(n,Ne,l)):(l=h.cache,dr(n,Ne,l),l!==c.cache&&Wc(n,[Ne],r,!0))),Ye(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function $i(t){t.flags|=4}function Ug(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Fp(n)){if(n=Pn.current,n!==null&&((Lt&4194048)===Lt?gi!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||n!==gi))throw gl=tf,Em;t.flags|=8192}}function hu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?$r():536870912,t.lanes|=n,pa|=n)}function xl(t,n){if(!Xt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function me(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function jv(t,n,r){var l=n.pendingProps;switch(Fc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(n),null;case 1:return me(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Xi(Ne),cn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ol(n)?$i(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,pm())),me(n),null;case 26:return r=n.memoizedState,t===null?($i(n),r!==null?(me(n),Ug(n,r)):(me(n),n.flags&=-16777217)):r?r!==t.memoizedState?($i(n),me(n),Ug(n,r)):(me(n),n.flags&=-16777217):(t.memoizedProps!==l&&$i(n),me(n),n.flags&=-16777217),null;case 27:yn(n),r=Et.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return me(n),null}t=gt.current,ol(n)?mm(n):(t=Up(c,l,r),n.stateNode=t,$i(n))}return me(n),null;case 5:if(yn(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return me(n),null}if(t=gt.current,ol(n))mm(n);else{switch(c=xu(Et.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[le]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Ke(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&$i(n)}}return me(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&$i(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Et.current,ol(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=un,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[le]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Vp(t.nodeValue,r)),t||_s(n)}else t=xu(t).createTextNode(l),t[le]=n,n.stateNode=t}return me(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ol(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[le]=n}else ul(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;me(n),c=!1}else c=pm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Wi(n),n):(Wi(n),null)}if(Wi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),hu(n,n.updateQueue),me(n),null;case 4:return cn(),t===null&&sh(n.stateNode.containerInfo),me(n),null;case 10:return Xi(n.type),me(n),null;case 19:if(rt(Oe),c=n.memoizedState,c===null)return me(n),null;if(l=(n.flags&128)!==0,h=c.rendering,h===null)if(l)xl(c,!1);else{if(ye!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=lu(t),h!==null){for(n.flags|=128,xl(c,!1),t=h.updateQueue,n.updateQueue=t,hu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)hm(r,t),r=r.sibling;return J(Oe,Oe.current&1|2),n.child}t=t.sibling}c.tail!==null&&He()>gu&&(n.flags|=128,l=!0,xl(c,!1),n.lanes=4194304)}else{if(!l)if(t=lu(h),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,hu(n,t),xl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Xt)return me(n),null}else 2*He()-c.renderingStartTime>gu&&r!==536870912&&(n.flags|=128,l=!0,xl(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(t=c.last,t!==null?t.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=He(),n.sibling=null,t=Oe.current,J(Oe,l?t&1|2:t&1),n):(me(n),null);case 22:case 23:return Wi(n),lf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(me(n),n.subtreeFlags&6&&(n.flags|=8192)):me(n),r=n.updateQueue,r!==null&&hu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&rt(Es),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Xi(Ne),me(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function kv(t,n){switch(Fc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Xi(Ne),cn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return yn(n),null;case 13:if(Wi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ul()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return rt(Oe),null;case 4:return cn(),null;case 10:return Xi(n.type),null;case 22:case 23:return Wi(n),lf(),t!==null&&rt(Es),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Xi(Ne),null;case 25:return null;default:return null}}function Lg(t,n){switch(Fc(n),n.tag){case 3:Xi(Ne),cn();break;case 26:case 27:case 5:yn(n);break;case 4:cn();break;case 13:Wi(n);break;case 19:rt(Oe);break;case 10:Xi(n.type);break;case 22:case 23:Wi(n),lf(),t!==null&&rt(Es);break;case 24:Xi(Ne)}}function wl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var h=r.create,y=r.inst;l=h(),y.destroy=l}r=r.next}while(r!==c)}}catch(b){ae(n,n.return,b)}}function br(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var y=l.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,c=n;var w=r,P=b;try{P()}catch(X){ae(c,w,X)}}}l=l.next}while(l!==h)}}catch(X){ae(n,n.return,X)}}function Pg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Rm(n,r)}catch(l){ae(t,t.return,l)}}}function Bg(t,n,r){r.props=Ss(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){ae(t,n,l)}}function Rl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){ae(t,n,c)}}function pi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){ae(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){ae(t,n,c)}else r.current=null}function qg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){ae(t,t.return,c)}}function zf(t,n,r){try{var l=t.stateNode;r1(l,t.type,r,n),l[he]=n}catch(c){ae(t,t.return,c)}}function Hg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Cr(t.type)||t.tag===4}function jf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Hg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Cr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Au));else if(l!==4&&(l===27&&Cr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(kf(t,n,r),t=t.sibling;t!==null;)kf(t,n,r),t=t.sibling}function du(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Cr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(du(t,n,r),t=t.sibling;t!==null;)du(t,n,r),t=t.sibling}function Gg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ke(n,l,r),n[le]=t,n[he]=r}catch(h){ae(t,t.return,h)}}var Ji=!1,be=!1,Uf=!1,Qg=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Uv(t,n){if(t=t.containerInfo,oh=Vu,t=nm(t),zc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break t}var y=0,b=-1,w=-1,P=0,X=0,W=t,B=null;e:for(;;){for(var H;W!==r||c!==0&&W.nodeType!==3||(b=y+c),W!==h||l!==0&&W.nodeType!==3||(w=y+l),W.nodeType===3&&(y+=W.nodeValue.length),(H=W.firstChild)!==null;)B=W,W=H;for(;;){if(W===t)break e;if(B===r&&++P===c&&(b=y),B===h&&++X===l&&(w=y),(H=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=H}r=b===-1||w===-1?null:{start:b,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(uh={focusedElem:t,selectionRange:r},Vu=!1,Pe=n;Pe!==null;)if(n=Pe,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Pe=t;else for(;Pe!==null;){switch(n=Pe,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,r=n,c=h.memoizedProps,h=h.memoizedState,l=r.stateNode;try{var St=Ss(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(St,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(vt){ae(r,r.return,vt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)hh(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Pe=t;break}Pe=n.return}}function Fg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Er(t,r),l&4&&wl(5,r);break;case 1:if(Er(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){ae(r,r.return,y)}else{var c=Ss(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){ae(r,r.return,y)}}l&64&&Pg(r),l&512&&Rl(r,r.return);break;case 3:if(Er(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Rm(t,n)}catch(y){ae(r,r.return,y)}}break;case 27:n===null&&l&4&&Gg(r);case 26:case 5:Er(t,r),n===null&&l&4&&qg(r),l&512&&Rl(r,r.return);break;case 12:Er(t,r);break;case 13:Er(t,r),l&4&&Kg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Yv.bind(null,r),f1(t,r))));break;case 22:if(l=r.memoizedState!==null||Ji,!l){n=n!==null&&n.memoizedState!==null||be,c=Ji;var h=be;Ji=l,(be=n)&&!h?Tr(t,r,(r.subtreeFlags&8772)!==0):Er(t,r),Ji=c,be=h}break;case 30:break;default:Er(t,r)}}function Yg(t){var n=t.alternate;n!==null&&(t.alternate=null,Yg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&En(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var de=null,dn=!1;function tr(t,n,r){for(r=r.child;r!==null;)Xg(t,n,r),r=r.sibling}function Xg(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(fe,r)}catch{}switch(r.tag){case 26:be||pi(r,n),tr(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:be||pi(r,n);var l=de,c=dn;Cr(r.type)&&(de=r.stateNode,dn=!1),tr(t,n,r),jl(r.stateNode),de=l,dn=c;break;case 5:be||pi(r,n);case 6:if(l=de,c=dn,de=null,tr(t,n,r),de=l,dn=c,de!==null)if(dn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(r.stateNode)}catch(h){ae(r,n,h)}else try{de.removeChild(r.stateNode)}catch(h){ae(r,n,h)}break;case 18:de!==null&&(dn?(t=de,jp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Gl(t)):jp(de,r.stateNode));break;case 4:l=de,c=dn,de=r.stateNode.containerInfo,dn=!0,tr(t,n,r),de=l,dn=c;break;case 0:case 11:case 14:case 15:be||br(2,r,n),be||br(4,r,n),tr(t,n,r);break;case 1:be||(pi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Bg(r,n,l)),tr(t,n,r);break;case 21:tr(t,n,r);break;case 22:be=(l=be)||r.memoizedState!==null,tr(t,n,r),be=l;break;default:tr(t,n,r)}}function Kg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Gl(t)}catch(r){ae(n,n.return,r)}}function Lv(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Qg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Qg),n;default:throw Error(s(435,t.tag))}}function Lf(t,n){var r=Lv(t);n.forEach(function(l){var c=Xv.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function xn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],h=t,y=n,b=y;t:for(;b!==null;){switch(b.tag){case 27:if(Cr(b.type)){de=b.stateNode,dn=!1;break t}break;case 5:de=b.stateNode,dn=!1;break t;case 3:case 4:de=b.stateNode.containerInfo,dn=!0;break t}b=b.return}if(de===null)throw Error(s(160));Xg(h,y,c),de=null,dn=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Wg(n,t),n=n.sibling}var Kn=null;function Wg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xn(n,t),wn(t),l&4&&(br(3,t,t.return),wl(3,t),br(5,t,t.return));break;case 1:xn(n,t),wn(t),l&512&&(be||r===null||pi(r,r.return)),l&64&&Ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Kn;if(xn(n,t),wn(t),l&512&&(be||r===null||pi(r,r.return)),l&4){var h=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Vn]||h[le]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),Ke(h,l,r),h[le]=t,_e(h),l=h;break t;case"link":var y=Gp("link","href",c).get(l+(r.href||""));if(y){for(var b=0;b<y.length;b++)if(h=y[b],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(b,1);break e}}h=c.createElement(l),Ke(h,l,r),c.head.appendChild(h);break;case"meta":if(y=Gp("meta","content",c).get(l+(r.content||""))){for(b=0;b<y.length;b++)if(h=y[b],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(b,1);break e}}h=c.createElement(l),Ke(h,l,r),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[le]=t,_e(h),l=h}t.stateNode=l}else Qp(c,t.type,t.stateNode);else t.stateNode=Hp(c,l,t.memoizedProps);else h!==l?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,l===null?Qp(c,t.type,t.stateNode):Hp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&zf(t,t.memoizedProps,r.memoizedProps)}break;case 27:xn(n,t),wn(t),l&512&&(be||r===null||pi(r,r.return)),r!==null&&l&4&&zf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(xn(n,t),wn(t),l&512&&(be||r===null||pi(r,r.return)),t.flags&32){c=t.stateNode;try{Nn(c,"")}catch(H){ae(t,t.return,H)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,zf(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Uf=!0);break;case 6:if(xn(n,t),wn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(H){ae(t,t.return,H)}}break;case 3:if(Cu=null,c=Kn,Kn=wu(n.containerInfo),xn(n,t),Kn=c,wn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Gl(n.containerInfo)}catch(H){ae(t,t.return,H)}Uf&&(Uf=!1,Zg(t));break;case 4:l=Kn,Kn=wu(t.stateNode.containerInfo),xn(n,t),wn(t),Kn=l;break;case 12:xn(n,t),wn(t);break;case 13:xn(n,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Qf=He()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lf(t,l)));break;case 22:c=t.memoizedState!==null;var w=r!==null&&r.memoizedState!==null,P=Ji,X=be;if(Ji=P||c,be=X||w,xn(n,t),be=X,Ji=P,wn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||w||Ji||be||As(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){w=r=n;try{if(h=w.stateNode,c)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=w.stateNode;var W=w.memoizedProps.style,B=W!=null&&W.hasOwnProperty("display")?W.display:null;b.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(H){ae(w,w.return,H)}}}else if(n.tag===6){if(r===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(H){ae(w,w.return,H)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Lf(t,r))));break;case 19:xn(n,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lf(t,l)));break;case 30:break;case 21:break;default:xn(n,t),wn(t)}}function wn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Hg(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,h=jf(t);du(t,h,c);break;case 5:var y=r.stateNode;r.flags&32&&(Nn(y,""),r.flags&=-33);var b=jf(t);du(t,b,y);break;case 3:case 4:var w=r.stateNode.containerInfo,P=jf(t);kf(t,P,w);break;default:throw Error(s(161))}}catch(X){ae(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Zg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Zg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Er(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Fg(t,n.alternate,n),n=n.sibling}function As(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:br(4,n,n.return),As(n);break;case 1:pi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Bg(n,n.return,r),As(n);break;case 27:jl(n.stateNode);case 26:case 5:pi(n,n.return),As(n);break;case 22:n.memoizedState===null&&As(n);break;case 30:As(n);break;default:As(n)}t=t.sibling}}function Tr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,y=h.flags;switch(h.tag){case 0:case 11:case 15:Tr(c,h,r),wl(4,h);break;case 1:if(Tr(c,h,r),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){ae(l,l.return,P)}if(l=h,c=l.updateQueue,c!==null){var b=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)wm(w[c],b)}catch(P){ae(l,l.return,P)}}r&&y&64&&Pg(h),Rl(h,h.return);break;case 27:Gg(h);case 26:case 5:Tr(c,h,r),r&&l===null&&y&4&&qg(h),Rl(h,h.return);break;case 12:Tr(c,h,r);break;case 13:Tr(c,h,r),r&&y&4&&Kg(c,h);break;case 22:h.memoizedState===null&&Tr(c,h,r),Rl(h,h.return);break;case 30:break;default:Tr(c,h,r)}n=n.sibling}}function Pf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&hl(r))}function Bf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hl(t))}function yi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$g(t,n,r,l),n=n.sibling}function $g(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:yi(t,n,r,l),c&2048&&wl(9,n);break;case 1:yi(t,n,r,l);break;case 3:yi(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hl(t)));break;case 12:if(c&2048){yi(t,n,r,l),t=n.stateNode;try{var h=n.memoizedProps,y=h.id,b=h.onPostCommit;typeof b=="function"&&b(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){ae(n,n.return,w)}}else yi(t,n,r,l);break;case 13:yi(t,n,r,l);break;case 23:break;case 22:h=n.stateNode,y=n.alternate,n.memoizedState!==null?h._visibility&2?yi(t,n,r,l):Cl(t,n):h._visibility&2?yi(t,n,r,l):(h._visibility|=2,da(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Pf(y,n);break;case 24:yi(t,n,r,l),c&2048&&Bf(n.alternate,n);break;default:yi(t,n,r,l)}}function da(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,y=n,b=r,w=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:da(h,y,b,w,c),wl(8,y);break;case 23:break;case 22:var X=y.stateNode;y.memoizedState!==null?X._visibility&2?da(h,y,b,w,c):Cl(h,y):(X._visibility|=2,da(h,y,b,w,c)),c&&P&2048&&Pf(y.alternate,y);break;case 24:da(h,y,b,w,c),c&&P&2048&&Bf(y.alternate,y);break;default:da(h,y,b,w,c)}n=n.sibling}}function Cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Cl(r,l),c&2048&&Pf(l.alternate,l);break;case 24:Cl(r,l),c&2048&&Bf(l.alternate,l);break;default:Cl(r,l)}n=n.sibling}}var Dl=8192;function ma(t){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)Jg(t),t=t.sibling}function Jg(t){switch(t.tag){case 26:ma(t),t.flags&Dl&&t.memoizedState!==null&&A1(Kn,t.memoizedState,t.memoizedProps);break;case 5:ma(t);break;case 3:case 4:var n=Kn;Kn=wu(t.stateNode.containerInfo),ma(t),Kn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Dl,Dl=16777216,ma(t),Dl=n):ma(t));break;default:ma(t)}}function tp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Il(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Pe=l,np(l,t)}tp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ep(t),t=t.sibling}function ep(t){switch(t.tag){case 0:case 11:case 15:Il(t),t.flags&2048&&br(9,t,t.return);break;case 3:Il(t);break;case 12:Il(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,mu(t)):Il(t);break;default:Il(t)}}function mu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Pe=l,np(l,t)}tp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:br(8,n,n.return),mu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,mu(n));break;default:mu(n)}t=t.sibling}}function np(t,n){for(;Pe!==null;){var r=Pe;switch(r.tag){case 0:case 11:case 15:br(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Pe=l;else t:for(r=t;Pe!==null;){l=Pe;var c=l.sibling,h=l.return;if(Yg(l),l===r){Pe=null;break t}if(c!==null){c.return=h,Pe=c;break t}Pe=h}}}var Pv={getCacheForType:function(t){var n=Je(Ne),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},Bv=typeof WeakMap=="function"?WeakMap:Map,Zt=0,oe=null,Ot=null,Lt=0,$t=0,Rn=null,Sr=!1,ga=!1,qf=!1,er=0,ye=0,Ar=0,xs=0,Hf=0,Bn=0,pa=0,Vl=null,mn=null,Gf=!1,Qf=0,gu=1/0,pu=null,xr=null,Xe=0,wr=null,ya=null,_a=0,Ff=0,Yf=null,ip=null,Nl=0,Xf=null;function Cn(){if((Zt&2)!==0&&Lt!==0)return Lt&-Lt;if(Q.T!==null){var t=sa;return t!==0?t:eh()}return _t()}function rp(){Bn===0&&(Bn=(Lt&536870912)===0||Xt?Zr():536870912);var t=Pn.current;return t!==null&&(t.flags|=32),Bn}function Dn(t,n,r){(t===oe&&($t===2||$t===9)||t.cancelPendingCommit!==null)&&(va(t,0),Rr(t,Lt,Bn,!1)),Qn(t,r),((Zt&2)===0||t!==oe)&&(t===oe&&((Zt&2)===0&&(xs|=r),ye===4&&Rr(t,Lt,Bn,!1)),_i(t))}function sp(t,n,r){if((Zt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||ze(t,n),c=l?Gv(t,n):Zf(t,n,!0),h=l;do{if(c===0){ga&&!l&&Rr(t,n,0,!1);break}else{if(r=t.current.alternate,h&&!qv(r)){c=Zf(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var b=t;c=Vl;var w=b.current.memoizedState.isDehydrated;if(w&&(va(b,y).flags|=256),y=Zf(b,y,!1),y!==2){if(qf&&!w){b.errorRecoveryDisabledLanes|=h,xs|=h,c=4;break t}h=mn,mn=c,h!==null&&(mn===null?mn=h:mn.push.apply(mn,h))}c=y}if(h=!1,c!==2)continue}}if(c===1){va(t,0),Rr(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Rr(l,n,Bn,!Sr);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Qf+300-He(),10<c)){if(Rr(l,n,Bn,!Sr),ur(l,0,!0)!==0)break t;l.timeoutHandle=Mp(ap.bind(null,l,r,mn,pu,Gf,n,Bn,xs,pa,Sr,h,2,-0,0),c);break t}ap(l,r,mn,pu,Gf,n,Bn,xs,pa,Sr,h,0,-0,0)}}break}while(!0);_i(t)}function ap(t,n,r,l,c,h,y,b,w,P,X,W,B,H){if(t.timeoutHandle=-1,W=n.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:S1},Jg(n),W=x1(),W!==null)){t.cancelPendingCommit=W(dp.bind(null,t,n,h,r,l,c,y,b,w,X,1,B,H)),Rr(t,h,y,!P);return}dp(t,n,h,r,l,c,y,b,w)}function qv(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],h=c.getSnapshot;c=c.value;try{if(!Sn(h(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Rr(t,n,r,l){n&=~Hf,n&=~xs,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-Ge(c),y=1<<h;l[h]=-1,c&=~y}r!==0&&je(t,r,n)}function yu(){return(Zt&6)===0?(Ol(0),!1):!0}function Kf(){if(Ot!==null){if($t===0)var t=Ot.return;else t=Ot,Yi=vs=null,hf(t),fa=null,Sl=0,t=Ot;for(;t!==null;)Lg(t.alternate,t),t=t.return;Ot=null}}function va(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,a1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Kf(),oe=t,Ot=r=Gi(t.current,null),Lt=n,$t=0,Rn=null,Sr=!1,ga=ze(t,n),qf=!1,pa=Bn=Hf=xs=Ar=ye=0,mn=Vl=null,Gf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ge(l),h=1<<c;n|=t[c],l&=~h}return er=n,Lo(),r}function lp(t,n){It=null,Q.H=ru,n===ml||n===Xo?(n=Am(),$t=3):n===Em?(n=Am(),$t=4):$t=n===xg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,Ot===null&&(ye=1,uu(t,jn(n,t.current)))}function op(){var t=Q.H;return Q.H=ru,t===null?ru:t}function up(){var t=Q.A;return Q.A=Pv,t}function Wf(){ye=4,Sr||(Lt&4194048)!==Lt&&Pn.current!==null||(ga=!0),(Ar&134217727)===0&&(xs&134217727)===0||oe===null||Rr(oe,Lt,Bn,!1)}function Zf(t,n,r){var l=Zt;Zt|=2;var c=op(),h=up();(oe!==t||Lt!==n)&&(pu=null,va(t,n)),n=!1;var y=ye;t:do try{if($t!==0&&Ot!==null){var b=Ot,w=Rn;switch($t){case 8:Kf(),y=6;break t;case 3:case 2:case 9:case 6:Pn.current===null&&(n=!0);var P=$t;if($t=0,Rn=null,ba(t,b,w,P),r&&ga){y=0;break t}break;default:P=$t,$t=0,Rn=null,ba(t,b,w,P)}}Hv(),y=ye;break}catch(X){lp(t,X)}while(!0);return n&&t.shellSuspendCounter++,Yi=vs=null,Zt=l,Q.H=c,Q.A=h,Ot===null&&(oe=null,Lt=0,Lo()),y}function Hv(){for(;Ot!==null;)cp(Ot)}function Gv(t,n){var r=Zt;Zt|=2;var l=op(),c=up();oe!==t||Lt!==n?(pu=null,gu=He()+500,va(t,n)):ga=ze(t,n);t:do try{if($t!==0&&Ot!==null){n=Ot;var h=Rn;e:switch($t){case 1:$t=0,Rn=null,ba(t,n,h,1);break;case 2:case 9:if(Tm(h)){$t=0,Rn=null,fp(n);break}n=function(){$t!==2&&$t!==9||oe!==t||($t=7),_i(t)},h.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Tm(h)?($t=0,Rn=null,fp(n)):($t=0,Rn=null,ba(t,n,h,7));break;case 5:var y=null;switch(Ot.tag){case 26:y=Ot.memoizedState;case 5:case 27:var b=Ot;if(!y||Fp(y)){$t=0,Rn=null;var w=b.sibling;if(w!==null)Ot=w;else{var P=b.return;P!==null?(Ot=P,_u(P)):Ot=null}break e}}$t=0,Rn=null,ba(t,n,h,5);break;case 6:$t=0,Rn=null,ba(t,n,h,6);break;case 8:Kf(),ye=6;break t;default:throw Error(s(462))}}Qv();break}catch(X){lp(t,X)}while(!0);return Yi=vs=null,Q.H=l,Q.A=c,Zt=r,Ot!==null?0:(oe=null,Lt=0,Lo(),ye)}function Qv(){for(;Ot!==null&&!Ri();)cp(Ot)}function cp(t){var n=kg(t.alternate,t,er);t.memoizedProps=t.pendingProps,n===null?_u(t):Ot=n}function fp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Vg(r,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=Vg(r,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:hf(n);default:Lg(r,n),n=Ot=hm(n,er),n=kg(r,n,er)}t.memoizedProps=t.pendingProps,n===null?_u(t):Ot=n}function ba(t,n,r,l){Yi=vs=null,hf(n),fa=null,Sl=0;var c=n.return;try{if(Mv(t,c,n,r,Lt)){ye=1,uu(t,jn(r,t.current)),Ot=null;return}}catch(h){if(c!==null)throw Ot=c,h;ye=1,uu(t,jn(r,t.current)),Ot=null;return}n.flags&32768?(Xt||l===1?t=!0:ga||(Lt&536870912)!==0?t=!1:(Sr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),hp(n,t)):_u(n)}function _u(t){var n=t;do{if((n.flags&32768)!==0){hp(n,Sr);return}t=n.return;var r=jv(n.alternate,n,er);if(r!==null){Ot=r;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=t}while(n!==null);ye===0&&(ye=5)}function hp(t,n){do{var r=kv(t.alternate,t);if(r!==null){r.flags&=32767,Ot=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ot=t;return}Ot=t=r}while(t!==null);ye=6,Ot=null}function dp(t,n,r,l,c,h,y,b,w){t.cancelPendingCommit=null;do vu();while(Xe!==0);if((Zt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=Pc,vn(t,r,h,y,b,w),t===oe&&(Ot=oe=null,Lt=0),ya=n,wr=t,_a=r,Ff=h,Yf=c,ip=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Kv(Di,function(){return _p(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,c=et.p,et.p=2,y=Zt,Zt|=4;try{Uv(t,n,r)}finally{Zt=y,et.p=c,Q.T=l}}Xe=1,mp(),gp(),pp()}}function mp(){if(Xe===1){Xe=0;var t=wr,n=ya,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=Q.T,Q.T=null;var l=et.p;et.p=2;var c=Zt;Zt|=4;try{Wg(n,t);var h=uh,y=nm(t.containerInfo),b=h.focusedElem,w=h.selectionRange;if(y!==b&&b&&b.ownerDocument&&em(b.ownerDocument.documentElement,b)){if(w!==null&&zc(b)){var P=w.start,X=w.end;if(X===void 0&&(X=P),"selectionStart"in b)b.selectionStart=P,b.selectionEnd=Math.min(X,b.value.length);else{var W=b.ownerDocument||document,B=W&&W.defaultView||window;if(B.getSelection){var H=B.getSelection(),St=b.textContent.length,vt=Math.min(w.start,St),re=w.end===void 0?vt:Math.min(w.end,St);!H.extend&&vt>re&&(y=re,re=vt,vt=y);var j=tm(b,vt),I=tm(b,re);if(j&&I&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==I.node||H.focusOffset!==I.offset)){var L=W.createRange();L.setStart(j.node,j.offset),H.removeAllRanges(),vt>re?(H.addRange(L),H.extend(I.node,I.offset)):(L.setEnd(I.node,I.offset),H.addRange(L))}}}}for(W=[],H=b;H=H.parentNode;)H.nodeType===1&&W.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<W.length;b++){var K=W[b];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Vu=!!oh,uh=oh=null}finally{Zt=c,et.p=l,Q.T=r}}t.current=n,Xe=2}}function gp(){if(Xe===2){Xe=0;var t=wr,n=ya,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=Q.T,Q.T=null;var l=et.p;et.p=2;var c=Zt;Zt|=4;try{Fg(t,n.alternate,n)}finally{Zt=c,et.p=l,Q.T=r}}Xe=3}}function pp(){if(Xe===4||Xe===3){Xe=0,Xr();var t=wr,n=ya,r=_a,l=ip;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xe=5:(Xe=0,ya=wr=null,yp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(xr=null),tt(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(fe,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,c=et.p,et.p=2,Q.T=null;try{for(var h=t.onRecoverableError,y=0;y<l.length;y++){var b=l[y];h(b.value,{componentStack:b.stack})}}finally{Q.T=n,et.p=c}}(_a&3)!==0&&vu(),_i(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Xf?Nl++:(Nl=0,Xf=t):Nl=0,Ol(0)}}function yp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,hl(n)))}function vu(t){return mp(),gp(),pp(),_p()}function _p(){if(Xe!==5)return!1;var t=wr,n=Ff;Ff=0;var r=tt(_a),l=Q.T,c=et.p;try{et.p=32>r?32:r,Q.T=null,r=Yf,Yf=null;var h=wr,y=_a;if(Xe=0,ya=wr=null,_a=0,(Zt&6)!==0)throw Error(s(331));var b=Zt;if(Zt|=4,ep(h.current),$g(h,h.current,y,r),Zt=b,Ol(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(fe,h)}catch{}return!0}finally{et.p=c,Q.T=l,yp(t,n)}}function vp(t,n,r){n=jn(r,n),n=wf(t.stateNode,n,2),t=pr(t,n,2),t!==null&&(Qn(t,2),_i(t))}function ae(t,n,r){if(t.tag===3)vp(t,t,r);else for(;n!==null;){if(n.tag===3){vp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xr===null||!xr.has(l))){t=jn(r,t),r=Sg(2),l=pr(n,r,2),l!==null&&(Ag(r,l,n,t),Qn(l,2),_i(l));break}}n=n.return}}function $f(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new Bv;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(qf=!0,c.add(r),t=Fv.bind(null,t,n,r),n.then(t,t))}function Fv(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,oe===t&&(Lt&r)===r&&(ye===4||ye===3&&(Lt&62914560)===Lt&&300>He()-Qf?(Zt&2)===0&&va(t,0):Hf|=r,pa===Lt&&(pa=0)),_i(t)}function bp(t,n){n===0&&(n=$r()),t=ea(t,n),t!==null&&(Qn(t,n),_i(t))}function Yv(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),bp(t,r)}function Xv(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),bp(t,r)}function Kv(t,n){return ti(t,n)}var bu=null,Ea=null,Jf=!1,Eu=!1,th=!1,ws=0;function _i(t){t!==Ea&&t.next===null&&(Ea===null?bu=Ea=t:Ea=Ea.next=t),Eu=!0,Jf||(Jf=!0,Zv())}function Ol(t,n){if(!th&&Eu){th=!0;do for(var r=!1,l=bu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var y=l.suspendedLanes,b=l.pingedLanes;h=(1<<31-Ge(42|t)+1)-1,h&=c&~(y&~b),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,Ap(l,h))}else h=Lt,h=ur(l,l===oe?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||ze(l,h)||(r=!0,Ap(l,h));l=l.next}while(r);th=!1}}function Wv(){Ep()}function Ep(){Eu=Jf=!1;var t=0;ws!==0&&(s1()&&(t=ws),ws=0);for(var n=He(),r=null,l=bu;l!==null;){var c=l.next,h=Tp(l,n);h===0?(l.next=null,r===null?bu=c:r.next=c,c===null&&(Ea=r)):(r=l,(t!==0||(h&3)!==0)&&(Eu=!0)),l=c}Ol(t)}function Tp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var y=31-Ge(h),b=1<<y,w=c[y];w===-1?((b&r)===0||(b&l)!==0)&&(c[y]=Wr(b,n)):w<=n&&(t.expiredLanes|=b),h&=~b}if(n=oe,r=Lt,r=ur(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&($t===2||$t===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&wi(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ze(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&wi(l),tt(r)){case 2:case 8:r=lr;break;case 32:r=Di;break;case 268435456:r=Vi;break;default:r=Di}return l=Sp.bind(null,t),r=ti(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&wi(l),t.callbackPriority=2,t.callbackNode=null,2}function Sp(t,n){if(Xe!==0&&Xe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(vu()&&t.callbackNode!==r)return null;var l=Lt;return l=ur(t,t===oe?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(sp(t,l,n),Tp(t,He()),t.callbackNode!=null&&t.callbackNode===r?Sp.bind(null,t):null)}function Ap(t,n){if(vu())return null;sp(t,n,!0)}function Zv(){l1(function(){(Zt&6)!==0?ti(ar,Wv):Ep()})}function eh(){return ws===0&&(ws=Zr()),ws}function xp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hs(""+t)}function wp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function $v(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var h=xp((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?xp(n.formAction):y.getAttribute("formAction"),n!==null&&(h=n,y=null));var b=new Gs("action","action",null,l,c);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ws!==0){var w=y?wp(c,y):new FormData(c);Ef(r,{pending:!0,data:w,method:c.method,action:h},null,w)}}else typeof h=="function"&&(b.preventDefault(),w=y?wp(c,y):new FormData(c),Ef(r,{pending:!0,data:w,method:c.method,action:h},h,w))},currentTarget:c}]})}}for(var nh=0;nh<Lc.length;nh++){var ih=Lc[nh],Jv=ih.toLowerCase(),t1=ih[0].toUpperCase()+ih.slice(1);Xn(Jv,"on"+t1)}Xn(sm,"onAnimationEnd"),Xn(am,"onAnimationIteration"),Xn(lm,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(yv,"onTransitionRun"),Xn(_v,"onTransitionStart"),Xn(vv,"onTransitionCancel"),Xn(om,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function Rp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var y=l.length-1;0<=y;y--){var b=l[y],w=b.instance,P=b.currentTarget;if(b=b.listener,w!==h&&c.isPropagationStopped())break t;h=b,c.currentTarget=P;try{h(c)}catch(X){ou(X)}c.currentTarget=null,h=w}else for(y=0;y<l.length;y++){if(b=l[y],w=b.instance,P=b.currentTarget,b=b.listener,w!==h&&c.isPropagationStopped())break t;h=b,c.currentTarget=P;try{h(c)}catch(X){ou(X)}c.currentTarget=null,h=w}}}}function Mt(t,n){var r=n[js];r===void 0&&(r=n[js]=new Set);var l=t+"__bubble";r.has(l)||(Cp(n,t,2,!1),r.add(l))}function rh(t,n,r){var l=0;n&&(l|=4),Cp(r,t,l,n)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function sh(t){if(!t[Tu]){t[Tu]=!0,Fa.forEach(function(r){r!=="selectionchange"&&(e1.has(r)||rh(r,!1,t),rh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Tu]||(n[Tu]=!0,rh("selectionchange",!1,n))}}function Cp(t,n,r,l){switch($p(n)){case 2:var c=C1;break;case 8:c=D1;break;default:c=vh}r=c.bind(null,n,r,t),c=void 0,!Mn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function ah(t,n,r,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var b=l.stateNode.containerInfo;if(b===c)break;if(y===4)for(y=l.return;y!==null;){var w=y.tag;if((w===3||w===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;b!==null;){if(y=Mi(b),y===null)return;if(w=y.tag,w===5||w===6||w===26||w===27){l=h=y;continue t}b=b.parentNode}}l=l.return}Ao(function(){var P=h,X=On(r),W=[];t:{var B=um.get(t);if(B!==void 0){var H=Gs,St=t;switch(t){case"keypress":if(ui(r)===0)break t;case"keydown":case"keyup":H=Ws;break;case"focusin":St="focus",H=Ys;break;case"focusout":St="blur",H=Ys;break;case"beforeblur":case"afterblur":H=Ys;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=No;break;case sm:case am:case lm:H=Xs;break;case om:H=Mo;break;case"scroll":case"scrollend":H=xo;break;case"wheel":H=Zs;break;case"copy":case"cut":case"paste":H=Ks;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=rl;break;case"toggle":case"beforetoggle":H=jo}var vt=(n&4)!==0,re=!vt&&(t==="scroll"||t==="scrollend"),j=vt?B!==null?B+"Capture":null:B;vt=[];for(var I=P,L;I!==null;){var K=I;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||j===null||(K=ss(I,j),K!=null&&vt.push(zl(I,K,L))),re)break;I=I.return}0<vt.length&&(B=new H(B,St,null,r,X),W.push({event:B,listeners:vt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&r!==Ui&&(St=r.relatedTarget||r.fromElement)&&(Mi(St)||St[bn]))break t;if((H||B)&&(B=X.window===X?X:(B=X.ownerDocument)?B.defaultView||B.parentWindow:window,H?(St=r.relatedTarget||r.toElement,H=P,St=St?Mi(St):null,St!==null&&(re=f(St),vt=St.tag,St!==re||vt!==5&&vt!==27&&vt!==6)&&(St=null)):(H=null,St=P),H!==St)){if(vt=zn,K="onMouseLeave",j="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(vt=rl,K="onPointerLeave",j="onPointerEnter",I="pointer"),re=H==null?B:si(H),L=St==null?B:si(St),B=new vt(K,I+"leave",H,r,X),B.target=re,B.relatedTarget=L,K=null,Mi(X)===P&&(vt=new vt(j,I+"enter",St,r,X),vt.target=L,vt.relatedTarget=re,K=vt),re=K,H&&St)e:{for(vt=H,j=St,I=0,L=vt;L;L=Ta(L))I++;for(L=0,K=j;K;K=Ta(K))L++;for(;0<I-L;)vt=Ta(vt),I--;for(;0<L-I;)j=Ta(j),L--;for(;I--;){if(vt===j||j!==null&&vt===j.alternate)break e;vt=Ta(vt),j=Ta(j)}vt=null}else vt=null;H!==null&&Dp(W,B,H,vt,!1),St!==null&&re!==null&&Dp(W,re,St,vt,!0)}}t:{if(B=P?si(P):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var ft=Xd;else if(Ve(B))if(Kd)ft=mv;else{ft=hv;var Nt=fv}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Za(P.elementType)&&(ft=Xd):ft=dv;if(ft&&(ft=ft(t,P))){Hi(W,ft,r,X);break t}Nt&&Nt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&fr(B,"number",B.value)}switch(Nt=P?si(P):window,t){case"focusin":(Ve(Nt)||Nt.contentEditable==="true")&&($s=Nt,jc=P,ll=null);break;case"focusout":ll=jc=$s=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,im(W,r,X);break;case"selectionchange":if(pv)break;case"keydown":case"keyup":im(W,r,X)}var mt;if(hi)t:{switch(t){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else kt?G(t,r)&&(bt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(bt="onCompositionStart");bt&&(p&&r.locale!=="ko"&&(kt||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&kt&&(mt=Ja()):(oi=X,hr="value"in oi?oi.value:oi.textContent,kt=!0)),Nt=Su(P,bt),0<Nt.length&&(bt=new nl(bt,t,null,r,X),W.push({event:bt,listeners:Nt}),mt?bt.data=mt:(mt=st(r),mt!==null&&(bt.data=mt)))),(mt=m?Ie(t,r):Ut(t,r))&&(bt=Su(P,"onBeforeInput"),0<bt.length&&(Nt=new nl("onBeforeInput","beforeinput",null,r,X),W.push({event:Nt,listeners:bt}),Nt.data=mt)),$v(W,t,P,r,X)}Rp(W,n)})}function zl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Su(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=ss(t,r),c!=null&&l.unshift(zl(t,c,h)),c=ss(t,n),c!=null&&l.push(zl(t,c,h))),t.tag===3)return l;t=t.return}return[]}function Ta(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Dp(t,n,r,l,c){for(var h=n._reactName,y=[];r!==null&&r!==l;){var b=r,w=b.alternate,P=b.stateNode;if(b=b.tag,w!==null&&w===l)break;b!==5&&b!==26&&b!==27||P===null||(w=P,c?(P=ss(r,h),P!=null&&y.unshift(zl(r,P,w))):c||(P=ss(r,h),P!=null&&y.push(zl(r,P,w)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var n1=/\r\n?/g,i1=/\u0000|\uFFFD/g;function Ip(t){return(typeof t=="string"?t:""+t).replace(n1,`
`).replace(i1,"")}function Vp(t,n){return n=Ip(n),Ip(t)===n}function Au(){}function ie(t,n,r,l,c,h){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Nn(t,""+l);break;case"className":ai(t,"class",l);break;case"tabIndex":ai(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ai(t,r,l);break;case"style":Wa(t,l,h);break;case"data":if(n!=="object"){ai(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Hs(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(n!=="input"&&ie(t,n,"name",c.name,c,null),ie(t,n,"formEncType",c.formEncType,c,null),ie(t,n,"formMethod",c.formMethod,c,null),ie(t,n,"formTarget",c.formTarget,c,null)):(ie(t,n,"encType",c.encType,c,null),ie(t,n,"method",c.method,c,null),ie(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Hs(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Au);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Hs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Mt("beforetoggle",t),Mt("toggle",t),cr(t,"popover",l);break;case"xlinkActuate":Qe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Qe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Qe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Qe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Qe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Qe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Qe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Qe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Qe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":cr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Dc.get(r)||r,cr(t,r,l))}}function lh(t,n,r,l,c,h){switch(r){case"style":Wa(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&Nn(t,""+l);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Au);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Us.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),h=t[he]||null,h=h!=null?h[r]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):cr(t,r,l)}}}function Ke(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",t),Mt("load",t);var l=!1,c=!1,h;for(h in r)if(r.hasOwnProperty(h)){var y=r[h];if(y!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ie(t,n,h,y,r,null)}}c&&ie(t,n,"srcSet",r.srcSet,r,null),l&&ie(t,n,"src",r.src,r,null);return;case"input":Mt("invalid",t);var b=h=y=c=null,w=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var X=r[l];if(X!=null)switch(l){case"name":c=X;break;case"type":y=X;break;case"checked":w=X;break;case"defaultChecked":P=X;break;case"value":h=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,n));break;default:ie(t,n,l,X,r,null)}}ns(t,h,b,w,P,y,c,!1),qs(t);return;case"select":Mt("invalid",t),l=y=h=null;for(c in r)if(r.hasOwnProperty(c)&&(b=r[c],b!=null))switch(c){case"value":h=b;break;case"defaultValue":y=b;break;case"multiple":l=b;default:ie(t,n,c,b,r,null)}n=h,r=y,t.multiple=!!l,n!=null?ki(t,!!l,n,!1):r!=null&&ki(t,!!l,r,!0);return;case"textarea":Mt("invalid",t),h=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(b=r[y],b!=null))switch(y){case"value":l=b;break;case"defaultValue":c=b;break;case"children":h=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:ie(t,n,y,b,r,null)}is(t,l,c,h),qs(t);return;case"option":for(w in r)if(r.hasOwnProperty(w)&&(l=r[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ie(t,n,w,l,r,null)}return;case"dialog":Mt("beforetoggle",t),Mt("toggle",t),Mt("cancel",t),Mt("close",t);break;case"iframe":case"object":Mt("load",t);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Mt(Ml[l],t);break;case"image":Mt("error",t),Mt("load",t);break;case"details":Mt("toggle",t);break;case"embed":case"source":case"link":Mt("error",t),Mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ie(t,n,P,l,r,null)}return;default:if(Za(n)){for(X in r)r.hasOwnProperty(X)&&(l=r[X],l!==void 0&&lh(t,n,X,l,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(l=r[b],l!=null&&ie(t,n,b,l,r,null))}function r1(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,y=null,b=null,w=null,P=null,X=null;for(H in r){var W=r[H];if(r.hasOwnProperty(H)&&W!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":w=W;default:l.hasOwnProperty(H)||ie(t,n,H,null,l,W)}}for(var B in l){var H=l[B];if(W=r[B],l.hasOwnProperty(B)&&(H!=null||W!=null))switch(B){case"type":h=H;break;case"name":c=H;break;case"checked":P=H;break;case"defaultChecked":X=H;break;case"value":y=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==W&&ie(t,n,B,H,l,W)}}Tn(t,y,b,w,P,X,h,c);return;case"select":H=y=b=B=null;for(h in r)if(w=r[h],r.hasOwnProperty(h)&&w!=null)switch(h){case"value":break;case"multiple":H=w;default:l.hasOwnProperty(h)||ie(t,n,h,null,l,w)}for(c in l)if(h=l[c],w=r[c],l.hasOwnProperty(c)&&(h!=null||w!=null))switch(c){case"value":B=h;break;case"defaultValue":b=h;break;case"multiple":y=h;default:h!==w&&ie(t,n,c,h,l,w)}n=b,r=y,l=H,B!=null?ki(t,!!r,B,!1):!!l!=!!r&&(n!=null?ki(t,!!r,n,!0):ki(t,!!r,r?[]:"",!1));return;case"textarea":H=B=null;for(b in r)if(c=r[b],r.hasOwnProperty(b)&&c!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ie(t,n,b,null,l,c)}for(y in l)if(c=l[y],h=r[y],l.hasOwnProperty(y)&&(c!=null||h!=null))switch(y){case"value":B=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&ie(t,n,y,c,l,h)}ee(t,B,H);return;case"option":for(var St in r)if(B=r[St],r.hasOwnProperty(St)&&B!=null&&!l.hasOwnProperty(St))switch(St){case"selected":t.selected=!1;break;default:ie(t,n,St,null,l,B)}for(w in l)if(B=l[w],H=r[w],l.hasOwnProperty(w)&&B!==H&&(B!=null||H!=null))switch(w){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ie(t,n,w,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in r)B=r[vt],r.hasOwnProperty(vt)&&B!=null&&!l.hasOwnProperty(vt)&&ie(t,n,vt,null,l,B);for(P in l)if(B=l[P],H=r[P],l.hasOwnProperty(P)&&B!==H&&(B!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:ie(t,n,P,B,l,H)}return;default:if(Za(n)){for(var re in r)B=r[re],r.hasOwnProperty(re)&&B!==void 0&&!l.hasOwnProperty(re)&&lh(t,n,re,void 0,l,B);for(X in l)B=l[X],H=r[X],!l.hasOwnProperty(X)||B===H||B===void 0&&H===void 0||lh(t,n,X,B,l,H);return}}for(var j in r)B=r[j],r.hasOwnProperty(j)&&B!=null&&!l.hasOwnProperty(j)&&ie(t,n,j,null,l,B);for(W in l)B=l[W],H=r[W],!l.hasOwnProperty(W)||B===H||B==null&&H==null||ie(t,n,W,B,l,H)}var oh=null,uh=null;function xu(t){return t.nodeType===9?t:t.ownerDocument}function Np(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Op(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ch(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fh=null;function s1(){var t=window.event;return t&&t.type==="popstate"?t===fh?!1:(fh=t,!0):(fh=null,!1)}var Mp=typeof setTimeout=="function"?setTimeout:void 0,a1=typeof clearTimeout=="function"?clearTimeout:void 0,zp=typeof Promise=="function"?Promise:void 0,l1=typeof queueMicrotask=="function"?queueMicrotask:typeof zp<"u"?function(t){return zp.resolve(null).then(t).catch(o1)}:Mp;function o1(t){setTimeout(function(){throw t})}function Cr(t){return t==="head"}function jp(t,n){var r=n,l=0,c=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&jl(y.documentElement),r&2&&jl(y.body),r&4)for(r=y.head,jl(r),y=r.firstChild;y;){var b=y.nextSibling,w=y.nodeName;y[Vn]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=b}}if(c===0){t.removeChild(h),Gl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=h}while(r);Gl(n)}function hh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":hh(r),En(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function u1(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Vn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function c1(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Wn(t.nextSibling),t===null))return null;return t}function dh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function f1(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Wn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var mh=null;function kp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Up(t,n,r){switch(n=xu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function jl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);En(t)}var qn=new Map,Lp=new Set;function wu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var nr=et.d;et.d={f:h1,r:d1,D:m1,C:g1,L:p1,m:y1,X:v1,S:_1,M:b1};function h1(){var t=nr.f(),n=yu();return t||n}function d1(t){var n=ri(t);n!==null&&n.tag===5&&n.type==="form"?sg(n):nr.r(t)}var Sa=typeof document>"u"?null:document;function Pp(t,n,r){var l=Sa;if(l&&typeof n=="string"&&n){var c=Te(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Lp.has(c)||(Lp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ke(n,"link",t),_e(n),l.head.appendChild(n)))}}function m1(t){nr.D(t),Pp("dns-prefetch",t,null)}function g1(t,n){nr.C(t,n),Pp("preconnect",t,n)}function p1(t,n,r){nr.L(t,n,r);var l=Sa;if(l&&t&&n){var c='link[rel="preload"][as="'+Te(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+Te(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+Te(r.imageSizes)+'"]')):c+='[href="'+Te(t)+'"]';var h=c;switch(n){case"style":h=Aa(t);break;case"script":h=xa(t)}qn.has(h)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),qn.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(kl(h))||n==="script"&&l.querySelector(Ul(h))||(n=l.createElement("link"),Ke(n,"link",t),_e(n),l.head.appendChild(n)))}}function y1(t,n){nr.m(t,n);var r=Sa;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Te(l)+'"][href="'+Te(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=xa(t)}if(!qn.has(h)&&(t=A({rel:"modulepreload",href:t},n),qn.set(h,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ul(h)))return}l=r.createElement("link"),Ke(l,"link",t),_e(l),r.head.appendChild(l)}}}function _1(t,n,r){nr.S(t,n,r);var l=Sa;if(l&&t){var c=an(l).hoistableStyles,h=Aa(t);n=n||"default";var y=c.get(h);if(!y){var b={loading:0,preload:null};if(y=l.querySelector(kl(h)))b.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=qn.get(h))&&gh(t,r);var w=y=l.createElement("link");_e(w),Ke(w,"link",t),w._p=new Promise(function(P,X){w.onload=P,w.onerror=X}),w.addEventListener("load",function(){b.loading|=1}),w.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Ru(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:b},c.set(h,y)}}}function v1(t,n){nr.X(t,n);var r=Sa;if(r&&t){var l=an(r).hoistableScripts,c=xa(t),h=l.get(c);h||(h=r.querySelector(Ul(c)),h||(t=A({src:t,async:!0},n),(n=qn.get(c))&&ph(t,n),h=r.createElement("script"),_e(h),Ke(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function b1(t,n){nr.M(t,n);var r=Sa;if(r&&t){var l=an(r).hoistableScripts,c=xa(t),h=l.get(c);h||(h=r.querySelector(Ul(c)),h||(t=A({src:t,async:!0,type:"module"},n),(n=qn.get(c))&&ph(t,n),h=r.createElement("script"),_e(h),Ke(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Bp(t,n,r,l){var c=(c=Et.current)?wu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Aa(r.href),r=an(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Aa(r.href);var h=an(c).hoistableStyles,y=h.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,y),(h=c.querySelector(kl(t)))&&!h._p&&(y.instance=h,y.state.loading=5),qn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},qn.set(t,r),h||E1(c,t,r,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xa(r),r=an(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Aa(t){return'href="'+Te(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function qp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function E1(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ke(n,"link",r),_e(n),t.head.appendChild(n))}function xa(t){return'[src="'+Te(t)+'"]'}function Ul(t){return"script[async]"+t}function Hp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Te(r.href)+'"]');if(l)return n.instance=l,_e(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_e(l),Ke(l,"style",c),Ru(l,r.precedence,t),n.instance=l;case"stylesheet":c=Aa(r.href);var h=t.querySelector(kl(c));if(h)return n.state.loading|=4,n.instance=h,_e(h),h;l=qp(r),(c=qn.get(c))&&gh(l,c),h=(t.ownerDocument||t).createElement("link"),_e(h);var y=h;return y._p=new Promise(function(b,w){y.onload=b,y.onerror=w}),Ke(h,"link",l),n.state.loading|=4,Ru(h,r.precedence,t),n.instance=h;case"script":return h=xa(r.src),(c=t.querySelector(Ul(h)))?(n.instance=c,_e(c),c):(l=r,(c=qn.get(h))&&(l=A({},r),ph(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),_e(c),Ke(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ru(l,r.precedence,t));return n.instance}function Ru(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,y=0;y<l.length;y++){var b=l[y];if(b.dataset.precedence===n)h=b;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function gh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ph(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Cu=null;function Gp(t,n,r){if(Cu===null){var l=new Map,c=Cu=new Map;c.set(r,l)}else c=Cu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var h=r[c];if(!(h[Vn]||h[le]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(n)||"";y=t+y;var b=l.get(y);b?b.push(h):l.set(y,[h])}}return l}function Qp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function T1(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Fp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ll=null;function S1(){}function A1(t,n,r){if(Ll===null)throw Error(s(475));var l=Ll;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Aa(r.href),h=t.querySelector(kl(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Du.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=h,_e(h);return}h=t.ownerDocument||t,r=qp(r),(c=qn.get(c))&&gh(r,c),h=h.createElement("link"),_e(h);var y=h;y._p=new Promise(function(b,w){y.onload=b,y.onerror=w}),Ke(h,"link",r),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Du.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function x1(){if(Ll===null)throw Error(s(475));var t=Ll;return t.stylesheets&&t.count===0&&yh(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&yh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Du(){if(this.count--,this.count===0){if(this.stylesheets)yh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Iu=null;function yh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Iu=new Map,n.forEach(w1,t),Iu=null,Du.call(t))}function w1(t,n){if(!(n.state.loading&4)){var r=Iu.get(t);if(r)var l=r.get(null);else{r=new Map,Iu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var y=c[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),h=r.get(y)||l,h===l&&r.set(null,c),r.set(y,c),this.count++,l=Du.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Pl={$$typeof:yt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function R1(t,n,r,l,c,h,y,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gn(0),this.hiddenUpdates=Gn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Yp(t,n,r,l,c,h,y,b,w,P,X,W){return t=new R1(t,n,r,y,b,w,P,W),n=1,h===!0&&(n|=24),h=An(3,null,null,n),t.current=h,h.stateNode=t,n=Zc(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:r,cache:n},ef(h),t}function Xp(t){return t?(t=na,t):na}function Kp(t,n,r,l,c,h){c=Xp(c),l.context===null?l.context=c:l.pendingContext=c,l=gr(n),l.payload={element:r},h=h===void 0?null:h,h!==null&&(l.callback=h),r=pr(t,l,n),r!==null&&(Dn(r,t,n),pl(r,t,n))}function Wp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function _h(t,n){Wp(t,n),(t=t.alternate)&&Wp(t,n)}function Zp(t){if(t.tag===13){var n=ea(t,67108864);n!==null&&Dn(n,t,67108864),_h(t,67108864)}}var Vu=!0;function C1(t,n,r,l){var c=Q.T;Q.T=null;var h=et.p;try{et.p=2,vh(t,n,r,l)}finally{et.p=h,Q.T=c}}function D1(t,n,r,l){var c=Q.T;Q.T=null;var h=et.p;try{et.p=8,vh(t,n,r,l)}finally{et.p=h,Q.T=c}}function vh(t,n,r,l){if(Vu){var c=bh(l);if(c===null)ah(t,n,l,Nu,r),Jp(t,l);else if(V1(c,t,n,r,l))l.stopPropagation();else if(Jp(t,l),n&4&&-1<I1.indexOf(t)){for(;c!==null;){var h=ri(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=_n(h.pendingLanes);if(y!==0){var b=h;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var w=1<<31-Ge(y);b.entanglements[1]|=w,y&=~w}_i(h),(Zt&6)===0&&(gu=He()+500,Ol(0))}}break;case 13:b=ea(h,2),b!==null&&Dn(b,h,2),yu(),_h(h,2)}if(h=bh(l),h===null&&ah(t,n,l,Nu,r),h===c)break;c=h}c!==null&&l.stopPropagation()}else ah(t,n,l,null,r)}}function bh(t){return t=On(t),Eh(t)}var Nu=null;function Eh(t){if(Nu=null,t=Mi(t),t!==null){var n=f(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Nu=t,null}function $p(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ci()){case ar:return 2;case lr:return 8;case Di:case Ii:return 32;case Vi:return 268435456;default:return 32}default:return 32}}var Th=!1,Dr=null,Ir=null,Vr=null,Bl=new Map,ql=new Map,Nr=[],I1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jp(t,n){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(n.pointerId)}}function Hl(t,n,r,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=ri(n),n!==null&&Zp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function V1(t,n,r,l,c){switch(n){case"focusin":return Dr=Hl(Dr,t,n,r,l,c),!0;case"dragenter":return Ir=Hl(Ir,t,n,r,l,c),!0;case"mouseover":return Vr=Hl(Vr,t,n,r,l,c),!0;case"pointerover":var h=c.pointerId;return Bl.set(h,Hl(Bl.get(h)||null,t,n,r,l,c)),!0;case"gotpointercapture":return h=c.pointerId,ql.set(h,Hl(ql.get(h)||null,t,n,r,l,c)),!0}return!1}function ty(t){var n=Mi(t.target);if(n!==null){var r=f(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,te(t.priority,function(){if(r.tag===13){var l=Cn();l=q(l);var c=ea(r,l);c!==null&&Dn(c,r,l),_h(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ou(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=bh(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Ui=l,r.target.dispatchEvent(l),Ui=null}else return n=ri(r),n!==null&&Zp(n),t.blockedOn=r,!1;n.shift()}return!0}function ey(t,n,r){Ou(t)&&r.delete(n)}function N1(){Th=!1,Dr!==null&&Ou(Dr)&&(Dr=null),Ir!==null&&Ou(Ir)&&(Ir=null),Vr!==null&&Ou(Vr)&&(Vr=null),Bl.forEach(ey),ql.forEach(ey)}function Mu(t,n){t.blockedOn===n&&(t.blockedOn=null,Th||(Th=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,N1)))}var zu=null;function ny(t){zu!==t&&(zu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){zu===t&&(zu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Eh(l||r)===null)continue;break}var h=ri(r);h!==null&&(t.splice(n,3),n-=3,Ef(h,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Gl(t){function n(w){return Mu(w,t)}Dr!==null&&Mu(Dr,t),Ir!==null&&Mu(Ir,t),Vr!==null&&Mu(Vr,t),Bl.forEach(n),ql.forEach(n);for(var r=0;r<Nr.length;r++){var l=Nr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Nr.length&&(r=Nr[0],r.blockedOn===null);)ty(r),r.blockedOn===null&&Nr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],h=r[l+1],y=c[he]||null;if(typeof h=="function")y||ny(r);else if(y){var b=null;if(h&&h.hasAttribute("formAction")){if(c=h,y=h[he]||null)b=y.formAction;else if(Eh(c)!==null)continue}else b=y.action;typeof b=="function"?r[l+1]=b:(r.splice(l,3),l-=3),ny(r)}}}function Sh(t){this._internalRoot=t}ju.prototype.render=Sh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=Cn();Kp(r,l,t,n,null,null)},ju.prototype.unmount=Sh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Kp(t.current,2,null,t,null,null),yu(),n[bn]=null}};function ju(t){this._internalRoot=t}ju.prototype.unstable_scheduleHydration=function(t){if(t){var n=_t();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Nr.length&&n!==0&&n<Nr[r].priority;r++);Nr.splice(r,0,t),r===0&&ty(t)}};var iy=e.version;if(iy!=="19.1.1")throw Error(s(527,iy,"19.1.1"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var O1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{fe=ku.inject(O1),Ht=ku}catch{}}return Fl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=vg,h=bg,y=Eg,b=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(b=n.unstable_transitionCallbacks)),n=Yp(t,1,!1,null,null,r,l,c,h,y,b,null),t[bn]=n.current,sh(t),new Sh(n)},Fl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",h=vg,y=bg,b=Eg,w=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Yp(t,1,!0,n,r??null,l,c,h,y,b,w,P),n.context=Xp(null),r=n.current,l=Cn(),l=q(l),c=gr(l),c.callback=null,pr(r,c,l),r=l,n.current.lanes=r,Qn(n,r),_i(n),t[bn]=n.current,sh(t),new ju(n)},Fl.version="19.1.1",Fl}var dy;function G1(){if(dy)return wh.exports;dy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),wh.exports=H1(),wh.exports}var Q1=G1();const F1=()=>{};var my={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Y1=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const f=a[i++];e[s++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=a[i++],d=a[i++],g=a[i++],v=((o&7)<<18|(f&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const f=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return e.join("")},C0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const f=a[o],d=o+1<a.length,g=d?a[o+1]:0,v=o+2<a.length,_=v?a[o+2]:0,A=f>>2,V=(f&3)<<4|g>>4;let O=(g&15)<<2|_>>6,Y=_&63;v||(Y=64,d||(O=64)),s.push(i[A],i[V],i[O],i[Y])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(R0(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):Y1(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const f=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const _=o<a.length?i[a.charAt(o)]:64;++o;const V=o<a.length?i[a.charAt(o)]:64;if(++o,f==null||g==null||_==null||V==null)throw new X1;const O=f<<2|g>>4;if(s.push(O),_!==64){const Y=g<<4&240|_>>2;if(s.push(Y),V!==64){const nt=_<<6&192|V;s.push(nt)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class X1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K1=function(a){const e=R0(a);return C0.encodeByteArray(e,!0)},Wu=function(a){return K1(a).replace(/\./g,"")},W1=function(a){try{return C0.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=()=>Z1().__FIREBASE_DEFAULTS__,J1=()=>{if(typeof process>"u"||typeof my>"u")return;const a=my.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},tb=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&W1(a[1]);return e&&JSON.parse(e)},cd=()=>{try{return F1()||$1()||J1()||tb()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},eb=a=>cd()?.emulatorHosts?.[a],nb=a=>{const e=eb(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},D0=()=>cd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rb(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Wu(JSON.stringify(i)),Wu(JSON.stringify(d)),""].join(".")}const Zl={};function ab(){const a={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?a.emulator.push(e):a.prod.push(e);return a}function lb(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let gy=!1;function ob(a,e){if(typeof window>"u"||typeof document>"u"||!fd(window.location.host)||Zl[a]===e||Zl[a]||gy)return;Zl[a]=e;function i(O){return`__firebase__banner__${O}`}const s="__firebase__banner",f=ab().prod.length>0;function d(){const O=document.getElementById(s);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,Y){O.setAttribute("width","24"),O.setAttribute("id",Y),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{gy=!0,d()},O}function A(O,Y){O.setAttribute("id",Y),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function V(){const O=lb(s),Y=i("text"),nt=document.getElementById(Y)||document.createElement("span"),lt=i("learnmore"),it=document.getElementById(lt)||document.createElement("a"),wt=i("preprendIcon"),At=document.getElementById(wt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const yt=O.element;g(yt),A(it,lt);const Yt=_();v(At,wt),yt.append(At,nt,it,Yt),document.body.appendChild(yt)}f?(nt.innerText="Preview backend disconnected.",At.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(At.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,nt.innerText="Preview backend running in this workspace."),nt.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",V):V()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cb(){const a=cd()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fb(){return!cb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hb(){try{return typeof indexedDB=="object"}catch{return!1}}function db(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="FirebaseError";class Pa extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=mb,Object.setPrototypeOf(this,Pa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I0.prototype.create)}}class I0{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,f=this.errors[e],d=f?gb(f,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Pa(o,g,s)}}function gb(a,e){return a.replace(pb,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const pb=/\{\$([^}]+)}/g;function Zu(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const f=a[o],d=e[o];if(py(f)&&py(d)){if(!Zu(f,d))return!1}else if(f!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function py(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(a){return a&&a._delegate?a._delegate:a}class no{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new ib;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vb(e))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});s.resolve(f)}catch{}}}}clearInstance(e=Cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cs){return this.instances.has(e)}getOptions(e=Cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[f,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(f);s===g&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const f=this.instances.get(s);return f&&e(f,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_b(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Cs){return this.component?this.component.multipleInstances?e:Cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _b(a){return a===Cs?void 0:a}function vb(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new yb(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Bt||(Bt={}));const Eb={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},Tb=Bt.INFO,Sb={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},Ab=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=Sb[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class V0{constructor(e){this.name=e,this._logLevel=Tb,this._logHandler=Ab,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Eb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const xb=(a,e)=>e.some(i=>a instanceof i);let yy,_y;function wb(){return yy||(yy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rb(){return _y||(_y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const N0=new WeakMap,Lh=new WeakMap,O0=new WeakMap,Ih=new WeakMap,hd=new WeakMap;function Cb(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",f),a.removeEventListener("error",d)},f=()=>{i(zr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",f),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&N0.set(i,a)}).catch(()=>{}),hd.set(e,a),e}function Db(a){if(Lh.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",d),a.removeEventListener("abort",d)},f=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",f),a.addEventListener("error",d),a.addEventListener("abort",d)});Lh.set(a,e)}let Ph={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Lh.get(a);if(e==="objectStoreNames")return a.objectStoreNames||O0.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return zr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function Ib(a){Ph=a(Ph)}function Vb(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Vh(this),e,...i);return O0.set(s,e.sort?e.sort():[e]),zr(s)}:Rb().includes(a)?function(...e){return a.apply(Vh(this),e),zr(N0.get(this))}:function(...e){return zr(a.apply(Vh(this),e))}}function Nb(a){return typeof a=="function"?Vb(a):(a instanceof IDBTransaction&&Db(a),xb(a,wb())?new Proxy(a,Ph):a)}function zr(a){if(a instanceof IDBRequest)return Cb(a);if(Ih.has(a))return Ih.get(a);const e=Nb(a);return e!==a&&(Ih.set(a,e),hd.set(e,a)),e}const Vh=a=>hd.get(a);function Ob(a,e,{blocked:i,upgrade:s,blocking:o,terminated:f}={}){const d=indexedDB.open(a,e),g=zr(d);return s&&d.addEventListener("upgradeneeded",v=>{s(zr(d.result),v.oldVersion,v.newVersion,zr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{f&&v.addEventListener("close",()=>f()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const Mb=["get","getKey","getAll","getAllKeys","count"],zb=["put","add","delete","clear"],Nh=new Map;function vy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Nh.get(e))return Nh.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=zb.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Mb.includes(i)))return;const f=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return Nh.set(e,f),f}Ib(a=>({...a,get:(e,i,s)=>vy(e,i)||a.get(e,i,s),has:(e,i)=>!!vy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(kb(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function kb(a){return a.getComponent()?.type==="VERSION"}const Bh="@firebase/app",by="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new V0("@firebase/app"),Ub="@firebase/app-compat",Lb="@firebase/analytics-compat",Pb="@firebase/analytics",Bb="@firebase/app-check-compat",qb="@firebase/app-check",Hb="@firebase/auth",Gb="@firebase/auth-compat",Qb="@firebase/database",Fb="@firebase/data-connect",Yb="@firebase/database-compat",Xb="@firebase/functions",Kb="@firebase/functions-compat",Wb="@firebase/installations",Zb="@firebase/installations-compat",$b="@firebase/messaging",Jb="@firebase/messaging-compat",tE="@firebase/performance",eE="@firebase/performance-compat",nE="@firebase/remote-config",iE="@firebase/remote-config-compat",rE="@firebase/storage",sE="@firebase/storage-compat",aE="@firebase/firestore",lE="@firebase/ai",oE="@firebase/firestore-compat",uE="firebase",cE="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh="[DEFAULT]",fE={[Bh]:"fire-core",[Ub]:"fire-core-compat",[Pb]:"fire-analytics",[Lb]:"fire-analytics-compat",[qb]:"fire-app-check",[Bb]:"fire-app-check-compat",[Hb]:"fire-auth",[Gb]:"fire-auth-compat",[Qb]:"fire-rtdb",[Fb]:"fire-data-connect",[Yb]:"fire-rtdb-compat",[Xb]:"fire-fn",[Kb]:"fire-fn-compat",[Wb]:"fire-iid",[Zb]:"fire-iid-compat",[$b]:"fire-fcm",[Jb]:"fire-fcm-compat",[tE]:"fire-perf",[eE]:"fire-perf-compat",[nE]:"fire-rc",[iE]:"fire-rc-compat",[rE]:"fire-gcs",[sE]:"fire-gcs-compat",[aE]:"fire-fst",[oE]:"fire-fst-compat",[lE]:"fire-vertex","fire-js":"fire-js",[uE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=new Map,hE=new Map,Hh=new Map;function Ey(a,e){try{a.container.addComponent(e)}catch(i){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ju(a){const e=a.name;if(Hh.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;Hh.set(e,a);for(const i of $u.values())Ey(i,a);for(const i of hE.values())Ey(i,a);return!0}function dE(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function mE(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new I0("app","Firebase",gE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=cE;function M0(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s={name:qh,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw jr.create("bad-app-name",{appName:String(o)});if(i||(i=D0()),!i)throw jr.create("no-options");const f=$u.get(o);if(f){if(Zu(i,f.options)&&Zu(s,f.config))return f;throw jr.create("duplicate-app",{appName:o})}const d=new bb(o);for(const v of Hh.values())d.addComponent(v);const g=new pE(i,s,d);return $u.set(o,g),g}function _E(a=qh){const e=$u.get(a);if(!e&&a===qh&&D0())return M0();if(!e)throw jr.create("no-app",{appName:a});return e}function Ia(a,e,i){let s=fE[a]??a;i&&(s+=`-${i}`);const o=s.match(/\s|\//),f=e.match(/\s|\//);if(o||f){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(d.join(" "));return}Ju(new no(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="firebase-heartbeat-database",bE=1,io="firebase-heartbeat-store";let Oh=null;function z0(){return Oh||(Oh=Ob(vE,bE,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(io)}catch(i){console.warn(i)}}}}).catch(a=>{throw jr.create("idb-open",{originalErrorMessage:a.message})})),Oh}async function EE(a){try{const i=(await z0()).transaction(io),s=await i.objectStore(io).get(j0(a));return await i.done,s}catch(e){if(e instanceof Pa)ir.warn(e.message);else{const i=jr.create("idb-get",{originalErrorMessage:e?.message});ir.warn(i.message)}}}async function Ty(a,e){try{const s=(await z0()).transaction(io,"readwrite");await s.objectStore(io).put(e,j0(a)),await s.done}catch(i){if(i instanceof Pa)ir.warn(i.message);else{const s=jr.create("idb-set",{originalErrorMessage:i?.message});ir.warn(s.message)}}}function j0(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=1024,SE=30;class AE{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new wE(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Sy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>SE){const o=RE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ir.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Sy(),{heartbeatsToSend:i,unsentEntries:s}=xE(this._heartbeatsCache.heartbeats),o=Wu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ir.warn(e),""}}}function Sy(){return new Date().toISOString().substring(0,10)}function xE(a,e=TE){const i=[];let s=a.slice();for(const o of a){const f=i.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),Ay(i)>e){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ay(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class wE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hb()?db().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await EE(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ty(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ty(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ay(a){return Wu(JSON.stringify({version:2,heartbeats:a})).length}function RE(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(a){Ju(new no("platform-logger",e=>new jb(e),"PRIVATE")),Ju(new no("heartbeat",e=>new AE(e),"PRIVATE")),Ia(Bh,by,a),Ia(Bh,by,"esm2020"),Ia("fire-js","")}CE("");var DE="firebase",IE="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ia(DE,IE,"app");var xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kr,k0;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(z,x){function C(){}C.prototype=x.prototype,z.D=x.prototype,z.prototype=new C,z.prototype.constructor=z,z.C=function(N,M,k){for(var R=Array(arguments.length-2),se=2;se<arguments.length;se++)R[se-2]=arguments[se];return x.prototype[M].apply(N,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(z,x,C){C||(C=0);var N=Array(16);if(typeof x=="string")for(var M=0;16>M;++M)N[M]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(M=0;16>M;++M)N[M]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=z.g[0],C=z.g[1],M=z.g[2];var k=z.g[3],R=x+(k^C&(M^k))+N[0]+3614090360&4294967295;x=C+(R<<7&4294967295|R>>>25),R=k+(M^x&(C^M))+N[1]+3905402710&4294967295,k=x+(R<<12&4294967295|R>>>20),R=M+(C^k&(x^C))+N[2]+606105819&4294967295,M=k+(R<<17&4294967295|R>>>15),R=C+(x^M&(k^x))+N[3]+3250441966&4294967295,C=M+(R<<22&4294967295|R>>>10),R=x+(k^C&(M^k))+N[4]+4118548399&4294967295,x=C+(R<<7&4294967295|R>>>25),R=k+(M^x&(C^M))+N[5]+1200080426&4294967295,k=x+(R<<12&4294967295|R>>>20),R=M+(C^k&(x^C))+N[6]+2821735955&4294967295,M=k+(R<<17&4294967295|R>>>15),R=C+(x^M&(k^x))+N[7]+4249261313&4294967295,C=M+(R<<22&4294967295|R>>>10),R=x+(k^C&(M^k))+N[8]+1770035416&4294967295,x=C+(R<<7&4294967295|R>>>25),R=k+(M^x&(C^M))+N[9]+2336552879&4294967295,k=x+(R<<12&4294967295|R>>>20),R=M+(C^k&(x^C))+N[10]+4294925233&4294967295,M=k+(R<<17&4294967295|R>>>15),R=C+(x^M&(k^x))+N[11]+2304563134&4294967295,C=M+(R<<22&4294967295|R>>>10),R=x+(k^C&(M^k))+N[12]+1804603682&4294967295,x=C+(R<<7&4294967295|R>>>25),R=k+(M^x&(C^M))+N[13]+4254626195&4294967295,k=x+(R<<12&4294967295|R>>>20),R=M+(C^k&(x^C))+N[14]+2792965006&4294967295,M=k+(R<<17&4294967295|R>>>15),R=C+(x^M&(k^x))+N[15]+1236535329&4294967295,C=M+(R<<22&4294967295|R>>>10),R=x+(M^k&(C^M))+N[1]+4129170786&4294967295,x=C+(R<<5&4294967295|R>>>27),R=k+(C^M&(x^C))+N[6]+3225465664&4294967295,k=x+(R<<9&4294967295|R>>>23),R=M+(x^C&(k^x))+N[11]+643717713&4294967295,M=k+(R<<14&4294967295|R>>>18),R=C+(k^x&(M^k))+N[0]+3921069994&4294967295,C=M+(R<<20&4294967295|R>>>12),R=x+(M^k&(C^M))+N[5]+3593408605&4294967295,x=C+(R<<5&4294967295|R>>>27),R=k+(C^M&(x^C))+N[10]+38016083&4294967295,k=x+(R<<9&4294967295|R>>>23),R=M+(x^C&(k^x))+N[15]+3634488961&4294967295,M=k+(R<<14&4294967295|R>>>18),R=C+(k^x&(M^k))+N[4]+3889429448&4294967295,C=M+(R<<20&4294967295|R>>>12),R=x+(M^k&(C^M))+N[9]+568446438&4294967295,x=C+(R<<5&4294967295|R>>>27),R=k+(C^M&(x^C))+N[14]+3275163606&4294967295,k=x+(R<<9&4294967295|R>>>23),R=M+(x^C&(k^x))+N[3]+4107603335&4294967295,M=k+(R<<14&4294967295|R>>>18),R=C+(k^x&(M^k))+N[8]+1163531501&4294967295,C=M+(R<<20&4294967295|R>>>12),R=x+(M^k&(C^M))+N[13]+2850285829&4294967295,x=C+(R<<5&4294967295|R>>>27),R=k+(C^M&(x^C))+N[2]+4243563512&4294967295,k=x+(R<<9&4294967295|R>>>23),R=M+(x^C&(k^x))+N[7]+1735328473&4294967295,M=k+(R<<14&4294967295|R>>>18),R=C+(k^x&(M^k))+N[12]+2368359562&4294967295,C=M+(R<<20&4294967295|R>>>12),R=x+(C^M^k)+N[5]+4294588738&4294967295,x=C+(R<<4&4294967295|R>>>28),R=k+(x^C^M)+N[8]+2272392833&4294967295,k=x+(R<<11&4294967295|R>>>21),R=M+(k^x^C)+N[11]+1839030562&4294967295,M=k+(R<<16&4294967295|R>>>16),R=C+(M^k^x)+N[14]+4259657740&4294967295,C=M+(R<<23&4294967295|R>>>9),R=x+(C^M^k)+N[1]+2763975236&4294967295,x=C+(R<<4&4294967295|R>>>28),R=k+(x^C^M)+N[4]+1272893353&4294967295,k=x+(R<<11&4294967295|R>>>21),R=M+(k^x^C)+N[7]+4139469664&4294967295,M=k+(R<<16&4294967295|R>>>16),R=C+(M^k^x)+N[10]+3200236656&4294967295,C=M+(R<<23&4294967295|R>>>9),R=x+(C^M^k)+N[13]+681279174&4294967295,x=C+(R<<4&4294967295|R>>>28),R=k+(x^C^M)+N[0]+3936430074&4294967295,k=x+(R<<11&4294967295|R>>>21),R=M+(k^x^C)+N[3]+3572445317&4294967295,M=k+(R<<16&4294967295|R>>>16),R=C+(M^k^x)+N[6]+76029189&4294967295,C=M+(R<<23&4294967295|R>>>9),R=x+(C^M^k)+N[9]+3654602809&4294967295,x=C+(R<<4&4294967295|R>>>28),R=k+(x^C^M)+N[12]+3873151461&4294967295,k=x+(R<<11&4294967295|R>>>21),R=M+(k^x^C)+N[15]+530742520&4294967295,M=k+(R<<16&4294967295|R>>>16),R=C+(M^k^x)+N[2]+3299628645&4294967295,C=M+(R<<23&4294967295|R>>>9),R=x+(M^(C|~k))+N[0]+4096336452&4294967295,x=C+(R<<6&4294967295|R>>>26),R=k+(C^(x|~M))+N[7]+1126891415&4294967295,k=x+(R<<10&4294967295|R>>>22),R=M+(x^(k|~C))+N[14]+2878612391&4294967295,M=k+(R<<15&4294967295|R>>>17),R=C+(k^(M|~x))+N[5]+4237533241&4294967295,C=M+(R<<21&4294967295|R>>>11),R=x+(M^(C|~k))+N[12]+1700485571&4294967295,x=C+(R<<6&4294967295|R>>>26),R=k+(C^(x|~M))+N[3]+2399980690&4294967295,k=x+(R<<10&4294967295|R>>>22),R=M+(x^(k|~C))+N[10]+4293915773&4294967295,M=k+(R<<15&4294967295|R>>>17),R=C+(k^(M|~x))+N[1]+2240044497&4294967295,C=M+(R<<21&4294967295|R>>>11),R=x+(M^(C|~k))+N[8]+1873313359&4294967295,x=C+(R<<6&4294967295|R>>>26),R=k+(C^(x|~M))+N[15]+4264355552&4294967295,k=x+(R<<10&4294967295|R>>>22),R=M+(x^(k|~C))+N[6]+2734768916&4294967295,M=k+(R<<15&4294967295|R>>>17),R=C+(k^(M|~x))+N[13]+1309151649&4294967295,C=M+(R<<21&4294967295|R>>>11),R=x+(M^(C|~k))+N[4]+4149444226&4294967295,x=C+(R<<6&4294967295|R>>>26),R=k+(C^(x|~M))+N[11]+3174756917&4294967295,k=x+(R<<10&4294967295|R>>>22),R=M+(x^(k|~C))+N[2]+718787259&4294967295,M=k+(R<<15&4294967295|R>>>17),R=C+(k^(M|~x))+N[9]+3951481745&4294967295,z.g[0]=z.g[0]+x&4294967295,z.g[1]=z.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,z.g[2]=z.g[2]+M&4294967295,z.g[3]=z.g[3]+k&4294967295}s.prototype.u=function(z,x){x===void 0&&(x=z.length);for(var C=x-this.blockSize,N=this.B,M=this.h,k=0;k<x;){if(M==0)for(;k<=C;)o(this,z,k),k+=this.blockSize;if(typeof z=="string"){for(;k<x;)if(N[M++]=z.charCodeAt(k++),M==this.blockSize){o(this,N),M=0;break}}else for(;k<x;)if(N[M++]=z[k++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=x},s.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var x=1;x<z.length-8;++x)z[x]=0;var C=8*this.o;for(x=z.length-8;x<z.length;++x)z[x]=C&255,C/=256;for(this.u(z),z=Array(16),x=C=0;4>x;++x)for(var N=0;32>N;N+=8)z[C++]=this.g[x]>>>N&255;return z};function f(z,x){var C=g;return Object.prototype.hasOwnProperty.call(C,z)?C[z]:C[z]=x(z)}function d(z,x){this.h=x;for(var C=[],N=!0,M=z.length-1;0<=M;M--){var k=z[M]|0;N&&k==x||(C[M]=k,N=!1)}this.g=C}var g={};function v(z){return-128<=z&&128>z?f(z,function(x){return new d([x|0],0>x?-1:0)}):new d([z|0],0>z?-1:0)}function _(z){if(isNaN(z)||!isFinite(z))return V;if(0>z)return it(_(-z));for(var x=[],C=1,N=0;z>=C;N++)x[N]=z/C|0,C*=4294967296;return new d(x,0)}function A(z,x){if(z.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(z.charAt(0)=="-")return it(A(z.substring(1),x));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=_(Math.pow(x,8)),N=V,M=0;M<z.length;M+=8){var k=Math.min(8,z.length-M),R=parseInt(z.substring(M,M+k),x);8>k?(k=_(Math.pow(x,k)),N=N.j(k).add(_(R))):(N=N.j(C),N=N.add(_(R)))}return N}var V=v(0),O=v(1),Y=v(16777216);a=d.prototype,a.m=function(){if(lt(this))return-it(this).m();for(var z=0,x=1,C=0;C<this.g.length;C++){var N=this.i(C);z+=(0<=N?N:4294967296+N)*x,x*=4294967296}return z},a.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(nt(this))return"0";if(lt(this))return"-"+it(this).toString(z);for(var x=_(Math.pow(z,6)),C=this,N="";;){var M=Yt(C,x).g;C=wt(C,M.j(x));var k=((0<C.g.length?C.g[0]:C.h)>>>0).toString(z);if(C=M,nt(C))return k+N;for(;6>k.length;)k="0"+k;N=k+N}},a.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function nt(z){if(z.h!=0)return!1;for(var x=0;x<z.g.length;x++)if(z.g[x]!=0)return!1;return!0}function lt(z){return z.h==-1}a.l=function(z){return z=wt(this,z),lt(z)?-1:nt(z)?0:1};function it(z){for(var x=z.g.length,C=[],N=0;N<x;N++)C[N]=~z.g[N];return new d(C,~z.h).add(O)}a.abs=function(){return lt(this)?it(this):this},a.add=function(z){for(var x=Math.max(this.g.length,z.g.length),C=[],N=0,M=0;M<=x;M++){var k=N+(this.i(M)&65535)+(z.i(M)&65535),R=(k>>>16)+(this.i(M)>>>16)+(z.i(M)>>>16);N=R>>>16,k&=65535,R&=65535,C[M]=R<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function wt(z,x){return z.add(it(x))}a.j=function(z){if(nt(this)||nt(z))return V;if(lt(this))return lt(z)?it(this).j(it(z)):it(it(this).j(z));if(lt(z))return it(this.j(it(z)));if(0>this.l(Y)&&0>z.l(Y))return _(this.m()*z.m());for(var x=this.g.length+z.g.length,C=[],N=0;N<2*x;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<z.g.length;M++){var k=this.i(N)>>>16,R=this.i(N)&65535,se=z.i(M)>>>16,Qt=z.i(M)&65535;C[2*N+2*M]+=R*Qt,At(C,2*N+2*M),C[2*N+2*M+1]+=k*Qt,At(C,2*N+2*M+1),C[2*N+2*M+1]+=R*se,At(C,2*N+2*M+1),C[2*N+2*M+2]+=k*se,At(C,2*N+2*M+2)}for(N=0;N<x;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=x;N<2*x;N++)C[N]=0;return new d(C,0)};function At(z,x){for(;(z[x]&65535)!=z[x];)z[x+1]+=z[x]>>>16,z[x]&=65535,x++}function yt(z,x){this.g=z,this.h=x}function Yt(z,x){if(nt(x))throw Error("division by zero");if(nt(z))return new yt(V,V);if(lt(z))return x=Yt(it(z),x),new yt(it(x.g),it(x.h));if(lt(x))return x=Yt(z,it(x)),new yt(it(x.g),x.h);if(30<z.g.length){if(lt(z)||lt(x))throw Error("slowDivide_ only works with positive integers.");for(var C=O,N=x;0>=N.l(z);)C=xt(C),N=xt(N);var M=qt(C,1),k=qt(N,1);for(N=qt(N,2),C=qt(C,2);!nt(N);){var R=k.add(N);0>=R.l(z)&&(M=M.add(C),k=R),N=qt(N,1),C=qt(C,1)}return x=wt(z,M.j(x)),new yt(M,x)}for(M=V;0<=z.l(x);){for(C=Math.max(1,Math.floor(z.m()/x.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),k=_(C),R=k.j(x);lt(R)||0<R.l(z);)C-=N,k=_(C),R=k.j(x);nt(k)&&(k=O),M=M.add(k),z=wt(z,R)}return new yt(M,z)}a.A=function(z){return Yt(this,z).h},a.and=function(z){for(var x=Math.max(this.g.length,z.g.length),C=[],N=0;N<x;N++)C[N]=this.i(N)&z.i(N);return new d(C,this.h&z.h)},a.or=function(z){for(var x=Math.max(this.g.length,z.g.length),C=[],N=0;N<x;N++)C[N]=this.i(N)|z.i(N);return new d(C,this.h|z.h)},a.xor=function(z){for(var x=Math.max(this.g.length,z.g.length),C=[],N=0;N<x;N++)C[N]=this.i(N)^z.i(N);return new d(C,this.h^z.h)};function xt(z){for(var x=z.g.length+1,C=[],N=0;N<x;N++)C[N]=z.i(N)<<1|z.i(N-1)>>>31;return new d(C,z.h)}function qt(z,x){var C=x>>5;x%=32;for(var N=z.g.length-C,M=[],k=0;k<N;k++)M[k]=0<x?z.i(k+C)>>>x|z.i(k+C+1)<<32-x:z.i(k+C);return new d(M,z.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,k0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,kr=d}).apply(typeof xy<"u"?xy:typeof self<"u"?self:typeof window<"u"?window:{});var Uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var U0,Yl,L0,Gu,Gh,P0,B0,q0;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uu=="object"&&Uu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in p))break t;p=p[U]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function f(u,m){u instanceof String&&(u+="");var p=0,T=!1,U={next:function(){if(!T&&p<u.length){var G=p++;return{value:m(G,u[G]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return f(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function V(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function O(u,m,p){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:V,O.apply(null,arguments)}function Y(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function nt(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,U,G){for(var st=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)st[kt-2]=arguments[kt];return m.prototype[U].apply(T,st)}}function lt(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function it(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(v(T)){const U=u.length||0,G=T.length||0;u.length=U+G;for(let st=0;st<G;st++)u[U+st]=T[st]}else u.push(T)}}class wt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function At(u){return/^[\s\xa0]*$/.test(u)}function yt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Yt(u){return Yt[" "](u),u}Yt[" "]=function(){};var xt=yt().indexOf("Gecko")!=-1&&!(yt().toLowerCase().indexOf("webkit")!=-1&&yt().indexOf("Edge")==-1)&&!(yt().indexOf("Trident")!=-1||yt().indexOf("MSIE")!=-1)&&yt().indexOf("Edge")==-1;function qt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function z(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function x(u){const m={};for(const p in u)m[p]=u[p];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)u[p]=T[p];for(let G=0;G<C.length;G++)p=C[G],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function M(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function k(u){g.setTimeout(()=>{throw u},0)}function R(){var u=ht;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class se{constructor(){this.h=this.g=null}add(m,p){const T=Qt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var Qt=new wt(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ct=!1,ht=new se,D=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(F)}};var F=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(p){k(p)}var m=Qt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ct=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function at(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(xt){t:{try{Yt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Et[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&at.aa.h.call(this)}}nt(at,J);var Et={2:"touch",3:"pen",4:"mouse"};at.prototype.h=function(){at.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var dt="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function cn(u,m,p,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++Jt,this.da=this.fa=!1}function De(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function yn(u){this.src=u,this.g={},this.h=0}yn.prototype.add=function(u,m,p,T,U){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var st=ti(u,m,T,U);return-1<st?(m=u[st],p||(m.fa=!1)):(m=new cn(m,this.src,G,!!T,U),m.fa=p,u.push(m)),m};function Jn(u,m){var p=m.type;if(p in u.g){var T=u.g[p],U=Array.prototype.indexOf.call(T,m,void 0),G;(G=0<=U)&&Array.prototype.splice.call(T,U,1),G&&(De(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function ti(u,m,p,T){for(var U=0;U<u.length;++U){var G=u[U];if(!G.da&&G.listener==m&&G.capture==!!p&&G.ha==T)return U}return-1}var wi="closure_lm_"+(1e6*Math.random()|0),Ri={};function Xr(u,m,p,T,U){if(Array.isArray(m)){for(var G=0;G<m.length;G++)Xr(u,m[G],p,T,U);return null}return p=or(p),u&&u[dt]?u.K(m,p,_(T)?!!T.capture:!1,U):He(u,m,p,!1,T,U)}function He(u,m,p,T,U,G){if(!m)throw Error("Invalid event type");var st=_(U)?!!U.capture:!!U,kt=Vi(u);if(kt||(u[wi]=kt=new yn(u)),p=kt.add(m,p,T,st,G),p.proxy)return p;if(T=Ci(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)gt||(U=st),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Di(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ci(){function u(p){return m.call(u.src,u.listener,p)}const m=Ii;return u}function ar(u,m,p,T,U){if(Array.isArray(m))for(var G=0;G<m.length;G++)ar(u,m[G],p,T,U);else T=_(T)?!!T.capture:!!T,p=or(p),u&&u[dt]?(u=u.i,m=String(m).toString(),m in u.g&&(G=u.g[m],p=ti(G,p,T,U),-1<p&&(De(G[p]),Array.prototype.splice.call(G,p,1),G.length==0&&(delete u.g[m],u.h--)))):u&&(u=Vi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ti(m,p,T,U)),(p=-1<u?m[u]:null)&&lr(p))}function lr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[dt])Jn(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Di(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Vi(m))?(Jn(p,u),p.h==0&&(p.src=null,m[wi]=null)):De(u)}}}function Di(u){return u in Ri?Ri[u]:Ri[u]="on"+u}function Ii(u,m){if(u.da)u=!0;else{m=new at(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&lr(u),u=p.call(T,m)}return u}function Vi(u){return u=u[wi],u instanceof yn?u:null}var ei="__closure_events_fn_"+(1e9*Math.random()>>>0);function or(u){return typeof u=="function"?u:(u[ei]||(u[ei]=function(m){return u.handleEvent(m)}),u[ei])}function fe(){rt.call(this),this.i=new yn(this),this.M=this,this.F=null}nt(fe,rt),fe.prototype[dt]=!0,fe.prototype.removeEventListener=function(u,m,p,T){ar(this,u,m,p,T)};function Ht(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var U=m;m=new J(T,u),N(m,U)}if(U=!0,p)for(var G=p.length-1;0<=G;G--){var st=m.g=p[G];U=fn(st,T,!0,m)&&U}if(st=m.g=u,U=fn(st,T,!0,m)&&U,U=fn(st,T,!1,m)&&U,p)for(G=0;G<p.length;G++)st=m.g=p[G],U=fn(st,T,!1,m)&&U}fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)De(p[T]);delete u.g[m],u.h--}}this.F=null},fe.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},fe.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function fn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,G=0;G<m.length;++G){var st=m[G];if(st&&!st.da&&st.capture==p){var kt=st.listener,Ie=st.ha||st.src;st.fa&&Jn(u.i,st),U=kt.call(Ie,T)!==!1&&U}}return U&&!T.defaultPrevented}function Ge(u,m,p){if(typeof u=="function")p&&(u=O(u,p));else if(u&&typeof u.handleEvent=="function")u=O(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Ni(u){u.g=Ge(()=>{u.g=null,u.i&&(u.i=!1,Ni(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Kr extends rt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ni(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sn(u){rt.call(this),this.h=u,this.g={}}nt(sn,rt);var Oi=[];function ni(u){qt(u.g,function(m,p){this.g.hasOwnProperty(p)&&lr(m)},u),u.g={}}sn.prototype.N=function(){sn.aa.N.call(this),ni(this)},sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=g.JSON.stringify,ur=g.JSON.parse,ze=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Wr(){}Wr.prototype.h=null;function Zr(u){return u.h||(u.h=u.i())}function $r(){}var Gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qn(){J.call(this,"d")}nt(Qn,J);function vn(){J.call(this,"c")}nt(vn,J);var je={},S=null;function q(){return S=S||new fe}je.La="serverreachability";function tt(u){J.call(this,je.La,u)}nt(tt,J);function _t(u){const m=q();Ht(m,new tt(m))}je.STAT_EVENT="statevent";function te(u,m){J.call(this,je.STAT_EVENT,u),this.stat=m}nt(te,J);function Gt(u){const m=q();Ht(m,new te(m,u))}je.Ma="timingevent";function le(u,m){J.call(this,je.Ma,u),this.size=m}nt(le,J);function he(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function bn(){this.g=!0}bn.prototype.xa=function(){this.g=!1};function js(u,m,p,T,U,G){u.info(function(){if(u.g)if(G)for(var st="",kt=G.split("&"),Ie=0;Ie<kt.length;Ie++){var Ut=kt[Ie].split("=");if(1<Ut.length){var Ue=Ut[0];Ut=Ut[1];var Ve=Ue.split("_");st=2<=Ve.length&&Ve[1]=="type"?st+(Ue+"="+Ut+"&"):st+(Ue+"=redacted&")}}else st=null;else st=G;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+st})}function _o(u,m,p,T,U,G,st){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+G+" "+st})}function ii(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vn(u,p)+(T?" "+T:"")})}function ks(u,m){u.info(function(){return"TIMEOUT: "+m})}bn.prototype.info=function(){};function Vn(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var G=U[0];if(G!="noop"&&G!="stop"&&G!="close")for(var st=1;st<U.length;st++)U[st]=""}}}}return _n(p)}catch{return m}}var En={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ri;function si(){}nt(si,Wr),si.prototype.g=function(){return new XMLHttpRequest},si.prototype.i=function(){return{}},ri=new si;function an(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new sn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _e}function _e(){this.i=null,this.g="",this.h=!1}var Fa={},Us={};function Fn(u,m,p){u.L=1,u.v=is(Tn(m)),u.m=p,u.P=!0,zi(u,null)}function zi(u,m){u.F=Date.now(),Jr(u),u.A=Tn(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),$a(p.i,"t",T),u.C=0,p=u.j.J,u.h=new _e,u.g=Mo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Kr(O(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Oi[0]=U.toString()),U=Oi);for(var G=0;G<U.length;G++){var st=Xr(p,U[G],T||m.handleEvent,!1,m.h||m);if(!st)break;m.g[st.key]=st}m=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),_t(),js(u.i,u.u,u.A,u.l,u.R,u.m)}an.prototype.ca=function(u){u=u.target;const m=this.M;m&&zn(u)==3?m.j():this.Y(u)},an.prototype.Y=function(u){try{if(u==this.g)t:{const Ve=zn(this.g);var m=this.g.Ba();const Hi=this.g.Z();if(!(3>Ve)&&(Ve!=3||this.g&&(this.h.h||this.g.oa()||wo(this.g)))){this.J||Ve!=4||m==7||(m==8||0>=Hi?_t(3):_t(2)),cr(this);var p=this.g.Z();this.X=p;e:if(vo(this)){var T=wo(this.g);u="";var U=T.length,G=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qe(this),ai(this);var st="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(G&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=p==200,_o(this.i,this.u,this.A,this.l,this.R,Ve,p),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,Ie=this.g;if((kt=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!At(kt)){var Ut=kt;break e}}Ut=null}if(p=Ut)ii(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ts(this,p);else{this.o=!1,this.s=3,Gt(12),Qe(this),ai(this);break t}}if(this.P){p=!0;let Fe;for(;!this.J&&this.C<st.length;)if(Fe=bo(this,st),Fe==Us){Ve==4&&(this.s=4,Gt(14),p=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(Fe==Fa){this.s=4,Gt(15),ii(this.i,this.l,st,"[Invalid Chunk]"),p=!1;break}else ii(this.i,this.l,Fe,null),ts(this,Fe);if(vo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||st.length!=0||this.h.h||(this.s=1,Gt(16),p=!1),this.o=this.o&&p,!p)ii(this.i,this.l,st,"[Invalid Chunked Response]"),Qe(this),ai(this);else if(0<st.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),fs(Ue),Ue.M=!0,Gt(11))}}else ii(this.i,this.l,st,null),ts(this,st);Ve==4&&Qe(this),this.o&&!this.J&&(Ve==4?Vo(this.j,this):(this.o=!1,Jr(this)))}else Vc(this.g),p==400&&0<st.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),Qe(this),ai(this)}}}catch{}finally{}};function vo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function bo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Us:(p=Number(m.substring(p,T)),isNaN(p)?Fa:(T+=1,T+p>m.length?Us:(m=m.slice(T,T+p),u.C=T+p,m)))}an.prototype.cancel=function(){this.J=!0,Qe(this)};function Jr(u){u.S=Date.now()+u.I,Eo(u,u.I)}function Eo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=he(O(u.ba,u),m)}function cr(u){u.B&&(g.clearTimeout(u.B),u.B=null)}an.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ks(this.i,this.A),this.L!=2&&(_t(),Gt(17)),Qe(this),this.s=2,ai(this)):Eo(this,this.S-u)};function ai(u){u.j.G==0||u.J||Vo(u.j,u)}function Qe(u){cr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ni(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ts(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Ya(p.h,u))){if(!u.K&&Ya(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Ws(p),Xs(p);else break t;il(p),Gt(18)}}else p.za=U[1],0<p.za-p.T&&37500>U[2]&&p.F&&p.v==0&&!p.C&&(p.C=he(O(p.Za,p),6e3));if(1>=Ps(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else qi(p,11)}else if((u.K||p.g==u)&&Ws(p),!At(m))for(U=p.Da.g.parse(m),m=0;m<U.length;m++){let Ut=U[m];if(p.T=Ut[0],Ut=Ut[1],p.G==2)if(Ut[0]=="c"){p.K=Ut[1],p.ia=Ut[2];const Ue=Ut[3];Ue!=null&&(p.la=Ue,p.j.info("VER="+p.la));const Ve=Ut[4];Ve!=null&&(p.Aa=Ve,p.j.info("SVER="+p.Aa));const Hi=Ut[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(T=1.5*Hi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Fe=u.g;if(Fe){const di=Fe.g?Fe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(di){var G=T.h;G.g||di.indexOf("spdy")==-1&&di.indexOf("quic")==-1&&di.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Bs(G,G.h),G.h=null))}if(T.D){const sl=Fe.g?Fe.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(T.ya=sl,ee(T.I,T.D,sl))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var st=u;if(T.qa=Oo(T,T.J?T.ia:null,T.W),st.K){ln(T.h,st);var kt=st,Ie=T.L;Ie&&(kt.I=Ie),kt.B&&(cr(kt),Jr(kt)),T.g=st}else Do(T);0<p.i.length&&Ks(p)}else Ut[0]!="stop"&&Ut[0]!="close"||qi(p,7);else p.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?qi(p,7):el(p):Ut[0]!="noop"&&p.l&&p.l.ta(Ut),p.v=0)}}_t(4)}catch{}}var To=class{constructor(u,m){this.g=u,this.map=m}};function ji(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ls(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ps(u){return u.h?1:u.g?u.g.size:0}function Ya(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Bs(u,m){u.g?u.g.add(m):u.h=m}function ln(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ji.prototype.cancel=function(){if(this.i=Xa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xa(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return lt(u.i)}function Rc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function qs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Ka(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=qs(u),T=Rc(u),U=T.length,G=0;G<U;G++)m.call(void 0,T[G],p&&p[G],u)}var es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),U=null;if(0<=T){var G=u[p].substring(0,T);U=u[p].substring(T+1)}else G=u[p];m(G,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Te(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Te){this.h=u.h,ns(this,u.j),this.o=u.o,this.g=u.g,fr(this,u.s),this.l=u.l;var m=u.i,p=new Ui;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),ki(this,p),this.m=u.m}else u&&(m=String(u).match(es))?(this.h=!1,ns(this,m[1]||"",!0),this.o=Nn(m[2]||""),this.g=Nn(m[3]||"",!0),fr(this,m[4]),this.l=Nn(m[5]||"",!0),ki(this,m[6]||"",!0),this.m=Nn(m[7]||"")):(this.h=!1,this.i=new Ui(null,this.h))}Te.prototype.toString=function(){var u=[],m=this.j;m&&u.push(rs(m,Wa,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(rs(m,Wa,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(rs(p,p.charAt(0)=="/"?Dc:Za,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",rs(p,Hs)),u.join("")};function Tn(u){return new Te(u)}function ns(u,m,p){u.j=p?Nn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function fr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ki(u,m,p){m instanceof Ui?(u.i=m,Ao(u.i,u.h)):(p||(m=rs(m,Ic)),u.i=new Ui(m,u.h))}function ee(u,m,p){u.i.set(m,p)}function is(u){return ee(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Nn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function rs(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,So),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function So(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Wa=/[#\/\?@]/g,Za=/[#\?:]/g,Dc=/[#\?]/g,Ic=/[#\?@]/g,Hs=/#/g;function Ui(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function On(u){u.g||(u.g=new Map,u.h=0,u.i&&Cc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=Ui.prototype,a.add=function(u,m){On(this),this.i=null,u=li(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Li(u,m){On(u),m=li(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Pi(u,m){return On(u),m=li(u,m),u.g.has(m)}a.forEach=function(u,m){On(this),this.g.forEach(function(p,T){p.forEach(function(U){u.call(m,U,T,this)},this)},this)},a.na=function(){On(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const U=u[T];for(let G=0;G<U.length;G++)p.push(m[T])}return p},a.V=function(u){On(this);let m=[];if(typeof u=="string")Pi(this,u)&&(m=m.concat(this.g.get(li(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},a.set=function(u,m){return On(this),this.i=null,u=li(this,u),Pi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function $a(u,m,p){Li(u,m),0<p.length&&(u.i=null,u.g.set(li(u,m),lt(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const G=encodeURIComponent(String(T)),st=this.V(T);for(T=0;T<st.length;T++){var U=G;st[T]!==""&&(U+="="+encodeURIComponent(String(st[T]))),u.push(U)}}return this.i=u.join("&")};function li(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ao(u,m){m&&!u.j&&(On(u),u.i=null,u.g.forEach(function(p,T){var U=T.toLowerCase();T!=U&&(Li(this,T),$a(this,U,p))},u)),u.j=m}function ss(u,m){const p=new bn;if(g.Image){const T=new Image;T.onload=Y(Mn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=Y(Mn,p,"TestLoadImage: error",!1,m,T),T.onabort=Y(Mn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=Y(Mn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Yn(u,m){const p=new bn,T=new AbortController,U=setTimeout(()=>{T.abort(),Mn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(G=>{clearTimeout(U),G.ok?Mn(p,"TestPingServer: ok",!0,m):Mn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Mn(p,"TestPingServer: error",!1,m)})}function Mn(u,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function as(){this.g=new ze}function oi(u,m,p){const T=p||"";try{Ka(u,function(U,G){let st=U;_(U)&&(st=_n(U)),m.push(T+G+"="+encodeURIComponent(st))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function hr(u){this.l=u.Ub||null,this.j=u.eb||!1}nt(hr,Wr),hr.prototype.g=function(){return new Bi(this.l,this.j)},hr.prototype.i=function(u){return function(){return u}}({});function Bi(u,m){fe.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}nt(Bi,fe),a=Bi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ci(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ja(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ja(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ui(this):ci(this),this.readyState==3&&Ja(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,ui(this))},a.Qa=function(u){this.g&&(this.response=u,ui(this))},a.ga=function(){this.g&&ui(this)};function ui(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ci(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function ci(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function tl(u){let m="";return qt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function ke(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=tl(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):ee(u,m,p))}function Kt(u){fe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}nt(Kt,fe);var Gs=/^https?$/i,ls=["POST","PUT"];a=Kt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ri.g(),this.v=this.o?Zr(this.o):Zr(ri),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){xo(this,G);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const G of T.keys())p.set(G,T.get(G));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(G=>G.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ls,m,void 0))||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,st]of p)this.g.setRequestHeader(G,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{os(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){xo(this,G)}};function xo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Qs(u),fi(u)}function Qs(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),fi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fi(this,!0)),Kt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Fs(this):this.bb())},a.bb=function(){Fs(this)};function Fs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||zn(u)!=4||u.Z()!=2)){if(u.u&&zn(u)==4)Ge(u.Ea,0,u);else if(Ht(u,"readystatechange"),zn(u)==4){u.h=!1;try{const st=u.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=st===0){var U=String(u.D).match(es)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!Gs.test(U?U.toLowerCase():"")}p=T}if(p)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var G=2<zn(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",Qs(u)}}finally{fi(u)}}}}function fi(u,m){if(u.g){os(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{p.onreadystatechange=T}catch{}}}function os(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function zn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ur(m)}};function wo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vc(u){const m={};u=(u.g&&2<=zn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(At(u[T]))continue;var p=M(u[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const G=m[U]||[];m[U]=G,G.push(p)}z(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function us(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Ys(u){this.Aa=0,this.i=[],this.j=new bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=us("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=us("baseRetryDelayMs",5e3,u),this.cb=us("retryDelaySeedMs",1e4,u),this.Wa=us("forwardChannelMaxRetries",2,u),this.wa=us("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ji(u&&u.concurrentRequestLimit),this.Da=new as,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ys.prototype,a.la=8,a.G=1,a.connect=function(u,m,p,T){Gt(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Oo(this,null,this.W),Ks(this)};function el(u){if(Ro(u),u.G==3){var m=u.U++,p=Tn(u.I);if(ee(p,"SID",u.K),ee(p,"RID",m),ee(p,"TYPE","terminate"),cs(u,p),m=new an(u,u.j,m),m.L=2,m.v=is(Tn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Mo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Jr(m)}No(u)}function Xs(u){u.g&&(fs(u),u.g.cancel(),u.g=null)}function Ro(u){Xs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ws(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ks(u){if(!Ls(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||D(),ct||(et(),ct=!0),ht.add(m,u),u.B=0}}function Nc(u,m){return Ps(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=he(O(u.Ga,u,m),rl(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new an(this,this.j,u);let G=this.o;if(this.S&&(G?(G=x(G),N(G,this.S)):G=this.S),this.m!==null||this.O||(U.H=G,G=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Co(this,U,m),p=Tn(this.I),ee(p,"RID",u),ee(p,"CVER",22),this.D&&ee(p,"X-HTTP-Session-Id",this.D),cs(this,p),G&&(this.O?m="headers="+encodeURIComponent(String(tl(G)))+"&"+m:this.m&&ke(p,this.m,G)),Bs(this.h,U),this.Ua&&ee(p,"TYPE","init"),this.P?(ee(p,"$req",m),ee(p,"SID","null"),U.T=!0,Fn(U,p,null)):Fn(U,p,m),this.G=2}}else this.G==3&&(u?nl(this,u):this.i.length==0||Ls(this.h)||nl(this))};function nl(u,m){var p;m?p=m.l:p=u.U++;const T=Tn(u.I);ee(T,"SID",u.K),ee(T,"RID",p),ee(T,"AID",u.T),cs(u,T),u.m&&u.o&&ke(T,u.m,u.o),p=new an(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Co(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Bs(u.h,p),Fn(p,T,m)}function cs(u,m){u.H&&qt(u.H,function(p,T){ee(m,T,p)}),u.l&&Ka({},function(p,T){ee(m,T,p)})}function Co(u,m,p){p=Math.min(u.i.length,p);var T=u.l?O(u.l.Na,u.l,u):null;t:{var U=u.i;let G=-1;for(;;){const st=["count="+p];G==-1?0<p?(G=U[0].g,st.push("ofs="+G)):G=0:st.push("ofs="+G);let kt=!0;for(let Ie=0;Ie<p;Ie++){let Ut=U[Ie].g;const Ue=U[Ie].map;if(Ut-=G,0>Ut)G=Math.max(0,U[Ie].g-100),kt=!1;else try{oi(Ue,st,"req"+Ut+"_")}catch{T&&T(Ue)}}if(kt){T=st.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Do(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||D(),ct||(et(),ct=!0),ht.add(m,u),u.v=0}}function il(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=he(O(u.Fa,u),rl(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Io(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=he(O(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),Xs(this),Io(this))};function fs(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Io(u){u.g=new an(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Tn(u.qa);ee(m,"RID","rpc"),ee(m,"SID",u.K),ee(m,"AID",u.T),ee(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ee(m,"TO",u.ja),ee(m,"TYPE","xmlhttp"),cs(u,m),u.m&&u.o&&ke(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=is(Tn(m)),p.m=null,p.P=!0,zi(p,u)}a.Za=function(){this.C!=null&&(this.C=null,Xs(this),il(this),Gt(19))};function Ws(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Vo(u,m){var p=null;if(u.g==m){Ws(u),fs(u),u.g=null;var T=2}else if(Ya(u.h,m))p=m.D,ln(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=q(),Ht(T,new le(T,p)),Ks(u)}else Do(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&Nc(u,m)||T==2&&il(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),U){case 1:qi(u,5);break;case 4:qi(u,10);break;case 3:qi(u,6);break;default:qi(u,2)}}}function rl(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function qi(u,m){if(u.j.info("Error code "+m),m==2){var p=O(u.fb,u),T=u.Xa;const U=!T;T=new Te(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ns(T,"https"),is(T),U?ss(T.toString(),p):Yn(T.toString(),p)}else Gt(2);u.G=0,u.l&&u.l.sa(m),No(u),Ro(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function No(u){if(u.G=0,u.ka=[],u.l){const m=Xa(u.h);(m.length!=0||u.i.length!=0)&&(it(u.ka,m),it(u.ka,u.i),u.h.i.length=0,lt(u.i),u.i.length=0),u.l.ra()}}function Oo(u,m,p){var T=p instanceof Te?Tn(p):new Te(p);if(T.g!="")m&&(T.g=m+"."+T.g),fr(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var G=new Te(null);T&&ns(G,T),m&&(G.g=m),U&&fr(G,U),p&&(G.l=p),T=G}return p=u.D,m=u.ya,p&&m&&ee(T,p,m),ee(T,"VER",u.la),cs(u,T),T}function Mo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Kt(new hr({eb:p})):new Kt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function zo(){}a=zo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Zs(){}Zs.prototype.g=function(u,m){return new on(u,m)};function on(u,m){fe.call(this),this.g=new Ys(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!At(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!At(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new hi(this)}nt(on,fe),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){el(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=_n(u),u=p);m.i.push(new To(m.Ya++,u)),m.G==3&&Ks(m)},on.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,on.aa.N.call(this)};function jo(u){Qn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}nt(jo,Qn);function ko(){vn.call(this),this.status=1}nt(ko,vn);function hi(u){this.g=u}nt(hi,zo),hi.prototype.ua=function(){Ht(this.g,"a")},hi.prototype.ta=function(u){Ht(this.g,new jo(u))},hi.prototype.sa=function(u){Ht(this.g,new ko)},hi.prototype.ra=function(){Ht(this.g,"b")},Zs.prototype.createWebChannel=Zs.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,q0=function(){return new Zs},B0=function(){return q()},P0=je,Gh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},En.NO_ERROR=0,En.TIMEOUT=8,En.HTTP_ERROR=6,Gu=En,Mi.COMPLETE="complete",L0=Mi,$r.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",fe.prototype.listen=fe.prototype.K,Yl=$r,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,U0=Kt}).apply(typeof Uu<"u"?Uu:typeof self<"u"?self:typeof window<"u"?window:{});const wy="@firebase/firestore",Ry="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ba="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new V0("@firebase/firestore");function wa(){return Ns.logLevel}function ot(a,...e){if(Ns.logLevel<=Bt.DEBUG){const i=e.map(dd);Ns.debug(`Firestore (${Ba}): ${a}`,...i)}}function rr(a,...e){if(Ns.logLevel<=Bt.ERROR){const i=e.map(dd);Ns.error(`Firestore (${Ba}): ${a}`,...i)}}function Oa(a,...e){if(Ns.logLevel<=Bt.WARN){const i=e.map(dd);Ns.warn(`Firestore (${Ba}): ${a}`,...i)}}function dd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,H0(a,s,i)}function H0(a,e,i){let s=`FIRESTORE (${Ba}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw rr(s),new Error(s)}function Wt(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||H0(e,o,s)}function Ct(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Pa{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(nn.UNAUTHENTICATED))}shutdown(){}}class NE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class OE{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Wt(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let f=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Is,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const v=f;e.enqueueRetryable(async()=>{await v.promise,await o(this.currentUser)})},g=v=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Is)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Wt(typeof s.accessToken=="string",31837,{l:s}),new G0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Wt(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class ME{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zE{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new ME(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jE{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mE(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Wt(this.o===void 0,3512);const s=f=>{f.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>s(f))};const o=f=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(f=>o(f)),setTimeout(()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?o(f):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Cy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Wt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Cy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=kE(40);for(let f=0;f<o.length;++f)s.length<20&&o[f]<i&&(s+=e.charAt(o[f]%62))}return s}}function zt(a,e){return a<e?-1:a>e?1:0}function Qh(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const o=a.charAt(s),f=e.charAt(s);if(o!==f)return Mh(o)===Mh(f)?zt(o,f):Mh(o)?1:-1}return zt(a.length,e.length)}const UE=55296,LE=57343;function Mh(a){const e=a.charCodeAt(0);return e>=UE&&e<=LE}function Ma(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="__name__";class vi{constructor(e,i,s){i===void 0?i=0:i>e.length&&Tt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Tt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return vi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof vi?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const f=vi.compareSegments(e.get(o),i.get(o));if(f!==0)return f}return zt(e.length,i.length)}static compareSegments(e,i){const s=vi.isNumericId(e),o=vi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?vi.extractNumericId(e).compare(vi.extractNumericId(i)):Qh(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return kr.fromString(e.substring(4,e.length-2))}}class ue extends vi{construct(e,i,s){return new ue(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new ue(i)}static emptyPath(){return new ue([])}}const PE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends vi{construct(e,i,s){return new Ze(e,i,s)}static isValidIdentifier(e){return PE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dy}static keyField(){return new Ze([Dy])}static fromServerFormat(e){const i=[];let s="",o=0;const f=()=>{if(s.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(f(),o++)}if(f(),d)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(i)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(ue.fromString(e))}static fromName(e){return new pt(ue.fromString(e).popFirst(5))}static empty(){return new pt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ue.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new ue(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(a,e,i){if(!i)throw new ut(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function BE(a,e,i,s){if(e===!0&&s===!0)throw new ut(Z.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Iy(a){if(!pt.isDocumentKey(a))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Vy(a){if(pt.isDocumentKey(a))throw new ut(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function F0(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function hc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Tt(12329,{type:typeof a})}function Ur(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=hc(a);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(a,e){const i={typeString:a};return e&&(i.value=e),i}function co(a,e){if(!F0(a))throw new ut(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,f="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(f!==void 0&&d!==f.value){i=`Expected '${s}' field to equal '${f.value}'`;break}}if(i)throw new ut(Z.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=-62135596800,Oy=1e6;class ce{static now(){return ce.fromMillis(Date.now())}static fromDate(e){return ce.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Oy);return new ce(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ny)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Oy}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(co(e,ce._jsonSchema))return new ce(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ny;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ce._jsonSchemaVersion="firestore/timestamp/1.0",ce._jsonSchema={type:Re("string",ce._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new ce(0,0))}static max(){return new Rt(new ce(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=-1;function qE(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Rt.fromTimestamp(s===1e9?new ce(i+1,0):new ce(i,s));return new Pr(o,pt.empty(),e)}function HE(a){return new Pr(a.readTime,a.key,ro)}class Pr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Pr(Rt.min(),pt.empty(),ro)}static max(){return new Pr(Rt.max(),pt.empty(),ro)}}function GE(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(a.documentKey,e.documentKey),i!==0?i:zt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==QE)throw a;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $((s,o)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,o)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):$.reject(i)}static resolve(e){return new $((i,s)=>{i(e)})}static reject(e){return new $((i,s)=>{s(e)})}static waitFor(e){return new $((i,s)=>{let o=0,f=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++f,d&&f===o&&i()},v=>s(v))}),d=!0,f===o&&i()})}static or(e){let i=$.resolve(!1);for(const s of e)i=i.next(o=>o?$.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,f)=>{s.push(i.call(this,o,f))}),this.waitFor(s)}static mapArray(e,i){return new $((s,o)=>{const f=e.length,d=new Array(f);let g=0;for(let v=0;v<f;v++){const _=v;i(e[_]).next(A=>{d[_]=A,++g,g===f&&s(d)},A=>o(A))}})}static doWhile(e,i){return new $((s,o)=>{const f=()=>{e()===!0?i().next(()=>{f()},o):s()};f()})}}function YE(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ha(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=-1;function mc(a){return a==null}function tc(a){return a===0&&1/a==-1/0}function XE(a){return typeof a=="number"&&Number.isInteger(a)&&!tc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="";function KE(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=My(e)),e=WE(a.get(i),e);return My(e)}function WE(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const f=a.charAt(o);switch(f){case"\0":i+="";break;case Y0:i+="";break;default:i+=f}}return i}function My(a){return a+Y0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Fr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function X0(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e,i){this.comparator=e,this.root=i||We.EMPTY}insert(e,i){return new ge(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,We.BLACK,null,null))}remove(e){return new ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,We.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lu(this.root,e,this.comparator,!0)}}class Lu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?s(e.key,i):1,i&&o&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class We{constructor(e,i,s,o,f){this.key=e,this.value=i,this.color=s??We.RED,this.left=o??We.EMPTY,this.right=f??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,f){return new We(e??this.key,i??this.value,s??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const f=s(e,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(e,i,s),null):f===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return We.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Tt(27949);return e+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(e,i,s,o,f){return this}insert(e,i,s){return new We(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.comparator=e,this.data=new ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new jy(this.data.getIterator())}getIteratorFrom(e){return new jy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Me(this.comparator);return i.data=e,i}}class jy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new In([])}unionWith(e){let i=new Me(Ze.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new In(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ma(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new K0("Invalid base64 string: "+f):f}}(e);return new $e(i)}static fromUint8Array(e){const i=function(o){let f="";for(let d=0;d<o.length;++d)f+=String.fromCharCode(o[d]);return f}(e);return new $e(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const ZE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(a){if(Wt(!!a,39018),typeof a=="string"){let e=0;const i=ZE.exec(a);if(Wt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ee(a.seconds),nanos:Ee(a.nanos)}}function Ee(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function qr(a){return typeof a=="string"?$e.fromBase64String(a):$e.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="server_timestamp",Z0="__type__",$0="__previous_value__",J0="__local_write_time__";function pd(a){return(a?.mapValue?.fields||{})[Z0]?.stringValue===W0}function gc(a){const e=a.mapValue.fields[$0];return pd(e)?gc(e):e}function so(a){const e=Br(a.mapValue.fields[J0].timestampValue);return new ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,i,s,o,f,d,g,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const ec="(default)";class ao{constructor(e,i){this.projectId=e,this.database=i||ec}static empty(){return new ao("","")}get isDefaultDatabase(){return this.database===ec}isEqual(e){return e instanceof ao&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="__type__",JE="__max__",Pu={mapValue:{}},e_="__vector__",nc="value";function Hr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?pd(a)?4:eT(a)?9007199254740991:tT(a)?10:11:Tt(28295,{value:a})}function xi(a,e){if(a===e)return!0;const i=Hr(a);if(i!==Hr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return so(a).isEqual(so(e));case 3:return function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const d=Br(o.timestampValue),g=Br(f.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,f){return qr(o.bytesValue).isEqual(qr(f.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,f){return Ee(o.geoPointValue.latitude)===Ee(f.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(f.geoPointValue.longitude)}(a,e);case 2:return function(o,f){if("integerValue"in o&&"integerValue"in f)return Ee(o.integerValue)===Ee(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const d=Ee(o.doubleValue),g=Ee(f.doubleValue);return d===g?tc(d)===tc(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return Ma(a.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return function(o,f){const d=o.mapValue.fields||{},g=f.mapValue.fields||{};if(zy(d)!==zy(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!xi(d[v],g[v])))return!1;return!0}(a,e);default:return Tt(52216,{left:a})}}function lo(a,e){return(a.values||[]).find(i=>xi(i,e))!==void 0}function za(a,e){if(a===e)return 0;const i=Hr(a),s=Hr(e);if(i!==s)return zt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(a.booleanValue,e.booleanValue);case 2:return function(f,d){const g=Ee(f.integerValue||f.doubleValue),v=Ee(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(a,e);case 3:return ky(a.timestampValue,e.timestampValue);case 4:return ky(so(a),so(e));case 5:return Qh(a.stringValue,e.stringValue);case 6:return function(f,d){const g=qr(f),v=qr(d);return g.compareTo(v)}(a.bytesValue,e.bytesValue);case 7:return function(f,d){const g=f.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=zt(g[_],v[_]);if(A!==0)return A}return zt(g.length,v.length)}(a.referenceValue,e.referenceValue);case 8:return function(f,d){const g=zt(Ee(f.latitude),Ee(d.latitude));return g!==0?g:zt(Ee(f.longitude),Ee(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return Uy(a.arrayValue,e.arrayValue);case 10:return function(f,d){const g=f.fields||{},v=d.fields||{},_=g[nc]?.arrayValue,A=v[nc]?.arrayValue,V=zt(_?.values?.length||0,A?.values?.length||0);return V!==0?V:Uy(_,A)}(a.mapValue,e.mapValue);case 11:return function(f,d){if(f===Pu.mapValue&&d===Pu.mapValue)return 0;if(f===Pu.mapValue)return 1;if(d===Pu.mapValue)return-1;const g=f.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let V=0;V<v.length&&V<A.length;++V){const O=Qh(v[V],A[V]);if(O!==0)return O;const Y=za(g[v[V]],_[A[V]]);if(Y!==0)return Y}return zt(v.length,A.length)}(a.mapValue,e.mapValue);default:throw Tt(23264,{he:i})}}function ky(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return zt(a,e);const i=Br(a),s=Br(e),o=zt(i.seconds,s.seconds);return o!==0?o:zt(i.nanos,s.nanos)}function Uy(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const f=za(i[o],s[o]);if(f)return f}return zt(i.length,s.length)}function ja(a){return Fh(a)}function Fh(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Br(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return qr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return pt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const f of i.values||[])o?o=!1:s+=",",s+=Fh(f);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",f=!0;for(const d of s)f?f=!1:o+=",",o+=`${d}:${Fh(i.fields[d])}`;return o+"}"}(a.mapValue):Tt(61005,{value:a})}function Qu(a){switch(Hr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gc(a);return e?16+Qu(e):16;case 5:return 2*a.stringValue.length;case 6:return qr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,f)=>o+Qu(f),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return Fr(s.fields,(f,d)=>{o+=f.length+Qu(d)}),o}(a.mapValue);default:throw Tt(13486,{value:a})}}function Ly(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Yh(a){return!!a&&"integerValue"in a}function yd(a){return!!a&&"arrayValue"in a}function Py(a){return!!a&&"nullValue"in a}function By(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Fu(a){return!!a&&"mapValue"in a}function tT(a){return(a?.mapValue?.fields||{})[t_]?.stringValue===e_}function $l(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Fr(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=$l(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=$l(a.arrayValue.values[i]);return e}return{...a}}function eT(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===JE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Fu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(i)}setAll(e){let i=Ze.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=$l(d):o.push(g.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,s,o)}delete(e){const i=this.field(e.popLast());Fu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Fu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Fr(i,(o,f)=>e[o]=f);for(const o of s)delete e[o]}clone(){return new pn($l(this.value))}}function n_(a){const e=[];return Fr(a.fields,(i,s)=>{const o=new Ze([i]);if(Fu(s)){const f=n_(s.mapValue).fields;if(f.length===0)e.push(o);else for(const d of f)e.push(o.child(d))}else e.push(o)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,i,s,o,f,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=f,this.data=d,this.documentState=g}static newInvalidDocument(e){return new rn(e,0,Rt.min(),Rt.min(),Rt.min(),pn.empty(),0)}static newFoundDocument(e,i,s,o){return new rn(e,1,i,Rt.min(),s,o,0)}static newNoDocument(e,i){return new rn(e,2,i,Rt.min(),Rt.min(),pn.empty(),0)}static newUnknownDocument(e,i){return new rn(e,3,i,Rt.min(),Rt.min(),pn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i){this.position=e,this.inclusive=i}}function qy(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const f=e[o],d=a.position[o];if(f.field.isKeyField()?s=pt.comparator(pt.fromName(d.referenceValue),i.key):s=za(d,i.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function Hy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!xi(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i="asc"){this.field=e,this.dir=i}}function nT(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{}class we extends i_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new rT(e,i,s):i==="array-contains"?new lT(e,s):i==="in"?new oT(e,s):i==="not-in"?new uT(e,s):i==="array-contains-any"?new cT(e,s):new we(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new sT(e,s):new aT(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(za(i,this.value)):i!==null&&Hr(this.value)===Hr(i)&&this.matchesComparison(za(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends i_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new $n(e,i)}matches(e){return r_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function r_(a){return a.op==="and"}function s_(a){return iT(a)&&r_(a)}function iT(a){for(const e of a.filters)if(e instanceof $n)return!1;return!0}function Xh(a){if(a instanceof we)return a.field.canonicalString()+a.op.toString()+ja(a.value);if(s_(a))return a.filters.map(e=>Xh(e)).join(",");{const e=a.filters.map(i=>Xh(i)).join(",");return`${a.op}(${e})`}}function a_(a,e){return a instanceof we?function(s,o){return o instanceof we&&s.op===o.op&&s.field.isEqual(o.field)&&xi(s.value,o.value)}(a,e):a instanceof $n?function(s,o){return o instanceof $n&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((f,d,g)=>f&&a_(d,o.filters[g]),!0):!1}(a,e):void Tt(19439)}function l_(a){return a instanceof we?function(i){return`${i.field.canonicalString()} ${i.op} ${ja(i.value)}`}(a):a instanceof $n?function(i){return i.op.toString()+" {"+i.getFilters().map(l_).join(" ,")+"}"}(a):"Filter"}class rT extends we{constructor(e,i,s){super(e,i,s),this.key=pt.fromName(s.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class sT extends we{constructor(e,i){super(e,"in",i),this.keys=o_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class aT extends we{constructor(e,i){super(e,"not-in",i),this.keys=o_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function o_(a,e){return(e.arrayValue?.values||[]).map(i=>pt.fromName(i.referenceValue))}class lT extends we{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return yd(i)&&lo(i.arrayValue,this.value)}}class oT extends we{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&lo(this.value.arrayValue,i)}}class uT extends we{constructor(e,i){super(e,"not-in",i)}matches(e){if(lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!lo(this.value.arrayValue,i)}}class cT extends we{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!yd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>lo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,i=null,s=[],o=[],f=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=f,this.startAt=d,this.endAt=g,this.Te=null}}function Gy(a,e=null,i=[],s=[],o=null,f=null,d=null){return new fT(a,e,i,s,o,f,d)}function _d(a){const e=Ct(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Xh(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(f){return f.field.canonicalString()+f.dir}(s)).join(","),mc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>ja(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>ja(s)).join(",")),e.Te=i}return e.Te}function vd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!nT(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!a_(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Hy(a.startAt,e.startAt)&&Hy(a.endAt,e.endAt)}function Kh(a){return pt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,i=null,s=[],o=[],f=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=f,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hT(a,e,i,s,o,f,d,g){return new fo(a,e,i,s,o,f,d,g)}function bd(a){return new fo(a)}function Qy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function u_(a){return a.collectionGroup!==null}function Jl(a){const e=Ct(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const f of e.explicitOrderBy)e.Ie.push(f),i.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Ze.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(f=>{i.has(f.canonicalString())||f.isKeyField()||e.Ie.push(new rc(f,s))}),i.has(Ze.keyField().canonicalString())||e.Ie.push(new rc(Ze.keyField(),s))}return e.Ie}function bi(a){const e=Ct(a);return e.Ee||(e.Ee=dT(e,Jl(a))),e.Ee}function dT(a,e){if(a.limitType==="F")return Gy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const f=o.dir==="desc"?"asc":"desc";return new rc(o.field,f)});const i=a.endAt?new ic(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new ic(a.startAt.position,a.startAt.inclusive):null;return Gy(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function Wh(a,e){const i=a.filters.concat([e]);return new fo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Zh(a,e,i){return new fo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function pc(a,e){return vd(bi(a),bi(e))&&a.limitType===e.limitType}function c_(a){return`${_d(bi(a))}|lt:${a.limitType}`}function Ra(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>l_(o)).join(", ")}]`),mc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>ja(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>ja(o)).join(",")),`Target(${s})`}(bi(a))}; limitType=${a.limitType})`}function yc(a,e){return e.isFoundDocument()&&function(s,o){const f=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):pt.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(a,e)&&function(s,o){for(const f of Jl(s))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const f of s.filters)if(!f.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,v){const _=qy(d,g,v);return d.inclusive?_<=0:_<0}(s.startAt,Jl(s),o)||s.endAt&&!function(d,g,v){const _=qy(d,g,v);return d.inclusive?_>=0:_>0}(s.endAt,Jl(s),o))}(a,e)}function mT(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function f_(a){return(e,i)=>{let s=!1;for(const o of Jl(a)){const f=gT(o,e,i);if(f!==0)return f;s=s||o.field.isKeyField()}return 0}}function gT(a,e,i){const s=a.field.isKeyField()?pt.comparator(e.key,i.key):function(f,d,g){const v=d.data.field(f),_=g.data.field(f);return v!==null&&_!==null?za(v,_):Tt(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,f]of s)if(this.equalsFn(o,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],e))return void(o[f]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Fr(this.inner,(i,s)=>{for(const[o,f]of s)e(o,f)})}isEmpty(){return X0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=new ge(pt.comparator);function sr(){return pT}const h_=new ge(pt.comparator);function Xl(...a){let e=h_;for(const i of a)e=e.insert(i.key,i);return e}function d_(a){let e=h_;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function Ds(){return to()}function m_(){return to()}function to(){return new Ms(a=>a.toString(),(a,e)=>a.isEqual(e))}const yT=new ge(pt.comparator),_T=new Me(pt.comparator);function jt(...a){let e=_T;for(const i of a)e=e.add(i);return e}const vT=new Me(zt);function bT(){return vT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tc(e)?"-0":e}}function g_(a){return{integerValue:""+a}}function ET(a,e){return XE(e)?g_(e):Ed(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this._=void 0}}function TT(a,e,i){return a instanceof sc?function(o,f){const d={fields:{[Z0]:{stringValue:W0},[J0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&pd(f)&&(f=gc(f)),f&&(d.fields[$0]=f),{mapValue:d}}(i,e):a instanceof oo?y_(a,e):a instanceof uo?__(a,e):function(o,f){const d=p_(o,f),g=Fy(d)+Fy(o.Ae);return Yh(d)&&Yh(o.Ae)?g_(g):Ed(o.serializer,g)}(a,e)}function ST(a,e,i){return a instanceof oo?y_(a,e):a instanceof uo?__(a,e):i}function p_(a,e){return a instanceof ac?function(s){return Yh(s)||function(f){return!!f&&"doubleValue"in f}(s)}(e)?e:{integerValue:0}:null}class sc extends _c{}class oo extends _c{constructor(e){super(),this.elements=e}}function y_(a,e){const i=v_(e);for(const s of a.elements)i.some(o=>xi(o,s))||i.push(s);return{arrayValue:{values:i}}}class uo extends _c{constructor(e){super(),this.elements=e}}function __(a,e){let i=v_(e);for(const s of a.elements)i=i.filter(o=>!xi(o,s));return{arrayValue:{values:i}}}class ac extends _c{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Fy(a){return Ee(a.integerValue||a.doubleValue)}function v_(a){return yd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function AT(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof oo&&o instanceof oo||s instanceof uo&&o instanceof uo?Ma(s.elements,o.elements,xi):s instanceof ac&&o instanceof ac?xi(s.Ae,o.Ae):s instanceof sc&&o instanceof sc}(a.transform,e.transform)}class xT{constructor(e,i){this.version=e,this.transformResults=i}}class Zn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class vc{}function b_(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Td(a.key,Zn.none()):new ho(a.key,a.data,Zn.none());{const i=a.data,s=pn.empty();let o=new Me(Ze.comparator);for(let f of e.fields)if(!o.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?s.delete(f):s.set(f,d),o=o.add(f)}return new Yr(a.key,s,new In(o.toArray()),Zn.none())}}function wT(a,e,i){a instanceof ho?function(o,f,d){const g=o.value.clone(),v=Xy(o.fieldTransforms,f,d.transformResults);g.setAll(v),f.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof Yr?function(o,f,d){if(!Yu(o.precondition,f))return void f.convertToUnknownDocument(d.version);const g=Xy(o.fieldTransforms,f,d.transformResults),v=f.data;v.setAll(E_(o)),v.setAll(g),f.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(a,e,i):function(o,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function eo(a,e,i,s){return a instanceof ho?function(f,d,g,v){if(!Yu(f.precondition,d))return g;const _=f.value.clone(),A=Ky(f.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(a,e,i,s):a instanceof Yr?function(f,d,g,v){if(!Yu(f.precondition,d))return g;const _=Ky(f.fieldTransforms,v,d),A=d.data;return A.setAll(E_(f)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(V=>V.field))}(a,e,i,s):function(f,d,g){return Yu(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function RT(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),f=p_(s.transform,o||null);f!=null&&(i===null&&(i=pn.empty()),i.set(s.field,f))}return i||null}function Yy(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ma(s,o,(f,d)=>AT(f,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class ho extends vc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Yr extends vc{constructor(e,i,s,o,f=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function E_(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function Xy(a,e,i){const s=new Map;Wt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const f=a[o],d=f.transform,g=e.data.field(f.field);s.set(f.field,ST(d,g,i[o]))}return s}function Ky(a,e,i){const s=new Map;for(const o of a){const f=o.transform,d=i.data.field(o.field);s.set(o.field,TT(f,d,e))}return s}class Td extends vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CT extends vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(e.key)&&wT(f,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=eo(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=eo(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=m_();return this.mutations.forEach(o=>{const f=e.get(o.key),d=f.overlayedDocument;let g=this.applyToLocalView(d,f.mutatedFields);g=i.has(o.key)?null:g;const v=b_(d,g);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Rt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),jt())}isEqual(e){return this.batchId===e.batchId&&Ma(this.mutations,e.mutations,(i,s)=>Yy(i,s))&&Ma(this.baseMutations,e.baseMutations,(i,s)=>Yy(i,s))}}class Sd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Wt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return yT}();const f=e.mutations;for(let d=0;d<f.length;d++)o=o.insert(f[d].key,s[d].version);return new Sd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,Pt;function NT(a){switch(a){case Z.OK:return Tt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Tt(15467,{code:a})}}function T_(a){if(a===void 0)return rr("GRPC error has no .code"),Z.UNKNOWN;switch(a){case xe.OK:return Z.OK;case xe.CANCELLED:return Z.CANCELLED;case xe.UNKNOWN:return Z.UNKNOWN;case xe.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case xe.INTERNAL:return Z.INTERNAL;case xe.UNAVAILABLE:return Z.UNAVAILABLE;case xe.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case xe.NOT_FOUND:return Z.NOT_FOUND;case xe.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case xe.ABORTED:return Z.ABORTED;case xe.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case xe.DATA_LOSS:return Z.DATA_LOSS;default:return Tt(39323,{code:a})}}(Pt=xe||(xe={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=new kr([4294967295,4294967295],0);function Wy(a){const e=OT().encode(a),i=new k0;return i.update(e),new Uint8Array(i.digest())}function Zy(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new kr([i,s],0),new kr([o,f],0)]}class Ad{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Kl(`Invalid padding: ${i}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=kr.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(kr.fromNumber(s)));return o.compare(MT)===1&&(o=new kr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Wy(e),[s,o]=Zy(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(s,o,f);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new Ad(f,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.ge===0)return;const i=Wy(e),[s,o]=Zy(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(s,o,f);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,i,s,o,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,mo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new bc(Rt.min(),o,new ge(zt),sr(),jt())}}class mo{constructor(e,i,s,o,f){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new mo(s,i,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class S_{constructor(e,i){this.targetId=e,this.Ce=i}}class A_{constructor(e,i,s=$e.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class $y{constructor(){this.ve=0,this.Fe=Jy(),this.Me=$e.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=jt(),i=jt(),s=jt();return this.Fe.forEach((o,f)=>{switch(f){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:f})}}),new mo(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=Jy()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zT{constructor(e){this.Ge=e,this.ze=new Map,this.je=sr(),this.Je=Bu(),this.He=Bu(),this.Ye=new ge(zt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Tt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((s,o)=>{this.rt(o)&&i(o)})}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const f=o.target;if(Kh(f))if(s===0){const d=new pt(f.path);this.et(i,d,rn.newNoDocument(d,Rt.min()))}else Wt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),v=g?this.ct(g,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:f=0}=i;let d,g;try{d=qr(s).toUint8Array()}catch(v){if(v instanceof K0)return Oa("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Ad(d,o,f)}catch(v){return Oa(v instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach(f=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(g)||(this.et(i,f,null),o++)}),o}Tt(e){const i=new Map;this.ze.forEach((f,d)=>{const g=this.ot(d);if(g){if(f.current&&Kh(g.target)){const v=new pt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,rn.newNoDocument(v,e))}f.Be&&(i.set(d,f.ke()),f.qe())}});let s=jt();this.He.forEach((f,d)=>{let g=!0;d.forEachWhile(v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(f))}),this.je.forEach((f,d)=>d.setReadTime(e));const o=new bc(e,i,this.Ye,this.je,s);return this.je=sr(),this.Je=Bu(),this.He=Bu(),this.Ye=new ge(zt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new $y,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Me(zt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Me(zt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $y),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Bu(){return new ge(pt.comparator)}function Jy(){return new ge(pt.comparator)}const jT={asc:"ASCENDING",desc:"DESCENDING"},kT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UT={and:"AND",or:"OR"};class LT{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function $h(a,e){return a.useProto3Json||mc(e)?e:{value:e}}function lc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x_(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function PT(a,e){return lc(a,e.toTimestamp())}function Ei(a){return Wt(!!a,49232),Rt.fromTimestamp(function(i){const s=Br(i);return new ce(s.seconds,s.nanos)}(a))}function xd(a,e){return Jh(a,e).canonicalString()}function Jh(a,e){const i=function(o){return new ue(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function w_(a){const e=ue.fromString(a);return Wt(V_(e),10190,{key:e.toString()}),e}function td(a,e){return xd(a.databaseId,e.path)}function zh(a,e){const i=w_(e);if(i.get(1)!==a.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new pt(C_(i))}function R_(a,e){return xd(a.databaseId,e)}function BT(a){const e=w_(a);return e.length===4?ue.emptyPath():C_(e)}function ed(a){return new ue(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function C_(a){return Wt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function t0(a,e,i){return{name:td(a,e),fields:i.value.mapValue.fields}}function qT(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Tt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],f=function(_,A){return _.useProto3Json?(Wt(A===void 0||typeof A=="string",58123),$e.fromBase64String(A||"")):(Wt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),$e.fromUint8Array(A||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const A=_.code===void 0?Z.UNKNOWN:T_(_.code);return new ut(A,_.message||"")}(d);i=new A_(s,o,f,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=zh(a,s.document.name),f=Ei(s.document.updateTime),d=s.document.createTime?Ei(s.document.createTime):Rt.min(),g=new pn({mapValue:{fields:s.document.fields}}),v=rn.newFoundDocument(o,f,d,g),_=s.targetIds||[],A=s.removedTargetIds||[];i=new Xu(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=zh(a,s.document),f=s.readTime?Ei(s.readTime):Rt.min(),d=rn.newNoDocument(o,f),g=s.removedTargetIds||[];i=new Xu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=zh(a,s.document),f=s.removedTargetIds||[];i=new Xu([],f,o,null)}else{if(!("filter"in e))return Tt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:f}=s,d=new VT(o,f),g=s.targetId;i=new S_(g,d)}}return i}function HT(a,e){let i;if(e instanceof ho)i={update:t0(a,e.key,e.value)};else if(e instanceof Td)i={delete:td(a,e.key)};else if(e instanceof Yr)i={update:t0(a,e.key,e.data),updateMask:$T(e.fieldMask)};else{if(!(e instanceof CT))return Tt(16599,{Vt:e.type});i={verify:td(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(f,d){const g=d.transform;if(g instanceof sc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof oo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof uo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ac)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Tt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,f){return f.updateTime!==void 0?{updateTime:PT(o,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:Tt(27497)}(a,e.precondition)),i}function GT(a,e){return a&&a.length>0?(Wt(e!==void 0,14353),a.map(i=>function(o,f){let d=o.updateTime?Ei(o.updateTime):Ei(f);return d.isEqual(Rt.min())&&(d=Ei(f)),new xT(d,o.transformResults||[])}(i,e))):[]}function QT(a,e){return{documents:[R_(a,e.path)]}}function FT(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=R_(a,o);const f=function(_){if(_.length!==0)return I_($n.create(_,"and"))}(e.filters);f&&(i.structuredQuery.where=f);const d=function(_){if(_.length!==0)return _.map(A=>function(O){return{field:Ca(O.field),direction:KT(O.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=$h(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ft:i,parent:o}}function YT(a){let e=BT(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Wt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let f=[];i.where&&(f=function(V){const O=D_(V);return O instanceof $n&&s_(O)?O.getFilters():[O]}(i.where));let d=[];i.orderBy&&(d=function(V){return V.map(O=>function(nt){return new rc(Da(nt.field),function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(nt.direction))}(O))}(i.orderBy));let g=null;i.limit&&(g=function(V){let O;return O=typeof V=="object"?V.value:V,mc(O)?null:O}(i.limit));let v=null;i.startAt&&(v=function(V){const O=!!V.before,Y=V.values||[];return new ic(Y,O)}(i.startAt));let _=null;return i.endAt&&(_=function(V){const O=!V.before,Y=V.values||[];return new ic(Y,O)}(i.endAt)),hT(e,o,d,f,g,"F",v,_)}function XT(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function D_(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Da(i.unaryFilter.field);return we.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Da(i.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Da(i.unaryFilter.field);return we.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Da(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(a):a.fieldFilter!==void 0?function(i){return we.create(Da(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return $n.create(i.compositeFilter.filters.map(s=>D_(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(i.compositeFilter.op))}(a):Tt(30097,{filter:a})}function KT(a){return jT[a]}function WT(a){return kT[a]}function ZT(a){return UT[a]}function Ca(a){return{fieldPath:a.canonicalString()}}function Da(a){return Ze.fromServerFormat(a.fieldPath)}function I_(a){return a instanceof we?function(i){if(i.op==="=="){if(By(i.value))return{unaryFilter:{field:Ca(i.field),op:"IS_NAN"}};if(Py(i.value))return{unaryFilter:{field:Ca(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(By(i.value))return{unaryFilter:{field:Ca(i.field),op:"IS_NOT_NAN"}};if(Py(i.value))return{unaryFilter:{field:Ca(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ca(i.field),op:WT(i.op),value:i.value}}}(a):a instanceof $n?function(i){const s=i.getFilters().map(o=>I_(o));return s.length===1?s[0]:{compositeFilter:{op:ZT(i.op),filters:s}}}(a):Tt(54877,{filter:a})}function $T(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function V_(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,i,s,o,f=Rt.min(),d=Rt.min(),g=$e.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new Mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.yt=e}}function tS(a){const e=YT({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Zh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.Cn=new nS}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(Pr.min())}updateCollectionGroup(e,i,s){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class nS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Me(ue.comparator),f=!o.has(s);return this.index[i]=o.add(s),f}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Me(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},N_=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(N_,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ka(0)}static cr(){return new ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="LruGarbageCollector",iS=1048576;function i0([a,e],[i,s]){const o=zt(a,i);return o===0?zt(e,s):o}class rS{constructor(e){this.Ir=e,this.buffer=new Me(i0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();i0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class sS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(n0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ha(i)?ot(n0,"Ignoring IndexedDB error during garbage collection: ",i):await qa(i)}await this.Vr(3e5)})}}class aS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return $.resolve(dc.ce);const s=new rS(i);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(e0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e0):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,f,d,g,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),o=this.params.maximumSequenceNumbersToCollect):o=V,d=Date.now(),this.nthSequenceNumber(e,o))).next(V=>(s=V,g=Date.now(),this.removeTargets(e,s,i))).next(V=>(f=V,v=Date.now(),this.removeOrphanedDocuments(e,s))).next(V=>(_=Date.now(),wa()<=Bt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${f} targets in `+(v-g)+`ms
	Removed ${V} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:f,documentsRemoved:V})))}}function lS(a,e){return new aS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.changes=new Ms(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&eo(s.mutation,o,In.empty(),ce.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,jt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=jt()){const o=Ds();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(f=>{let d=Xl();return f.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=Ds();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,jt()))}populateOverlays(e,i,s){const o=[];return s.forEach(f=>{i.has(f)||o.push(f)}),this.documentOverlayCache.getOverlays(e,o).next(f=>{f.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let f=sr();const d=to(),g=function(){return to()}();return i.forEach((v,_)=>{const A=s.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Yr)?f=f.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),eo(A.mutation,_,A.mutation.getFieldMask(),ce.now())):d.set(_.key,In.empty())}),this.recalculateAndSaveOverlays(e,f).next(v=>(v.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>g.set(_,new uS(A,d.get(_)??null))),g))}recalculateAndSaveOverlays(e,i){const s=to();let o=new ge((d,g)=>d-g),f=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||In.empty();A=g.applyToLocalView(_,A),s.set(v,A);const V=(o.get(g.batchId)||jt()).add(v);o=o.insert(g.batchId,V)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,V=m_();A.forEach(O=>{if(!f.has(O)){const Y=b_(i.get(O),s.get(O));Y!==null&&V.set(O,Y),f=f.add(O)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,V))}return $.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):u_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(f=>{const d=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-f.size):$.resolve(Ds());let g=ro,v=f;return d.next(_=>$.forEach(_,(A,V)=>(g<V.largestBatchId&&(g=V.largestBatchId),f.get(A)?$.resolve():this.remoteDocumentCache.getEntry(e,A).next(O=>{v=v.insert(A,O)}))).next(()=>this.populateOverlays(e,_,f)).next(()=>this.computeViews(e,v,_,jt())).next(A=>({batchId:g,changes:d_(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next(s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const f=i.collectionGroup;let d=Xl();return this.indexManager.getCollectionParents(e,f).next(g=>$.forEach(g,v=>{const _=function(V,O){return new fo(O,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(i,v.child(f));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(A=>{A.forEach((V,O)=>{d=d.insert(V,O)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,f,o))).next(d=>{f.forEach((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,rn.newInvalidDocument(A)))});let g=Xl();return d.forEach((v,_)=>{const A=f.get(v);A!==void 0&&eo(A.mutation,_,In.empty(),ce.now()),yc(i,_)&&(g=g.insert(v,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Ei(o.createTime)}}(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(o){return{name:o.name,query:tS(o.bundledQuery),readTime:Ei(o.readTime)}}(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.overlays=new ge(pt.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Ds();return $.forEach(i,o=>this.getOverlay(e,o).next(f=>{f!==null&&s.set(o,f)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,f)=>{this.St(e,i,f)}),$.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(f=>this.overlays=this.overlays.remove(f)),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(e,i,s){const o=Ds(),f=i.length+1,d=new pt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===f&&v.largestBatchId>s&&o.set(v.getKey(),v)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let f=new ge((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=f.get(_.largestBatchId);A===null&&(A=Ds(),f=f.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=Ds(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=o)););return $.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new IT(i,s));let f=this.qr.get(i);f===void 0&&(f=jt(),this.qr.set(i,f)),this.qr.set(i,f.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(){this.Qr=new Me(qe.$r),this.Ur=new Me(qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new qe(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Gr(new qe(e,i))}zr(e,i){e.forEach(s=>this.removeReference(s,i))}jr(e){const i=new pt(new ue([])),s=new qe(i,e),o=new qe(i,e+1),f=[];return this.Ur.forEachInRange([s,o],d=>{this.Gr(d),f.push(d.key)}),f}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pt(new ue([])),s=new qe(i,e),o=new qe(i,e+1);let f=jt();return this.Ur.forEachInRange([s,o],d=>{f=f.add(d.key)}),f}containsKey(e){const i=new qe(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class qe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pt.comparator(e.key,i.key)||zt(e.Yr,i.Yr)}static Kr(e,i){return zt(e.Yr,i.Yr)||pt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(qe.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const f=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new DT(f,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new qe(g.key,f)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),f=o<0?0:o;return $.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?gd:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new qe(i,0),o=new qe(i,Number.POSITIVE_INFINITY),f=[];return this.Zr.forEachInRange([s,o],d=>{const g=this.Xr(d.Yr);f.push(g)}),$.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Me(zt);return i.forEach(o=>{const f=new qe(o,0),d=new qe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([f,d],g=>{s=s.add(g.Yr)})}),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let f=s;pt.isDocumentKey(f)||(f=f.child(""));const d=new qe(new pt(f),0);let g=new Me(zt);return this.Zr.forEachWhile(v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Yr)),!0)},d),$.resolve(this.ti(g))}ti(e){const i=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Wt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(i.mutations,o=>{const f=new qe(o.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,i){const s=new qe(i,0),o=this.Zr.firstAfterOrEqual(s);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.ri=e,this.docs=function(){return new ge(pt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),f=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(i))}getEntries(e,i){let s=sr();return i.forEach(o=>{const f=this.docs.get(o);s=s.insert(o,f?f.document.mutableCopy():rn.newInvalidDocument(o))}),$.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let f=sr();const d=i.path,g=new pt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||GE(HE(A),s)<=0||(o.has(A.key)||yc(i,A))&&(f=f.insert(A.key,A.mutableCopy()))}return $.resolve(f)}getAllFromCollectionGroup(e,i,s,o){Tt(9500)}ii(e,i){return $.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new pS(this)}getSize(e){return $.resolve(this.size)}}class pS extends oS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.persistence=e,this.si=new Ms(i=>_d(i),vd),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new wd,this.targetCount=0,this.ai=ka.ur()}forEachTarget(e,i){return this.si.forEach((s,o)=>i(o)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ka(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,s){let o=0;const f=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),f.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),$.waitFor(f).next(()=>o)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return $.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),$.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,f=[];return o&&i.forEach(d=>{f.push(o.markPotentiallyOrphaned(e,d))}),$.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return $.resolve(s)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,i){this.ui={},this.overlays={},this.ci=new dc(0),this.li=!1,this.li=!0,this.hi=new dS,this.referenceDelegate=e(this),this.Pi=new yS(this),this.indexManager=new eS,this.remoteDocumentCache=function(o){return new gS(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new JT(i),this.Ii=new fS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new hS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new mS(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ot("MemoryPersistence","Starting transaction:",e);const o=new _S(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(f=>this.referenceDelegate.di(o).next(()=>f)).toPromise().then(f=>(o.raiseOnCommittedEvent(),f))}Ai(e,i){return $.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,i)))}}class _S extends FE{constructor(e){super(),this.currentSequenceNumber=e}}class Rd{constructor(e){this.persistence=e,this.Ri=new wd,this.Vi=null}static mi(e){return new Rd(e)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),$.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(f=>this.fi.add(f.toString()))}).next(()=>s.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,s=>{const o=pt.fromPath(s);return this.gi(e,o).next(f=>{f||i.removeEntry(o,Rt.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class oc{constructor(e,i){this.persistence=e,this.pi=new Ms(s=>KE(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=lS(this,i)}static mi(e,i){return new oc(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}wr(e){let i=0;return this.pr(e,s=>{i++}).next(()=>i)}pr(e,i){return $.forEach(this.pi,(s,o)=>this.br(e,s,o).next(f=>f?$.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),f=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,i).next(g=>{g||(s++,f.removeEntry(d,Rt.min()))})).next(()=>f.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qu(e.data.value)),i}br(e,i,s){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=jt(),o=jt();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new Cd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return fb()?8:YE(ub())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const f={result:null};return this.ys(e,i).next(d=>{f.result=d}).next(()=>{if(!f.result)return this.ws(e,i,o,s).next(d=>{f.result=d})}).next(()=>{if(f.result)return;const d=new vS;return this.Ss(e,i,d).next(g=>{if(f.result=g,this.Vs)return this.bs(e,i,d,g.size)})}).next(()=>f.result)}bs(e,i,s,o){return s.documentReadCount<this.fs?(wa()<=Bt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ra(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(wa()<=Bt.DEBUG&&ot("QueryEngine","Query:",Ra(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(wa()<=Bt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ra(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(i))):$.resolve())}ys(e,i){if(Qy(i))return $.resolve(null);let s=bi(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Zh(i,null,"F"),s=bi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(f=>{const d=jt(...f);return this.ps.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(v=>{const _=this.Ds(i,g);return this.Cs(i,_,d,v.readTime)?this.ys(e,Zh(i,null,"F")):this.vs(e,_,i,v)}))})))}ws(e,i,s,o){return Qy(i)||o.isEqual(Rt.min())?$.resolve(null):this.ps.getDocuments(e,s).next(f=>{const d=this.Ds(i,f);return this.Cs(i,d,s,o)?$.resolve(null):(wa()<=Bt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ra(i)),this.vs(e,d,i,qE(o,ro)).next(g=>g))})}Ds(e,i){let s=new Me(f_(e));return i.forEach((o,f)=>{yc(e,f)&&(s=s.add(f))}),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}Ss(e,i,s){return wa()<=Bt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ra(i)),this.ps.getDocumentsMatchingQuery(e,i,Pr.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(f=>(i.forEach(d=>{f=f.insert(d.key,d)}),f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="LocalStore",ES=3e8;class TS{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ge(zt),this.xs=new Ms(f=>_d(f),vd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function SS(a,e,i,s){return new TS(a,e,i,s)}async function M_(a,e){const i=Ct(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(f=>(o=f,i.Bs(e),i.mutationQueue.getAllMutationBatches(s))).next(f=>{const d=[],g=[];let v=jt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of f){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next(_=>({Ls:_,removedBatchIds:d,addedBatchIds:g}))})})}function AS(a,e){const i=Ct(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),f=i.Ns.newChangeBuffer({trackRemovals:!0});return function(g,v,_,A){const V=_.batch,O=V.keys();let Y=$.resolve();return O.forEach(nt=>{Y=Y.next(()=>A.getEntry(v,nt)).next(lt=>{const it=_.docVersions.get(nt);Wt(it!==null,48541),lt.version.compareTo(it)<0&&(V.applyToRemoteDocument(lt,_),lt.isValidDocument()&&(lt.setReadTime(_.commitVersion),A.addEntry(lt)))})}),Y.next(()=>g.mutationQueue.removeMutationBatch(v,V))}(i,s,e,f).next(()=>f.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let v=jt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function z_(a){const e=Ct(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function xS(a,e){const i=Ct(a),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach((A,V)=>{const O=o.get(V);if(!O)return;g.push(i.Pi.removeMatchingKeys(f,A.removedDocuments,V).next(()=>i.Pi.addMatchingKeys(f,A.addedDocuments,V)));let Y=O.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(V)!==null?Y=Y.withResumeToken($e.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,s)),o=o.insert(V,Y),function(lt,it,wt){return lt.resumeToken.approximateByteSize()===0||it.snapshotVersion.toMicroseconds()-lt.snapshotVersion.toMicroseconds()>=ES?!0:wt.addedDocuments.size+wt.modifiedDocuments.size+wt.removedDocuments.size>0}(O,Y,A)&&g.push(i.Pi.updateTargetData(f,Y))});let v=sr(),_=jt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(f,A))}),g.push(wS(f,d,e.documentUpdates).next(A=>{v=A.ks,_=A.qs})),!s.isEqual(Rt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(f).next(V=>i.Pi.setTargetsMetadata(f,f.currentSequenceNumber,s));g.push(A)}return $.waitFor(g).next(()=>d.apply(f)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,v,_)).next(()=>v)}).then(f=>(i.Ms=o,f))}function wS(a,e,i){let s=jt(),o=jt();return i.forEach(f=>s=s.add(f)),e.getEntries(a,s).next(f=>{let d=sr();return i.forEach((g,v)=>{const _=f.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(Rt.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):ot(Dd,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)}),{ks:d,qs:o}})}function RS(a,e){const i=Ct(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=gd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function CS(a,e){const i=Ct(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Pi.getTargetData(s,e).next(f=>f?(o=f,$.resolve(o)):i.Pi.allocateTargetId(s).next(d=>(o=new Mr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s})}async function nd(a,e,i){const s=Ct(a),o=s.Ms.get(e),f=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",f,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Ha(d))throw d;ot(Dd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function r0(a,e,i){const s=Ct(a);let o=Rt.min(),f=jt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,A){const V=Ct(v),O=V.xs.get(A);return O!==void 0?$.resolve(V.Ms.get(O)):V.Pi.getTargetData(_,A)}(s,d,bi(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next(v=>{f=v})}).next(()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:Rt.min(),i?f:jt())).next(g=>(DS(s,mT(e),g),{documents:g,Qs:f})))}function DS(a,e,i){let s=a.Os.get(e)||Rt.min();i.forEach((o,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),a.Os.set(e,s)}class s0{constructor(){this.activeTargetIds=bT()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IS{constructor(){this.Mo=new s0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new s0,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="ConnectivityMonitor";class l0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(a0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ot(a0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=null;function id(){return qu===null?qu=function(){return 268435456+Math.round(2147483648*Math.random())}():qu++,"0x"+qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="RestConnection",NS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ec?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,f){const d=id(),g=this.zo(e,i.toUriEncodedString());ot(jh,`Sending RPC '${e}' ${d}:`,g,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,f);const{host:_}=new URL(g),A=fd(_);return this.Jo(e,g,v,s,A).then(V=>(ot(jh,`Received RPC '${e}' ${d}: `,V),V),V=>{throw Oa(jh,`RPC '${e}' ${d} failed with error: `,V,"url: ",g,"request:",s),V})}Ho(e,i,s,o,f,d){return this.Go(e,i,s,o,f)}jo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ba}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,f)=>e[f]=o),s&&s.headers.forEach((o,f)=>e[f]=o)}zo(e,i){const s=NS[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class zS extends OS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,f){const d=id();return new Promise((g,v)=>{const _=new U0;_.setWithCredentials(!0),_.listenOnce(L0.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Gu.NO_ERROR:const V=_.getResponseJson();ot(en,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(V)),g(V);break;case Gu.TIMEOUT:ot(en,`RPC '${e}' ${d} timed out`),v(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Gu.HTTP_ERROR:const O=_.getStatus();if(ot(en,`RPC '${e}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let Y=_.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const nt=Y?.error;if(nt&&nt.status&&nt.message){const lt=function(wt){const At=wt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(At)>=0?At:Z.UNKNOWN}(nt.status);v(new ut(lt,nt.message))}else v(new ut(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(en,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);ot(en,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,s,15)})}T_(e,i,s){const o=id(),f=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=q0(),g=B0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=f.join("");ot(en,`Creating RPC '${e}' stream ${o}: ${A}`,v);const V=d.createWebChannel(A,v);this.I_(V);let O=!1,Y=!1;const nt=new MS({Yo:it=>{Y?ot(en,`Not sending because RPC '${e}' stream ${o} is closed:`,it):(O||(ot(en,`Opening RPC '${e}' stream ${o} transport.`),V.open(),O=!0),ot(en,`RPC '${e}' stream ${o} sending:`,it),V.send(it))},Zo:()=>V.close()}),lt=(it,wt,At)=>{it.listen(wt,yt=>{try{At(yt)}catch(Yt){setTimeout(()=>{throw Yt},0)}})};return lt(V,Yl.EventType.OPEN,()=>{Y||(ot(en,`RPC '${e}' stream ${o} transport opened.`),nt.o_())}),lt(V,Yl.EventType.CLOSE,()=>{Y||(Y=!0,ot(en,`RPC '${e}' stream ${o} transport closed`),nt.a_(),this.E_(V))}),lt(V,Yl.EventType.ERROR,it=>{Y||(Y=!0,Oa(en,`RPC '${e}' stream ${o} transport errored. Name:`,it.name,"Message:",it.message),nt.a_(new ut(Z.UNAVAILABLE,"The operation could not be completed")))}),lt(V,Yl.EventType.MESSAGE,it=>{if(!Y){const wt=it.data[0];Wt(!!wt,16349);const At=wt,yt=At?.error||At[0]?.error;if(yt){ot(en,`RPC '${e}' stream ${o} received error:`,yt);const Yt=yt.status;let xt=function(x){const C=xe[x];if(C!==void 0)return T_(C)}(Yt),qt=yt.message;xt===void 0&&(xt=Z.INTERNAL,qt="Unknown error status: "+Yt+" with message "+yt.message),Y=!0,nt.a_(new ut(xt,qt)),V.close()}else ot(en,`RPC '${e}' stream ${o} received:`,wt),nt.u_(wt)}}),lt(g,P0.STAT_EVENT,it=>{it.stat===Gh.PROXY?ot(en,`RPC '${e}' stream ${o} detected buffering proxy`):it.stat===Gh.NOPROXY&&ot(en,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{nt.__()},0),nt}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function kh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(a){return new LT(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,i,s=1e3,o=1.5,f=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=f,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="PersistentStream";class k_{constructor(e,i,s,o,f,d,g,v){this.Mi=e,this.S_=s,this.b_=o,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new j_(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(rr(i.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===i&&this.G_(s,o)},s=>{e(()=>{const o=new ut(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ot(o0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(ot(o0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jS extends k_{constructor(e,i,s,o,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=qT(this.serializer,e),s=function(f){if(!("targetChange"in f))return Rt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?Rt.min():d.readTime?Ei(d.readTime):Rt.min()}(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=ed(this.serializer),i.addTarget=function(f,d){let g;const v=d.target;if(g=Kh(v)?{documents:QT(f,v)}:{query:FT(f,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=x_(f,d.resumeToken);const _=$h(f,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Rt.min())>0){g.readTime=lc(f,d.snapshotVersion.toTimestamp());const _=$h(f,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const s=XT(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=ed(this.serializer),i.removeTarget=e,this.q_(i)}}class kS extends k_{constructor(e,i,s,o,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=GT(e.writeResults,e.commitTime),s=Ei(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=ed(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>HT(this.serializer,s))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{}class LS extends US{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.Go(e,Jh(i,s),o,f,d)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ut(Z.UNKNOWN,f.toString())})}Ho(e,i,s,o,f){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(e,Jh(i,s),o,d,g,f)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(Z.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class PS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rr(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="RemoteStore";class BS{constructor(e,i,s,o,f){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=f,this.Aa.Oo(d=>{s.enqueueAndForget(async()=>{zs(this)&&(ot(Os,"Restarting streams for network reachability change."),await async function(v){const _=Ct(v);_.Ea.add(4),await go(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Tc(_)}(this))})}),this.Ra=new PS(s,o)}}async function Tc(a){if(zs(a))for(const e of a.da)await e(!0)}async function go(a){for(const e of a.da)await e(!1)}function U_(a,e){const i=Ct(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Od(i)?Nd(i):Ga(i).O_()&&Vd(i,e))}function Id(a,e){const i=Ct(a),s=Ga(i);i.Ia.delete(e),s.O_()&&L_(i,e),i.Ia.size===0&&(s.O_()?s.L_():zs(i)&&i.Ra.set("Unknown"))}function Vd(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ga(a).Y_(e)}function L_(a,e){a.Va.Ue(e),Ga(a).Z_(e)}function Nd(a){a.Va=new zT({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Ga(a).start(),a.Ra.ua()}function Od(a){return zs(a)&&!Ga(a).x_()&&a.Ia.size>0}function zs(a){return Ct(a).Ea.size===0}function P_(a){a.Va=void 0}async function qS(a){a.Ra.set("Online")}async function HS(a){a.Ia.forEach((e,i)=>{Vd(a,e)})}async function GS(a,e){P_(a),Od(a)?(a.Ra.ha(e),Nd(a)):a.Ra.set("Unknown")}async function QS(a,e,i){if(a.Ra.set("Online"),e instanceof A_&&e.state===2&&e.cause)try{await async function(o,f){const d=f.cause;for(const g of f.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))}(a,e)}catch(s){ot(Os,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await uc(a,s)}else if(e instanceof Xu?a.Va.Ze(e):e instanceof S_?a.Va.st(e):a.Va.tt(e),!i.isEqual(Rt.min()))try{const s=await z_(a.localStore);i.compareTo(s)>=0&&await function(f,d){const g=f.Va.Tt(d);return g.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=f.Ia.get(_);A&&f.Ia.set(_,A.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach((v,_)=>{const A=f.Ia.get(v);if(!A)return;f.Ia.set(v,A.withResumeToken($e.EMPTY_BYTE_STRING,A.snapshotVersion)),L_(f,v);const V=new Mr(A.target,v,_,A.sequenceNumber);Vd(f,V)}),f.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){ot(Os,"Failed to raise snapshot:",s),await uc(a,s)}}async function uc(a,e,i){if(!Ha(e))throw e;a.Ea.add(1),await go(a),a.Ra.set("Offline"),i||(i=()=>z_(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{ot(Os,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Tc(a)})}function B_(a,e){return e().catch(i=>uc(a,i,e))}async function Sc(a){const e=Ct(a),i=Gr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gd;for(;FS(e);)try{const o=await RS(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,YS(e,o)}catch(o){await uc(e,o)}q_(e)&&H_(e)}function FS(a){return zs(a)&&a.Ta.length<10}function YS(a,e){a.Ta.push(e);const i=Gr(a);i.O_()&&i.X_&&i.ea(e.mutations)}function q_(a){return zs(a)&&!Gr(a).x_()&&a.Ta.length>0}function H_(a){Gr(a).start()}async function XS(a){Gr(a).ra()}async function KS(a){const e=Gr(a);for(const i of a.Ta)e.ea(i.mutations)}async function WS(a,e,i){const s=a.Ta.shift(),o=Sd.from(s,e,i);await B_(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await Sc(a)}async function ZS(a,e){e&&Gr(a).X_&&await async function(s,o){if(function(d){return NT(d)&&d!==Z.ABORTED}(o.code)){const f=s.Ta.shift();Gr(s).B_(),await B_(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,o)),await Sc(s)}}(a,e),q_(a)&&H_(a)}async function u0(a,e){const i=Ct(a);i.asyncQueue.verifyOperationInProgress(),ot(Os,"RemoteStore received new credentials");const s=zs(i);i.Ea.add(3),await go(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Tc(i)}async function $S(a,e){const i=Ct(a);e?(i.Ea.delete(2),await Tc(i)):e||(i.Ea.add(2),await go(i),i.Ra.set("Unknown"))}function Ga(a){return a.ma||(a.ma=function(i,s,o){const f=Ct(i);return f.sa(),new jS(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)}(a.datastore,a.asyncQueue,{Xo:qS.bind(null,a),t_:HS.bind(null,a),r_:GS.bind(null,a),H_:QS.bind(null,a)}),a.da.push(async e=>{e?(a.ma.B_(),Od(a)?Nd(a):a.Ra.set("Unknown")):(await a.ma.stop(),P_(a))})),a.ma}function Gr(a){return a.fa||(a.fa=function(i,s,o){const f=Ct(i);return f.sa(),new kS(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)}(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:XS.bind(null,a),r_:ZS.bind(null,a),ta:KS.bind(null,a),na:WS.bind(null,a)}),a.da.push(async e=>{e?(a.fa.B_(),await Sc(a)):(await a.fa.stop(),a.Ta.length>0&&(ot(Os,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))})),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,i,s,o,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=f,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,f){const d=Date.now()+s,g=new Md(e,i,d,o,f);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zd(a,e){if(rr("AsyncQueue",`${e}: ${a}`),Ha(a))return new ut(Z.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{static emptySet(e){return new Va(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=Xl(),this.sortedSet=new ge(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Va)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Va;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.ga=new ge(pt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Tt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ua{constructor(e,i,s,o,f,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,f){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ua(e,i,Va.emptySet(i),d,s,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class tA{constructor(){this.queries=f0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Ct(i),f=o.queries;o.queries=f0(),f.forEach((d,g)=>{for(const v of g.Sa)v.onError(s)})})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function f0(){return new Ms(a=>c_(a),pc)}async function eA(a,e){const i=Ct(a);let s=3;const o=e.query;let f=i.queries.get(o);f?!f.ba()&&e.Da()&&(s=2):(f=new JS,s=e.Da()?0:1);try{switch(s){case 0:f.wa=await i.onListen(o,!0);break;case 1:f.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=zd(d,`Initialization of query '${Ra(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,f),f.Sa.push(e),e.va(i.onlineState),f.wa&&e.Fa(f.wa)&&jd(i)}async function nA(a,e){const i=Ct(a),s=e.query;let o=3;const f=i.queries.get(s);if(f){const d=f.Sa.indexOf(e);d>=0&&(f.Sa.splice(d,1),f.Sa.length===0?o=e.Da()?0:1:!f.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function iA(a,e){const i=Ct(a);let s=!1;for(const o of e){const f=o.query,d=i.queries.get(f);if(d){for(const g of d.Sa)g.Fa(o)&&(s=!0);d.wa=o}}s&&jd(i)}function rA(a,e,i){const s=Ct(a),o=s.queries.get(e);if(o)for(const f of o.Sa)f.onError(i);s.queries.delete(e)}function jd(a){a.Ca.forEach(e=>{e.next()})}var rd,h0;(h0=rd||(rd={})).Ma="default",h0.Cache="cache";class sA{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ua(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e){this.key=e}}class Q_{constructor(e){this.key=e}}class aA{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=f_(e),this.tu=new Va(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new c0,o=i?i.tu:this.tu;let f=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,V)=>{const O=o.get(A),Y=yc(this.query,V)?V:null,nt=!!O&&this.mutatedKeys.has(O.key),lt=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let it=!1;O&&Y?O.data.isEqual(Y.data)?nt!==lt&&(s.track({type:3,doc:Y}),it=!0):this.su(O,Y)||(s.track({type:2,doc:Y}),it=!0,(v&&this.eu(Y,v)>0||_&&this.eu(Y,_)<0)&&(g=!0)):!O&&Y?(s.track({type:0,doc:Y}),it=!0):O&&!Y&&(s.track({type:1,doc:O}),it=!0,(v||_)&&(g=!0)),it&&(Y?(d=d.add(Y),f=lt?f.add(A):f.delete(A)):(d=d.delete(A),f=f.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),f=f.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:g,mutatedKeys:f}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const f=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((A,V)=>function(Y,nt){const lt=it=>{switch(it){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:it})}};return lt(Y)-lt(nt)}(A.type,V.type)||this.eu(A.doc,V.doc)),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Ua(this.query,e.tu,f,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=jt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const i=[];return e.forEach(s=>{this.Xa.has(s)||i.push(new Q_(s))}),this.Xa.forEach(s=>{e.has(s)||i.push(new G_(s))}),i}cu(e){this.Ya=e.Qs,this.Xa=jt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ua.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kd="SyncEngine";class lA{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class oA{constructor(e){this.key=e,this.hu=!1}}class uA{constructor(e,i,s,o,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ms(g=>c_(g),pc),this.Iu=new Map,this.Eu=new Set,this.du=new ge(pt.comparator),this.Au=new Map,this.Ru=new wd,this.Vu={},this.mu=new Map,this.fu=ka.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cA(a,e,i=!0){const s=Z_(a);let o;const f=s.Tu.get(e);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.lu()):o=await F_(s,e,i,!0),o}async function fA(a,e){const i=Z_(a);await F_(i,e,!0,!1)}async function F_(a,e,i,s){const o=await CS(a.localStore,bi(e)),f=o.targetId,d=a.sharedClientState.addLocalQueryTarget(f,i);let g;return s&&(g=await hA(a,e,f,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&U_(a.remoteStore,o),g}async function hA(a,e,i,s,o){a.pu=(V,O,Y)=>async function(lt,it,wt,At){let yt=it.view.ru(wt);yt.Cs&&(yt=await r0(lt.localStore,it.query,!1).then(({documents:z})=>it.view.ru(z,yt)));const Yt=At&&At.targetChanges.get(it.targetId),xt=At&&At.targetMismatches.get(it.targetId)!=null,qt=it.view.applyChanges(yt,lt.isPrimaryClient,Yt,xt);return m0(lt,it.targetId,qt.au),qt.snapshot}(a,V,O,Y);const f=await r0(a.localStore,e,!0),d=new aA(e,f.Qs),g=d.ru(f.documents),v=mo.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),_=d.applyChanges(g,a.isPrimaryClient,v);m0(a,i,_.au);const A=new lA(e,i,d);return a.Tu.set(e,A),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),_.snapshot}async function dA(a,e,i){const s=Ct(a),o=s.Tu.get(e),f=s.Iu.get(o.targetId);if(f.length>1)return s.Iu.set(o.targetId,f.filter(d=>!pc(d,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await nd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Id(s.remoteStore,o.targetId),sd(s,o.targetId)}).catch(qa)):(sd(s,o.targetId),await nd(s.localStore,o.targetId,!0))}async function mA(a,e){const i=Ct(a),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Id(i.remoteStore,s.targetId))}async function gA(a,e,i){const s=TA(a);try{const o=await function(d,g){const v=Ct(d),_=ce.now(),A=g.reduce((Y,nt)=>Y.add(nt.key),jt());let V,O;return v.persistence.runTransaction("Locally write mutations","readwrite",Y=>{let nt=sr(),lt=jt();return v.Ns.getEntries(Y,A).next(it=>{nt=it,nt.forEach((wt,At)=>{At.isValidDocument()||(lt=lt.add(wt))})}).next(()=>v.localDocuments.getOverlayedDocuments(Y,nt)).next(it=>{V=it;const wt=[];for(const At of g){const yt=RT(At,V.get(At.key).overlayedDocument);yt!=null&&wt.push(new Yr(At.key,yt,n_(yt.value.mapValue),Zn.exists(!0)))}return v.mutationQueue.addMutationBatch(Y,_,wt,g)}).next(it=>{O=it;const wt=it.applyToLocalDocumentSet(V,lt);return v.documentOverlayCache.saveOverlays(Y,it.batchId,wt)})}).then(()=>({batchId:O.batchId,changes:d_(V)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new ge(zt)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_}(s,o.batchId,i),await po(s,o.changes),await Sc(s.remoteStore)}catch(o){const f=zd(o,"Failed to persist write");i.reject(f)}}async function Y_(a,e){const i=Ct(a);try{const s=await xS(i.localStore,e);e.targetChanges.forEach((o,f)=>{const d=i.Au.get(f);d&&(Wt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Wt(d.hu,14607):o.removedDocuments.size>0&&(Wt(d.hu,42227),d.hu=!1))}),await po(i,s,e)}catch(s){await qa(s)}}function d0(a,e,i){const s=Ct(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach((f,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const v=Ct(d);v.onlineState=g;let _=!1;v.queries.forEach((A,V)=>{for(const O of V.Sa)O.va(g)&&(_=!0)}),_&&jd(v)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function pA(a,e,i){const s=Ct(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),f=o&&o.key;if(f){let d=new ge(pt.comparator);d=d.insert(f,rn.newNoDocument(f,Rt.min()));const g=jt().add(f),v=new bc(Rt.min(),new Map,new ge(zt),d,g);await Y_(s,v),s.du=s.du.remove(f),s.Au.delete(e),Ud(s)}else await nd(s.localStore,e,!1).then(()=>sd(s,e,i)).catch(qa)}async function yA(a,e){const i=Ct(a),s=e.batch.batchId;try{const o=await AS(i.localStore,e);K_(i,s,null),X_(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await po(i,o)}catch(o){await qa(o)}}async function _A(a,e,i){const s=Ct(a);try{const o=await function(d,g){const v=Ct(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next(V=>(Wt(V!==null,37113),A=V.keys(),v.mutationQueue.removeMutationBatch(_,V))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(s.localStore,e);K_(s,e,i),X_(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await po(s,o)}catch(o){await qa(o)}}function X_(a,e){(a.mu.get(e)||[]).forEach(i=>{i.resolve()}),a.mu.delete(e)}function K_(a,e,i){const s=Ct(a);let o=s.Vu[s.currentUser.toKey()];if(o){const f=o.get(e);f&&(i?f.reject(i):f.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function sd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach(s=>{a.Ru.containsKey(s)||W_(a,s)})}function W_(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Id(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),Ud(a))}function m0(a,e,i){for(const s of i)s instanceof G_?(a.Ru.addReference(s.key,e),vA(a,s)):s instanceof Q_?(ot(kd,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||W_(a,s.key)):Tt(19791,{wu:s})}function vA(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(ot(kd,"New document in limbo: "+i),a.Eu.add(s),Ud(a))}function Ud(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new pt(ue.fromString(e)),s=a.fu.next();a.Au.set(s,new oA(i)),a.du=a.du.insert(i,s),U_(a.remoteStore,new Mr(bi(bd(i.path)),s,"TargetPurposeLimboResolution",dc.ce))}}async function po(a,e,i){const s=Ct(a),o=[],f=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach((g,v)=>{d.push(s.pu(v,e,i).then(_=>{if((_||i)&&s.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=Cd.As(v.targetId,_);f.push(A)}}))}),await Promise.all(d),s.Pu.H_(o),await async function(v,_){const A=Ct(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>$.forEach(_,O=>$.forEach(O.Es,Y=>A.persistence.referenceDelegate.addReference(V,O.targetId,Y)).next(()=>$.forEach(O.ds,Y=>A.persistence.referenceDelegate.removeReference(V,O.targetId,Y)))))}catch(V){if(!Ha(V))throw V;ot(Dd,"Failed to update sequence numbers: "+V)}for(const V of _){const O=V.targetId;if(!V.fromCache){const Y=A.Ms.get(O),nt=Y.snapshotVersion,lt=Y.withLastLimboFreeSnapshotVersion(nt);A.Ms=A.Ms.insert(O,lt)}}}(s.localStore,f))}async function bA(a,e){const i=Ct(a);if(!i.currentUser.isEqual(e)){ot(kd,"User change. New user:",e.toKey());const s=await M_(i.localStore,e);i.currentUser=e,function(f,d){f.mu.forEach(g=>{g.forEach(v=>{v.reject(new ut(Z.CANCELLED,d))})}),f.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await po(i,s.Ls)}}function EA(a,e){const i=Ct(a),s=i.Au.get(e);if(s&&s.hu)return jt().add(s.key);{let o=jt();const f=i.Iu.get(e);if(!f)return o;for(const d of f){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function Z_(a){const e=Ct(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pA.bind(null,e),e.Pu.H_=iA.bind(null,e.eventManager),e.Pu.yu=rA.bind(null,e.eventManager),e}function TA(a){const e=Ct(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_A.bind(null,e),e}class cc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ec(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return SS(this.persistence,new bS,e.initialUser,this.serializer)}Cu(e){return new O_(Rd.mi,this.serializer)}Du(e){return new IS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cc.provider={build:()=>new cc};class SA extends cc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Wt(this.persistence.referenceDelegate instanceof oc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new sS(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new O_(s=>oc.mi(s,i),this.serializer)}}class ad{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>d0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bA.bind(null,this.syncEngine),await $S(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tA}()}createDatastore(e){const i=Ec(e.databaseInfo.databaseId),s=function(f){return new zS(f)}(e.databaseInfo);return function(f,d,g,v){return new LS(f,d,g,v)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,f,d,g){return new BS(s,o,f,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>d0(this.syncEngine,i,0),function(){return l0.v()?new l0:new VS}())}createSyncEngine(e,i){return function(o,f,d,g,v,_,A){const V=new uA(o,f,d,g,v,_);return A&&(V.gu=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const s=Ct(i);ot(Os,"RemoteStore shutting down."),s.Ea.add(5),await go(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ad.provider={build:()=>new ad};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="FirestoreClient";class xA{constructor(e,i,s,o,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=md.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,async d=>{ot(Qr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ot(Qr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=zd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Uh(a,e){a.asyncQueue.verifyOperationInProgress(),ot(Qr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await M_(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function g0(a,e){a.asyncQueue.verifyOperationInProgress();const i=await wA(a);ot(Qr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>u0(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>u0(e.remoteStore,o)),a._onlineComponents=e}async function wA(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ot(Qr,"Using user provided OfflineComponentProvider");try{await Uh(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Oa("Error using user provided cache. Falling back to memory cache: "+i),await Uh(a,new cc)}}else ot(Qr,"Using default OfflineComponentProvider"),await Uh(a,new SA(void 0));return a._offlineComponents}async function $_(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ot(Qr,"Using user provided OnlineComponentProvider"),await g0(a,a._uninitializedComponentsProvider._online)):(ot(Qr,"Using default OnlineComponentProvider"),await g0(a,new ad))),a._onlineComponents}function RA(a){return $_(a).then(e=>e.syncEngine)}async function p0(a){const e=await $_(a),i=e.eventManager;return i.onListen=cA.bind(null,e.syncEngine),i.onUnlisten=dA.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=fA.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=mA.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="firestore.googleapis.com",_0=!0;class v0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tv,this.ssl=_0}else this.host=e.host,this.ssl=e.ssl??_0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=N_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iS)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=J_(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ac{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new VE;switch(s.type){case"firstParty":return new zE(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=y0.get(i);s&&(ot("ComponentProvider","Removing Datastore"),y0.delete(i),s.terminate())}(this),Promise.resolve()}}function CA(a,e,i,s={}){a=Ur(a,Ac);const o=fd(e),f=a._getSettings(),d={...f,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${i}`;o&&(rb(`https://${g}`),ob("Firestore",!0)),f.host!==tv&&f.host!==g&&Oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...f,host:g,ssl:o,emulatorOptions:s};if(!Zu(v,d)&&(a._setSettings(v),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=nn.MOCK_USER;else{_=sb(s.mockUserToken,a._app?.options.projectId);const V=s.mockUserToken.sub||s.mockUserToken.user_id;if(!V)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new nn(V)}a._authCredentials=new NE(new G0(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Qa(this.firestore,e,this._query)}}class Ce{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ce(this.firestore,e,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(co(i,Ce._jsonSchema))return new Ce(e,s||null,new pt(ue.fromString(i.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:Re("string",Ce._jsonSchemaVersion),referencePath:Re("string")};class Lr extends Qa{constructor(e,i,s){super(e,i,bd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ce(this.firestore,null,new pt(e))}withConverter(e){return new Lr(this.firestore,e,this._path)}}function b0(a,e,...i){if(a=Ai(a),Q0("collection","path",e),a instanceof Ac){const s=ue.fromString(e,...i);return Vy(s),new Lr(a,null,s)}{if(!(a instanceof Ce||a instanceof Lr))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ue.fromString(e,...i));return Vy(s),new Lr(a.firestore,null,s)}}function ld(a,e,...i){if(a=Ai(a),arguments.length===1&&(e=md.newId()),Q0("doc","path",e),a instanceof Ac){const s=ue.fromString(e,...i);return Iy(s),new Ce(a,null,new pt(s))}{if(!(a instanceof Ce||a instanceof Lr))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ue.fromString(e,...i));return Iy(s),new Ce(a.firestore,a instanceof Lr?a.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="AsyncQueue";class T0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new j_(this,"async_queue_retry"),this._c=()=>{const s=kh();s&&ot(E0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=kh();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=kh();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new Is;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ha(e))throw e;ot(E0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,rr("INTERNAL UNHANDLED ERROR: ",S0(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Md.createAndSchedule(this,e,i,s,f=>this.hc(f));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:S0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function S0(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(a){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const f of s)if(f in o&&typeof o[f]=="function")return!0;return!1}(a,["next","error","complete"])}class La extends Ac{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new T0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T0(e),this._firestoreClient=void 0,await e}}}function DA(a,e){const i=typeof a=="object"?a:_E(),s=typeof a=="string"?a:ec,o=dE(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const f=nb("firestore");f&&CA(o,...f)}return o}function ev(a){if(a._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||IA(a),a._firestoreClient}function IA(a){const e=a._freezeSettings(),i=function(o,f,d,g){return new $E(o,f,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,J_(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new xA(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&function(o){const f=o?._online.build();return{_offline:o?._offline.build(f),_online:f}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn($e.fromBase64String(e))}catch(i){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Hn($e.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(co(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Re("string",Hn._jsonSchemaVersion),bytes:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ti._jsonSchemaVersion}}static fromJSON(e){if(co(e,Ti._jsonSchema))return new Ti(e.latitude,e.longitude)}}Ti._jsonSchemaVersion="firestore/geoPoint/1.0",Ti._jsonSchema={type:Re("string",Ti._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==o[f])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(co(e,Si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new Si(e.vectorValues);throw new ut(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Si._jsonSchemaVersion="firestore/vectorValue/1.0",Si._jsonSchema={type:Re("string",Si._jsonSchemaVersion),vectorValues:Re("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=/^__.*__$/;class NA{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Yr(e,this.data,this.fieldMask,i,this.fieldTransforms):new ho(e,this.data,i,this.fieldTransforms)}}class nv{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Yr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function iv(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:a})}}class Pd{constructor(e,i,s,o,f,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,f===void 0&&this.Rc(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Pd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(iv(this.Ac)&&VA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class OA{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Ec(e)}Cc(e,i,s,o=!1){return new Pd({Ac:e,methodName:i,Dc:s,path:Ze.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bd(a){const e=a._freezeSettings(),i=Ec(a._databaseId);return new OA(a._databaseId,!!e.ignoreUndefinedProperties,i)}function MA(a,e,i,s,o,f={}){const d=a.Cc(f.merge||f.mergeFields?2:0,e,i,o);qd("Data must be an object, but it was:",d,s);const g=rv(s,d);let v,_;if(f.merge)v=new In(d.fieldMask),_=d.fieldTransforms;else if(f.mergeFields){const A=[];for(const V of f.mergeFields){const O=od(e,V,i);if(!d.contains(O))throw new ut(Z.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);av(A,O)||A.push(O)}v=new In(A),_=d.fieldTransforms.filter(V=>v.covers(V.field))}else v=null,_=d.fieldTransforms;return new NA(new pn(g),v,_)}class wc extends Ld{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wc}}function zA(a,e,i,s){const o=a.Cc(1,e,i);qd("Data must be an object, but it was:",o,s);const f=[],d=pn.empty();Fr(s,(v,_)=>{const A=Hd(e,v,i);_=Ai(_);const V=o.yc(A);if(_ instanceof wc)f.push(A);else{const O=yo(_,V);O!=null&&(f.push(A),d.set(A,O))}});const g=new In(f);return new nv(d,g,o.fieldTransforms)}function jA(a,e,i,s,o,f){const d=a.Cc(1,e,i),g=[od(e,s,i)],v=[o];if(f.length%2!=0)throw new ut(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<f.length;O+=2)g.push(od(e,f[O])),v.push(f[O+1]);const _=[],A=pn.empty();for(let O=g.length-1;O>=0;--O)if(!av(_,g[O])){const Y=g[O];let nt=v[O];nt=Ai(nt);const lt=d.yc(Y);if(nt instanceof wc)_.push(Y);else{const it=yo(nt,lt);it!=null&&(_.push(Y),A.set(Y,it))}}const V=new In(_);return new nv(A,V,d.fieldTransforms)}function kA(a,e,i,s=!1){return yo(i,a.Cc(s?4:3,e))}function yo(a,e){if(sv(a=Ai(a)))return qd("Unsupported field value:",e,a),rv(a,e);if(a instanceof Ld)return function(s,o){if(!iv(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(o);f&&o.fieldTransforms.push(f)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const f=[];let d=0;for(const g of s){let v=yo(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),f.push(v),d++}return{arrayValue:{values:f}}}(a,e)}return function(s,o){if((s=Ai(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ET(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const f=ce.fromDate(s);return{timestampValue:lc(o.serializer,f)}}if(s instanceof ce){const f=new ce(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lc(o.serializer,f)}}if(s instanceof Ti)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:x_(o.serializer,s._byteString)};if(s instanceof Ce){const f=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(f))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:xd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Si)return function(d,g){return{mapValue:{fields:{[t_]:{stringValue:e_},[nc]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Ed(g.serializer,_)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${hc(s)}`)}(a,e)}function rv(a,e){const i={};return X0(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fr(a,(s,o)=>{const f=yo(o,e.mc(s));f!=null&&(i[s]=f)}),{mapValue:{fields:i}}}function sv(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ce||a instanceof Ti||a instanceof Hn||a instanceof Ce||a instanceof Ld||a instanceof Si)}function qd(a,e,i){if(!sv(i)||!F0(i)){const s=hc(i);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function od(a,e,i){if((e=Ai(e))instanceof xc)return e._internalPath;if(typeof e=="string")return Hd(a,e);throw fc("Field path arguments must be of type string or ",a,!1,void 0,i)}const UA=new RegExp("[~\\*/\\[\\]]");function Hd(a,e,i){if(e.search(UA)>=0)throw fc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new xc(...e.split("."))._internalPath}catch{throw fc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function fc(a,e,i,s,o){const f=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(f||d)&&(v+=" (found",f&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new ut(Z.INVALID_ARGUMENT,g+a+v)}function av(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,i,s,o,f){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(ov("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LA extends lv{data(){return super.data()}}function ov(a,e){return typeof e=="string"?Hd(a,e):e instanceof xc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gd{}class BA extends Gd{}function qA(a,e,...i){let s=[];e instanceof Gd&&s.push(e),s=s.concat(i),function(f){const d=f.filter(v=>v instanceof Fd).length,g=f.filter(v=>v instanceof Qd).length;if(d>1||d>0&&g>0)throw new ut(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)a=o._apply(a);return a}class Qd extends BA{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Qd(e,i,s)}_apply(e){const i=this._parse(e);return uv(e._query,i),new Qa(e.firestore,e.converter,Wh(e._query,i))}_parse(e){const i=Bd(e.firestore);return function(f,d,g,v,_,A,V){let O;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){w0(V,A);const nt=[];for(const lt of V)nt.push(x0(v,f,lt));O={arrayValue:{values:nt}}}else O=x0(v,f,V)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||w0(V,A),O=kA(g,d,V,A==="in"||A==="not-in");return we.create(_,A,O)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Fd extends Gd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Fd(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:$n.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,f){let d=o;const g=f.getFlattenedFilters();for(const v of g)uv(d,v),d=Wh(d,v)}(e._query,i),new Qa(e.firestore,e.converter,Wh(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function x0(a,e,i){if(typeof(i=Ai(i))=="string"){if(i==="")throw new ut(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!u_(e)&&i.indexOf("/")!==-1)throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(ue.fromString(i));if(!pt.isDocumentKey(s))throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ly(a,new pt(s))}if(i instanceof Ce)return Ly(a,i._key);throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hc(i)}.`)}function w0(a,e){if(!Array.isArray(a)||a.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uv(a,e){const i=function(o,f){for(const d of o)for(const g of d.getFlattenedFilters())if(f.indexOf(g.op)>=0)return g.op;return null}(a.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class HA{convertValue(e,i="none"){switch(Hr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ee(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Tt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Fr(e,(o,f)=>{s[o]=this.convertValue(f,i)}),s}convertVectorValue(e){const i=e.fields?.[nc].arrayValue?.values?.map(s=>Ee(s.doubleValue));return new Si(i)}convertGeoPoint(e){return new Ti(Ee(e.latitude),Ee(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=gc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(so(e));default:return null}}convertTimestamp(e){const i=Br(e);return new ce(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ue.fromString(e);Wt(V_(s),9688,{name:e});const o=new ao(s.get(1),s.get(3)),f=new pt(s.popFirst(5));return o.isEqual(i)||rr(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(a,e,i){let s;return s=a?a.toFirestore(e):e,s}class Wl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vs extends lv{constructor(e,i,s,o,f,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(ov("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Vs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vs._jsonSchema={type:Re("string",Vs._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Ku extends Vs{data(e={}){return super.data(e)}}class Na{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Ku(this._firestore,this._userDataWriter,s.key,s,new Wl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,f){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const v=new Ku(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Wl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>f||g.type!==3).map(g=>{const v=new Ku(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Wl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:QA(g.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=md.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(f=>{f._document!==null&&(i.push(f._document),s.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),o.push(f.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QA(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:a})}}Na._jsonSchemaVersion="firestore/querySnapshot/1.0",Na._jsonSchema={type:Re("string",Na._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class cv extends HA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ce(this.firestore,null,i)}}function FA(a,e,i,...s){a=Ur(a,Ce);const o=Ur(a.firestore,La),f=Bd(o);let d;return d=typeof(e=Ai(e))=="string"||e instanceof xc?jA(f,"updateDoc",a._key,e,i,s):zA(f,"updateDoc",a._key,e),Yd(o,[d.toMutation(a._key,Zn.exists(!0))])}function YA(a){return Yd(Ur(a.firestore,La),[new Td(a._key,Zn.none())])}function XA(a,e){const i=Ur(a.firestore,La),s=ld(a),o=GA(a.converter,e);return Yd(i,[MA(Bd(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,Zn.exists(!1))]).then(()=>s)}function KA(a,...e){a=Ai(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||A0(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(A0(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let f,d,g;if(a instanceof Ce)d=Ur(a.firestore,La),g=bd(a._key.path),f={next:v=>{e[s]&&e[s](WA(d,a,v))},error:e[s+1],complete:e[s+2]};else{const v=Ur(a,Qa);d=Ur(v.firestore,La),g=v._query;const _=new cv(d);f={next:A=>{e[s]&&e[s](new Na(d,_,v,A))},error:e[s+1],complete:e[s+2]},PA(a._query)}return function(_,A,V,O){const Y=new AA(O),nt=new sA(A,Y,V);return _.asyncQueue.enqueueAndForget(async()=>eA(await p0(_),nt)),()=>{Y.Nu(),_.asyncQueue.enqueueAndForget(async()=>nA(await p0(_),nt))}}(ev(d),g,o,f)}function Yd(a,e){return function(s,o){const f=new Is;return s.asyncQueue.enqueueAndForget(async()=>gA(await RA(s),o,f)),f.promise}(ev(a),e)}function WA(a,e,i){const s=i.docs.get(e._key),o=new cv(a);return new Vs(a,o,e._key,s,new Wl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Ba=o})(yE),Ju(new no("firestore",(s,{instanceIdentifier:o,options:f})=>{const d=s.getProvider("app").getImmediate(),g=new La(new OE(s.getProvider("auth-internal")),new jE(d,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ao(_.options.projectId,A)}(d,o),d);return f={useFetchStreams:i,...f},g._setSettings(f),g},"PUBLIC").setMultipleInstances(!0)),Ia(wy,Ry,e),Ia(wy,Ry,"esm2020")})();const ZA={apiKey:"AIzaSyCj6edi2ZrsSv0mpbGh5gGDEIxmUSzFo6g",authDomain:"inventory-4614f.firebaseapp.com",projectId:"inventory-4614f",storageBucket:"inventory-4614f.firebasestorage.app",messagingSenderId:"252486694632",appId:"1:252486694632:web:2e3c7b5f66df1e76157b5d",measurementId:"G-0GBQJD9Q23"},$A=M0(ZA),Hu=DA($A);function JA(){const a=S=>/[\u0590-\u05FF]/.test(S),[e,i]=Vt.useState(typeof window<"u"&&window.innerWidth<900);Vt.useEffect(()=>{const S=()=>{i(window.innerWidth<900)};return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const s=S=>{if(!S)return e?"1.1rem":"1.3rem";const q=S.length;return e?q>35?"0.65rem":q>25?"0.75rem":q>20?"0.85rem":q>15?"0.95rem":q>10?"1.05rem":"1.1rem":q>45?"0.75rem":q>35?"0.85rem":q>25?"0.95rem":q>18?"1.1rem":q>12?"1.2rem":"1.3rem"},o=S=>{const q={borderRadius:"0.5rem",background:S,color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",whiteSpace:"nowrap"};return e?{...q,fontSize:window.innerWidth<400?"0.9rem":"1rem",padding:window.innerWidth<400?"0.4rem 0.7rem":"0.5rem 0.8rem"}:{...q,fontSize:"1.1rem",padding:"0.5rem 1rem"}},[f,d]=Vt.useState([]),[g,v]=Vt.useState([]),[_,A]=Vt.useState([]),[V,O]=Vt.useState([]),[Y,nt]=Vt.useState([]),[lt,it]=Vt.useState([]),[wt,At]=Vt.useState([]),[yt,Yt]=Vt.useState("office"),[xt,qt]=Vt.useState(""),[z,x]=Vt.useState(""),[C,N]=Vt.useState("refill"),[M,k]=Vt.useState("10"),[R,se]=Vt.useState(null),[Qt,Q]=Vt.useState(""),[et,ct]=Vt.useState(""),[ht,D]=Vt.useState("refill"),[F,rt]=Vt.useState("10"),[J,gt]=Vt.useState("office"),[at,Et]=Vt.useState("office"),dt=10,[Jt,cn]=Vt.useState(!1),[De,yn]=Vt.useState({idx:null,site:null,itemName:""}),[Jn,ti]=Vt.useState(!1),[wi,Ri]=Vt.useState(!1),[Xr,He]=Vt.useState(""),[Ci,ar]=Vt.useState(null),lr="2006",Di=600*1e3,[Ii,Vi]=Vt.useState(null),[ei,or]=Vt.useState(null),[fe,Ht]=Vt.useState(!1),[fn,Ge]=Vt.useState({}),Ni=Vt.useCallback(S=>{if(!e)return;const q=document.querySelector(".column-container");if(q){const tt=q.scrollTop;localStorage.setItem(`scroll_${S}`,tt.toString()),console.log(`💾 Saved ${S} scroll: ${tt}`)}},[e]),Kr=Vt.useCallback(S=>{if(!e)return;const q=localStorage.getItem(`scroll_${S}`);if(q){const tt=parseInt(q,10);setTimeout(()=>{const _t=document.querySelector(".column-container");_t&&(_t.scrollTop=tt,console.log(`📖 Restored ${S} scroll: ${tt}`))},300)}},[e]),sn=(S,q)=>{const _t=(q==="office"?f:q==="innsbruck"?g:q==="ci"?_:q==="gate"?V:q==="ctx"?Y:q==="celler"?lt:wt)[S];yn({idx:S,site:q,itemName:_t?.name||"Unknown Item"}),cn(!0)},Oi=()=>{cn(!1),yn({idx:null,site:null,itemName:""})},ni=()=>{if(Xr===lr){ti(!0),Ri(!1),He(""),Ci&&clearTimeout(Ci);const S=setTimeout(()=>{ti(!1),ar(null)},Di);ar(S)}else alert("Incorrect password. Please try again."),He("")},_n=()=>{Ri(!1),He("")},ur=()=>{Jn?Gn():Ri(!0)};Vt.useEffect(()=>()=>{Ci&&clearTimeout(Ci)},[Ci]);const ze=S=>{if(!fe)if(Ht(!0),e){Ni(at);const q=["office","ci","gate","ctx","check-room","celler","innsbruck","add"],tt=q.indexOf(at),te=q.indexOf(S)>tt,Gt=document.querySelector(".column-container");Gt&&(Gt.style.transform=te?"translateX(-50px)":"translateX(50px)",Gt.style.opacity="0"),setTimeout(()=>{Et(S),setTimeout(()=>{const le=document.querySelector(".column-container");le&&(le.style.transform=te?"translateX(50px)":"translateX(-50px)",le.style.opacity="0",requestAnimationFrame(()=>{le.style.transform="translateX(0)",le.style.opacity="1"}),Kr(S));const he=document.querySelector(`[data-tab="${S}"]`);he&&he.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}),setTimeout(()=>Ht(!1),300)},50)},200)}else Et(S),Ht(!1)},Wr=S=>{S.target.tagName==="INPUT"||S.target.tagName==="SELECT"||S.target.tagName==="BUTTON"||S.target.tagName==="TEXTAREA"||(or(null),Vi({x:S.targetTouches[0].clientX,y:S.targetTouches[0].clientY,time:Date.now()}))},Zr=S=>{S.target.tagName==="INPUT"||S.target.tagName==="SELECT"||S.target.tagName==="BUTTON"||S.target.tagName==="TEXTAREA"||Ii&&or({x:S.targetTouches[0].clientX,y:S.targetTouches[0].clientY,time:Date.now()})},$r=S=>{if(S.target.tagName==="INPUT"||S.target.tagName==="SELECT"||S.target.tagName==="BUTTON"||S.target.tagName==="TEXTAREA"||!Ii||!ei)return;const q=Ii.x-ei.x,tt=Ii.y-ei.y,_t=ei.time-Ii.time,te=Math.abs(q),Gt=Math.abs(tt);if(te>80&&Gt<60&&te>Gt*1.5&&_t<800){const ii=q>0,ks=q<0;S.preventDefault(),Ni(at);const Vn=["office","ci","gate","ctx","check-room","celler","innsbruck","add"],En=Vn.indexOf(at);ii&&En<Vn.length-1?ze(Vn[En+1]):ks&&En>0&&ze(Vn[En-1])}Vi(null),or(null)};Vt.useEffect(()=>{const S=qA(b0(Hu,"inventory"));return KA(S,tt=>{const _t=tt.docs.map(te=>({...te.data(),id:te.id}));d(_t.filter(te=>te.site==="office")),v(_t.filter(te=>te.site==="innsbruck")),A(_t.filter(te=>te.site==="ci")),O(_t.filter(te=>te.site==="gate")),nt(_t.filter(te=>te.site==="ctx")),it(_t.filter(te=>te.site==="celler")),At(_t.filter(te=>te.site==="check-room"))})},[]),Vt.useEffect(()=>{if(!e)return;const S=()=>{Ni(at)},q=document.querySelector(".column-container");if(q)return console.log(`� Setup scroll tracking for ${at}`),q.addEventListener("scroll",S,{passive:!0}),()=>{q.removeEventListener("scroll",S)}},[at,e,Ni]),Vt.useEffect(()=>{e&&(console.log(`🔄 Switching to ${at}`),Kr(at))},[at,e,Kr]);const Gn=async()=>{if(!xt||!z||isNaN(z)||!M||isNaN(M))return;const S={name:xt,amount:Number(z),type:C,site:yt,lowStockThreshold:Number(M)};await XA(b0(Hu,"inventory"),S),qt(""),x(""),N("refill"),k("10")},Qn=async()=>{if(De.idx!==null&&De.site){const q=(De.site==="office"?f:De.site==="innsbruck"?g:De.site==="ci"?_:De.site==="gate"?V:De.site==="ctx"?Y:De.site==="celler"?lt:wt).find((tt,_t)=>_t===De.idx);q&&q.id&&await YA(ld(Hu,"inventory",q.id))}cn(!1),yn({idx:null,site:null,itemName:""})},vn=(S,q)=>{se(S),gt(q);const _t=(q==="office"?f:q==="innsbruck"?g:q==="ci"?_:q==="gate"?V:q==="ctx"?Y:q==="celler"?lt:wt).find((te,Gt)=>Gt===S);Q(_t.name),ct(_t.amount),D(_t.type),rt(_t.lowStockThreshold||10)},je=async()=>{if(!Qt||!et||isNaN(et)||!F||isNaN(F))return;const q=(J==="office"?f:J==="innsbruck"?g:J==="ci"?_:J==="gate"?V:J==="ctx"?Y:J==="celler"?lt:wt).find((tt,_t)=>_t===R);q&&q.id&&await FA(ld(Hu,"inventory",q.id),{name:Qt,amount:Number(et),type:ht,site:J,lowStockThreshold:Number(F)}),se(null),Q(""),ct(""),D("refill"),rt("10"),gt("office")};return E.jsxs(E.Fragment,{children:[E.jsx("style",{jsx:!0,children:`
        /* Global modern font family */
        * {
          font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Inter", "Roboto", "Helvetica Neue", sans-serif;
        }
        
        /* EliExpress branding animations */
        @keyframes logoGlow {
          0% { text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
          50% { text-shadow: 2px 2px 8px rgba(255,255,255,0.5), 0 0 20px rgba(255,101,0,0.5); }
          100% { text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
        }
        
        .eli-logo {
          animation: logoGlow 3s ease-in-out infinite;
        }
        
        /* Custom scrollbar for mobile navigation */
        .mobile-nav {
          scrollbar-width: none; /* Firefox */
          -ms-overflow-style: none; /* IE and Edge */
        }
        .mobile-nav::-webkit-scrollbar {
          display: none; /* Chrome, Safari, Opera */
        }
        /* Smooth scrolling for mobile */
        .mobile-nav {
          scroll-behavior: smooth;
        }
        /* Smooth slide animations for columns */
        .column-container {
          transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.4s ease;
          transform: translateX(0);
          opacity: 1;
        }
        /* Enhanced swipe animations */
        @keyframes slideInRight {
          from {
            transform: translateX(100px);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        @keyframes slideInLeft {
          from {
            transform: translateX(-100px);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        .slide-enter {
          animation: slideInRight 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        .slide-enter-reverse {
          animation: slideInLeft 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        /* Ensure form elements don't interfere with animations */
        .column-container input,
        .column-container select,
        .column-container button {
          pointer-events: auto;
        }
      `}),E.jsxs("div",{className:"inventory-app main-container",style:{display:e?"block":"grid",gridTemplateColumns:e?"1fr":"1fr 1fr 1fr 1fr 1fr 1fr 1fr auto",gap:e?"0":"1rem",height:"100dvh",width:"100vw",fontFamily:'-apple-system, BlinkMacSystemFont, "SF Pro Display", "Inter", "Roboto", "Helvetica Neue", sans-serif',fontSize:e?"1.2rem":"1.3rem",background:"linear-gradient(90deg, #f8fafc 0%, #e0e7ef 100%)",boxSizing:"border-box",overflow:"auto",margin:0,padding:e?"0":"1rem",minHeight:"100vh",touchAction:e?"pan-x":"auto",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},onTouchStart:e?Wr:void 0,onTouchMove:e?Zr:void 0,onTouchEnd:e?$r:void 0,children:[E.jsxs("div",{style:{gridColumn:e?"1":"1 / -1",background:"linear-gradient(135deg, #ff6500, #ff8533)",color:"#fff",padding:e?"1rem":"1.5rem 2rem",marginBottom:e?"0":"1rem",borderRadius:e?"0":"1rem",boxShadow:"0 4px 20px rgba(255, 101, 0, 0.3)",display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",overflow:"hidden"},children:[E.jsx("div",{style:{position:"absolute",top:0,right:0,width:e?"80px":"120px",height:e?"80px":"120px",backgroundImage:"url(/eli-photo.jpg)",backgroundSize:"cover",backgroundPosition:"center",opacity:.6,borderRadius:"0 1rem 0 0",filter:"brightness(1.1) contrast(1.1)"}}),E.jsx("div",{style:{display:"flex",alignItems:"center",gap:"1rem",zIndex:1},children:E.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[E.jsx("div",{className:"eli-logo",style:{fontSize:e?"1.5rem":"2rem",fontWeight:"900",letterSpacing:"-0.02em",textShadow:"2px 2px 4px rgba(0,0,0,0.3)",lineHeight:"1.1"},children:"🚀 EliExpress"}),E.jsx("div",{style:{fontSize:e?"0.75rem":"0.9rem",fontWeight:"500",opacity:.85,fontStyle:"italic",marginTop:"0.2rem",letterSpacing:"0.5px"},children:"Inventory Management System"})]})}),!e&&E.jsxs("div",{style:{fontSize:"1rem",fontWeight:"500",opacity:.8,display:"flex",alignItems:"center",gap:"0.5rem",zIndex:1},children:[E.jsx("span",{children:"📦"}),"Smart Inventory Solutions"]})]}),e&&E.jsxs("div",{className:"mobile-nav",style:{display:"flex",justifyContent:"flex-start",gap:"0.5rem",background:"#fff",boxShadow:"0 2px 8px #e0e7ef",padding:"1rem",position:"sticky",top:0,zIndex:10,overflowX:"auto",overflowY:"hidden",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",scrollbarWidth:"thin",width:"100vw",boxSizing:"border-box"},children:[E.jsx("button",{"data-tab":"office",onClick:()=>ze("office"),style:{fontWeight:at==="office"?"bold":"normal",background:at==="office"?"#2563eb":"#f1f5f9",color:at==="office"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.8rem 1.2rem",fontSize:"1rem",cursor:"pointer",minWidth:"fit-content",whiteSpace:"nowrap",flexShrink:0},children:"OFFICE"}),E.jsx("button",{"data-tab":"ci",onClick:()=>ze("ci"),style:{fontWeight:at==="ci"?"bold":"normal",background:at==="ci"?"#2563eb":"#f1f5f9",color:at==="ci"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.8rem 1.2rem",fontSize:"1rem",cursor:"pointer",minWidth:"fit-content",whiteSpace:"nowrap",flexShrink:0},children:"C/I"}),E.jsx("button",{"data-tab":"gate",onClick:()=>ze("gate"),style:{fontWeight:at==="gate"?"bold":"normal",background:at==="gate"?"#2563eb":"#f1f5f9",color:at==="gate"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.8rem 1.2rem",fontSize:"1rem",cursor:"pointer",minWidth:"fit-content",whiteSpace:"nowrap",flexShrink:0},children:"GATE"}),E.jsx("button",{"data-tab":"ctx",onClick:()=>ze("ctx"),style:{fontWeight:at==="ctx"?"bold":"normal",background:at==="ctx"?"#2563eb":"#f1f5f9",color:at==="ctx"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.8rem 1.2rem",fontSize:"1rem",cursor:"pointer",minWidth:"fit-content",whiteSpace:"nowrap",flexShrink:0},children:"CTX"}),E.jsx("button",{"data-tab":"check-room",onClick:()=>ze("check-room"),style:{fontWeight:at==="check-room"?"bold":"normal",background:at==="check-room"?"#2563eb":"#f1f5f9",color:at==="check-room"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.8rem 1.2rem",fontSize:"1rem",cursor:"pointer",minWidth:"fit-content",whiteSpace:"nowrap",flexShrink:0},children:"CHECK-ROOM"}),E.jsx("button",{"data-tab":"celler",onClick:()=>ze("celler"),style:{fontWeight:at==="celler"?"bold":"normal",background:at==="celler"?"#2563eb":"#f1f5f9",color:at==="celler"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.8rem 1.2rem",fontSize:"1rem",cursor:"pointer",minWidth:"fit-content",whiteSpace:"nowrap",flexShrink:0},children:"CELLER"}),E.jsx("button",{"data-tab":"innsbruck",onClick:()=>ze("innsbruck"),style:{fontWeight:at==="innsbruck"?"bold":"normal",background:at==="innsbruck"?"#2563eb":"#f1f5f9",color:at==="innsbruck"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.8rem 1.2rem",fontSize:"1rem",cursor:"pointer",minWidth:"fit-content",whiteSpace:"nowrap",flexShrink:0},children:"INNSBRUCK"}),E.jsx("button",{"data-tab":"add",onClick:()=>ze("add"),style:{fontWeight:at==="add"?"bold":"normal",background:at==="add"?"#2563eb":"#f1f5f9",color:at==="add"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.8rem 1.2rem",fontSize:"1rem",cursor:"pointer",minWidth:"fit-content",whiteSpace:"nowrap",flexShrink:0},children:"ADD ITEM"})]}),(!e||at==="add")&&E.jsxs("div",{className:"column-container",style:{gridColumn:e?"1":"8",flex:e?"none":"unset",minWidth:"0",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",borderRadius:e?"0":"1rem",height:e?"100vh":"100%",overflowY:"auto",boxSizing:"border-box",padding:e?"0.5rem 0.5rem":"1.5rem",position:"relative",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.3)"},children:[E.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:'url("data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.05"%3E%3Ccircle cx="30" cy="30" r="2"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")',borderRadius:e?"0":"1rem",pointerEvents:"none"}}),E.jsxs("div",{style:{textAlign:"center",marginBottom:e?"0.5rem":"1.5rem",zIndex:1},children:[E.jsx("div",{style:{fontSize:e?"1.5rem":"2.5rem",marginBottom:e?"0.1rem":"0.3rem"},children:"✨"}),E.jsx("h2",{style:{fontSize:e?"1.2rem":"2rem",margin:"0",color:"#fff",fontWeight:"700",textShadow:"0 2px 4px rgba(0,0,0,0.3)",letterSpacing:"-0.5px"},children:"Add New Item"}),E.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:e?"0.7rem":"0.9rem",margin:e?"0.1rem 0 0 0":"0.3rem 0 0 0",fontWeight:"400"},children:"Create inventory entries"})]}),Jn&&E.jsxs("div",{style:{backgroundColor:"rgba(34, 197, 94, 0.9)",color:"#fff",padding:e?"0.4rem 0.8rem":"0.75rem 1.25rem",borderRadius:"50px",fontSize:e?"0.7rem":"0.8rem",fontWeight:"600",marginBottom:e?"0.5rem":"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 4px 16px rgba(34, 197, 94, 0.3)",zIndex:1},children:[E.jsx("span",{children:"✅"}),E.jsx("span",{children:"Ready to add items"})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:e?"0.6rem":"1.2rem",width:"100%",maxWidth:e?"100%":"350px",background:"rgba(255, 255, 255, 0.95)",padding:e?"1rem 0.8rem":"2rem 1.5rem",borderRadius:"1.5rem",boxShadow:"0 16px 40px rgba(0,0,0,0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.3)",zIndex:1,flex:"1",minHeight:"0",boxSizing:"border-box"},children:[E.jsxs("div",{style:{position:"relative",width:"100%",boxSizing:"border-box"},children:[E.jsx("label",{style:{display:"block",fontSize:e?"0.65rem":"0.75rem",fontWeight:"600",color:"#374151",marginBottom:e?"0.25rem":"0.4rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"📍 Location"}),E.jsxs("select",{value:yt,onChange:S=>Yt(S.target.value),style:{fontSize:e?"0.8rem":"1rem",padding:e?"0.6rem 0.7rem":"0.875rem 1rem",borderRadius:"0.75rem",border:"2px solid #e5e7eb",width:"100%",boxSizing:"border-box",background:"#fff",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",outline:"none"},onFocus:S=>S.target.style.borderColor="#667eea",onBlur:S=>S.target.style.borderColor="#e5e7eb",children:[E.jsx("option",{value:"office",children:"🏢 Office"}),E.jsx("option",{value:"ci",children:"🔧 C/I"}),E.jsx("option",{value:"gate",children:"🚪 GATE"}),E.jsx("option",{value:"ctx",children:"⚡ CTX"}),E.jsx("option",{value:"check-room",children:"✅ CHECK-ROOM"}),E.jsx("option",{value:"celler",children:"🏠 CELLER"}),E.jsx("option",{value:"innsbruck",children:"🏔️ Innsbruck"})]})]}),E.jsxs("div",{style:{position:"relative",width:"100%",boxSizing:"border-box"},children:[E.jsx("label",{style:{display:"block",fontSize:e?"0.65rem":"0.75rem",fontWeight:"600",color:"#374151",marginBottom:e?"0.25rem":"0.4rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"🏷️ Item Name"}),E.jsx("input",{type:"text",placeholder:"Enter item name...",value:xt,onChange:S=>qt(S.target.value),style:{fontSize:e?"0.8rem":"1rem",padding:e?"0.6rem 0.7rem":"0.875rem 1rem",borderRadius:"0.75rem",border:"2px solid #e5e7eb",width:"100%",boxSizing:"border-box",background:"#fff",color:"#374151",fontWeight:"500",transition:"all 0.2s ease",outline:"none"},onFocus:S=>S.target.style.borderColor="#667eea",onBlur:S=>S.target.style.borderColor="#e5e7eb"})]}),E.jsxs("div",{style:{position:"relative",width:"100%",boxSizing:"border-box"},children:[E.jsx("label",{style:{display:"block",fontSize:e?"0.65rem":"0.75rem",fontWeight:"600",color:"#374151",marginBottom:e?"0.25rem":"0.4rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"📦 Quantity"}),E.jsx("input",{type:"number",placeholder:"Enter quantity...",value:z,onChange:S=>x(S.target.value),style:{fontSize:e?"0.8rem":"1rem",padding:e?"0.6rem 0.7rem":"0.875rem 1rem",borderRadius:"0.75rem",border:"2px solid #e5e7eb",width:"100%",boxSizing:"border-box",background:"#fff",color:"#374151",fontWeight:"500",transition:"all 0.2s ease",outline:"none"},onFocus:S=>S.target.style.borderColor="#667eea",onBlur:S=>S.target.style.borderColor="#e5e7eb"})]}),E.jsxs("div",{style:{position:"relative",width:"100%",boxSizing:"border-box"},children:[E.jsx("label",{style:{display:"block",fontSize:e?"0.65rem":"0.75rem",fontWeight:"600",color:"#374151",marginBottom:e?"0.25rem":"0.4rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"⚠️ Low Stock Alert"}),E.jsx("input",{type:"number",placeholder:"Alert when below...",value:M,onChange:S=>k(S.target.value),style:{fontSize:e?"0.8rem":"1rem",padding:e?"0.6rem 0.7rem":"0.875rem 1rem",borderRadius:"0.75rem",border:"2px solid #e5e7eb",width:"100%",boxSizing:"border-box",background:"#fff",color:"#374151",fontWeight:"500",transition:"all 0.2s ease",outline:"none"},onFocus:S=>S.target.style.borderColor="#667eea",onBlur:S=>S.target.style.borderColor="#e5e7eb"})]}),E.jsxs("div",{style:{position:"relative",width:"100%",boxSizing:"border-box"},children:[E.jsx("label",{style:{display:"block",fontSize:e?"0.65rem":"0.75rem",fontWeight:"600",color:"#374151",marginBottom:e?"0.25rem":"0.4rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"🏷️ Item Type"}),E.jsxs("select",{value:C,onChange:S=>N(S.target.value),style:{fontSize:e?"0.8rem":"1rem",padding:e?"0.6rem 0.7rem":"0.875rem 1rem",borderRadius:"0.75rem",border:"2px solid #e5e7eb",width:"100%",boxSizing:"border-box",background:"#fff",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",outline:"none"},onFocus:S=>S.target.style.borderColor="#667eea",onBlur:S=>S.target.style.borderColor="#e5e7eb",children:[E.jsx("option",{value:"refill",children:"📦 Supplies (Consumable)"}),E.jsx("option",{value:"stable",children:"🔧 Equipment (Permanent)"})]})]}),E.jsx("button",{onClick:ur,style:{fontSize:e?"0.9rem":"1.1rem",padding:e?"0.7rem 1.2rem":"1rem 2rem",borderRadius:"0.75rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",border:"none",cursor:"pointer",fontWeight:"700",marginTop:e?"0.3rem":"0.5rem",transition:"all 0.2s ease",boxShadow:"0 8px 25px rgba(102, 126, 234, 0.4)",textTransform:"uppercase",letterSpacing:"0.5px",width:"100%",boxSizing:"border-box"},onMouseEnter:S=>{S.target.style.transform="translateY(-2px)",S.target.style.boxShadow="0 12px 35px rgba(102, 126, 234, 0.5)"},onMouseLeave:S=>{S.target.style.transform="translateY(0)",S.target.style.boxShadow="0 8px 25px rgba(102, 126, 234, 0.4)"},children:"✨ Add Item"})]})]}),(!e||at==="office")&&E.jsxs("div",{className:"column-container",style:{gridColumn:"1",flex:e?"none":"unset",background:"#fff",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1.5rem",minWidth:e?"0":"250px",height:e?"auto":"100%",overflowY:"auto",marginTop:e?"2rem":"0",display:"flex",flexDirection:"column",alignItems:"center",transition:e?"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease":"none",transform:"translateX(0)",opacity:1},children:[E.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"1.2rem",color:"#2563eb",textAlign:"center"},children:"Office"}),E.jsxs("ul",{className:"item-list",style:{listStyle:"none",padding:0,width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[f.length===0&&E.jsx("p",{style:{color:"#64748b"},children:"No items yet."}),[...f].map((S,q)=>({item:S,originalIdx:q})).sort((S,q)=>{const tt=S.item.type==="refill"&&S.item.amount<(S.item.lowStockThreshold||dt),_t=q.item.type==="refill"&&q.item.amount<(q.item.lowStockThreshold||dt);return tt&&!_t?-1:!tt&&_t?1:(S.item.type==="refill"?-1:1)-(q.item.type==="refill"?-1:1)}).map(({item:S,originalIdx:q})=>E.jsx("li",{style:{background:S.type==="refill"&&S.amount<(S.lowStockThreshold||dt)?"#fef2f2":S.type==="stable"?"#eff6ff":"#f0fdf4",borderRadius:"0.8rem",boxShadow:"0 2px 6px #e0e7ef",padding:"0.9rem",width:e?"90%":"260px",maxWidth:"280px",border:"2px solid",borderColor:S.type==="refill"&&S.amount<(S.lowStockThreshold||dt)?"#fca5a5":S.type==="stable"?"#93c5fd":"#a7f3d0",position:"relative",marginBottom:"1.5rem"},children:R===q&&J==="office"?E.jsx(Rs.Fragment,{children:E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsx("input",{type:"text",value:Qt,onChange:tt=>Q(tt.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"}}),E.jsx("input",{type:"number",value:et,onChange:tt=>ct(tt.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"}}),E.jsxs("select",{value:ht,onChange:tt=>D(tt.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"},children:[E.jsx("option",{value:"refill",children:"Supplies"}),E.jsx("option",{value:"stable",children:"Equipment"})]}),E.jsx("input",{type:"number",value:F,onChange:tt=>rt(tt.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"},placeholder:"Low stock threshold"}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginTop:"0.5rem"},children:[E.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[E.jsx("span",{style:{fontSize:"1rem",color:"#64748b"},children:"Type:"}),E.jsx("span",{style:{fontSize:"1rem",fontWeight:"bold",color:ht==="stable"?"#2563eb":"#059669"},children:ht==="refill"?"Supplies":"Equipment"}),ht==="refill"&&et<F&&E.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1rem"},children:"⚠️ Low stock!"})]}),E.jsxs("div",{style:{display:"flex",gap:"0.8rem",justifyContent:e?"stretch":"flex-end"},children:[E.jsx("button",{onClick:je,style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#22c55e",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Save"}),E.jsx("button",{onClick:()=>se(null),style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Cancel"})]})]})]})}):E.jsxs("div",{children:[E.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"0.8rem",alignItems:"center",justifyContent:"space-between",marginBottom:"0.8rem"},children:[E.jsx("span",{style:{fontWeight:"bold",fontSize:s(S.name),color:"#1e293b",textAlign:a(S.name)?"right":"left",direction:a(S.name)?"rtl":"ltr",wordBreak:"break-word",hyphens:"auto",lineHeight:"1.2",flex:"1"},children:S.name}),E.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#0f172a",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",padding:"0.3rem 0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",minWidth:"50px",textAlign:"center"},children:S.amount}),E.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"0.4rem",alignItems:"center"},children:[E.jsx("button",{onClick:()=>vn(q,"office"),style:{...o("#f59e0b"),fontSize:"0.85rem",padding:"0.4rem 0.7rem"},children:"Edit"}),E.jsx("button",{onClick:()=>sn(q,"office"),style:{...o("#ef4444"),fontSize:"0.85rem",padding:"0.4rem 0.7rem"},children:"Delete"})]})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{style:{fontSize:"0.9rem",color:S.type==="stable"?"#2563eb":"#059669",fontWeight:"bold",padding:"0.2rem 0.6rem",borderRadius:"0.4rem",background:S.type==="stable"?"#eff6ff":"#f0fdf4",border:"1px solid",borderColor:S.type==="stable"?"#93c5fd":"#a7f3d0"},children:S.type==="refill"?"Supplies":"Equipment"}),S.type==="refill"&&S.amount<(S.lowStockThreshold||dt)&&E.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"0.8rem",flexShrink:0},children:"⚠️ Low stock!"})]}),E.jsxs("span",{style:{fontSize:"0.8rem",color:"#64748b"},children:["Low: < ",S.lowStockThreshold||dt]})]})]})},q))]})]}),(!e||at==="innsbruck")&&E.jsxs("div",{className:"column-container",style:{gridColumn:e?"1":"7",flex:e?"none":"unset",background:"#fff",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1.5rem",minWidth:e?"0":"250px",height:e?"auto":"100%",overflowY:"auto",marginTop:e?"2rem":"0",display:"flex",flexDirection:"column",alignItems:"center"},children:[E.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"1.2rem",color:"#2563eb",textAlign:"center"},children:"Innsbruck"}),E.jsxs("ul",{className:"item-list",style:{listStyle:"none",padding:0,width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[g.length===0&&E.jsx("p",{style:{color:"#64748b"},children:"No items yet."}),[...g].map((S,q)=>({item:S,originalIdx:q})).sort((S,q)=>{const tt=S.item.type==="refill"&&S.item.amount<(S.item.lowStockThreshold||dt),_t=q.item.type==="refill"&&q.item.amount<(q.item.lowStockThreshold||dt);return tt&&!_t?-1:!tt&&_t?1:(S.item.type==="refill"?-1:1)-(q.item.type==="refill"?-1:1)}).map(({item:S,originalIdx:q})=>E.jsx("li",{style:{background:S.type==="refill"&&S.amount<(S.lowStockThreshold||dt)?"#fef2f2":S.type==="stable"?"#eff6ff":"#f0fdf4",borderRadius:"0.8rem",boxShadow:"0 2px 6px #e0e7ef",padding:"0.9rem",width:e?"90%":"260px",maxWidth:"280px",border:"2px solid",borderColor:S.type==="refill"&&S.amount<(S.lowStockThreshold||dt)?"#fca5a5":S.type==="stable"?"#93c5fd":"#a7f3d0",position:"relative",marginBottom:"1.5rem"},children:R===q&&J==="innsbruck"?E.jsx(Rs.Fragment,{children:E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem"},children:[E.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Name:"}),E.jsx("input",{type:"text",value:Qt,onChange:tt=>Q(tt.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]}),E.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",gap:"1rem"},children:[E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem",flex:1},children:[E.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Amount:"}),E.jsx("input",{type:"number",value:et,onChange:tt=>ct(tt.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem",flex:1},children:[E.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Low Stock:"}),E.jsx("input",{type:"number",value:F,onChange:tt=>rt(tt.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem"},children:[E.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Type:"}),E.jsxs("select",{value:ht,onChange:tt=>D(tt.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"},children:[E.jsx("option",{value:"refill",children:"Supplies"}),E.jsx("option",{value:"stable",children:"Equipment"})]})]}),E.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",gap:"1rem",alignItems:e?"stretch":"center",justifyContent:"space-between"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:e?"center":"flex-start"},children:[E.jsx("span",{style:{fontSize:"1rem",color:ht==="refill"?et<F?"#ef4444":"#22c55e":"#2563eb",fontWeight:"bold"},children:ht==="refill"?"Supplies":"Equipment"}),ht==="refill"&&et<F&&E.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1rem"},children:"⚠️ Low stock!"})]}),E.jsxs("div",{style:{display:"flex",gap:"0.8rem",justifyContent:e?"stretch":"flex-end"},children:[E.jsx("button",{onClick:je,style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#22c55e",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Save"}),E.jsx("button",{onClick:()=>se(null),style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Cancel"})]})]})]})}):E.jsxs("div",{children:[E.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"0.8rem",alignItems:"center",justifyContent:"space-between",marginBottom:"0.8rem"},children:[E.jsx("span",{style:{fontWeight:"bold",fontSize:s(S.name),color:"#1e293b",textAlign:a(S.name)?"right":"left",direction:a(S.name)?"rtl":"ltr",wordBreak:"break-word",hyphens:"auto",lineHeight:"1.2",flex:"1"},children:S.name}),E.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#0f172a",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",padding:"0.3rem 0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",minWidth:"50px",textAlign:"center"},children:S.amount}),E.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"0.4rem",alignItems:"center"},children:[E.jsx("button",{onClick:()=>vn(q,"innsbruck"),style:{...o("#f59e0b"),fontSize:"0.85rem",padding:"0.4rem 0.7rem"},children:"Edit"}),E.jsx("button",{onClick:()=>sn(q,"innsbruck"),style:{...o("#ef4444"),fontSize:"0.85rem",padding:"0.4rem 0.7rem"},children:"Delete"})]})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{style:{fontSize:"0.9rem",color:S.type==="stable"?"#2563eb":"#059669",fontWeight:"bold",padding:"0.2rem 0.6rem",borderRadius:"0.4rem",background:S.type==="stable"?"#eff6ff":"#f0fdf4",border:"1px solid",borderColor:S.type==="stable"?"#93c5fd":"#a7f3d0"},children:S.type==="refill"?"Supplies":"Equipment"}),S.type==="refill"&&S.amount<(S.lowStockThreshold||dt)&&E.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"0.8rem",flexShrink:0},children:"⚠️ Low stock!"})]}),E.jsxs("span",{style:{fontSize:"0.8rem",color:"#64748b"},children:["Low: < ",S.lowStockThreshold||dt]})]})]})},q))]})]}),(!e||at==="ci")&&E.jsxs("div",{className:"column-container",style:{gridColumn:e?"1":"2",flex:e?"none":"unset",background:"#fff",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1.5rem",minWidth:e?"0":"250px",height:e?"auto":"100%",overflowY:"auto",marginTop:e?"2rem":"0",display:"flex",flexDirection:"column",alignItems:"center"},children:[E.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"1.2rem",color:"#2563eb",textAlign:"center"},children:"C/I"}),E.jsxs("ul",{className:"item-list",style:{listStyle:"none",padding:0,width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[_.length===0&&E.jsx("p",{style:{color:"#64748b"},children:"No items yet."}),[..._].map((S,q)=>({item:S,originalIdx:q})).sort((S,q)=>{const tt=S.item.type==="refill"&&S.item.amount<(S.item.lowStockThreshold||dt),_t=q.item.type==="refill"&&q.item.amount<(q.item.lowStockThreshold||dt);return tt&&!_t?-1:!tt&&_t?1:(S.item.type==="refill"?-1:1)-(q.item.type==="refill"?-1:1)}).map(({item:S,originalIdx:q})=>E.jsx("li",{style:{background:S.type==="refill"&&S.amount<(S.lowStockThreshold||dt)?"#fef2f2":S.type==="stable"?"#eff6ff":"#f0fdf4",borderRadius:"0.8rem",boxShadow:"0 2px 6px #e0e7ef",padding:"0.9rem",width:e?"90%":"260px",maxWidth:"280px",border:"2px solid",borderColor:S.type==="refill"&&S.amount<(S.lowStockThreshold||dt)?"#fca5a5":S.type==="stable"?"#93c5fd":"#a7f3d0",position:"relative",marginBottom:"1.5rem"},children:R===q&&J==="ci"?E.jsx(Rs.Fragment,{children:E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsx("input",{type:"text",value:Qt,onChange:tt=>Q(tt.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"}}),E.jsx("input",{type:"number",value:et,onChange:tt=>ct(tt.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"}}),E.jsxs("select",{value:ht,onChange:tt=>D(tt.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"},children:[E.jsx("option",{value:"refill",children:"Supplies"}),E.jsx("option",{value:"stable",children:"Equipment"})]}),E.jsx("input",{type:"number",value:F,onChange:tt=>rt(tt.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"},placeholder:"Low stock threshold"}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginTop:"0.5rem"},children:[E.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[E.jsx("span",{style:{fontSize:"1rem",color:"#64748b"},children:"Type:"}),E.jsx("span",{style:{fontSize:"1rem",fontWeight:"bold",color:ht==="stable"?"#2563eb":"#059669"},children:ht==="refill"?"Supplies":"Equipment"}),ht==="refill"&&et<F&&E.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1rem"},children:"⚠️ Low stock!"})]}),E.jsxs("div",{style:{display:"flex",gap:"0.8rem",justifyContent:e?"stretch":"flex-end"},children:[E.jsx("button",{onClick:je,style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#22c55e",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Save"}),E.jsx("button",{onClick:()=>se(null),style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Cancel"})]})]})]})}):E.jsxs("div",{children:[E.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"0.8rem",alignItems:"center",justifyContent:"space-between",marginBottom:"0.8rem"},children:[E.jsx("span",{style:{fontWeight:"bold",fontSize:s(S.name),color:"#1e293b",textAlign:a(S.name)?"right":"left",direction:a(S.name)?"rtl":"ltr",wordBreak:"break-word",hyphens:"auto",lineHeight:"1.2",flex:"1"},children:S.name}),E.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#0f172a",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",padding:"0.3rem 0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",minWidth:"50px",textAlign:"center"},children:S.amount}),E.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"0.4rem",alignItems:"center"},children:[E.jsx("button",{onClick:()=>vn(q,"ci"),style:{...o("#f59e0b"),fontSize:"0.85rem",padding:"0.4rem 0.7rem"},children:"Edit"}),E.jsx("button",{onClick:()=>sn(q,"ci"),style:{...o("#ef4444"),fontSize:"0.85rem",padding:"0.4rem 0.7rem"},children:"Delete"})]})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{style:{fontSize:"0.9rem",color:S.type==="stable"?"#2563eb":"#059669",fontWeight:"bold",padding:"0.2rem 0.6rem",borderRadius:"0.4rem",background:S.type==="stable"?"#eff6ff":"#f0fdf4",border:"1px solid",borderColor:S.type==="stable"?"#93c5fd":"#a7f3d0"},children:S.type==="refill"?"Supplies":"Equipment"}),S.type==="refill"&&S.amount<(S.lowStockThreshold||dt)&&E.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"0.8rem",flexShrink:0},children:"⚠️ Low stock!"})]}),E.jsxs("span",{style:{fontSize:"0.8rem",color:"#64748b"},children:["Low: < ",S.lowStockThreshold||dt]})]})]})},q))]})]}),(!e||at==="gate")&&E.jsxs("div",{className:"column-container",style:{gridColumn:e?"1":"3",flex:e?"none":"unset",background:"#fff",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1.5rem",minWidth:e?"0":"250px",height:e?"auto":"100%",overflowY:"auto",marginTop:e?"2rem":"0",display:"flex",flexDirection:"column",alignItems:"center"},children:[E.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"1.2rem",color:"#2563eb",textAlign:"center"},children:"GATE"}),E.jsxs("ul",{className:"item-list",style:{listStyle:"none",padding:0,width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[V.length===0&&E.jsx("p",{style:{color:"#64748b"},children:"No items yet."}),[...V].map((S,q)=>({item:S,originalIdx:q})).sort((S,q)=>{const tt=S.item.type==="refill"&&S.item.amount<(S.item.lowStockThreshold||dt),_t=q.item.type==="refill"&&q.item.amount<(q.item.lowStockThreshold||dt);return tt&&!_t?-1:!tt&&_t?1:(S.item.type==="refill"?-1:1)-(q.item.type==="refill"?-1:1)}).map(({item:S,originalIdx:q})=>E.jsx("li",{style:{background:S.type==="refill"&&S.amount<(S.lowStockThreshold||dt)?"#fef2f2":S.type==="stable"?"#eff6ff":"#f0fdf4",borderRadius:"0.8rem",boxShadow:"0 2px 6px #e0e7ef",padding:"0.9rem",width:e?"90%":"260px",maxWidth:"280px",border:"2px solid",borderColor:S.type==="refill"&&S.amount<(S.lowStockThreshold||dt)?"#fca5a5":S.type==="stable"?"#93c5fd":"#a7f3d0",position:"relative",marginBottom:"1.5rem"},children:R===q&&J==="gate"?E.jsx(Rs.Fragment,{children:E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsx("input",{type:"text",value:Qt,onChange:tt=>Q(tt.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"}}),E.jsx("input",{type:"number",value:et,onChange:tt=>ct(tt.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"}}),E.jsxs("select",{value:ht,onChange:tt=>D(tt.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"},children:[E.jsx("option",{value:"refill",children:"Supplies"}),E.jsx("option",{value:"stable",children:"Equipment"})]}),E.jsx("input",{type:"number",value:F,onChange:tt=>rt(tt.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"},placeholder:"Low stock threshold"}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginTop:"0.5rem"},children:[E.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[E.jsx("span",{style:{fontSize:"1rem",color:"#64748b"},children:"Type:"}),E.jsx("span",{style:{fontSize:"1rem",fontWeight:"bold",color:ht==="stable"?"#2563eb":"#059669"},children:ht==="refill"?"Supplies":"Equipment"}),ht==="refill"&&et<F&&E.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1rem"},children:"⚠️ Low stock!"})]}),E.jsxs("div",{style:{display:"flex",gap:"0.8rem",justifyContent:e?"stretch":"flex-end"},children:[E.jsx("button",{onClick:je,style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#22c55e",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Save"}),E.jsx("button",{onClick:()=>se(null),style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Cancel"})]})]})]})}):E.jsxs("div",{children:[E.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"0.8rem",alignItems:"center",justifyContent:"space-between",marginBottom:"0.8rem"},children:[E.jsx("span",{style:{fontWeight:"bold",fontSize:s(S.name),color:"#1e293b",textAlign:a(S.name)?"right":"left",direction:a(S.name)?"rtl":"ltr",wordBreak:"break-word",hyphens:"auto",lineHeight:"1.2",flex:"1"},children:S.name}),E.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#0f172a",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",padding:"0.3rem 0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",minWidth:"50px",textAlign:"center"},children:S.amount}),E.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"0.4rem",alignItems:"center"},children:[E.jsx("button",{onClick:()=>vn(q,"gate"),style:{...o("#f59e0b"),fontSize:"0.85rem",padding:"0.4rem 0.7rem"},children:"Edit"}),E.jsx("button",{onClick:()=>sn(q,"gate"),style:{...o("#ef4444"),fontSize:"0.85rem",padding:"0.4rem 0.7rem"},children:"Delete"})]})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{style:{fontSize:"0.9rem",color:S.type==="stable"?"#2563eb":"#059669",fontWeight:"bold",padding:"0.2rem 0.6rem",borderRadius:"0.4rem",background:S.type==="stable"?"#eff6ff":"#f0fdf4",border:"1px solid",borderColor:S.type==="stable"?"#93c5fd":"#a7f3d0"},children:S.type==="refill"?"Supplies":"Equipment"}),S.type==="refill"&&S.amount<(S.lowStockThreshold||dt)&&E.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"0.8rem",flexShrink:0},children:"⚠️ Low stock!"})]}),E.jsxs("span",{style:{fontSize:"0.8rem",color:"#64748b"},children:["Low: < ",S.lowStockThreshold||dt]})]})]})},q))]})]}),(!e||at==="ctx")&&E.jsxs("div",{className:"column-container",style:{gridColumn:e?"1":"4",flex:e?"none":"unset",background:"#fff",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1.5rem",minWidth:e?"0":"250px",height:e?"auto":"100%",overflowY:"auto",marginTop:e?"2rem":"0",display:"flex",flexDirection:"column",alignItems:"center"},children:[E.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"1.2rem",color:"#2563eb",textAlign:"center"},children:"CTX"}),E.jsxs("ul",{className:"item-list",style:{listStyle:"none",padding:0,width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[Y.length===0&&E.jsx("p",{style:{color:"#64748b"},children:"No items yet."}),[...Y].map((S,q)=>({item:S,originalIdx:q})).sort((S,q)=>{const tt=S.item.type==="refill"&&S.item.amount<(S.item.lowStockThreshold||dt),_t=q.item.type==="refill"&&q.item.amount<(q.item.lowStockThreshold||dt);return tt&&!_t?-1:!tt&&_t?1:(S.item.type==="refill"?-1:1)-(q.item.type==="refill"?-1:1)}).map(({item:S,originalIdx:q})=>E.jsx("li",{style:{background:S.type==="refill"&&S.amount<(S.lowStockThreshold||dt)?"#fef2f2":S.type==="stable"?"#eff6ff":"#f0fdf4",borderRadius:"0.8rem",boxShadow:"0 2px 6px #e0e7ef",padding:"0.9rem",width:e?"90%":"260px",maxWidth:"280px",border:"2px solid",borderColor:S.type==="refill"&&S.amount<(S.lowStockThreshold||dt)?"#fca5a5":S.type==="stable"?"#93c5fd":"#a7f3d0",position:"relative",marginBottom:"1.5rem"},children:R===q&&J==="ctx"?E.jsx(Rs.Fragment,{children:E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem"},children:[E.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Name:"}),E.jsx("input",{type:"text",value:Qt,onChange:tt=>Q(tt.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]}),E.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",gap:"1rem"},children:[E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem",flex:1},children:[E.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Amount:"}),E.jsx("input",{type:"number",value:et,onChange:tt=>ct(tt.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem",flex:1},children:[E.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Low Stock:"}),E.jsx("input",{type:"number",value:F,onChange:tt=>rt(tt.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem"},children:[E.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Type:"}),E.jsxs("select",{value:ht,onChange:tt=>D(tt.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"},children:[E.jsx("option",{value:"refill",children:"Supplies"}),E.jsx("option",{value:"stable",children:"Equipment"})]})]}),E.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",gap:"1rem",alignItems:e?"stretch":"center",justifyContent:"space-between"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:e?"center":"flex-start"},children:[E.jsx("span",{style:{fontSize:"1rem",color:ht==="refill"?et<F?"#ef4444":"#22c55e":"#2563eb",fontWeight:"bold"},children:ht==="refill"?"Supplies":"Equipment"}),ht==="refill"&&et<F&&E.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1rem"},children:"⚠️ Low stock!"})]}),E.jsxs("div",{style:{display:"flex",gap:"0.8rem",justifyContent:e?"stretch":"flex-end"},children:[E.jsx("button",{onClick:je,style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#22c55e",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Save"}),E.jsx("button",{onClick:()=>se(null),style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Cancel"})]})]})]})}):E.jsxs("div",{children:[E.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"0.8rem",alignItems:"center",justifyContent:"space-between",marginBottom:"0.8rem"},children:[E.jsx("span",{style:{fontWeight:"bold",fontSize:s(S.name),color:"#1e293b",textAlign:a(S.name)?"right":"left",direction:a(S.name)?"rtl":"ltr",wordBreak:"break-word",hyphens:"auto",lineHeight:"1.2",flex:"1"},children:S.name}),E.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#0f172a",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",padding:"0.3rem 0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",minWidth:"50px",textAlign:"center"},children:S.amount}),E.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"0.4rem",alignItems:"center"},children:[E.jsx("button",{onClick:()=>vn(q,"ctx"),style:{...o("#f59e0b"),fontSize:"0.85rem",padding:"0.4rem 0.7rem"},children:"Edit"}),E.jsx("button",{onClick:()=>sn(q,"ctx"),style:{...o("#ef4444"),fontSize:"0.85rem",padding:"0.4rem 0.7rem"},children:"Delete"})]})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{style:{fontSize:"0.9rem",color:S.type==="stable"?"#2563eb":"#059669",fontWeight:"bold",padding:"0.2rem 0.6rem",borderRadius:"0.4rem",background:S.type==="stable"?"#eff6ff":"#f0fdf4",border:"1px solid",borderColor:S.type==="stable"?"#93c5fd":"#a7f3d0"},children:S.type==="refill"?"Supplies":"Equipment"}),S.type==="refill"&&S.amount<(S.lowStockThreshold||dt)&&E.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"0.8rem",flexShrink:0},children:"⚠️ Low stock!"})]}),E.jsxs("span",{style:{fontSize:"0.8rem",color:"#64748b"},children:["Low: < ",S.lowStockThreshold||dt]})]})]})},q))]})]}),(!e||at==="celler")&&E.jsxs("div",{className:"column-container",style:{gridColumn:e?"1":"6",flex:e?"none":"unset",background:"#fff",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1.5rem",minWidth:e?"0":"250px",height:e?"auto":"100%",overflowY:"auto",marginTop:e?"2rem":"0",display:"flex",flexDirection:"column",alignItems:"center"},children:[E.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"1.2rem",color:"#2563eb",textAlign:"center"},children:"CELLER"}),E.jsxs("ul",{className:"item-list",style:{listStyle:"none",padding:0,width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[lt.length===0&&E.jsx("p",{style:{color:"#64748b"},children:"No items yet."}),[...lt].map((S,q)=>({item:S,originalIdx:q})).sort((S,q)=>{const tt=S.item.type==="refill"&&S.item.amount<(S.item.lowStockThreshold||dt),_t=q.item.type==="refill"&&q.item.amount<(q.item.lowStockThreshold||dt);return tt&&!_t?-1:!tt&&_t?1:(S.item.type==="refill"?-1:1)-(q.item.type==="refill"?-1:1)}).map(({item:S,originalIdx:q})=>E.jsx("li",{style:{background:S.type==="refill"&&S.amount<(S.lowStockThreshold||dt)?"#fef2f2":S.type==="stable"?"#eff6ff":"#f0fdf4",borderRadius:"0.8rem",boxShadow:"0 2px 6px #e0e7ef",padding:"0.9rem",width:e?"90%":"260px",maxWidth:"280px",border:"2px solid",borderColor:S.type==="refill"&&S.amount<(S.lowStockThreshold||dt)?"#fca5a5":S.type==="stable"?"#93c5fd":"#a7f3d0",position:"relative",marginBottom:"1.5rem"},children:R===q&&J==="celler"?E.jsx(Rs.Fragment,{children:E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem"},children:[E.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Name:"}),E.jsx("input",{type:"text",value:Qt,onChange:tt=>Q(tt.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]}),E.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",gap:"1rem"},children:[E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem",flex:1},children:[E.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Amount:"}),E.jsx("input",{type:"number",value:et,onChange:tt=>ct(tt.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem",flex:1},children:[E.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Low Stock:"}),E.jsx("input",{type:"number",value:F,onChange:tt=>rt(tt.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem"},children:[E.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Type:"}),E.jsxs("select",{value:ht,onChange:tt=>D(tt.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"},children:[E.jsx("option",{value:"refill",children:"Supplies"}),E.jsx("option",{value:"stable",children:"Equipment"})]})]}),E.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",gap:"1rem",alignItems:e?"stretch":"center",justifyContent:"space-between"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:e?"center":"flex-start"},children:[E.jsx("span",{style:{fontSize:"1rem",color:ht==="refill"?et<F?"#ef4444":"#22c55e":"#2563eb",fontWeight:"bold"},children:ht==="refill"?"Supplies":"Equipment"}),ht==="refill"&&et<F&&E.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1rem"},children:"⚠️ Low stock!"})]}),E.jsxs("div",{style:{display:"flex",gap:"0.8rem",justifyContent:e?"stretch":"flex-end"},children:[E.jsx("button",{onClick:je,style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#22c55e",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Save"}),E.jsx("button",{onClick:()=>se(null),style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Cancel"})]})]})]})}):E.jsxs("div",{children:[E.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"0.8rem",alignItems:"center",justifyContent:"space-between",marginBottom:"0.8rem"},children:[E.jsx("span",{style:{fontWeight:"bold",fontSize:s(S.name),color:"#1e293b",textAlign:a(S.name)?"right":"left",direction:a(S.name)?"rtl":"ltr",wordBreak:"break-word",hyphens:"auto",lineHeight:"1.2",flex:"1"},children:S.name}),E.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#0f172a",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",padding:"0.3rem 0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",minWidth:"50px",textAlign:"center"},children:S.amount}),E.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"0.4rem",alignItems:"center"},children:[E.jsx("button",{onClick:()=>vn(q,"celler"),style:{...o("#f59e0b"),fontSize:"0.85rem",padding:"0.4rem 0.7rem"},children:"Edit"}),E.jsx("button",{onClick:()=>sn(q,"celler"),style:{...o("#ef4444"),fontSize:"0.85rem",padding:"0.4rem 0.7rem"},children:"Delete"})]})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{style:{fontSize:"0.9rem",color:S.type==="stable"?"#2563eb":"#059669",fontWeight:"bold",padding:"0.2rem 0.6rem",borderRadius:"0.4rem",background:S.type==="stable"?"#eff6ff":"#f0fdf4",border:"1px solid",borderColor:S.type==="stable"?"#93c5fd":"#a7f3d0"},children:S.type==="refill"?"Supplies":"Equipment"}),S.type==="refill"&&S.amount<(S.lowStockThreshold||dt)&&E.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"0.8rem",flexShrink:0},children:"⚠️ Low stock!"})]}),E.jsxs("span",{style:{fontSize:"0.8rem",color:"#64748b"},children:["Low: < ",S.lowStockThreshold||dt]})]})]})},q))]})]}),(!e||at==="check-room")&&E.jsxs("div",{className:"column-container",style:{gridColumn:e?"1":"5",flex:e?"none":"unset",background:"#fff",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1.5rem",minWidth:e?"0":"250px",height:e?"auto":"100%",overflowY:"auto",marginTop:e?"2rem":"0",display:"flex",flexDirection:"column",alignItems:"center"},children:[E.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"1.2rem",color:"#2563eb",textAlign:"center"},children:"Check-Room"}),E.jsxs("ul",{className:"item-list",style:{listStyle:"none",padding:0,width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[wt.length===0&&E.jsx("p",{style:{color:"#64748b"},children:"No items yet."}),[...wt].map((S,q)=>({item:S,originalIdx:q})).sort((S,q)=>{const tt=S.item.type==="refill"&&S.item.amount<(S.item.lowStockThreshold||dt),_t=q.item.type==="refill"&&q.item.amount<(q.item.lowStockThreshold||dt);return tt&&!_t?-1:!tt&&_t?1:(S.item.type==="refill"?-1:1)-(q.item.type==="refill"?-1:1)}).map(({item:S,originalIdx:q})=>E.jsx("li",{style:{background:S.type==="refill"&&S.amount<(S.lowStockThreshold||dt)?"#fef2f2":S.type==="stable"?"#eff6ff":"#f0fdf4",borderRadius:"0.8rem",boxShadow:"0 2px 6px #e0e7ef",padding:"0.9rem",width:e?"90%":"260px",maxWidth:"280px",border:"2px solid",borderColor:S.type==="refill"&&S.amount<(S.lowStockThreshold||dt)?"#fca5a5":S.type==="stable"?"#93c5fd":"#a7f3d0",position:"relative",marginBottom:"1.5rem"},children:R===q&&J==="check-room"?E.jsx(Rs.Fragment,{children:E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsx("input",{type:"text",value:Qt,onChange:tt=>Q(tt.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"}}),E.jsx("input",{type:"number",value:et,onChange:tt=>ct(tt.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"}}),E.jsxs("select",{value:ht,onChange:tt=>D(tt.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"},children:[E.jsx("option",{value:"refill",children:"Supplies"}),E.jsx("option",{value:"stable",children:"Equipment"})]}),E.jsx("input",{type:"number",value:F,onChange:tt=>rt(tt.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"},placeholder:"Low stock threshold"}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginTop:"0.5rem"},children:[E.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[E.jsx("span",{style:{fontSize:"1rem",color:"#64748b"},children:"Type:"}),E.jsx("span",{style:{fontSize:"1rem",fontWeight:"bold",color:ht==="stable"?"#2563eb":"#059669"},children:ht==="refill"?"Supplies":"Equipment"}),ht==="refill"&&et<F&&E.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1rem"},children:"⚠️ Low stock!"})]}),E.jsxs("div",{style:{display:"flex",gap:"0.8rem",justifyContent:e?"stretch":"flex-end"},children:[E.jsx("button",{onClick:je,style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#22c55e",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Save"}),E.jsx("button",{onClick:()=>se(null),style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Cancel"})]})]})]})}):E.jsxs("div",{children:[E.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"0.8rem",alignItems:"center",justifyContent:"space-between",marginBottom:"0.8rem"},children:[E.jsx("span",{style:{fontWeight:"bold",fontSize:s(S.name),color:"#1e293b",textAlign:a(S.name)?"right":"left",direction:a(S.name)?"rtl":"ltr",wordBreak:"break-word",hyphens:"auto",lineHeight:"1.2",flex:"1"},children:S.name}),E.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#0f172a",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",padding:"0.3rem 0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",minWidth:"50px",textAlign:"center"},children:S.amount}),E.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"0.4rem",alignItems:"center"},children:[E.jsx("button",{onClick:()=>vn(q,"check-room"),style:{...o("#f59e0b"),fontSize:"0.85rem",padding:"0.4rem 0.7rem"},children:"Edit"}),E.jsx("button",{onClick:()=>sn(q,"check-room"),style:{...o("#ef4444"),fontSize:"0.85rem",padding:"0.4rem 0.7rem"},children:"Delete"})]})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{style:{fontSize:"0.9rem",color:S.type==="stable"?"#2563eb":"#059669",fontWeight:"bold",padding:"0.2rem 0.6rem",borderRadius:"0.4rem",background:S.type==="stable"?"#eff6ff":"#f0fdf4",border:"1px solid",borderColor:S.type==="stable"?"#93c5fd":"#a7f3d0"},children:S.type==="refill"?"Supplies":"Equipment"}),S.type==="refill"&&S.amount<(S.lowStockThreshold||dt)&&E.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"0.8rem",flexShrink:0},children:"⚠️ Low stock!"})]}),E.jsxs("span",{style:{fontSize:"0.8rem",color:"#64748b"},children:["Low: < ",S.lowStockThreshold||dt]})]})]})},q))]})]})]}),Jt&&E.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"1rem"},children:E.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"1rem",padding:"2rem",maxWidth:"400px",width:"100%",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)",textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem",color:"#ef4444"},children:"⚠️"}),E.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"0.5rem",color:"#1f2937",fontWeight:"bold"},children:"Confirm Delete"}),E.jsxs("p",{style:{fontSize:"1.1rem",marginBottom:"1.5rem",color:"#6b7280",lineHeight:"1.5"},children:["Are you sure you want to delete"," ",E.jsxs("strong",{style:{color:"#1f2937"},children:['"',De.itemName,'"']}),"?",E.jsx("br",{}),E.jsx("span",{style:{fontSize:"1rem",color:"#ef4444"},children:"This action cannot be undone."})]}),E.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[E.jsx("button",{onClick:Oi,style:{fontSize:"1.1rem",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",background:"#6b7280",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",minWidth:"100px"},children:"Cancel"}),E.jsx("button",{onClick:Qn,style:{fontSize:"1.1rem",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",minWidth:"100px"},children:"Delete"})]})]})}),wi&&E.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:E.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"1rem",padding:"2rem",maxWidth:"400px",width:"90%",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)"},children:[E.jsx("h3",{style:{margin:"0 0 1.5rem 0",fontSize:"1.5rem",color:"#2d3748",textAlign:"center"},children:"🔒 Admin Access Required"}),E.jsx("p",{style:{margin:"0 0 1.5rem 0",color:"#4a5568",textAlign:"center",fontSize:"1rem"},children:"Enter password to add new items:"}),E.jsx("input",{type:"password",value:Xr,onChange:S=>He(S.target.value),onKeyPress:S=>S.key==="Enter"&&ni(),placeholder:"Enter password",style:{width:"100%",padding:"0.75rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"1rem",marginBottom:"1.5rem",boxSizing:"border-box"},autoFocus:!0}),E.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[E.jsx("button",{onClick:_n,style:{padding:"0.75rem 1.5rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",backgroundColor:"#fff",color:"#4a5568",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Cancel"}),E.jsx("button",{onClick:ni,style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:"0.5rem",backgroundColor:"#2563eb",color:"#fff",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Submit"})]})]})})]})}Q1.createRoot(document.getElementById("root")).render(E.jsx(Vt.StrictMode,{children:E.jsx(JA,{})}));
