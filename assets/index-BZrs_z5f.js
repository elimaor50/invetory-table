(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var Sf={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function xE(){if(iy)return zl;iy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return zl.Fragment=e,zl.jsx=i,zl.jsxs=i,zl}var ry;function UE(){return ry||(ry=1,Sf.exports=xE()),Sf.exports}var it=UE(),bf={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function zE(){if(ay)return Rt;ay=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),V=Symbol.iterator;function I(C){return C===null||typeof C!="object"?null:(C=V&&C[V]||C["@@iterator"],typeof C=="function"?C:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,nt={};function $(C,K,et){this.props=C,this.context=K,this.refs=nt,this.updater=et||G}$.prototype.isReactComponent={},$.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},$.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function At(){}At.prototype=$.prototype;function pt(C,K,et){this.props=C,this.context=K,this.refs=nt,this.updater=et||G}var ct=pt.prototype=new At;ct.constructor=pt,Z(ct,$.prototype),ct.isPureReactComponent=!0;var xt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},bt=Object.prototype.hasOwnProperty;function O(C,K,et,W,ft,Ct){return et=Ct.ref,{$$typeof:s,type:C,key:K,ref:et!==void 0?et:null,props:Ct}}function S(C,K){return O(C.type,K,void 0,void 0,void 0,C.props)}function b(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function N(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(et){return K[et]})}var M=/\/+/g;function U(C,K){return typeof C=="object"&&C!==null&&C.key!=null?N(""+C.key):K.toString(36)}function w(){}function ut(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function mt(C,K,et,W,ft){var Ct=typeof C;(Ct==="undefined"||Ct==="boolean")&&(C=null);var Et=!1;if(C===null)Et=!0;else switch(Ct){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(C.$$typeof){case s:case e:Et=!0;break;case A:return Et=C._init,mt(Et(C._payload),K,et,W,ft)}}if(Et)return ft=ft(C),Et=W===""?"."+U(C,0):W,xt(ft)?(et="",Et!=null&&(et=Et.replace(M,"$&/")+"/"),mt(ft,K,et,"",function(Ln){return Ln})):ft!=null&&(b(ft)&&(ft=S(ft,et+(ft.key==null||C&&C.key===ft.key?"":(""+ft.key).replace(M,"$&/")+"/")+Et)),K.push(ft)),1;Et=0;var Ce=W===""?".":W+":";if(xt(C))for(var Jt=0;Jt<C.length;Jt++)W=C[Jt],Ct=Ce+U(W,Jt),Et+=mt(W,K,et,Ct,ft);else if(Jt=I(C),typeof Jt=="function")for(C=Jt.call(C),Jt=0;!(W=C.next()).done;)W=W.value,Ct=Ce+U(W,Jt++),Et+=mt(W,K,et,Ct,ft);else if(Ct==="object"){if(typeof C.then=="function")return mt(ut(C),K,et,W,ft);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Et}function q(C,K,et){if(C==null)return C;var W=[],ft=0;return mt(C,W,"","",function(Ct){return K.call(et,Ct,ft++)}),W}function J(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(et){(C._status===0||C._status===-1)&&(C._status=1,C._result=et)},function(et){(C._status===0||C._status===-1)&&(C._status=2,C._result=et)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var st=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Mt(){}return Rt.Children={map:q,forEach:function(C,K,et){q(C,function(){K.apply(this,arguments)},et)},count:function(C){var K=0;return q(C,function(){K++}),K},toArray:function(C){return q(C,function(K){return K})||[]},only:function(C){if(!b(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Rt.Component=$,Rt.Fragment=i,Rt.Profiler=u,Rt.PureComponent=pt,Rt.StrictMode=a,Rt.Suspense=_,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return vt.H.useMemoCache(C)}},Rt.cache=function(C){return function(){return C.apply(null,arguments)}},Rt.cloneElement=function(C,K,et){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=Z({},C.props),ft=C.key,Ct=void 0;if(K!=null)for(Et in K.ref!==void 0&&(Ct=void 0),K.key!==void 0&&(ft=""+K.key),K)!bt.call(K,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&K.ref===void 0||(W[Et]=K[Et]);var Et=arguments.length-2;if(Et===1)W.children=et;else if(1<Et){for(var Ce=Array(Et),Jt=0;Jt<Et;Jt++)Ce[Jt]=arguments[Jt+2];W.children=Ce}return O(C.type,ft,void 0,void 0,Ct,W)},Rt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},Rt.createElement=function(C,K,et){var W,ft={},Ct=null;if(K!=null)for(W in K.key!==void 0&&(Ct=""+K.key),K)bt.call(K,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ft[W]=K[W]);var Et=arguments.length-2;if(Et===1)ft.children=et;else if(1<Et){for(var Ce=Array(Et),Jt=0;Jt<Et;Jt++)Ce[Jt]=arguments[Jt+2];ft.children=Ce}if(C&&C.defaultProps)for(W in Et=C.defaultProps,Et)ft[W]===void 0&&(ft[W]=Et[W]);return O(C,Ct,void 0,void 0,null,ft)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(C){return{$$typeof:p,render:C}},Rt.isValidElement=b,Rt.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:J}},Rt.memo=function(C,K){return{$$typeof:v,type:C,compare:K===void 0?null:K}},Rt.startTransition=function(C){var K=vt.T,et={};vt.T=et;try{var W=C(),ft=vt.S;ft!==null&&ft(et,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Mt,st)}catch(Ct){st(Ct)}finally{vt.T=K}},Rt.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},Rt.use=function(C){return vt.H.use(C)},Rt.useActionState=function(C,K,et){return vt.H.useActionState(C,K,et)},Rt.useCallback=function(C,K){return vt.H.useCallback(C,K)},Rt.useContext=function(C){return vt.H.useContext(C)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(C,K){return vt.H.useDeferredValue(C,K)},Rt.useEffect=function(C,K,et){var W=vt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,K)},Rt.useId=function(){return vt.H.useId()},Rt.useImperativeHandle=function(C,K,et){return vt.H.useImperativeHandle(C,K,et)},Rt.useInsertionEffect=function(C,K){return vt.H.useInsertionEffect(C,K)},Rt.useLayoutEffect=function(C,K){return vt.H.useLayoutEffect(C,K)},Rt.useMemo=function(C,K){return vt.H.useMemo(C,K)},Rt.useOptimistic=function(C,K){return vt.H.useOptimistic(C,K)},Rt.useReducer=function(C,K,et){return vt.H.useReducer(C,K,et)},Rt.useRef=function(C){return vt.H.useRef(C)},Rt.useState=function(C){return vt.H.useState(C)},Rt.useSyncExternalStore=function(C,K,et){return vt.H.useSyncExternalStore(C,K,et)},Rt.useTransition=function(){return vt.H.useTransition()},Rt.version="19.1.1",Rt}var sy;function ud(){return sy||(sy=1,bf.exports=zE()),bf.exports}var en=ud(),Rf={exports:{}},Ll={},wf={exports:{}},Cf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function LE(){return ly||(ly=1,function(s){function e(q,J){var st=q.length;q.push(J);t:for(;0<st;){var Mt=st-1>>>1,C=q[Mt];if(0<u(C,J))q[Mt]=J,q[st]=C,st=Mt;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var J=q[0],st=q.pop();if(st!==J){q[0]=st;t:for(var Mt=0,C=q.length,K=C>>>1;Mt<K;){var et=2*(Mt+1)-1,W=q[et],ft=et+1,Ct=q[ft];if(0>u(W,st))ft<C&&0>u(Ct,W)?(q[Mt]=Ct,q[ft]=st,Mt=ft):(q[Mt]=W,q[et]=st,Mt=et);else if(ft<C&&0>u(Ct,st))q[Mt]=Ct,q[ft]=st,Mt=ft;else break t}}return J}function u(q,J){var st=q.sortIndex-J.sortIndex;return st!==0?st:q.id-J.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],v=[],A=1,V=null,I=3,G=!1,Z=!1,nt=!1,$=!1,At=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function xt(q){for(var J=i(v);J!==null;){if(J.callback===null)a(v);else if(J.startTime<=q)a(v),J.sortIndex=J.expirationTime,e(_,J);else break;J=i(v)}}function vt(q){if(nt=!1,xt(q),!Z)if(i(_)!==null)Z=!0,bt||(bt=!0,U());else{var J=i(v);J!==null&&mt(vt,J.startTime-q)}}var bt=!1,O=-1,S=5,b=-1;function N(){return $?!0:!(s.unstable_now()-b<S)}function M(){if($=!1,bt){var q=s.unstable_now();b=q;var J=!0;try{t:{Z=!1,nt&&(nt=!1,pt(O),O=-1),G=!0;var st=I;try{e:{for(xt(q),V=i(_);V!==null&&!(V.expirationTime>q&&N());){var Mt=V.callback;if(typeof Mt=="function"){V.callback=null,I=V.priorityLevel;var C=Mt(V.expirationTime<=q);if(q=s.unstable_now(),typeof C=="function"){V.callback=C,xt(q),J=!0;break e}V===i(_)&&a(_),xt(q)}else a(_);V=i(_)}if(V!==null)J=!0;else{var K=i(v);K!==null&&mt(vt,K.startTime-q),J=!1}}break t}finally{V=null,I=st,G=!1}J=void 0}}finally{J?U():bt=!1}}}var U;if(typeof ct=="function")U=function(){ct(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ut=w.port2;w.port1.onmessage=M,U=function(){ut.postMessage(null)}}else U=function(){At(M,0)};function mt(q,J){O=At(function(){q(s.unstable_now())},J)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(q){switch(I){case 1:case 2:case 3:var J=3;break;default:J=I}var st=I;I=J;try{return q()}finally{I=st}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var st=I;I=q;try{return J()}finally{I=st}},s.unstable_scheduleCallback=function(q,J,st){var Mt=s.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?Mt+st:Mt):st=Mt,q){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=st+C,q={id:A++,callback:J,priorityLevel:q,startTime:st,expirationTime:C,sortIndex:-1},st>Mt?(q.sortIndex=st,e(v,q),i(_)===null&&q===i(v)&&(nt?(pt(O),O=-1):nt=!0,mt(vt,st-Mt))):(q.sortIndex=C,e(_,q),Z||G||(Z=!0,bt||(bt=!0,U()))),q},s.unstable_shouldYield=N,s.unstable_wrapCallback=function(q){var J=I;return function(){var st=I;I=J;try{return q.apply(this,arguments)}finally{I=st}}}}(Cf)),Cf}var uy;function PE(){return uy||(uy=1,wf.exports=LE()),wf.exports}var Df={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function BE(){if(oy)return Ge;oy=1;var s=ud();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,A){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:V==null?null:""+V,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ge.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},Ge.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},Ge.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},Ge.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ge.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,V=p(A,v.crossOrigin),I=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:V,integrity:I,fetchPriority:G}):A==="script"&&a.d.X(_,{crossOrigin:V,integrity:I,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ge.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},Ge.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,V=p(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:V,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ge.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=p(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},Ge.requestFormReset=function(_){a.d.r(_)},Ge.unstable_batchedUpdates=function(_,v){return _(v)},Ge.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.1",Ge}var cy;function kE(){if(cy)return Df.exports;cy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Df.exports=BE(),Df.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function qE(){if(hy)return Ll;hy=1;var s=PE(),e=ud(),i=kE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return p(c),t;if(f===l)return p(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),At=Symbol.for("react.provider"),pt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function ut(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case $:return"Profiler";case nt:return"StrictMode";case vt:return"Suspense";case bt:return"SuspenseList";case b:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ct:return(t.displayName||"Context")+".Provider";case pt:return(t._context.displayName||"Context")+".Consumer";case xt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:ut(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return ut(t(n))}catch{}}return null}var mt=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},Mt=[],C=-1;function K(t){return{current:t}}function et(t){0>C||(t.current=Mt[C],Mt[C]=null,C--)}function W(t,n){C++,Mt[C]=t.current,t.current=n}var ft=K(null),Ct=K(null),Et=K(null),Ce=K(null);function Jt(t,n){switch(W(Et,n),W(Ct,t),W(ft,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Np(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Np(n),t=Op(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ft),W(ft,t)}function Ln(){et(ft),et(Ct),et(Et)}function zi(t){t.memoizedState!==null&&W(Ce,t);var n=ft.current,r=Op(n,t.type);n!==r&&(W(Ct,t),W(ft,r))}function li(t){Ct.current===t&&(et(ft),et(Ct)),Ce.current===t&&(et(Ce),Nl._currentValue=st)}var Rr=Object.prototype.hasOwnProperty,wr=s.unstable_scheduleCallback,Cr=s.unstable_cancelCallback,Ds=s.unstable_shouldYield,uu=s.unstable_requestPaint,gn=s.unstable_now,Ac=s.unstable_getCurrentPriorityLevel,Vs=s.unstable_ImmediatePriority,pa=s.unstable_UserBlockingPriority,Dr=s.unstable_NormalPriority,Sc=s.unstable_LowPriority,ya=s.unstable_IdlePriority,Is=s.log,ou=s.unstable_setDisableYieldValue,se=null,Gt=null;function an(t){if(typeof Is=="function"&&ou(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(se,t)}catch{}}var je=Math.clz32?Math.clz32:Vr,cu=Math.log,bc=Math.LN2;function Vr(t){return t>>>=0,t===0?32:31-(cu(t)/bc|0)|0}var Ir=256,Nr=4194304;function Vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _a(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Vn(l):(y&=E,y!==0?c=Vn(y):r||(r=E&~t,r!==0&&(c=Vn(r))))):(E=l&~f,E!==0?c=Vn(E):y!==0?c=Vn(y):r||(r=l&~t,r!==0&&(c=Vn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Or(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ns(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Os(){var t=Ir;return Ir<<=1,(Ir&4194048)===0&&(Ir=256),t}function Ms(){var t=Nr;return Nr<<=1,(Nr&62914560)===0&&(Nr=4194304),t}function ui(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function oi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xs(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var H=31-je(r),F=1<<H;E[H]=0,R[H]=-1;var B=P[H];if(B!==null)for(P[H]=null,H=0;H<B.length;H++){var k=B[H];k!==null&&(k.lane&=-536870913)}r&=~F}l!==0&&Pn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Pn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-je(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Us(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-je(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Li(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function va(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pi(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:$p(t.type))}function hu(t,n){var r=J.p;try{return J.p=t,n()}finally{J.p=r}}var ne=Math.random().toString(36).slice(2),Te="__reactFiber$"+ne,de="__reactProps$"+ne,pn="__reactContainer$"+ne,zs="__reactEvents$"+ne,Rc="__reactListeners$"+ne,Bi="__reactHandles$"+ne,fu="__reactResources$"+ne,Mr="__reactMarker$"+ne;function ki(t){delete t[Te],delete t[de],delete t[zs],delete t[Rc],delete t[Bi]}function ci(t){var n=t[Te];if(n)return n;for(var r=t.parentNode;r;){if(n=r[pn]||r[Te]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=zp(t);t!==null;){if(r=t[Te])return r;t=zp(t)}return n}t=r,r=t.parentNode}return null}function Bn(t){if(t=t[Te]||t[pn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function kn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Xe(t){var n=t[fu];return n||(n=t[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function oe(t){t[Mr]=!0}var Ls=new Set,Ea={};function In(t,n){hi(t,n),hi(t+"Capture",n)}function hi(t,n){for(Ea[t]=n,t=0;t<n.length;t++)Ls.add(n[t])}var du=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mu={},xr={};function gu(t){return Rr.call(xr,t)?!0:Rr.call(mu,t)?!1:du.test(t)?xr[t]=!0:(mu[t]=!0,!1)}function qi(t,n,r){if(gu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function qn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function xe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Ur,pu;function fi(t){if(Ur===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ur=n&&n[1]||"",pu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ur+t+pu}var Ta=!1;function Aa(t,n){if(!t||Ta)return"";Ta=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(k){var B=k}Reflect.construct(t,[],F)}else{try{F.call()}catch(k){B=k}t.call(F.prototype)}}else{try{throw Error()}catch(k){B=k}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),P=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===P.length)for(l=R.length-1,c=P.length-1;1<=l&&0<=c&&R[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==P[c]){var H=`
`+R[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{Ta=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?fi(r):""}function Ps(t){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Aa(t.type,!1);case 11:return Aa(t.type.render,!1);case 1:return Aa(t.type,!0);case 31:return fi("Activity");default:return""}}function Sa(t){try{var n="";do n+=Ps(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wc(t){var n=Bs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ba(t){t._valueTracker||(t._valueTracker=wc(t))}function ks(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Bs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function zr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cc=/[\n"\\]/g;function me(t){return t.replace(Cc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?ji(t,y,Ke(n)):r!=null?ji(t,y,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function Lr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function ji(t,n,r){n==="number"&&zr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function di(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Yt(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Pr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(mt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Br=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Br.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function qs(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&yu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&yu(t,f,n[f])}function js(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(t){return Vc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var mi=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gi=null,pi=null;function Hs(t){var n=Bn(t);if(n&&(t=n.stateNode)){var r=t[de]||null;t:switch(t=n.stateNode,n.type){case"input":if(sn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[de]||null;if(!c)throw Error(a(90));sn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&ks(l)}break t;case"textarea":Yt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&di(t,!!r.multiple,n,!1)}}}var jn=!1;function _u(t,n,r){if(jn)return t(n,r);jn=!0;try{var l=t(n);return l}finally{if(jn=!1,(gi!==null||pi!==null)&&(ho(),gi&&(n=gi,t=pi,pi=gi=null,Hs(n),t)))for(n=0;n<t.length;n++)Hs(t[n])}}function kr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[de]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(Nn)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{vn=!1}var Hn=null,Hi=null,yi=null;function Gs(){if(yi)return yi;var t,n=Hi,r=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return yi=c.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qn(){return!0}function Qs(){return!1}function De(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qn:Qs,this.isPropagationStopped=Qs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=De(jt),jr=A({},jt,{view:0,detail:0}),vu=De(jr),Ca,Da,Fn,Hr=A({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(Ca=t.screenX-Fn.screenX,Da=t.screenY-Fn.screenY):Da=Ca=0,Fn=t),Ca)},movementY:function(t){return"movementY"in t?t.movementY:Da}}),En=De(Hr),Eu=A({},Hr,{dataTransfer:0}),Ic=De(Eu),Gr=A({},jr,{relatedTarget:0}),Va=De(Gr),Fs=A({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ia=De(Fs),Tu=A({},jt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Na=De(Tu),Nc=A({},jt,{data:0}),Ys=De(Nc),Qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Su[t])?!!n[t]:!1}function Fr(){return Xs}var bu=A({},jr,{key:function(t){if(t.key){var n=Qr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Au[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Oa=De(bu),Ru=A({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ks=De(Ru),_i=A({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),wu=De(_i),Cu=A({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Du=De(Cu),Vu=A({},Hr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ma=De(Vu),Ze=A({},jt,{newState:0,oldState:0}),Iu=De(Ze),Nu=[9,13,27,32],Yn=Nn&&"CompositionEvent"in window,o=null;Nn&&"documentMode"in document&&(o=document.documentMode);var m=Nn&&"TextEvent"in window&&!o,g=Nn&&(!Yn||o&&8<o&&11>=o),T=" ",z=!1;function j(t,n){switch(t){case"keyup":return Nu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ut=!1;function Ae(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(z=!0,T);case"textInput":return t=n.data,t===T&&z?null:t;default:return null}}function zt(t,n){if(Ut)return t==="compositionend"||!Yn&&j(t,n)?(t=Gs(),yi=Hi=Hn=null,Ut=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ve[t.type]:n==="textarea"}function vi(t,n,r,l){gi?pi?pi.push(l):pi=[l]:gi=l,n=_o(n,"onChange"),0<n.length&&(r=new wa("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,Xn=null;function Zs(t){wp(t,0)}function Ou(t){var n=kn(t);if(ks(n))return t}function Yd(t,n){if(t==="change")return n}var Xd=!1;if(Nn){var Oc;if(Nn){var Mc="oninput"in document;if(!Mc){var Kd=document.createElement("div");Kd.setAttribute("oninput","return;"),Mc=typeof Kd.oninput=="function"}Oc=Mc}else Oc=!1;Xd=Oc&&(!document.documentMode||9<document.documentMode)}function Zd(){Ue&&(Ue.detachEvent("onpropertychange",$d),Xn=Ue=null)}function $d(t){if(t.propertyName==="value"&&Ou(Xn)){var n=[];vi(n,Xn,t,_n(t)),_u(Zs,n)}}function c0(t,n,r){t==="focusin"?(Zd(),Ue=n,Xn=r,Ue.attachEvent("onpropertychange",$d)):t==="focusout"&&Zd()}function h0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(Xn)}function f0(t,n){if(t==="click")return Ou(n)}function d0(t,n){if(t==="input"||t==="change")return Ou(n)}function m0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:m0;function $s(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Rr.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function Jd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wd(t,n){var r=Jd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Jd(r)}}function tm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?tm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function em(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=zr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=zr(t.document)}return n}function xc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var g0=Nn&&"documentMode"in document&&11>=document.documentMode,xa=null,Uc=null,Js=null,zc=!1;function nm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zc||xa==null||xa!==zr(l)||(l=xa,"selectionStart"in l&&xc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Js&&$s(Js,l)||(Js=l,l=_o(Uc,"onSelect"),0<l.length&&(n=new wa("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=xa)))}function Yr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ua={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},Lc={},im={};Nn&&(im=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Xr(t){if(Lc[t])return Lc[t];if(!Ua[t])return t;var n=Ua[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in im)return Lc[t]=n[r];return t}var rm=Xr("animationend"),am=Xr("animationiteration"),sm=Xr("animationstart"),p0=Xr("transitionrun"),y0=Xr("transitionstart"),_0=Xr("transitioncancel"),lm=Xr("transitionend"),um=new Map,Pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pc.push("scrollEnd");function On(t,n){um.set(t,n),In(n,[t])}var om=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var r=om.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Sa(n)},om.set(t,n),n)}return{value:t,source:n,stack:Sa(n)}}var An=[],za=0,Bc=0;function Mu(){for(var t=za,n=Bc=za=0;n<t;){var r=An[n];An[n++]=null;var l=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&cm(r,c,f)}}function xu(t,n,r,l){An[za++]=t,An[za++]=n,An[za++]=r,An[za++]=l,Bc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function kc(t,n,r,l){return xu(t,n,r,l),Uu(t)}function La(t,n){return xu(t,null,null,n),Uu(t)}function cm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-je(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Uu(t){if(50<Sl)throw Sl=0,Fh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Pa={};function v0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,n,r,l){return new v0(t,n,r,l)}function qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ei(t,n){var r=t.alternate;return r===null?(r=un(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function hm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function zu(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")qc(t)&&(y=1);else if(typeof t=="string")y=TE(t,r,ft.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case b:return t=un(31,r,n,c),t.elementType=b,t.lanes=f,t;case Z:return Kr(r.children,c,f,n);case nt:y=8,c|=24;break;case $:return t=un(12,r,n,c|2),t.elementType=$,t.lanes=f,t;case vt:return t=un(13,r,n,c),t.elementType=vt,t.lanes=f,t;case bt:return t=un(19,r,n,c),t.elementType=bt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case At:case ct:y=10;break t;case pt:y=9;break t;case xt:y=11;break t;case O:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=un(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Kr(t,n,r,l){return t=un(7,t,l,n),t.lanes=r,t}function jc(t,n,r){return t=un(6,t,null,n),t.lanes=r,t}function Hc(t,n,r){return n=un(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ba=[],ka=0,Lu=null,Pu=0,Sn=[],bn=0,Zr=null,Ti=1,Ai="";function $r(t,n){Ba[ka++]=Pu,Ba[ka++]=Lu,Lu=t,Pu=n}function fm(t,n,r){Sn[bn++]=Ti,Sn[bn++]=Ai,Sn[bn++]=Zr,Zr=t;var l=Ti;t=Ai;var c=32-je(l)-1;l&=~(1<<c),r+=1;var f=32-je(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ti=1<<32-je(n)+c|r<<c|l,Ai=f+t}else Ti=1<<f|r<<c|l,Ai=t}function Gc(t){t.return!==null&&($r(t,1),fm(t,1,0))}function Qc(t){for(;t===Lu;)Lu=Ba[--ka],Ba[ka]=null,Pu=Ba[--ka],Ba[ka]=null;for(;t===Zr;)Zr=Sn[--bn],Sn[bn]=null,Ai=Sn[--bn],Sn[bn]=null,Ti=Sn[--bn],Sn[bn]=null}var $e=null,le=null,qt=!1,Jr=null,Kn=!1,Fc=Error(a(519));function Wr(t){var n=Error(a(418,""));throw el(Tn(n,t)),Fc}function dm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Te]=t,n[de]=l,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<Rl.length;r++)It(Rl[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Lr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ba(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Pr(n,l.value,l.defaultValue,l.children),ba(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Ip(n.textContent,r)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=vo),n=!0):n=!1,n||Wr(t)}function mm(t){for($e=t.return;$e;)switch($e.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:$e=$e.return}}function Ws(t){if(t!==$e)return!1;if(!qt)return mm(t),qt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||of(t.type,t.memoizedProps)),r=!r),r&&le&&Wr(t),mm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){le=xn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}le=null}}else n===27?(n=le,ar(t.type)?(t=df,df=null,le=t):le=n):le=$e?xn(t.stateNode.nextSibling):null;return!0}function tl(){le=$e=null,qt=!1}function gm(){var t=Jr;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),Jr=null),t}function el(t){Jr===null?Jr=[t]:Jr.push(t)}var Yc=K(null),ta=null,Si=null;function Gi(t,n,r){W(Yc,n._currentValue),n._currentValue=r}function bi(t){t._currentValue=Yc.current,et(Yc)}function Xc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Kc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Xc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Xc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function nl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;ln(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ce.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}c=c.return}t!==null&&Kc(n,t,r,l),n.flags|=262144}function Bu(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){ta=t,Si=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return pm(ta,t)}function ku(t,n){return ta===null&&ea(t),pm(t,n)}function pm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Si===null){if(t===null)throw Error(a(308));Si=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Si=Si.next=n;return r}var E0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},T0=s.unstable_scheduleCallback,A0=s.unstable_NormalPriority,be={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zc(){return{controller:new E0,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&T0(A0,function(){t.controller.abort()})}var rl=null,$c=0,qa=0,ja=null;function S0(t,n){if(rl===null){var r=rl=[];$c=0,qa=Wh(),ja={status:"pending",value:void 0,then:function(l){r.push(l)}}}return $c++,n.then(ym,ym),n}function ym(){if(--$c===0&&rl!==null){ja!==null&&(ja.status="fulfilled");var t=rl;rl=null,qa=0,ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function b0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var _m=q.S;q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&S0(t,n),_m!==null&&_m(t,n)};var na=K(null);function Jc(){var t=na.current;return t!==null?t:Wt.pooledCache}function qu(t,n){n===null?W(na,na.current):W(na,n.pool)}function vm(){var t=Jc();return t===null?null:{parent:be._currentValue,pool:t}}var al=Error(a(460)),Em=Error(a(474)),ju=Error(a(542)),Wc={then:function(){}};function Tm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hu(){}function Am(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Hu,Hu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,bm(t),t;default:if(typeof n.status=="string")n.then(Hu,Hu);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,bm(t),t}throw sl=n,al}}var sl=null;function Sm(){if(sl===null)throw Error(a(459));var t=sl;return sl=null,t}function bm(t){if(t===al||t===ju)throw Error(a(483))}var Qi=!1;function th(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Yi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Uu(t),cm(t,null,r),n}return xu(t,l,n,r),Uu(t)}function ll(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Us(t,r)}}function nh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var ih=!1;function ul(){if(ih){var t=ja;if(t!==null)throw t}}function ol(t,n,r,l){ih=!1;var c=t.updateQueue;Qi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,P=R.next;R.next=null,y===null?f=P:y.next=P,y=R;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=R))}if(f!==null){var F=c.baseState;y=0,H=P=R=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Lt&B)===B:(l&B)===B){B!==0&&B===qa&&(ih=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=t,dt=E;B=n;var Zt=r;switch(dt.tag){case 1:if(_t=dt.payload,typeof _t=="function"){F=_t.call(Zt,F,B);break t}F=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=dt.payload,B=typeof _t=="function"?_t.call(Zt,F,B):_t,B==null)break t;F=A({},F,B);break t;case 2:Qi=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=k,R=F):H=H.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);H===null&&(R=F),c.baseState=R,c.firstBaseUpdate=P,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),er|=y,t.lanes=y,t.memoizedState=F}}function Rm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function wm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Rm(r[t],n)}var Ha=K(null),Gu=K(0);function Cm(t,n){t=Ni,W(Gu,t),W(Ha,n),Ni=t|n.baseLanes}function rh(){W(Gu,Ni),W(Ha,Ha.current)}function ah(){Ni=Gu.current,et(Ha),et(Gu)}var Xi=0,wt=null,Xt=null,ge=null,Qu=!1,Ga=!1,ia=!1,Fu=0,cl=0,Qa=null,R0=0;function ce(){throw Error(a(321))}function sh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function lh(t,n,r,l,c,f){return Xi=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?cg:hg,ia=!1,f=r(l,c),ia=!1,Ga&&(f=Vm(n,r,l,c)),Dm(t),f}function Dm(t){q.H=Ju;var n=Xt!==null&&Xt.next!==null;if(Xi=0,ge=Xt=wt=null,Qu=!1,cl=0,Qa=null,n)throw Error(a(300));t===null||Ie||(t=t.dependencies,t!==null&&Bu(t)&&(Ie=!0))}function Vm(t,n,r,l){wt=t;var c=0;do{if(Ga&&(Qa=null),cl=0,Ga=!1,25<=c)throw Error(a(301));if(c+=1,ge=Xt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=O0,f=n(r,l)}while(Ga);return f}function w0(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?hl(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(wt.flags|=1024),n}function uh(){var t=Fu!==0;return Fu=0,t}function oh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function ch(t){if(Qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Qu=!1}Xi=0,ge=Xt=wt=null,Ga=!1,cl=Fu=0,Qa=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?wt.memoizedState=ge=t:ge=ge.next=t,ge}function pe(){if(Xt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=ge===null?wt.memoizedState:ge.next;if(n!==null)ge=n,Xt=t;else{if(t===null)throw wt.alternate===null?Error(a(467)):Error(a(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},ge===null?wt.memoizedState=ge=t:ge=ge.next=t}return ge}function hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var n=cl;return cl+=1,Qa===null&&(Qa=[]),t=Am(Qa,t,n),n=wt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?cg:hg),t}function Yu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===ct)return He(t)}throw Error(a(438,String(t)))}function fh(t){var n=null,r=wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=hh(),wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=N;return n.index++,r}function Ri(t,n){return typeof n=="function"?n(t):n}function Xu(t){var n=pe();return dh(n,Xt,t)}function dh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,R=null,P=n,H=!1;do{var F=P.lane&-536870913;if(F!==P.lane?(Lt&F)===F:(Xi&F)===F){var B=P.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),F===qa&&(H=!0);else if((Xi&B)===B){P=P.next,B===qa&&(H=!0);continue}else F={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=F,y=f):R=R.next=F,wt.lanes|=B,er|=B;F=P.action,ia&&r(f,F),f=P.hasEagerState?P.eagerState:r(f,F)}else B={lane:F,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=B,y=f):R=R.next=B,wt.lanes|=F,er|=F;P=P.next}while(P!==null&&P!==n);if(R===null?y=f:R.next=E,!ln(f,t.memoizedState)&&(Ie=!0,H&&(r=ja,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function mh(t){var n=pe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);ln(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Im(t,n,r){var l=wt,c=pe(),f=qt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!ln((Xt||c).memoizedState,r);y&&(c.memoizedState=r,Ie=!0),c=c.queue;var E=Mm.bind(null,l,c,t);if(fl(2048,8,E,[t]),c.getSnapshot!==n||y||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,Fa(9,Ku(),Om.bind(null,l,c,r,n),null),Wt===null)throw Error(a(349));f||(Xi&124)!==0||Nm(l,n,r)}return r}function Nm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=wt.updateQueue,n===null?(n=hh(),wt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Om(t,n,r,l){n.value=r,n.getSnapshot=l,xm(n)&&Um(t)}function Mm(t,n,r){return r(function(){xm(n)&&Um(t)})}function xm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function Um(t){var n=La(t,2);n!==null&&dn(n,t,2)}function gh(t){var n=Je();if(typeof t=="function"){var r=t;if(t=r(),ia){an(!0);try{r()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},n}function zm(t,n,r,l){return t.baseState=r,dh(t,Xt,typeof l=="function"?l:Ri)}function C0(t,n,r,l,c){if($u(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};q.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Lm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Lm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=q.T,y={};q.T=y;try{var E=r(c,l),R=q.S;R!==null&&R(y,E),Pm(t,n,E)}catch(P){ph(t,n,P)}finally{q.T=f}}else try{f=r(c,l),Pm(t,n,f)}catch(P){ph(t,n,P)}}function Pm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Bm(t,n,l)},function(l){return ph(t,n,l)}):Bm(t,n,r)}function Bm(t,n,r){n.status="fulfilled",n.value=r,km(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Lm(t,r)))}function ph(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,km(n),n=n.next;while(n!==l)}t.action=null}function km(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function qm(t,n){return n}function jm(t,n){if(qt){var r=Wt.formState;if(r!==null){t:{var l=wt;if(qt){if(le){e:{for(var c=le,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=xn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=xn(c.nextSibling),l=c.data==="F!";break t}}Wr(l)}l=!1}l&&(n=r[0])}}return r=Je(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qm,lastRenderedState:n},r.queue=l,r=lg.bind(null,wt,l),l.dispatch=r,l=gh(!1),f=Th.bind(null,wt,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=C0.bind(null,wt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Hm(t){var n=pe();return Gm(n,Xt,t)}function Gm(t,n,r){if(n=dh(t,n,qm)[0],t=Xu(Ri)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=hl(n)}catch(y){throw y===al?ju:y}else l=n;n=pe();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(wt.flags|=2048,Fa(9,Ku(),D0.bind(null,c,r),null)),[l,f,t]}function D0(t,n){t.action=n}function Qm(t){var n=pe(),r=Xt;if(r!==null)return Gm(n,r,t);pe(),n=n.memoizedState,r=pe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Fa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=hh(),wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Ku(){return{destroy:void 0,resource:void 0}}function Fm(){return pe().memoizedState}function Zu(t,n,r,l){var c=Je();l=l===void 0?null:l,wt.flags|=t,c.memoizedState=Fa(1|n,Ku(),r,l)}function fl(t,n,r,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;Xt!==null&&l!==null&&sh(l,Xt.memoizedState.deps)?c.memoizedState=Fa(n,f,r,l):(wt.flags|=t,c.memoizedState=Fa(1|n,f,r,l))}function Ym(t,n){Zu(8390656,8,t,n)}function Xm(t,n){fl(2048,8,t,n)}function Km(t,n){return fl(4,2,t,n)}function Zm(t,n){return fl(4,4,t,n)}function $m(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Jm(t,n,r){r=r!=null?r.concat([t]):null,fl(4,4,$m.bind(null,n,t),r)}function yh(){}function Wm(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&sh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function tg(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&sh(n,l[1]))return l[0];if(l=t(),ia){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l}function _h(t,n,r){return r===void 0||(Xi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=ip(),wt.lanes|=t,er|=t,r)}function eg(t,n,r,l){return ln(r,n)?r:Ha.current!==null?(t=_h(t,r,l),ln(t,n)||(Ie=!0),t):(Xi&42)===0?(Ie=!0,t.memoizedState=r):(t=ip(),wt.lanes|=t,er|=t,n)}function ng(t,n,r,l,c){var f=J.p;J.p=f!==0&&8>f?f:8;var y=q.T,E={};q.T=E,Th(t,!1,n,r);try{var R=c(),P=q.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=b0(R,l);dl(t,n,H,fn(t))}else dl(t,n,l,fn(t))}catch(F){dl(t,n,{then:function(){},status:"rejected",reason:F},fn())}finally{J.p=f,q.T=y}}function V0(){}function vh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=ig(t).queue;ng(t,c,n,st,r===null?V0:function(){return rg(t),r(l)})}function ig(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:st},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function rg(t){var n=ig(t).next.queue;dl(t,n,{},fn())}function Eh(){return He(Nl)}function ag(){return pe().memoizedState}function sg(){return pe().memoizedState}function I0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=fn();t=Fi(r);var l=Yi(n,t,r);l!==null&&(dn(l,n,r),ll(l,n,r)),n={cache:Zc()},t.payload=n;return}n=n.return}}function N0(t,n,r){var l=fn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},$u(t)?ug(n,r):(r=kc(t,n,r,l),r!==null&&(dn(r,t,l),og(r,n,l)))}function lg(t,n,r){var l=fn();dl(t,n,r,l)}function dl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if($u(t))ug(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,ln(E,y))return xu(t,n,c,0),Wt===null&&Mu(),!1}catch{}finally{}if(r=kc(t,n,c,l),r!==null)return dn(r,t,l),og(r,n,l),!0}return!1}function Th(t,n,r,l){if(l={lane:2,revertLane:Wh(),action:l,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(n)throw Error(a(479))}else n=kc(t,r,l,2),n!==null&&dn(n,t,2)}function $u(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function ug(t,n){Ga=Qu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function og(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Us(t,r)}}var Ju={readContext:He,use:Yu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},cg={readContext:He,use:Yu,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:Ym,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Zu(4194308,4,$m.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Zu(4194308,4,t,n)},useInsertionEffect:function(t,n){Zu(4,2,t,n)},useMemo:function(t,n){var r=Je();n=n===void 0?null:n;var l=t();if(ia){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Je();if(r!==void 0){var c=r(n);if(ia){an(!0);try{r(n)}finally{an(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=N0.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=gh(t);var n=t.queue,r=lg.bind(null,wt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:yh,useDeferredValue:function(t,n){var r=Je();return _h(r,t,n)},useTransition:function(){var t=gh(!1);return t=ng.bind(null,wt,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=wt,c=Je();if(qt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Wt===null)throw Error(a(349));(Lt&124)!==0||Nm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Ym(Mm.bind(null,l,f,t),[t]),l.flags|=2048,Fa(9,Ku(),Om.bind(null,l,f,r,n),null),r},useId:function(){var t=Je(),n=Wt.identifierPrefix;if(qt){var r=Ai,l=Ti;r=(l&~(1<<32-je(l)-1)).toString(32)+r,n=""+n+"R"+r,r=Fu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=R0++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Eh,useFormState:jm,useActionState:jm,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Th.bind(null,wt,!0,r),r.dispatch=n,[t,n]},useMemoCache:fh,useCacheRefresh:function(){return Je().memoizedState=I0.bind(null,wt)}},hg={readContext:He,use:Yu,useCallback:Wm,useContext:He,useEffect:Xm,useImperativeHandle:Jm,useInsertionEffect:Km,useLayoutEffect:Zm,useMemo:tg,useReducer:Xu,useRef:Fm,useState:function(){return Xu(Ri)},useDebugValue:yh,useDeferredValue:function(t,n){var r=pe();return eg(r,Xt.memoizedState,t,n)},useTransition:function(){var t=Xu(Ri)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Im,useId:ag,useHostTransitionStatus:Eh,useFormState:Hm,useActionState:Hm,useOptimistic:function(t,n){var r=pe();return zm(r,Xt,t,n)},useMemoCache:fh,useCacheRefresh:sg},O0={readContext:He,use:Yu,useCallback:Wm,useContext:He,useEffect:Xm,useImperativeHandle:Jm,useInsertionEffect:Km,useLayoutEffect:Zm,useMemo:tg,useReducer:mh,useRef:Fm,useState:function(){return mh(Ri)},useDebugValue:yh,useDeferredValue:function(t,n){var r=pe();return Xt===null?_h(r,t,n):eg(r,Xt.memoizedState,t,n)},useTransition:function(){var t=mh(Ri)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Im,useId:ag,useHostTransitionStatus:Eh,useFormState:Qm,useActionState:Qm,useOptimistic:function(t,n){var r=pe();return Xt!==null?zm(r,Xt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:fh,useCacheRefresh:sg},Ya=null,ml=0;function Wu(t){var n=ml;return ml+=1,Ya===null&&(Ya=[]),Am(Ya,t,n)}function gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function to(t,n){throw n.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function fg(t){var n=t._init;return n(t._payload)}function dg(t){function n(x,D){if(t){var L=x.deletions;L===null?(x.deletions=[D],x.flags|=16):L.push(D)}}function r(x,D){if(!t)return null;for(;D!==null;)n(x,D),D=D.sibling;return null}function l(x){for(var D=new Map;x!==null;)x.key!==null?D.set(x.key,x):D.set(x.index,x),x=x.sibling;return D}function c(x,D){return x=Ei(x,D),x.index=0,x.sibling=null,x}function f(x,D,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<D?(x.flags|=67108866,D):L):(x.flags|=67108866,D)):(x.flags|=1048576,D)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,D,L,Q){return D===null||D.tag!==6?(D=jc(L,x.mode,Q),D.return=x,D):(D=c(D,L),D.return=x,D)}function R(x,D,L,Q){var lt=L.type;return lt===Z?H(x,D,L.props.children,Q,L.key):D!==null&&(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&fg(lt)===D.type)?(D=c(D,L.props),gl(D,L),D.return=x,D):(D=zu(L.type,L.key,L.props,null,x.mode,Q),gl(D,L),D.return=x,D)}function P(x,D,L,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Hc(L,x.mode,Q),D.return=x,D):(D=c(D,L.children||[]),D.return=x,D)}function H(x,D,L,Q,lt){return D===null||D.tag!==7?(D=Kr(L,x.mode,Q,lt),D.return=x,D):(D=c(D,L),D.return=x,D)}function F(x,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=jc(""+D,x.mode,L),D.return=x,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case I:return L=zu(D.type,D.key,D.props,null,x.mode,L),gl(L,D),L.return=x,L;case G:return D=Hc(D,x.mode,L),D.return=x,D;case S:var Q=D._init;return D=Q(D._payload),F(x,D,L)}if(mt(D)||U(D))return D=Kr(D,x.mode,L,null),D.return=x,D;if(typeof D.then=="function")return F(x,Wu(D),L);if(D.$$typeof===ct)return F(x,ku(x,D),L);to(x,D)}return null}function B(x,D,L,Q){var lt=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:E(x,D,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return L.key===lt?R(x,D,L,Q):null;case G:return L.key===lt?P(x,D,L,Q):null;case S:return lt=L._init,L=lt(L._payload),B(x,D,L,Q)}if(mt(L)||U(L))return lt!==null?null:H(x,D,L,Q,null);if(typeof L.then=="function")return B(x,D,Wu(L),Q);if(L.$$typeof===ct)return B(x,D,ku(x,L),Q);to(x,L)}return null}function k(x,D,L,Q,lt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(L)||null,E(D,x,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:return x=x.get(Q.key===null?L:Q.key)||null,R(D,x,Q,lt);case G:return x=x.get(Q.key===null?L:Q.key)||null,P(D,x,Q,lt);case S:var Dt=Q._init;return Q=Dt(Q._payload),k(x,D,L,Q,lt)}if(mt(Q)||U(Q))return x=x.get(L)||null,H(D,x,Q,lt,null);if(typeof Q.then=="function")return k(x,D,L,Wu(Q),lt);if(Q.$$typeof===ct)return k(x,D,L,ku(D,Q),lt);to(D,Q)}return null}function _t(x,D,L,Q){for(var lt=null,Dt=null,ot=D,gt=D=0,Oe=null;ot!==null&&gt<L.length;gt++){ot.index>gt?(Oe=ot,ot=null):Oe=ot.sibling;var kt=B(x,ot,L[gt],Q);if(kt===null){ot===null&&(ot=Oe);break}t&&ot&&kt.alternate===null&&n(x,ot),D=f(kt,D,gt),Dt===null?lt=kt:Dt.sibling=kt,Dt=kt,ot=Oe}if(gt===L.length)return r(x,ot),qt&&$r(x,gt),lt;if(ot===null){for(;gt<L.length;gt++)ot=F(x,L[gt],Q),ot!==null&&(D=f(ot,D,gt),Dt===null?lt=ot:Dt.sibling=ot,Dt=ot);return qt&&$r(x,gt),lt}for(ot=l(ot);gt<L.length;gt++)Oe=k(ot,x,gt,L[gt],Q),Oe!==null&&(t&&Oe.alternate!==null&&ot.delete(Oe.key===null?gt:Oe.key),D=f(Oe,D,gt),Dt===null?lt=Oe:Dt.sibling=Oe,Dt=Oe);return t&&ot.forEach(function(cr){return n(x,cr)}),qt&&$r(x,gt),lt}function dt(x,D,L,Q){if(L==null)throw Error(a(151));for(var lt=null,Dt=null,ot=D,gt=D=0,Oe=null,kt=L.next();ot!==null&&!kt.done;gt++,kt=L.next()){ot.index>gt?(Oe=ot,ot=null):Oe=ot.sibling;var cr=B(x,ot,kt.value,Q);if(cr===null){ot===null&&(ot=Oe);break}t&&ot&&cr.alternate===null&&n(x,ot),D=f(cr,D,gt),Dt===null?lt=cr:Dt.sibling=cr,Dt=cr,ot=Oe}if(kt.done)return r(x,ot),qt&&$r(x,gt),lt;if(ot===null){for(;!kt.done;gt++,kt=L.next())kt=F(x,kt.value,Q),kt!==null&&(D=f(kt,D,gt),Dt===null?lt=kt:Dt.sibling=kt,Dt=kt);return qt&&$r(x,gt),lt}for(ot=l(ot);!kt.done;gt++,kt=L.next())kt=k(ot,x,gt,kt.value,Q),kt!==null&&(t&&kt.alternate!==null&&ot.delete(kt.key===null?gt:kt.key),D=f(kt,D,gt),Dt===null?lt=kt:Dt.sibling=kt,Dt=kt);return t&&ot.forEach(function(ME){return n(x,ME)}),qt&&$r(x,gt),lt}function Zt(x,D,L,Q){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case I:t:{for(var lt=L.key;D!==null;){if(D.key===lt){if(lt=L.type,lt===Z){if(D.tag===7){r(x,D.sibling),Q=c(D,L.props.children),Q.return=x,x=Q;break t}}else if(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&fg(lt)===D.type){r(x,D.sibling),Q=c(D,L.props),gl(Q,L),Q.return=x,x=Q;break t}r(x,D);break}else n(x,D);D=D.sibling}L.type===Z?(Q=Kr(L.props.children,x.mode,Q,L.key),Q.return=x,x=Q):(Q=zu(L.type,L.key,L.props,null,x.mode,Q),gl(Q,L),Q.return=x,x=Q)}return y(x);case G:t:{for(lt=L.key;D!==null;){if(D.key===lt)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){r(x,D.sibling),Q=c(D,L.children||[]),Q.return=x,x=Q;break t}else{r(x,D);break}else n(x,D);D=D.sibling}Q=Hc(L,x.mode,Q),Q.return=x,x=Q}return y(x);case S:return lt=L._init,L=lt(L._payload),Zt(x,D,L,Q)}if(mt(L))return _t(x,D,L,Q);if(U(L)){if(lt=U(L),typeof lt!="function")throw Error(a(150));return L=lt.call(L),dt(x,D,L,Q)}if(typeof L.then=="function")return Zt(x,D,Wu(L),Q);if(L.$$typeof===ct)return Zt(x,D,ku(x,L),Q);to(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(r(x,D.sibling),Q=c(D,L),Q.return=x,x=Q):(r(x,D),Q=jc(L,x.mode,Q),Q.return=x,x=Q),y(x)):r(x,D)}return function(x,D,L,Q){try{ml=0;var lt=Zt(x,D,L,Q);return Ya=null,lt}catch(ot){if(ot===al||ot===ju)throw ot;var Dt=un(29,ot,null,x.mode);return Dt.lanes=Q,Dt.return=x,Dt}finally{}}}var Xa=dg(!0),mg=dg(!1),Rn=K(null),Zn=null;function Ki(t){var n=t.alternate;W(Re,Re.current&1),W(Rn,t),Zn===null&&(n===null||Ha.current!==null||n.memoizedState!==null)&&(Zn=t)}function gg(t){if(t.tag===22){if(W(Re,Re.current),W(Rn,t),Zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Zn=t)}}else Zi()}function Zi(){W(Re,Re.current),W(Rn,Rn.current)}function wi(t){et(Rn),Zn===t&&(Zn=null),et(Re)}var Re=K(0);function eo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||ff(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ah(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Sh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Fi(l);c.payload=n,r!=null&&(c.callback=r),n=Yi(t,c,l),n!==null&&(dn(n,t,l),ll(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Fi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Yi(t,c,l),n!==null&&(dn(n,t,l),ll(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=fn(),l=Fi(r);l.tag=2,n!=null&&(l.callback=n),n=Yi(t,l,r),n!==null&&(dn(n,t,r),ll(n,t,r))}};function pg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!$s(r,l)||!$s(c,f):!0}function yg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Sh.enqueueReplaceState(n,n.state,null)}function ra(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var no=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function _g(t){no(t)}function vg(t){console.error(t)}function Eg(t){no(t)}function io(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Tg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function bh(t,n,r){return r=Fi(r),r.tag=3,r.payload={element:null},r.callback=function(){io(t,n)},r}function Ag(t){return t=Fi(t),t.tag=3,t}function Sg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Tg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Tg(n,r,l),typeof c!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function M0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&nl(n,r,c,!0),r=Rn.current,r!==null){switch(r.tag){case 13:return Zn===null?Xh():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Wc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Zh(t,l,c)),!1;case 22:return r.flags|=65536,l===Wc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Zh(t,l,c)),!1}throw Error(a(435,r.tag))}return Zh(t,l,c),Xh(),!1}if(qt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Fc&&(t=Error(a(422),{cause:l}),el(Tn(t,r)))):(l!==Fc&&(n=Error(a(423),{cause:l}),el(Tn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Tn(l,r),c=bh(t.stateNode,l,c),nh(t,c),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:l});if(f=Tn(f,r),Al===null?Al=[f]:Al.push(f),ue!==4&&(ue=2),n===null)return!0;l=Tn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=bh(r.stateNode,l,t),nh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(nr===null||!nr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Ag(c),Sg(c,t,r,l),nh(r,c),!1}r=r.return}while(r!==null);return!1}var bg=Error(a(461)),Ie=!1;function ze(t,n,r,l){n.child=t===null?mg(n,null,r,l):Xa(n,t.child,r,l)}function Rg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ea(n),l=lh(t,n,r,y,f,c),E=uh(),t!==null&&!Ie?(oh(t,n,c),Ci(t,n,c)):(qt&&E&&Gc(n),n.flags|=1,ze(t,n,l,c),n.child)}function wg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!qc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Cg(t,n,f,l,c)):(t=zu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Oh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:$s,r(y,l)&&t.ref===n.ref)return Ci(t,n,c)}return n.flags|=1,t=Ei(f,l),t.ref=n.ref,t.return=n,n.child=t}function Cg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if($s(f,l)&&t.ref===n.ref)if(Ie=!1,n.pendingProps=l=f,Oh(t,c))(t.flags&131072)!==0&&(Ie=!0);else return n.lanes=t.lanes,Ci(t,n,c)}return Rh(t,n,r,l,c)}function Dg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Vg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&qu(n,f!==null?f.cachePool:null),f!==null?Cm(n,f):rh(),gg(n);else return n.lanes=n.childLanes=536870912,Vg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(qu(n,f.cachePool),Cm(n,f),Zi(),n.memoizedState=null):(t!==null&&qu(n,null),rh(),Zi());return ze(t,n,c,r),n.child}function Vg(t,n,r,l){var c=Jc();return c=c===null?null:{parent:be._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&qu(n,null),rh(),gg(n),t!==null&&nl(t,n,l,!0),null}function ro(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Rh(t,n,r,l,c){return ea(n),r=lh(t,n,r,l,void 0,c),l=uh(),t!==null&&!Ie?(oh(t,n,c),Ci(t,n,c)):(qt&&l&&Gc(n),n.flags|=1,ze(t,n,r,c),n.child)}function Ig(t,n,r,l,c,f){return ea(n),n.updateQueue=null,r=Vm(n,l,r,c),Dm(t),l=uh(),t!==null&&!Ie?(oh(t,n,f),Ci(t,n,f)):(qt&&l&&Gc(n),n.flags|=1,ze(t,n,r,f),n.child)}function Ng(t,n,r,l,c){if(ea(n),n.stateNode===null){var f=Pa,y=r.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Sh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},th(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?He(y):Pa,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Ah(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Sh.enqueueReplaceState(f,f.state,null),ol(n,l,f,c),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=ra(r,E);f.props=R;var P=f.context,H=r.contextType;y=Pa,typeof H=="object"&&H!==null&&(y=He(H));var F=r.getDerivedStateFromProps;H=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&yg(n,f,l,y),Qi=!1;var B=n.memoizedState;f.state=B,ol(n,l,f,c),ul(),P=n.memoizedState,E||B!==P||Qi?(typeof F=="function"&&(Ah(n,r,F,l),P=n.memoizedState),(R=Qi||pg(n,r,R,l,B,P,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,eh(t,n),y=n.memoizedProps,H=ra(r,y),f.props=H,F=n.pendingProps,B=f.context,P=r.contextType,R=Pa,typeof P=="object"&&P!==null&&(R=He(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||B!==R)&&yg(n,f,l,R),Qi=!1,B=n.memoizedState,f.state=B,ol(n,l,f,c),ul();var k=n.memoizedState;y!==F||B!==k||Qi||t!==null&&t.dependencies!==null&&Bu(t.dependencies)?(typeof E=="function"&&(Ah(n,r,E,l),k=n.memoizedState),(H=Qi||pg(n,r,H,l,B,k,R)||t!==null&&t.dependencies!==null&&Bu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=R,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ro(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Xa(n,t.child,null,c),n.child=Xa(n,null,r,c)):ze(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ci(t,n,c),t}function Og(t,n,r,l){return tl(),n.flags|=256,ze(t,n,r,l),n.child}var wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ch(t){return{baseLanes:t,cachePool:vm()}}function Dh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=wn),t}function Mg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(qt){if(c?Ki(n):Zi(),qt){var E=le,R;if(R=E){t:{for(R=E,E=Kn;R.nodeType!==8;){if(!E){E=null;break t}if(R=xn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:Zr!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},R=un(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,$e=n,le=null,R=!0):R=!1}R||Wr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ff(E)?n.lanes=32:n.lanes=536870912,null;wi(n)}return E=l.children,l=l.fallback,c?(Zi(),c=n.mode,E=ao({mode:"hidden",children:E},c),l=Kr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Ch(r),c.childLanes=Dh(t,y,r),n.memoizedState=wh,l):(Ki(n),Vh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ki(n),n.flags&=-257,n=Ih(t,n,r)):n.memoizedState!==null?(Zi(),n.child=t.child,n.flags|=128,n=null):(Zi(),c=l.fallback,E=n.mode,l=ao({mode:"visible",children:l.children},E),c=Kr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Xa(n,t.child,null,r),l=n.child,l.memoizedState=Ch(r),l.childLanes=Dh(t,y,r),n.memoizedState=wh,n=c);else if(Ki(n),ff(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(a(419)),l.stack="",l.digest=y,el({value:l,source:null,stack:null}),n=Ih(t,n,r)}else if(Ie||nl(t,n,r,!1),y=(r&t.childLanes)!==0,Ie||y){if(y=Wt,y!==null&&(l=r&-r,l=(l&42)!==0?1:Li(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,La(t,l),dn(y,t,l),bg;E.data==="$?"||Xh(),n=Ih(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,le=xn(E.nextSibling),$e=n,qt=!0,Jr=null,Kn=!1,t!==null&&(Sn[bn++]=Ti,Sn[bn++]=Ai,Sn[bn++]=Zr,Ti=t.id,Ai=t.overflow,Zr=n),n=Vh(n,l.children),n.flags|=4096);return n}return c?(Zi(),c=l.fallback,E=n.mode,R=t.child,P=R.sibling,l=Ei(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?c=Ei(P,c):(c=Kr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Ch(r):(R=E.cachePool,R!==null?(P=be._currentValue,R=R.parent!==P?{parent:P,pool:P}:R):R=vm(),E={baseLanes:E.baseLanes|r,cachePool:R}),c.memoizedState=E,c.childLanes=Dh(t,y,r),n.memoizedState=wh,l):(Ki(n),r=t.child,t=r.sibling,r=Ei(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Vh(t,n){return n=ao({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ao(t,n){return t=un(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ih(t,n,r){return Xa(n,t.child,null,r),t=Vh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function xg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Xc(t.return,n,r)}function Nh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Ug(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ze(t,n,l.children,r),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xg(t,r,n);else if(t.tag===19)xg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Re,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&eo(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Nh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&eo(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Nh(n,!0,r,null,f);break;case"together":Nh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ci(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),er|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(nl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Ei(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ei(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Oh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Bu(t)))}function x0(t,n,r){switch(n.tag){case 3:Jt(n,n.stateNode.containerInfo),Gi(n,be,t.memoizedState.cache),tl();break;case 27:case 5:zi(n);break;case 4:Jt(n,n.stateNode.containerInfo);break;case 10:Gi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ki(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Mg(t,n,r):(Ki(n),t=Ci(t,n,r),t!==null?t.sibling:null);Ki(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(nl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Ug(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,Dg(t,n,r);case 24:Gi(n,be,t.memoizedState.cache)}return Ci(t,n,r)}function zg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ie=!0;else{if(!Oh(t,r)&&(n.flags&128)===0)return Ie=!1,x0(t,n,r);Ie=(t.flags&131072)!==0}else Ie=!1,qt&&(n.flags&1048576)!==0&&fm(n,Pu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")qc(l)?(t=ra(l,t),n.tag=1,n=Ng(null,n,l,t,r)):(n.tag=0,n=Rh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===xt){n.tag=11,n=Rg(null,n,l,t,r);break t}else if(c===O){n.tag=14,n=wg(null,n,l,t,r);break t}}throw n=ut(l)||l,Error(a(306,n,""))}}return n;case 0:return Rh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ra(l,n.pendingProps),Ng(t,n,l,c,r);case 3:t:{if(Jt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,eh(t,n),ol(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Gi(n,be,l),l!==f.cache&&Kc(n,[be],r,!0),ul(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Og(t,n,l,r);break t}else if(l!==c){c=Tn(Error(a(424)),n),el(c),n=Og(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=xn(t.firstChild),$e=n,qt=!0,Jr=null,Kn=!0,r=mg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(tl(),l===c){n=Ci(t,n,r);break t}ze(t,n,l,r)}n=n.child}return n;case 26:return ro(t,n),t===null?(r=kp(n.type,null,n.pendingProps,null))?n.memoizedState=r:qt||(r=n.type,t=n.pendingProps,l=Eo(Et.current).createElement(r),l[Te]=n,l[de]=t,Pe(l,r,t),oe(l),n.stateNode=l):n.memoizedState=kp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return zi(n),t===null&&qt&&(l=n.stateNode=Lp(n.type,n.pendingProps,Et.current),$e=n,Kn=!0,c=le,ar(n.type)?(df=c,le=xn(l.firstChild)):le=c),ze(t,n,n.pendingProps.children,r),ro(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&qt&&((c=l=le)&&(l=uE(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,$e=n,le=xn(l.firstChild),Kn=!1,c=!0):c=!1),c||Wr(n)),zi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,of(c,f)?l=null:y!==null&&of(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=lh(t,n,w0,null,null,r),Nl._currentValue=c),ro(t,n),ze(t,n,l,r),n.child;case 6:return t===null&&qt&&((t=r=le)&&(r=oE(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,$e=n,le=null,t=!0):t=!1),t||Wr(n)),null;case 13:return Mg(t,n,r);case 4:return Jt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Xa(n,null,l,r):ze(t,n,l,r),n.child;case 11:return Rg(t,n,n.type,n.pendingProps,r);case 7:return ze(t,n,n.pendingProps,r),n.child;case 8:return ze(t,n,n.pendingProps.children,r),n.child;case 12:return ze(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Gi(n,n.type,l.value),ze(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ea(n),c=He(c),l=l(c),n.flags|=1,ze(t,n,l,r),n.child;case 14:return wg(t,n,n.type,n.pendingProps,r);case 15:return Cg(t,n,n.type,n.pendingProps,r);case 19:return Ug(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=ao(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ei(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Dg(t,n,r);case 24:return ea(n),l=He(be),t===null?(c=Jc(),c===null&&(c=Wt,f=Zc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},th(n),Gi(n,be,c)):((t.lanes&r)!==0&&(eh(t,n),ol(n,null,null,r),ul()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Gi(n,be,l)):(l=f.cache,Gi(n,be,l),l!==c.cache&&Kc(n,[be],r,!0))),ze(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Di(t){t.flags|=4}function Lg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Qp(n)){if(n=Rn.current,n!==null&&((Lt&4194048)===Lt?Zn!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||n!==Zn))throw sl=Wc,Em;t.flags|=8192}}function so(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ms():536870912,t.lanes|=n,Ja|=n)}function pl(t,n){if(!qt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function re(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function U0(t,n,r){var l=n.pendingProps;switch(Qc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),bi(be),Ln(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ws(n)?Di(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gm())),re(n),null;case 26:return r=n.memoizedState,t===null?(Di(n),r!==null?(re(n),Lg(n,r)):(re(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Di(n),re(n),Lg(n,r)):(re(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),re(n),n.flags&=-16777217),null;case 27:li(n),r=Et.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return re(n),null}t=ft.current,Ws(n)?dm(n):(t=Lp(c,l,r),n.stateNode=t,Di(n))}return re(n),null;case 5:if(li(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return re(n),null}if(t=ft.current,Ws(n))dm(n);else{switch(c=Eo(Et.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Te]=n,t[de]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return re(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Et.current,Ws(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=$e,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Te]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Ip(t.nodeValue,r)),t||Wr(n)}else t=Eo(t).createTextNode(l),t[Te]=n,n.stateNode=t}return re(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ws(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Te]=n}else tl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),c=!1}else c=gm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(wi(n),n):(wi(n),null)}if(wi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),so(n,n.updateQueue),re(n),null;case 4:return Ln(),t===null&&rf(n.stateNode.containerInfo),re(n),null;case 10:return bi(n.type),re(n),null;case 19:if(et(Re),c=n.memoizedState,c===null)return re(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)pl(c,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=eo(t),f!==null){for(n.flags|=128,pl(c,!1),t=f.updateQueue,n.updateQueue=t,so(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)hm(r,t),r=r.sibling;return W(Re,Re.current&1|2),n.child}t=t.sibling}c.tail!==null&&gn()>oo&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304)}else{if(!l)if(t=eo(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,so(n,t),pl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!qt)return re(n),null}else 2*gn()-c.renderingStartTime>oo&&r!==536870912&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=gn(),n.sibling=null,t=Re.current,W(Re,l?t&1|2:t&1),n):(re(n),null);case 22:case 23:return wi(n),ah(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),r=n.updateQueue,r!==null&&so(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&et(na),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),bi(be),re(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function z0(t,n){switch(Qc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return bi(be),Ln(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return li(n),null;case 13:if(wi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));tl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Re),null;case 4:return Ln(),null;case 10:return bi(n.type),null;case 22:case 23:return wi(n),ah(),t!==null&&et(na),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return bi(be),null;case 25:return null;default:return null}}function Pg(t,n){switch(Qc(n),n.tag){case 3:bi(be),Ln();break;case 26:case 27:case 5:li(n);break;case 4:Ln();break;case 13:wi(n);break;case 19:et(Re);break;case 10:bi(n.type);break;case 22:case 23:wi(n),ah(),t!==null&&et(na);break;case 24:bi(be)}}function yl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){$t(n,n.return,E)}}function $i(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var R=r,P=E;try{P()}catch(H){$t(c,R,H)}}}l=l.next}while(l!==f)}}catch(H){$t(n,n.return,H)}}function Bg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{wm(n,r)}catch(l){$t(t,t.return,l)}}}function kg(t,n,r){r.props=ra(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){$t(t,n,l)}}function _l(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){$t(t,n,c)}}function $n(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){$t(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){$t(t,n,c)}else r.current=null}function qg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){$t(t,t.return,c)}}function Mh(t,n,r){try{var l=t.stateNode;iE(l,t.type,r,n),l[de]=n}catch(c){$t(t,t.return,c)}}function jg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ar(t.type)||t.tag===4}function xh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||jg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=vo));else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Uh(t,n,r),t=t.sibling;t!==null;)Uh(t,n,r),t=t.sibling}function lo(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(lo(t,n,r),t=t.sibling;t!==null;)lo(t,n,r),t=t.sibling}function Hg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,r),n[Te]=t,n[de]=r}catch(f){$t(t,t.return,f)}}var Vi=!1,he=!1,zh=!1,Gg=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function L0(t,n){if(t=t.containerInfo,lf=wo,t=em(t),xc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,R=-1,P=0,H=0,F=t,B=null;e:for(;;){for(var k;F!==r||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(R=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(k=F.firstChild)!==null;)B=F,F=k;for(;;){if(F===t)break e;if(B===r&&++P===c&&(E=y),B===f&&++H===l&&(R=y),(k=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=k}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(uf={focusedElem:t,selectionRange:r},wo=!1,Ne=n;Ne!==null;)if(n=Ne,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ne=t;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var _t=ra(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(_t,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(dt){$t(r,r.return,dt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)hf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ne=t;break}Ne=n.return}}function Qg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ji(t,r),l&4&&yl(5,r);break;case 1:if(Ji(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){$t(r,r.return,y)}else{var c=ra(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){$t(r,r.return,y)}}l&64&&Bg(r),l&512&&_l(r,r.return);break;case 3:if(Ji(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{wm(t,n)}catch(y){$t(r,r.return,y)}}break;case 27:n===null&&l&4&&Hg(r);case 26:case 5:Ji(t,r),n===null&&l&4&&qg(r),l&512&&_l(r,r.return);break;case 12:Ji(t,r);break;case 13:Ji(t,r),l&4&&Xg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=F0.bind(null,r),cE(t,r))));break;case 22:if(l=r.memoizedState!==null||Vi,!l){n=n!==null&&n.memoizedState!==null||he,c=Vi;var f=he;Vi=l,(he=n)&&!f?Wi(t,r,(r.subtreeFlags&8772)!==0):Ji(t,r),Vi=c,he=f}break;case 30:break;default:Ji(t,r)}}function Fg(t){var n=t.alternate;n!==null&&(t.alternate=null,Fg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ki(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ie=null,We=!1;function Ii(t,n,r){for(r=r.child;r!==null;)Yg(t,n,r),r=r.sibling}function Yg(t,n,r){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:he||$n(r,n),Ii(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:he||$n(r,n);var l=ie,c=We;ar(r.type)&&(ie=r.stateNode,We=!1),Ii(t,n,r),Cl(r.stateNode),ie=l,We=c;break;case 5:he||$n(r,n);case 6:if(l=ie,c=We,ie=null,Ii(t,n,r),ie=l,We=c,ie!==null)if(We)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(r.stateNode)}catch(f){$t(r,n,f)}else try{ie.removeChild(r.stateNode)}catch(f){$t(r,n,f)}break;case 18:ie!==null&&(We?(t=ie,Up(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ul(t)):Up(ie,r.stateNode));break;case 4:l=ie,c=We,ie=r.stateNode.containerInfo,We=!0,Ii(t,n,r),ie=l,We=c;break;case 0:case 11:case 14:case 15:he||$i(2,r,n),he||$i(4,r,n),Ii(t,n,r);break;case 1:he||($n(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&kg(r,n,l)),Ii(t,n,r);break;case 21:Ii(t,n,r);break;case 22:he=(l=he)||r.memoizedState!==null,Ii(t,n,r),he=l;break;default:Ii(t,n,r)}}function Xg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ul(t)}catch(r){$t(n,n.return,r)}}function P0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Gg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Gg),n;default:throw Error(a(435,t.tag))}}function Lh(t,n){var r=P0(t);n.forEach(function(l){var c=Y0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function on(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ar(E.type)){ie=E.stateNode,We=!1;break t}break;case 5:ie=E.stateNode,We=!1;break t;case 3:case 4:ie=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(ie===null)throw Error(a(160));Yg(f,y,c),ie=null,We=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Kg(n,t),n=n.sibling}var Mn=null;function Kg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),cn(t),l&4&&($i(3,t,t.return),yl(3,t),$i(5,t,t.return));break;case 1:on(n,t),cn(t),l&512&&(he||r===null||$n(r,r.return)),l&64&&Vi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Mn;if(on(n,t),cn(t),l&512&&(he||r===null||$n(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Mr]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,r),f[Te]=t,oe(f),l=f;break t;case"link":var y=Hp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Hp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[Te]=t,oe(f),l=f}t.stateNode=l}else Gp(c,t.type,t.stateNode);else t.stateNode=jp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Gp(c,t.type,t.stateNode):jp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Mh(t,t.memoizedProps,r.memoizedProps)}break;case 27:on(n,t),cn(t),l&512&&(he||r===null||$n(r,r.return)),r!==null&&l&4&&Mh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(on(n,t),cn(t),l&512&&(he||r===null||$n(r,r.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(k){$t(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Mh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(zh=!0);break;case 6:if(on(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(k){$t(t,t.return,k)}}break;case 3:if(So=null,c=Mn,Mn=To(n.containerInfo),on(n,t),Mn=c,cn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ul(n.containerInfo)}catch(k){$t(t,t.return,k)}zh&&(zh=!1,Zg(t));break;case 4:l=Mn,Mn=To(t.stateNode.containerInfo),on(n,t),cn(t),Mn=l;break;case 12:on(n,t),cn(t);break;case 13:on(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Hh=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lh(t,l)));break;case 22:c=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=Vi,H=he;if(Vi=P||c,he=H||R,on(n,t),he=H,Vi=P,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||R||Vi||he||aa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var F=R.memoizedProps.style,B=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){$t(R,R.return,k)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(k){$t(R,R.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Lh(t,r))));break;case 19:on(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lh(t,l)));break;case 30:break;case 21:break;default:on(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(jg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=xh(t);lo(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(yn(y,""),r.flags&=-33);var E=xh(t);lo(t,E,y);break;case 3:case 4:var R=r.stateNode.containerInfo,P=xh(t);Uh(t,P,R);break;default:throw Error(a(161))}}catch(H){$t(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Zg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Zg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Qg(t,n.alternate,n),n=n.sibling}function aa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$i(4,n,n.return),aa(n);break;case 1:$n(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&kg(n,n.return,r),aa(n);break;case 27:Cl(n.stateNode);case 26:case 5:$n(n,n.return),aa(n);break;case 22:n.memoizedState===null&&aa(n);break;case 30:aa(n);break;default:aa(n)}t=t.sibling}}function Wi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(c,f,r),yl(4,f);break;case 1:if(Wi(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){$t(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Rm(R[c],E)}catch(P){$t(l,l.return,P)}}r&&y&64&&Bg(f),_l(f,f.return);break;case 27:Hg(f);case 26:case 5:Wi(c,f,r),r&&l===null&&y&4&&qg(f),_l(f,f.return);break;case 12:Wi(c,f,r);break;case 13:Wi(c,f,r),r&&y&4&&Xg(c,f);break;case 22:f.memoizedState===null&&Wi(c,f,r),_l(f,f.return);break;case 30:break;default:Wi(c,f,r)}n=n.sibling}}function Ph(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&il(r))}function Bh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t))}function Jn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$g(t,n,r,l),n=n.sibling}function $g(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,r,l),c&2048&&yl(9,n);break;case 1:Jn(t,n,r,l);break;case 3:Jn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t)));break;case 12:if(c&2048){Jn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){$t(n,n.return,R)}}else Jn(t,n,r,l);break;case 13:Jn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,r,l):vl(t,n):f._visibility&2?Jn(t,n,r,l):(f._visibility|=2,Ka(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Ph(y,n);break;case 24:Jn(t,n,r,l),c&2048&&Bh(n.alternate,n);break;default:Jn(t,n,r,l)}}function Ka(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,R=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Ka(f,y,E,R,c),yl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Ka(f,y,E,R,c):vl(f,y):(H._visibility|=2,Ka(f,y,E,R,c)),c&&P&2048&&Ph(y.alternate,y);break;case 24:Ka(f,y,E,R,c),c&&P&2048&&Bh(y.alternate,y);break;default:Ka(f,y,E,R,c)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:vl(r,l),c&2048&&Ph(l.alternate,l);break;case 24:vl(r,l),c&2048&&Bh(l.alternate,l);break;default:vl(r,l)}n=n.sibling}}var El=8192;function Za(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)Jg(t),t=t.sibling}function Jg(t){switch(t.tag){case 26:Za(t),t.flags&El&&t.memoizedState!==null&&SE(Mn,t.memoizedState,t.memoizedProps);break;case 5:Za(t);break;case 3:case 4:var n=Mn;Mn=To(t.stateNode.containerInfo),Za(t),Mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=El,El=16777216,Za(t),El=n):Za(t));break;default:Za(t)}}function Wg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,ep(l,t)}Wg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tp(t),t=t.sibling}function tp(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&$i(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,uo(t)):Tl(t);break;default:Tl(t)}}function uo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,ep(l,t)}Wg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$i(8,n,n.return),uo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,uo(n));break;default:uo(n)}t=t.sibling}}function ep(t,n){for(;Ne!==null;){var r=Ne;switch(r.tag){case 0:case 11:case 15:$i(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ne=l;else t:for(r=t;Ne!==null;){l=Ne;var c=l.sibling,f=l.return;if(Fg(l),l===r){Ne=null;break t}if(c!==null){c.return=f,Ne=c;break t}Ne=f}}}var B0={getCacheForType:function(t){var n=He(be),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},k0=typeof WeakMap=="function"?WeakMap:Map,Qt=0,Wt=null,Vt=null,Lt=0,Ft=0,hn=null,tr=!1,$a=!1,kh=!1,Ni=0,ue=0,er=0,sa=0,qh=0,wn=0,Ja=0,Al=null,tn=null,jh=!1,Hh=0,oo=1/0,co=null,nr=null,Le=0,ir=null,Wa=null,ts=0,Gh=0,Qh=null,np=null,Sl=0,Fh=null;function fn(){if((Qt&2)!==0&&Lt!==0)return Lt&-Lt;if(q.T!==null){var t=qa;return t!==0?t:Wh()}return Pi()}function ip(){wn===0&&(wn=(Lt&536870912)===0||qt?Os():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),wn}function dn(t,n,r){(t===Wt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(es(t,0),rr(t,Lt,wn,!1)),oi(t,r),((Qt&2)===0||t!==Wt)&&(t===Wt&&((Qt&2)===0&&(sa|=r),ue===4&&rr(t,Lt,wn,!1)),Wn(t))}function rp(t,n,r){if((Qt&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Or(t,n),c=l?H0(t,n):Kh(t,n,!0),f=l;do{if(c===0){$a&&!l&&rr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!q0(r)){c=Kh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Al;var R=E.current.memoizedState.isDehydrated;if(R&&(es(E,y).flags|=256),y=Kh(E,y,!1),y!==2){if(kh&&!R){E.errorRecoveryDisabledLanes|=f,sa|=f,c=4;break t}f=tn,tn=c,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){es(t,0),rr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:rr(l,n,wn,!tr);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Hh+300-gn(),10<c)){if(rr(l,n,wn,!tr),_a(l,0,!0)!==0)break t;l.timeoutHandle=Mp(ap.bind(null,l,r,tn,co,jh,n,wn,sa,Ja,tr,f,2,-0,0),c);break t}ap(l,r,tn,co,jh,n,wn,sa,Ja,tr,f,0,-0,0)}}break}while(!0);Wn(t)}function ap(t,n,r,l,c,f,y,E,R,P,H,F,B,k){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:AE},Jg(n),F=bE(),F!==null)){t.cancelPendingCommit=F(fp.bind(null,t,n,f,r,l,c,y,E,R,H,1,B,k)),rr(t,f,y,!P);return}fp(t,n,f,r,l,c,y,E,R)}function q0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function rr(t,n,r,l){n&=~qh,n&=~sa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-je(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Pn(t,r,n)}function ho(){return(Qt&6)===0?(bl(0),!1):!0}function Yh(){if(Vt!==null){if(Ft===0)var t=Vt.return;else t=Vt,Si=ta=null,ch(t),Ya=null,ml=0,t=Vt;for(;t!==null;)Pg(t.alternate,t),t=t.return;Vt=null}}function es(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,aE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Yh(),Wt=t,Vt=r=Ei(t.current,null),Lt=n,Ft=0,hn=null,tr=!1,$a=Or(t,n),kh=!1,Ja=wn=qh=sa=er=ue=0,tn=Al=null,jh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-je(l),f=1<<c;n|=t[c],l&=~f}return Ni=n,Mu(),r}function sp(t,n){wt=null,q.H=Ju,n===al||n===ju?(n=Sm(),Ft=3):n===Em?(n=Sm(),Ft=4):Ft=n===bg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Vt===null&&(ue=1,io(t,Tn(n,t.current)))}function lp(){var t=q.H;return q.H=Ju,t===null?Ju:t}function up(){var t=q.A;return q.A=B0,t}function Xh(){ue=4,tr||(Lt&4194048)!==Lt&&Rn.current!==null||($a=!0),(er&134217727)===0&&(sa&134217727)===0||Wt===null||rr(Wt,Lt,wn,!1)}function Kh(t,n,r){var l=Qt;Qt|=2;var c=lp(),f=up();(Wt!==t||Lt!==n)&&(co=null,es(t,n)),n=!1;var y=ue;t:do try{if(Ft!==0&&Vt!==null){var E=Vt,R=hn;switch(Ft){case 8:Yh(),y=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var P=Ft;if(Ft=0,hn=null,ns(t,E,R,P),r&&$a){y=0;break t}break;default:P=Ft,Ft=0,hn=null,ns(t,E,R,P)}}j0(),y=ue;break}catch(H){sp(t,H)}while(!0);return n&&t.shellSuspendCounter++,Si=ta=null,Qt=l,q.H=c,q.A=f,Vt===null&&(Wt=null,Lt=0,Mu()),y}function j0(){for(;Vt!==null;)op(Vt)}function H0(t,n){var r=Qt;Qt|=2;var l=lp(),c=up();Wt!==t||Lt!==n?(co=null,oo=gn()+500,es(t,n)):$a=Or(t,n);t:do try{if(Ft!==0&&Vt!==null){n=Vt;var f=hn;e:switch(Ft){case 1:Ft=0,hn=null,ns(t,n,f,1);break;case 2:case 9:if(Tm(f)){Ft=0,hn=null,cp(n);break}n=function(){Ft!==2&&Ft!==9||Wt!==t||(Ft=7),Wn(t)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Tm(f)?(Ft=0,hn=null,cp(n)):(Ft=0,hn=null,ns(t,n,f,7));break;case 5:var y=null;switch(Vt.tag){case 26:y=Vt.memoizedState;case 5:case 27:var E=Vt;if(!y||Qp(y)){Ft=0,hn=null;var R=E.sibling;if(R!==null)Vt=R;else{var P=E.return;P!==null?(Vt=P,fo(P)):Vt=null}break e}}Ft=0,hn=null,ns(t,n,f,5);break;case 6:Ft=0,hn=null,ns(t,n,f,6);break;case 8:Yh(),ue=6;break t;default:throw Error(a(462))}}G0();break}catch(H){sp(t,H)}while(!0);return Si=ta=null,q.H=l,q.A=c,Qt=r,Vt!==null?0:(Wt=null,Lt=0,Mu(),ue)}function G0(){for(;Vt!==null&&!Ds();)op(Vt)}function op(t){var n=zg(t.alternate,t,Ni);t.memoizedProps=t.pendingProps,n===null?fo(t):Vt=n}function cp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Ig(r,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=Ig(r,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:ch(n);default:Pg(r,n),n=Vt=hm(n,Ni),n=zg(r,n,Ni)}t.memoizedProps=t.pendingProps,n===null?fo(t):Vt=n}function ns(t,n,r,l){Si=ta=null,ch(n),Ya=null,ml=0;var c=n.return;try{if(M0(t,c,n,r,Lt)){ue=1,io(t,Tn(r,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;ue=1,io(t,Tn(r,t.current)),Vt=null;return}n.flags&32768?(qt||l===1?t=!0:$a||(Lt&536870912)!==0?t=!1:(tr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),hp(n,t)):fo(n)}function fo(t){var n=t;do{if((n.flags&32768)!==0){hp(n,tr);return}t=n.return;var r=U0(n.alternate,n,Ni);if(r!==null){Vt=r;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);ue===0&&(ue=5)}function hp(t,n){do{var r=z0(t.alternate,t);if(r!==null){r.flags&=32767,Vt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=r}while(t!==null);ue=6,Vt=null}function fp(t,n,r,l,c,f,y,E,R){t.cancelPendingCommit=null;do mo();while(Le!==0);if((Qt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bc,xs(t,r,f,y,E,R),t===Wt&&(Vt=Wt=null,Lt=0),Wa=n,ir=t,ts=r,Gh=f,Qh=c,np=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,X0(Dr,function(){return yp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,c=J.p,J.p=2,y=Qt,Qt|=4;try{L0(t,n,r)}finally{Qt=y,J.p=c,q.T=l}}Le=1,dp(),mp(),gp()}}function dp(){if(Le===1){Le=0;var t=ir,n=Wa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var l=J.p;J.p=2;var c=Qt;Qt|=4;try{Kg(n,t);var f=uf,y=em(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&tm(E.ownerDocument.documentElement,E)){if(R!==null&&xc(E)){var P=R.start,H=R.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var F=E.ownerDocument||document,B=F&&F.defaultView||window;if(B.getSelection){var k=B.getSelection(),_t=E.textContent.length,dt=Math.min(R.start,_t),Zt=R.end===void 0?dt:Math.min(R.end,_t);!k.extend&&dt>Zt&&(y=Zt,Zt=dt,dt=y);var x=Wd(E,dt),D=Wd(E,Zt);if(x&&D&&(k.rangeCount!==1||k.anchorNode!==x.node||k.anchorOffset!==x.offset||k.focusNode!==D.node||k.focusOffset!==D.offset)){var L=F.createRange();L.setStart(x.node,x.offset),k.removeAllRanges(),dt>Zt?(k.addRange(L),k.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),k.addRange(L))}}}}for(F=[],k=E;k=k.parentNode;)k.nodeType===1&&F.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}wo=!!lf,uf=lf=null}finally{Qt=c,J.p=l,q.T=r}}t.current=n,Le=2}}function mp(){if(Le===2){Le=0;var t=ir,n=Wa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var l=J.p;J.p=2;var c=Qt;Qt|=4;try{Qg(t,n.alternate,n)}finally{Qt=c,J.p=l,q.T=r}}Le=3}}function gp(){if(Le===4||Le===3){Le=0,uu();var t=ir,n=Wa,r=ts,l=np;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,Wa=ir=null,pp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(nr=null),va(r),n=n.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,c=J.p,J.p=2,q.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{q.T=n,J.p=c}}(ts&3)!==0&&mo(),Wn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Fh?Sl++:(Sl=0,Fh=t):Sl=0,bl(0)}}function pp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,il(n)))}function mo(t){return dp(),mp(),gp(),yp()}function yp(){if(Le!==5)return!1;var t=ir,n=Gh;Gh=0;var r=va(ts),l=q.T,c=J.p;try{J.p=32>r?32:r,q.T=null,r=Qh,Qh=null;var f=ir,y=ts;if(Le=0,Wa=ir=null,ts=0,(Qt&6)!==0)throw Error(a(331));var E=Qt;if(Qt|=4,tp(f.current),$g(f,f.current,y,r),Qt=E,bl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{J.p=c,q.T=l,pp(t,n)}}function _p(t,n,r){n=Tn(r,n),n=bh(t.stateNode,n,2),t=Yi(t,n,2),t!==null&&(oi(t,2),Wn(t))}function $t(t,n,r){if(t.tag===3)_p(t,t,r);else for(;n!==null;){if(n.tag===3){_p(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(nr===null||!nr.has(l))){t=Tn(r,t),r=Ag(2),l=Yi(n,r,2),l!==null&&(Sg(r,l,n,t),oi(l,2),Wn(l));break}}n=n.return}}function Zh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new k0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(kh=!0,c.add(r),t=Q0.bind(null,t,n,r),n.then(t,t))}function Q0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Wt===t&&(Lt&r)===r&&(ue===4||ue===3&&(Lt&62914560)===Lt&&300>gn()-Hh?(Qt&2)===0&&es(t,0):qh|=r,Ja===Lt&&(Ja=0)),Wn(t)}function vp(t,n){n===0&&(n=Ms()),t=La(t,n),t!==null&&(oi(t,n),Wn(t))}function F0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),vp(t,r)}function Y0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),vp(t,r)}function X0(t,n){return wr(t,n)}var go=null,is=null,$h=!1,po=!1,Jh=!1,la=0;function Wn(t){t!==is&&t.next===null&&(is===null?go=is=t:is=is.next=t),po=!0,$h||($h=!0,Z0())}function bl(t,n){if(!Jh&&po){Jh=!0;do for(var r=!1,l=go;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-je(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Sp(l,f))}else f=Lt,f=_a(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Or(l,f)||(r=!0,Sp(l,f));l=l.next}while(r);Jh=!1}}function K0(){Ep()}function Ep(){po=$h=!1;var t=0;la!==0&&(rE()&&(t=la),la=0);for(var n=gn(),r=null,l=go;l!==null;){var c=l.next,f=Tp(l,n);f===0?(l.next=null,r===null?go=c:r.next=c,c===null&&(is=r)):(r=l,(t!==0||(f&3)!==0)&&(po=!0)),l=c}bl(t)}function Tp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-je(f),E=1<<y,R=c[y];R===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Ns(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Wt,r=Lt,r=_a(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Cr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Or(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Cr(l),va(r)){case 2:case 8:r=pa;break;case 32:r=Dr;break;case 268435456:r=ya;break;default:r=Dr}return l=Ap.bind(null,t),r=wr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Cr(l),t.callbackPriority=2,t.callbackNode=null,2}function Ap(t,n){if(Le!==0&&Le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(mo()&&t.callbackNode!==r)return null;var l=Lt;return l=_a(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(rp(t,l,n),Tp(t,gn()),t.callbackNode!=null&&t.callbackNode===r?Ap.bind(null,t):null)}function Sp(t,n){if(mo())return null;rp(t,n,!0)}function Z0(){sE(function(){(Qt&6)!==0?wr(Vs,K0):Ep()})}function Wh(){return la===0&&(la=Os()),la}function bp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ra(""+t)}function Rp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function $0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=bp((c[de]||null).action),y=l.submitter;y&&(n=(n=y[de]||null)?bp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new wa("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(la!==0){var R=y?Rp(c,y):new FormData(c);vh(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?Rp(c,y):new FormData(c),vh(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var tf=0;tf<Pc.length;tf++){var ef=Pc[tf],J0=ef.toLowerCase(),W0=ef[0].toUpperCase()+ef.slice(1);On(J0,"on"+W0)}On(rm,"onAnimationEnd"),On(am,"onAnimationIteration"),On(sm,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(p0,"onTransitionRun"),On(y0,"onTransitionStart"),On(_0,"onTransitionCancel"),On(lm,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function wp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){no(H)}c.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){no(H)}c.currentTarget=null,f=R}}}}function It(t,n){var r=n[zs];r===void 0&&(r=n[zs]=new Set);var l=t+"__bubble";r.has(l)||(Cp(n,t,2,!1),r.add(l))}function nf(t,n,r){var l=0;n&&(l|=4),Cp(r,t,l,n)}var yo="_reactListening"+Math.random().toString(36).slice(2);function rf(t){if(!t[yo]){t[yo]=!0,Ls.forEach(function(r){r!=="selectionchange"&&(tE.has(r)||nf(r,!1,t),nf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[yo]||(n[yo]=!0,nf("selectionchange",!1,n))}}function Cp(t,n,r,l){switch($p(n)){case 2:var c=CE;break;case 8:c=DE;break;default:c=_f}r=c.bind(null,n,r,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function af(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ci(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue t}E=E.parentNode}}l=l.return}_u(function(){var P=f,H=_n(r),F=[];t:{var B=um.get(t);if(B!==void 0){var k=wa,_t=t;switch(t){case"keypress":if(Gn(r)===0)break t;case"keydown":case"keyup":k=Oa;break;case"focusin":_t="focus",k=Va;break;case"focusout":_t="blur",k=Va;break;case"beforeblur":case"afterblur":k=Va;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=wu;break;case rm:case am:case sm:k=Ia;break;case lm:k=Du;break;case"scroll":case"scrollend":k=vu;break;case"wheel":k=Ma;break;case"copy":case"cut":case"paste":k=Na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Ks;break;case"toggle":case"beforetoggle":k=Iu}var dt=(n&4)!==0,Zt=!dt&&(t==="scroll"||t==="scrollend"),x=dt?B!==null?B+"Capture":null:B;dt=[];for(var D=P,L;D!==null;){var Q=D;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||x===null||(Q=kr(D,x),Q!=null&&dt.push(wl(D,Q,L))),Zt)break;D=D.return}0<dt.length&&(B=new k(B,_t,null,r,H),F.push({event:B,listeners:dt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&r!==mi&&(_t=r.relatedTarget||r.fromElement)&&(ci(_t)||_t[pn]))break t;if((k||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,k?(_t=r.relatedTarget||r.toElement,k=P,_t=_t?ci(_t):null,_t!==null&&(Zt=h(_t),dt=_t.tag,_t!==Zt||dt!==5&&dt!==27&&dt!==6)&&(_t=null)):(k=null,_t=P),k!==_t)){if(dt=En,Q="onMouseLeave",x="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(dt=Ks,Q="onPointerLeave",x="onPointerEnter",D="pointer"),Zt=k==null?B:kn(k),L=_t==null?B:kn(_t),B=new dt(Q,D+"leave",k,r,H),B.target=Zt,B.relatedTarget=L,Q=null,ci(H)===P&&(dt=new dt(x,D+"enter",_t,r,H),dt.target=L,dt.relatedTarget=Zt,Q=dt),Zt=Q,k&&_t)e:{for(dt=k,x=_t,D=0,L=dt;L;L=rs(L))D++;for(L=0,Q=x;Q;Q=rs(Q))L++;for(;0<D-L;)dt=rs(dt),D--;for(;0<L-D;)x=rs(x),L--;for(;D--;){if(dt===x||x!==null&&dt===x.alternate)break e;dt=rs(dt),x=rs(x)}dt=null}else dt=null;k!==null&&Dp(F,B,k,dt,!1),_t!==null&&Zt!==null&&Dp(F,Zt,_t,dt,!0)}}t:{if(B=P?kn(P):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var lt=Yd;else if(Se(B))if(Xd)lt=d0;else{lt=h0;var Dt=c0}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&js(P.elementType)&&(lt=Yd):lt=f0;if(lt&&(lt=lt(t,P))){vi(F,lt,r,H);break t}Dt&&Dt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&ji(B,"number",B.value)}switch(Dt=P?kn(P):window,t){case"focusin":(Se(Dt)||Dt.contentEditable==="true")&&(xa=Dt,Uc=P,Js=null);break;case"focusout":Js=Uc=xa=null;break;case"mousedown":zc=!0;break;case"contextmenu":case"mouseup":case"dragend":zc=!1,nm(F,r,H);break;case"selectionchange":if(g0)break;case"keydown":case"keyup":nm(F,r,H)}var ot;if(Yn)t:{switch(t){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Ut?j(t,r)&&(gt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(gt="onCompositionStart");gt&&(g&&r.locale!=="ko"&&(Ut||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Ut&&(ot=Gs()):(Hn=H,Hi="value"in Hn?Hn.value:Hn.textContent,Ut=!0)),Dt=_o(P,gt),0<Dt.length&&(gt=new Ys(gt,t,null,r,H),F.push({event:gt,listeners:Dt}),ot?gt.data=ot:(ot=tt(r),ot!==null&&(gt.data=ot)))),(ot=m?Ae(t,r):zt(t,r))&&(gt=_o(P,"onBeforeInput"),0<gt.length&&(Dt=new Ys("onBeforeInput","beforeinput",null,r,H),F.push({event:Dt,listeners:gt}),Dt.data=ot)),$0(F,t,P,r,H)}wp(F,n)})}function wl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function _o(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=kr(t,r),c!=null&&l.unshift(wl(t,c,f)),c=kr(t,n),c!=null&&l.push(wl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Dp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||P===null||(R=P,c?(P=kr(r,f),P!=null&&y.unshift(wl(r,P,R))):c||(P=kr(r,f),P!=null&&y.push(wl(r,P,R)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var eE=/\r\n?/g,nE=/\u0000|\uFFFD/g;function Vp(t){return(typeof t=="string"?t:""+t).replace(eE,`
`).replace(nE,"")}function Ip(t,n){return n=Vp(n),Vp(t)===n}function vo(){}function Kt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":qn(t,"class",l);break;case"tabIndex":qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(t,r,l);break;case"style":qs(t,l,f);break;case"data":if(n!=="object"){qn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ra(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ra(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=vo);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ra(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":It("beforetoggle",t),It("toggle",t),qi(t,"popover",l);break;case"xlinkActuate":xe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":qi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Dc.get(r)||r,qi(t,r,l))}}function sf(t,n,r,l,c,f){switch(r){case"style":qs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=vo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ea.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[de]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):qi(t,r,l)}}}function Pe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(t,n,f,y,r,null)}}c&&Kt(t,n,"srcSet",r.srcSet,r,null),l&&Kt(t,n,"src",r.src,r,null);return;case"input":It("invalid",t);var E=f=y=c=null,R=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":R=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Kt(t,n,l,H,r,null)}}Lr(t,f,E,R,P,y,c,!1),ba(t);return;case"select":It("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Kt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?di(t,!!l,n,!1):r!=null&&di(t,!!l,r,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Kt(t,n,y,E,r,null)}Pr(t,l,c,f),ba(t);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,R,l,r,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)It(Rl[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(t,n,P,l,r,null)}return;default:if(js(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&sf(t,n,H,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Kt(t,n,E,l,r,null))}function iE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,R=null,P=null,H=null;for(k in r){var F=r[k];if(r.hasOwnProperty(k)&&F!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":R=F;default:l.hasOwnProperty(k)||Kt(t,n,k,null,l,F)}}for(var B in l){var k=l[B];if(F=r[B],l.hasOwnProperty(B)&&(k!=null||F!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":P=k;break;case"defaultChecked":H=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==F&&Kt(t,n,B,k,l,F)}}sn(t,y,E,R,P,H,f,c);return;case"select":k=y=E=B=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":k=R;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=r[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Kt(t,n,c,f,l,R)}n=E,r=y,l=k,B!=null?di(t,!!r,B,!1):!!l!=!!r&&(n!=null?di(t,!!r,n,!0):di(t,!!r,r?[]:"",!1));return;case"textarea":k=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Kt(t,n,y,c,l,f)}Yt(t,B,k);return;case"option":for(var _t in r)if(B=r[_t],r.hasOwnProperty(_t)&&B!=null&&!l.hasOwnProperty(_t))switch(_t){case"selected":t.selected=!1;break;default:Kt(t,n,_t,null,l,B)}for(R in l)if(B=l[R],k=r[R],l.hasOwnProperty(R)&&B!==k&&(B!=null||k!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Kt(t,n,R,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in r)B=r[dt],r.hasOwnProperty(dt)&&B!=null&&!l.hasOwnProperty(dt)&&Kt(t,n,dt,null,l,B);for(P in l)if(B=l[P],k=r[P],l.hasOwnProperty(P)&&B!==k&&(B!=null||k!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Kt(t,n,P,B,l,k)}return;default:if(js(n)){for(var Zt in r)B=r[Zt],r.hasOwnProperty(Zt)&&B!==void 0&&!l.hasOwnProperty(Zt)&&sf(t,n,Zt,void 0,l,B);for(H in l)B=l[H],k=r[H],!l.hasOwnProperty(H)||B===k||B===void 0&&k===void 0||sf(t,n,H,B,l,k);return}}for(var x in r)B=r[x],r.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Kt(t,n,x,null,l,B);for(F in l)B=l[F],k=r[F],!l.hasOwnProperty(F)||B===k||B==null&&k==null||Kt(t,n,F,B,l,k)}var lf=null,uf=null;function Eo(t){return t.nodeType===9?t:t.ownerDocument}function Np(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Op(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function of(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cf=null;function rE(){var t=window.event;return t&&t.type==="popstate"?t===cf?!1:(cf=t,!0):(cf=null,!1)}var Mp=typeof setTimeout=="function"?setTimeout:void 0,aE=typeof clearTimeout=="function"?clearTimeout:void 0,xp=typeof Promise=="function"?Promise:void 0,sE=typeof queueMicrotask=="function"?queueMicrotask:typeof xp<"u"?function(t){return xp.resolve(null).then(t).catch(lE)}:Mp;function lE(t){setTimeout(function(){throw t})}function ar(t){return t==="head"}function Up(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Cl(y.documentElement),r&2&&Cl(y.body),r&4)for(r=y.head,Cl(r),y=r.firstChild;y;){var E=y.nextSibling,R=y.nodeName;y[Mr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Ul(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Ul(n)}function hf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":hf(r),ki(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function uE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Mr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function oE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=xn(t.nextSibling),t===null))return null;return t}function ff(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function cE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var df=null;function zp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Lp(t,n,r){switch(n=Eo(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Cl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ki(t)}var Cn=new Map,Pp=new Set;function To(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Oi=J.d;J.d={f:hE,r:fE,D:dE,C:mE,L:gE,m:pE,X:_E,S:yE,M:vE};function hE(){var t=Oi.f(),n=ho();return t||n}function fE(t){var n=Bn(t);n!==null&&n.tag===5&&n.type==="form"?rg(n):Oi.r(t)}var as=typeof document>"u"?null:document;function Bp(t,n,r){var l=as;if(l&&typeof n=="string"&&n){var c=me(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Pp.has(c)||(Pp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),oe(n),l.head.appendChild(n)))}}function dE(t){Oi.D(t),Bp("dns-prefetch",t,null)}function mE(t,n){Oi.C(t,n),Bp("preconnect",t,n)}function gE(t,n,r){Oi.L(t,n,r);var l=as;if(l&&t&&n){var c='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+me(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+me(r.imageSizes)+'"]')):c+='[href="'+me(t)+'"]';var f=c;switch(n){case"style":f=ss(t);break;case"script":f=ls(t)}Cn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Cn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Dl(f))||n==="script"&&l.querySelector(Vl(f))||(n=l.createElement("link"),Pe(n,"link",t),oe(n),l.head.appendChild(n)))}}function pE(t,n){Oi.m(t,n);var r=as;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+me(l)+'"][href="'+me(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ls(t)}if(!Cn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Cn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Vl(f)))return}l=r.createElement("link"),Pe(l,"link",t),oe(l),r.head.appendChild(l)}}}function yE(t,n,r){Oi.S(t,n,r);var l=as;if(l&&t){var c=Xe(l).hoistableStyles,f=ss(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Dl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Cn.get(f))&&mf(t,r);var R=y=l.createElement("link");oe(R),Pe(R,"link",t),R._p=new Promise(function(P,H){R.onload=P,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ao(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function _E(t,n){Oi.X(t,n);var r=as;if(r&&t){var l=Xe(r).hoistableScripts,c=ls(t),f=l.get(c);f||(f=r.querySelector(Vl(c)),f||(t=A({src:t,async:!0},n),(n=Cn.get(c))&&gf(t,n),f=r.createElement("script"),oe(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function vE(t,n){Oi.M(t,n);var r=as;if(r&&t){var l=Xe(r).hoistableScripts,c=ls(t),f=l.get(c);f||(f=r.querySelector(Vl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Cn.get(c))&&gf(t,n),f=r.createElement("script"),oe(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function kp(t,n,r,l){var c=(c=Et.current)?To(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ss(r.href),r=Xe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ss(r.href);var f=Xe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Dl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Cn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Cn.set(t,r),f||EE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ls(r),r=Xe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ss(t){return'href="'+me(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function qp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function EE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",r),oe(n),t.head.appendChild(n))}function ls(t){return'[src="'+me(t)+'"]'}function Vl(t){return"script[async]"+t}function jp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+me(r.href)+'"]');if(l)return n.instance=l,oe(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),oe(l),Pe(l,"style",c),Ao(l,r.precedence,t),n.instance=l;case"stylesheet":c=ss(r.href);var f=t.querySelector(Dl(c));if(f)return n.state.loading|=4,n.instance=f,oe(f),f;l=qp(r),(c=Cn.get(c))&&mf(l,c),f=(t.ownerDocument||t).createElement("link"),oe(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Pe(f,"link",l),n.state.loading|=4,Ao(f,r.precedence,t),n.instance=f;case"script":return f=ls(r.src),(c=t.querySelector(Vl(f)))?(n.instance=c,oe(c),c):(l=r,(c=Cn.get(f))&&(l=A({},r),gf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),oe(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ao(l,r.precedence,t));return n.instance}function Ao(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function gf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var So=null;function Hp(t,n,r){if(So===null){var l=new Map,c=So=new Map;c.set(r,l)}else c=So,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Mr]||f[Te]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Gp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function TE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Qp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function AE(){}function SE(t,n,r){if(Il===null)throw Error(a(475));var l=Il;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ss(r.href),f=t.querySelector(Dl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=bo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,oe(f);return}f=t.ownerDocument||t,r=qp(r),(c=Cn.get(c))&&mf(r,c),f=f.createElement("link"),oe(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Pe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=bo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function bE(){if(Il===null)throw Error(a(475));var t=Il;return t.stylesheets&&t.count===0&&pf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&pf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function bo(){if(this.count--,this.count===0){if(this.stylesheets)pf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ro=null;function pf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ro=new Map,n.forEach(RE,t),Ro=null,bo.call(t))}function RE(t,n){if(!(n.state.loading&4)){var r=Ro.get(t);if(r)var l=r.get(null);else{r=new Map,Ro.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=bo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Nl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function wE(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Fp(t,n,r,l,c,f,y,E,R,P,H,F){return t=new wE(t,n,r,y,E,R,P,F),n=1,f===!0&&(n|=24),f=un(3,null,null,n),t.current=f,f.stateNode=t,n=Zc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},th(f),t}function Yp(t){return t?(t=Pa,t):Pa}function Xp(t,n,r,l,c,f){c=Yp(c),l.context===null?l.context=c:l.pendingContext=c,l=Fi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Yi(t,l,n),r!==null&&(dn(r,t,n),ll(r,t,n))}function Kp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function yf(t,n){Kp(t,n),(t=t.alternate)&&Kp(t,n)}function Zp(t){if(t.tag===13){var n=La(t,67108864);n!==null&&dn(n,t,67108864),yf(t,67108864)}}var wo=!0;function CE(t,n,r,l){var c=q.T;q.T=null;var f=J.p;try{J.p=2,_f(t,n,r,l)}finally{J.p=f,q.T=c}}function DE(t,n,r,l){var c=q.T;q.T=null;var f=J.p;try{J.p=8,_f(t,n,r,l)}finally{J.p=f,q.T=c}}function _f(t,n,r,l){if(wo){var c=vf(l);if(c===null)af(t,n,l,Co,r),Jp(t,l);else if(IE(c,t,n,r,l))l.stopPropagation();else if(Jp(t,l),n&4&&-1<VE.indexOf(t)){for(;c!==null;){var f=Bn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Vn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-je(y);E.entanglements[1]|=R,y&=~R}Wn(f),(Qt&6)===0&&(oo=gn()+500,bl(0))}}break;case 13:E=La(f,2),E!==null&&dn(E,f,2),ho(),yf(f,2)}if(f=vf(l),f===null&&af(t,n,l,Co,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else af(t,n,l,null,r)}}function vf(t){return t=_n(t),Ef(t)}var Co=null;function Ef(t){if(Co=null,t=ci(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Co=t,null}function $p(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ac()){case Vs:return 2;case pa:return 8;case Dr:case Sc:return 32;case ya:return 268435456;default:return 32}default:return 32}}var Tf=!1,sr=null,lr=null,ur=null,Ol=new Map,Ml=new Map,or=[],VE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jp(t,n){switch(t){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(n.pointerId)}}function xl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Bn(n),n!==null&&Zp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function IE(t,n,r,l,c){switch(n){case"focusin":return sr=xl(sr,t,n,r,l,c),!0;case"dragenter":return lr=xl(lr,t,n,r,l,c),!0;case"mouseover":return ur=xl(ur,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Ol.set(f,xl(Ol.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ml.set(f,xl(Ml.get(f)||null,t,n,r,l,c)),!0}return!1}function Wp(t){var n=ci(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,hu(t.priority,function(){if(r.tag===13){var l=fn();l=Li(l);var c=La(r,l);c!==null&&dn(c,r,l),yf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Do(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=vf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);mi=l,r.target.dispatchEvent(l),mi=null}else return n=Bn(r),n!==null&&Zp(n),t.blockedOn=r,!1;n.shift()}return!0}function ty(t,n,r){Do(t)&&r.delete(n)}function NE(){Tf=!1,sr!==null&&Do(sr)&&(sr=null),lr!==null&&Do(lr)&&(lr=null),ur!==null&&Do(ur)&&(ur=null),Ol.forEach(ty),Ml.forEach(ty)}function Vo(t,n){t.blockedOn===n&&(t.blockedOn=null,Tf||(Tf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,NE)))}var Io=null;function ey(t){Io!==t&&(Io=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Io===t&&(Io=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Ef(l||r)===null)continue;break}var f=Bn(r);f!==null&&(t.splice(n,3),n-=3,vh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ul(t){function n(R){return Vo(R,t)}sr!==null&&Vo(sr,t),lr!==null&&Vo(lr,t),ur!==null&&Vo(ur,t),Ol.forEach(n),Ml.forEach(n);for(var r=0;r<or.length;r++){var l=or[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<or.length&&(r=or[0],r.blockedOn===null);)Wp(r),r.blockedOn===null&&or.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[de]||null;if(typeof f=="function")y||ey(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[de]||null)E=y.formAction;else if(Ef(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),ey(r)}}}function Af(t){this._internalRoot=t}No.prototype.render=Af.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=fn();Xp(r,l,t,n,null,null)},No.prototype.unmount=Af.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Xp(t.current,2,null,t,null,null),ho(),n[pn]=null}};function No(t){this._internalRoot=t}No.prototype.unstable_scheduleHydration=function(t){if(t){var n=Pi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<or.length&&n!==0&&n<or[r].priority;r++);or.splice(r,0,t),r===0&&Wp(t)}};var ny=e.version;if(ny!=="19.1.1")throw Error(a(527,ny,"19.1.1"));J.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var OE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oo.isDisabled&&Oo.supportsFiber)try{se=Oo.inject(OE),Gt=Oo}catch{}}return Ll.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=_g,f=vg,y=Eg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Fp(t,1,!1,null,null,r,l,c,f,y,E,null),t[pn]=n.current,rf(t),new Af(n)},Ll.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=_g,y=vg,E=Eg,R=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Fp(t,1,!0,n,r??null,l,c,f,y,E,R,P),n.context=Yp(null),r=n.current,l=fn(),l=Li(l),c=Fi(l),c.callback=null,Yi(r,c,l),r=l,n.current.lanes=r,oi(n,r),Wn(n),t[pn]=n.current,rf(t),new No(n)},Ll.version="19.1.1",Ll}var fy;function jE(){if(fy)return Rf.exports;fy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Rf.exports=qE(),Rf.exports}var HE=jE();const GE=()=>{};var dy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},QE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],p=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},C_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,p=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,A=h>>2,V=(h&3)<<4|p>>4;let I=(p&15)<<2|v>>6,G=v&63;_||(G=64,d||(I=64)),a.push(i[A],i[V],i[I],i[G])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(w_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):QE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],p=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const V=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||p==null||v==null||V==null)throw new FE;const I=h<<2|p>>4;if(a.push(I),v!==64){const G=p<<4&240|v>>2;if(a.push(G),V!==64){const Z=v<<6&192|V;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class FE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YE=function(s){const e=w_(s);return C_.encodeByteArray(e,!0)},Qo=function(s){return YE(s).replace(/\./g,"")},XE=function(s){try{return C_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=()=>KE().__FIREBASE_DEFAULTS__,$E=()=>{if(typeof process>"u"||typeof dy>"u")return;const s=dy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},JE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&XE(s[1]);return e&&JSON.parse(e)},od=()=>{try{return GE()||ZE()||$E()||JE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},WE=s=>od()?.emulatorHosts?.[s],t1=s=>{const e=WE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},D_=()=>od()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function n1(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Qo(JSON.stringify(i)),Qo(JSON.stringify(d)),""].join(".")}const jl={};function r1(){const s={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?s.emulator.push(e):s.prod.push(e);return s}function a1(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let my=!1;function s1(s,e){if(typeof window>"u"||typeof document>"u"||!cd(window.location.host)||jl[s]===e||jl[s]||my)return;jl[s]=e;function i(I){return`__firebase__banner__${I}`}const a="__firebase__banner",h=r1().prod.length>0;function d(){const I=document.getElementById(a);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function _(I,G){I.setAttribute("width","24"),I.setAttribute("id",G),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function v(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{my=!0,d()},I}function A(I,G){I.setAttribute("id",G),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function V(){const I=a1(a),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),nt=i("learnmore"),$=document.getElementById(nt)||document.createElement("a"),At=i("preprendIcon"),pt=document.getElementById(At)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ct=I.element;p(ct),A($,nt);const xt=v();_(pt,At),ct.append(pt,Z,$,xt),document.body.appendChild(ct)}h?(Z.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",V):V()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u1(){const s=od()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o1(){return!u1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c1(){try{return typeof indexedDB=="object"}catch{return!1}}function h1(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="FirebaseError";class As extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=f1,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,V_.prototype.create)}}class V_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?d1(h,a):"Error",p=`${this.serviceName}: ${d} (${u}).`;return new As(u,p,a)}}function d1(s,e){return s.replace(m1,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const m1=/\{\$([^}]+)}/g;function Fo(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(gy(h)&&gy(d)){if(!Fo(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function gy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(s){return s&&s._delegate?s._delegate:s}class Yl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new e1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y1(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(u)}return u}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(a)??new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:p1(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p1(s){return s===ua?void 0:s}function y1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new g1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Bt||(Bt={}));const v1={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},E1=Bt.INFO,T1={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},A1=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=T1[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class I_{constructor(e){this.name=e,this._logLevel=E1,this._logHandler=A1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?v1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const S1=(s,e)=>e.some(i=>s instanceof i);let py,yy;function b1(){return py||(py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R1(){return yy||(yy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const N_=new WeakMap,Pf=new WeakMap,O_=new WeakMap,Vf=new WeakMap,hd=new WeakMap;function w1(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(fr(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&N_.set(i,s)}).catch(()=>{}),hd.set(e,s),e}function C1(s){if(Pf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Pf.set(s,e)}let Bf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Pf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||O_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return fr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function D1(s){Bf=s(Bf)}function V1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(If(this),e,...i);return O_.set(a,e.sort?e.sort():[e]),fr(a)}:R1().includes(s)?function(...e){return s.apply(If(this),e),fr(N_.get(this))}:function(...e){return fr(s.apply(If(this),e))}}function I1(s){return typeof s=="function"?V1(s):(s instanceof IDBTransaction&&C1(s),S1(s,b1())?new Proxy(s,Bf):s)}function fr(s){if(s instanceof IDBRequest)return w1(s);if(Vf.has(s))return Vf.get(s);const e=I1(s);return e!==s&&(Vf.set(s,e),hd.set(e,s)),e}const If=s=>hd.get(s);function N1(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),p=fr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(fr(d.result),_.oldVersion,_.newVersion,fr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const O1=["get","getKey","getAll","getAllKeys","count"],M1=["put","add","delete","clear"],Nf=new Map;function _y(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Nf.get(e))return Nf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=M1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||O1.includes(i)))return;const h=async function(d,...p){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),u&&_.done]))[0]};return Nf.set(e,h),h}D1(s=>({...s,get:(e,i,a)=>_y(e,i)||s.get(e,i,a),has:(e,i)=>!!_y(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(U1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function U1(s){return s.getComponent()?.type==="VERSION"}const kf="@firebase/app",vy="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new I_("@firebase/app"),z1="@firebase/app-compat",L1="@firebase/analytics-compat",P1="@firebase/analytics",B1="@firebase/app-check-compat",k1="@firebase/app-check",q1="@firebase/auth",j1="@firebase/auth-compat",H1="@firebase/database",G1="@firebase/data-connect",Q1="@firebase/database-compat",F1="@firebase/functions",Y1="@firebase/functions-compat",X1="@firebase/installations",K1="@firebase/installations-compat",Z1="@firebase/messaging",$1="@firebase/messaging-compat",J1="@firebase/performance",W1="@firebase/performance-compat",tT="@firebase/remote-config",eT="@firebase/remote-config-compat",nT="@firebase/storage",iT="@firebase/storage-compat",rT="@firebase/firestore",aT="@firebase/ai",sT="@firebase/firestore-compat",lT="firebase",uT="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="[DEFAULT]",oT={[kf]:"fire-core",[z1]:"fire-core-compat",[P1]:"fire-analytics",[L1]:"fire-analytics-compat",[k1]:"fire-app-check",[B1]:"fire-app-check-compat",[q1]:"fire-auth",[j1]:"fire-auth-compat",[H1]:"fire-rtdb",[G1]:"fire-data-connect",[Q1]:"fire-rtdb-compat",[F1]:"fire-fn",[Y1]:"fire-fn-compat",[X1]:"fire-iid",[K1]:"fire-iid-compat",[Z1]:"fire-fcm",[$1]:"fire-fcm-compat",[J1]:"fire-perf",[W1]:"fire-perf-compat",[tT]:"fire-rc",[eT]:"fire-rc-compat",[nT]:"fire-gcs",[iT]:"fire-gcs-compat",[rT]:"fire-fst",[sT]:"fire-fst-compat",[aT]:"fire-vertex","fire-js":"fire-js",[lT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new Map,cT=new Map,jf=new Map;function Ey(s,e){try{s.container.addComponent(e)}catch(i){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Xo(s){const e=s.name;if(jf.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;jf.set(e,s);for(const i of Yo.values())Ey(i,s);for(const i of cT.values())Ey(i,s);return!0}function hT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function fT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new V_("app","Firebase",dT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=uT;function M_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:qf,automaticDataCollectionEnabled:!0,...e},u=a.name;if(typeof u!="string"||!u)throw dr.create("bad-app-name",{appName:String(u)});if(i||(i=D_()),!i)throw dr.create("no-options");const h=Yo.get(u);if(h){if(Fo(i,h.options)&&Fo(a,h.config))return h;throw dr.create("duplicate-app",{appName:u})}const d=new _1(u);for(const _ of jf.values())d.addComponent(_);const p=new mT(i,a,d);return Yo.set(u,p),p}function pT(s=qf){const e=Yo.get(s);if(!e&&s===qf&&D_())return M_();if(!e)throw dr.create("no-app",{appName:s});return e}function fs(s,e,i){let a=oT[s]??s;i&&(a+=`-${i}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${a}" with version "${e}":`];u&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(d.join(" "));return}Xo(new Yl(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="firebase-heartbeat-database",_T=1,Xl="firebase-heartbeat-store";let Of=null;function x_(){return Of||(Of=N1(yT,_T,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(s=>{throw dr.create("idb-open",{originalErrorMessage:s.message})})),Of}async function vT(s){try{const i=(await x_()).transaction(Xl),a=await i.objectStore(Xl).get(U_(s));return await i.done,a}catch(e){if(e instanceof As)Mi.warn(e.message);else{const i=dr.create("idb-get",{originalErrorMessage:e?.message});Mi.warn(i.message)}}}async function Ty(s,e){try{const a=(await x_()).transaction(Xl,"readwrite");await a.objectStore(Xl).put(e,U_(s)),await a.done}catch(i){if(i instanceof As)Mi.warn(i.message);else{const a=dr.create("idb-set",{originalErrorMessage:i?.message});Mi.warn(a.message)}}}function U_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=1024,TT=30;class AT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new bT(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ay();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>TT){const u=RT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Mi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ay(),{heartbeatsToSend:i,unsentEntries:a}=ST(this._heartbeatsCache.heartbeats),u=Qo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return Mi.warn(e),""}}}function Ay(){return new Date().toISOString().substring(0,10)}function ST(s,e=ET){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Sy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Sy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class bT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c1()?h1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await vT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Ty(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Ty(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Sy(s){return Qo(JSON.stringify({version:2,heartbeats:s})).length}function RT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(s){Xo(new Yl("platform-logger",e=>new x1(e),"PRIVATE")),Xo(new Yl("heartbeat",e=>new AT(e),"PRIVATE")),fs(kf,vy,s),fs(kf,vy,"esm2020"),fs("fire-js","")}wT("");var CT="firebase",DT="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(CT,DT,"app");var by=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mr,z_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function b(){}b.prototype=S.prototype,O.D=S.prototype,O.prototype=new b,O.prototype.constructor=O,O.C=function(N,M,U){for(var w=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)w[ut-2]=arguments[ut];return S.prototype[M].apply(N,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(O,S,b){b||(b=0);var N=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)N[M]=S.charCodeAt(b++)|S.charCodeAt(b++)<<8|S.charCodeAt(b++)<<16|S.charCodeAt(b++)<<24;else for(M=0;16>M;++M)N[M]=S[b++]|S[b++]<<8|S[b++]<<16|S[b++]<<24;S=O.g[0],b=O.g[1],M=O.g[2];var U=O.g[3],w=S+(U^b&(M^U))+N[0]+3614090360&4294967295;S=b+(w<<7&4294967295|w>>>25),w=U+(M^S&(b^M))+N[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(b^U&(S^b))+N[2]+606105819&4294967295,M=U+(w<<17&4294967295|w>>>15),w=b+(S^M&(U^S))+N[3]+3250441966&4294967295,b=M+(w<<22&4294967295|w>>>10),w=S+(U^b&(M^U))+N[4]+4118548399&4294967295,S=b+(w<<7&4294967295|w>>>25),w=U+(M^S&(b^M))+N[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(b^U&(S^b))+N[6]+2821735955&4294967295,M=U+(w<<17&4294967295|w>>>15),w=b+(S^M&(U^S))+N[7]+4249261313&4294967295,b=M+(w<<22&4294967295|w>>>10),w=S+(U^b&(M^U))+N[8]+1770035416&4294967295,S=b+(w<<7&4294967295|w>>>25),w=U+(M^S&(b^M))+N[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(b^U&(S^b))+N[10]+4294925233&4294967295,M=U+(w<<17&4294967295|w>>>15),w=b+(S^M&(U^S))+N[11]+2304563134&4294967295,b=M+(w<<22&4294967295|w>>>10),w=S+(U^b&(M^U))+N[12]+1804603682&4294967295,S=b+(w<<7&4294967295|w>>>25),w=U+(M^S&(b^M))+N[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(b^U&(S^b))+N[14]+2792965006&4294967295,M=U+(w<<17&4294967295|w>>>15),w=b+(S^M&(U^S))+N[15]+1236535329&4294967295,b=M+(w<<22&4294967295|w>>>10),w=S+(M^U&(b^M))+N[1]+4129170786&4294967295,S=b+(w<<5&4294967295|w>>>27),w=U+(b^M&(S^b))+N[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^b&(U^S))+N[11]+643717713&4294967295,M=U+(w<<14&4294967295|w>>>18),w=b+(U^S&(M^U))+N[0]+3921069994&4294967295,b=M+(w<<20&4294967295|w>>>12),w=S+(M^U&(b^M))+N[5]+3593408605&4294967295,S=b+(w<<5&4294967295|w>>>27),w=U+(b^M&(S^b))+N[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^b&(U^S))+N[15]+3634488961&4294967295,M=U+(w<<14&4294967295|w>>>18),w=b+(U^S&(M^U))+N[4]+3889429448&4294967295,b=M+(w<<20&4294967295|w>>>12),w=S+(M^U&(b^M))+N[9]+568446438&4294967295,S=b+(w<<5&4294967295|w>>>27),w=U+(b^M&(S^b))+N[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^b&(U^S))+N[3]+4107603335&4294967295,M=U+(w<<14&4294967295|w>>>18),w=b+(U^S&(M^U))+N[8]+1163531501&4294967295,b=M+(w<<20&4294967295|w>>>12),w=S+(M^U&(b^M))+N[13]+2850285829&4294967295,S=b+(w<<5&4294967295|w>>>27),w=U+(b^M&(S^b))+N[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^b&(U^S))+N[7]+1735328473&4294967295,M=U+(w<<14&4294967295|w>>>18),w=b+(U^S&(M^U))+N[12]+2368359562&4294967295,b=M+(w<<20&4294967295|w>>>12),w=S+(b^M^U)+N[5]+4294588738&4294967295,S=b+(w<<4&4294967295|w>>>28),w=U+(S^b^M)+N[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^b)+N[11]+1839030562&4294967295,M=U+(w<<16&4294967295|w>>>16),w=b+(M^U^S)+N[14]+4259657740&4294967295,b=M+(w<<23&4294967295|w>>>9),w=S+(b^M^U)+N[1]+2763975236&4294967295,S=b+(w<<4&4294967295|w>>>28),w=U+(S^b^M)+N[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^b)+N[7]+4139469664&4294967295,M=U+(w<<16&4294967295|w>>>16),w=b+(M^U^S)+N[10]+3200236656&4294967295,b=M+(w<<23&4294967295|w>>>9),w=S+(b^M^U)+N[13]+681279174&4294967295,S=b+(w<<4&4294967295|w>>>28),w=U+(S^b^M)+N[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^b)+N[3]+3572445317&4294967295,M=U+(w<<16&4294967295|w>>>16),w=b+(M^U^S)+N[6]+76029189&4294967295,b=M+(w<<23&4294967295|w>>>9),w=S+(b^M^U)+N[9]+3654602809&4294967295,S=b+(w<<4&4294967295|w>>>28),w=U+(S^b^M)+N[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^b)+N[15]+530742520&4294967295,M=U+(w<<16&4294967295|w>>>16),w=b+(M^U^S)+N[2]+3299628645&4294967295,b=M+(w<<23&4294967295|w>>>9),w=S+(M^(b|~U))+N[0]+4096336452&4294967295,S=b+(w<<6&4294967295|w>>>26),w=U+(b^(S|~M))+N[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~b))+N[14]+2878612391&4294967295,M=U+(w<<15&4294967295|w>>>17),w=b+(U^(M|~S))+N[5]+4237533241&4294967295,b=M+(w<<21&4294967295|w>>>11),w=S+(M^(b|~U))+N[12]+1700485571&4294967295,S=b+(w<<6&4294967295|w>>>26),w=U+(b^(S|~M))+N[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~b))+N[10]+4293915773&4294967295,M=U+(w<<15&4294967295|w>>>17),w=b+(U^(M|~S))+N[1]+2240044497&4294967295,b=M+(w<<21&4294967295|w>>>11),w=S+(M^(b|~U))+N[8]+1873313359&4294967295,S=b+(w<<6&4294967295|w>>>26),w=U+(b^(S|~M))+N[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~b))+N[6]+2734768916&4294967295,M=U+(w<<15&4294967295|w>>>17),w=b+(U^(M|~S))+N[13]+1309151649&4294967295,b=M+(w<<21&4294967295|w>>>11),w=S+(M^(b|~U))+N[4]+4149444226&4294967295,S=b+(w<<6&4294967295|w>>>26),w=U+(b^(S|~M))+N[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~b))+N[2]+718787259&4294967295,M=U+(w<<15&4294967295|w>>>17),w=b+(U^(M|~S))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+U&4294967295}a.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var b=S-this.blockSize,N=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=b;)u(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<S;)if(N[M++]=O.charCodeAt(U++),M==this.blockSize){u(this,N),M=0;break}}else for(;U<S;)if(N[M++]=O[U++],M==this.blockSize){u(this,N),M=0;break}}this.h=M,this.o+=S},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var b=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=b&255,b/=256;for(this.u(O),O=Array(16),S=b=0;4>S;++S)for(var N=0;32>N;N+=8)O[b++]=this.g[S]>>>N&255;return O};function h(O,S){var b=p;return Object.prototype.hasOwnProperty.call(b,O)?b[O]:b[O]=S(O)}function d(O,S){this.h=S;for(var b=[],N=!0,M=O.length-1;0<=M;M--){var U=O[M]|0;N&&U==S||(b[M]=U,N=!1)}this.g=b}var p={};function _(O){return-128<=O&&128>O?h(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return V;if(0>O)return $(v(-O));for(var S=[],b=1,N=0;O>=b;N++)S[N]=O/b|0,b*=4294967296;return new d(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return $(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=v(Math.pow(S,8)),N=V,M=0;M<O.length;M+=8){var U=Math.min(8,O.length-M),w=parseInt(O.substring(M,M+U),S);8>U?(U=v(Math.pow(S,U)),N=N.j(U).add(v(w))):(N=N.j(b),N=N.add(v(w)))}return N}var V=_(0),I=_(1),G=_(16777216);s=d.prototype,s.m=function(){if(nt(this))return-$(this).m();for(var O=0,S=1,b=0;b<this.g.length;b++){var N=this.i(b);O+=(0<=N?N:4294967296+N)*S,S*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Z(this))return"0";if(nt(this))return"-"+$(this).toString(O);for(var S=v(Math.pow(O,6)),b=this,N="";;){var M=xt(b,S).g;b=At(b,M.j(S));var U=((0<b.g.length?b.g[0]:b.h)>>>0).toString(O);if(b=M,Z(b))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Z(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function nt(O){return O.h==-1}s.l=function(O){return O=At(this,O),nt(O)?-1:Z(O)?0:1};function $(O){for(var S=O.g.length,b=[],N=0;N<S;N++)b[N]=~O.g[N];return new d(b,~O.h).add(I)}s.abs=function(){return nt(this)?$(this):this},s.add=function(O){for(var S=Math.max(this.g.length,O.g.length),b=[],N=0,M=0;M<=S;M++){var U=N+(this.i(M)&65535)+(O.i(M)&65535),w=(U>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);N=w>>>16,U&=65535,w&=65535,b[M]=w<<16|U}return new d(b,b[b.length-1]&-2147483648?-1:0)};function At(O,S){return O.add($(S))}s.j=function(O){if(Z(this)||Z(O))return V;if(nt(this))return nt(O)?$(this).j($(O)):$($(this).j(O));if(nt(O))return $(this.j($(O)));if(0>this.l(G)&&0>O.l(G))return v(this.m()*O.m());for(var S=this.g.length+O.g.length,b=[],N=0;N<2*S;N++)b[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<O.g.length;M++){var U=this.i(N)>>>16,w=this.i(N)&65535,ut=O.i(M)>>>16,mt=O.i(M)&65535;b[2*N+2*M]+=w*mt,pt(b,2*N+2*M),b[2*N+2*M+1]+=U*mt,pt(b,2*N+2*M+1),b[2*N+2*M+1]+=w*ut,pt(b,2*N+2*M+1),b[2*N+2*M+2]+=U*ut,pt(b,2*N+2*M+2)}for(N=0;N<S;N++)b[N]=b[2*N+1]<<16|b[2*N];for(N=S;N<2*S;N++)b[N]=0;return new d(b,0)};function pt(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function ct(O,S){this.g=O,this.h=S}function xt(O,S){if(Z(S))throw Error("division by zero");if(Z(O))return new ct(V,V);if(nt(O))return S=xt($(O),S),new ct($(S.g),$(S.h));if(nt(S))return S=xt(O,$(S)),new ct($(S.g),S.h);if(30<O.g.length){if(nt(O)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var b=I,N=S;0>=N.l(O);)b=vt(b),N=vt(N);var M=bt(b,1),U=bt(N,1);for(N=bt(N,2),b=bt(b,2);!Z(N);){var w=U.add(N);0>=w.l(O)&&(M=M.add(b),U=w),N=bt(N,1),b=bt(b,1)}return S=At(O,M.j(S)),new ct(M,S)}for(M=V;0<=O.l(S);){for(b=Math.max(1,Math.floor(O.m()/S.m())),N=Math.ceil(Math.log(b)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=v(b),w=U.j(S);nt(w)||0<w.l(O);)b-=N,U=v(b),w=U.j(S);Z(U)&&(U=I),M=M.add(U),O=At(O,w)}return new ct(M,O)}s.A=function(O){return xt(this,O).h},s.and=function(O){for(var S=Math.max(this.g.length,O.g.length),b=[],N=0;N<S;N++)b[N]=this.i(N)&O.i(N);return new d(b,this.h&O.h)},s.or=function(O){for(var S=Math.max(this.g.length,O.g.length),b=[],N=0;N<S;N++)b[N]=this.i(N)|O.i(N);return new d(b,this.h|O.h)},s.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),b=[],N=0;N<S;N++)b[N]=this.i(N)^O.i(N);return new d(b,this.h^O.h)};function vt(O){for(var S=O.g.length+1,b=[],N=0;N<S;N++)b[N]=O.i(N)<<1|O.i(N-1)>>>31;return new d(b,O.h)}function bt(O,S){var b=S>>5;S%=32;for(var N=O.g.length-b,M=[],U=0;U<N;U++)M[U]=0<S?O.i(U+b)>>>S|O.i(U+b+1)<<32-S:O.i(U+b);return new d(M,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,z_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,mr=d}).apply(typeof by<"u"?by:typeof self<"u"?self:typeof window<"u"?window:{});var Mo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L_,Pl,P_,Bo,Hf,B_,k_,q_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,g){return o==Array.prototype||o==Object.prototype||(o[m]=g.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mo=="object"&&Mo];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var g=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var z=o[T];if(!(z in g))break t;g=g[z]}o=o[o.length-1],T=g[o],m=m(T),m!=T&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var g=0,T=!1,z={next:function(){if(!T&&g<o.length){var j=g++;return{value:m(j,o[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,g){return o.call.apply(o.bind,arguments)}function V(o,m,g){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),o.apply(m,z)}}return function(){return o.apply(m,arguments)}}function I(o,m,g){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:V,I.apply(null,arguments)}function G(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Z(o,m){function g(){}g.prototype=m.prototype,o.aa=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(T,z,j){for(var tt=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)tt[Ut-2]=arguments[Ut];return m.prototype[z].apply(T,tt)}}function nt(o){const m=o.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=o[T];return g}return[]}function $(o,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(_(T)){const z=o.length||0,j=T.length||0;o.length=z+j;for(let tt=0;tt<j;tt++)o[z+tt]=T[tt]}else o.push(T)}}class At{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function pt(o){return/^[\s\xa0]*$/.test(o)}function ct(){var o=p.navigator;return o&&(o=o.userAgent)?o:""}function xt(o){return xt[" "](o),o}xt[" "]=function(){};var vt=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function bt(o,m,g){for(const T in o)m.call(g,o[T],T,o)}function O(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function S(o){const m={};for(const g in o)m[g]=o[g];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(o,m){let g,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(g in T)o[g]=T[g];for(let j=0;j<b.length;j++)g=b[j],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function M(o){var m=1;o=o.split(":");const g=[];for(;0<m&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function U(o){p.setTimeout(()=>{throw o},0)}function w(){var o=Mt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class ut{constructor(){this.h=this.g=null}add(m,g){const T=mt.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new At(()=>new q,o=>o.reset());class q{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let J,st=!1,Mt=new ut,C=()=>{const o=p.Promise.resolve(void 0);J=()=>{o.then(K)}};var K=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(g){U(g)}var m=mt;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}st=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch{}return o}();function Ct(o,m){if(W.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(vt){t:{try{xt(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Et[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Ct.aa.h.call(this)}}Z(Ct,W);var Et={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function Ln(o,m,g,T,z){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=z,this.key=++Jt,this.da=this.fa=!1}function zi(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function li(o){this.src=o,this.g={},this.h=0}li.prototype.add=function(o,m,g,T,z){var j=o.toString();o=this.g[j],o||(o=this.g[j]=[],this.h++);var tt=wr(o,m,T,z);return-1<tt?(m=o[tt],g||(m.fa=!1)):(m=new Ln(m,this.src,j,!!T,z),m.fa=g,o.push(m)),m};function Rr(o,m){var g=m.type;if(g in o.g){var T=o.g[g],z=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=z)&&Array.prototype.splice.call(T,z,1),j&&(zi(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function wr(o,m,g,T){for(var z=0;z<o.length;++z){var j=o[z];if(!j.da&&j.listener==m&&j.capture==!!g&&j.ha==T)return z}return-1}var Cr="closure_lm_"+(1e6*Math.random()|0),Ds={};function uu(o,m,g,T,z){if(Array.isArray(m)){for(var j=0;j<m.length;j++)uu(o,m[j],g,T,z);return null}return g=ou(g),o&&o[Ce]?o.K(m,g,v(T)?!!T.capture:!1,z):gn(o,m,g,!1,T,z)}function gn(o,m,g,T,z,j){if(!m)throw Error("Invalid event type");var tt=v(z)?!!z.capture:!!z,Ut=ya(o);if(Ut||(o[Cr]=Ut=new li(o)),g=Ut.add(m,g,T,tt,j),g.proxy)return g;if(T=Ac(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)ft||(z=tt),z===void 0&&(z=!1),o.addEventListener(m.toString(),T,z);else if(o.attachEvent)o.attachEvent(Dr(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ac(){function o(g){return m.call(o.src,o.listener,g)}const m=Sc;return o}function Vs(o,m,g,T,z){if(Array.isArray(m))for(var j=0;j<m.length;j++)Vs(o,m[j],g,T,z);else T=v(T)?!!T.capture:!!T,g=ou(g),o&&o[Ce]?(o=o.i,m=String(m).toString(),m in o.g&&(j=o.g[m],g=wr(j,g,T,z),-1<g&&(zi(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete o.g[m],o.h--)))):o&&(o=ya(o))&&(m=o.g[m.toString()],o=-1,m&&(o=wr(m,g,T,z)),(g=-1<o?m[o]:null)&&pa(g))}function pa(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Ce])Rr(m.i,o);else{var g=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(g,T,o.capture):m.detachEvent?m.detachEvent(Dr(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=ya(m))?(Rr(g,o),g.h==0&&(g.src=null,m[Cr]=null)):zi(o)}}}function Dr(o){return o in Ds?Ds[o]:Ds[o]="on"+o}function Sc(o,m){if(o.da)o=!0;else{m=new Ct(m,this);var g=o.listener,T=o.ha||o.src;o.fa&&pa(o),o=g.call(T,m)}return o}function ya(o){return o=o[Cr],o instanceof li?o:null}var Is="__closure_events_fn_"+(1e9*Math.random()>>>0);function ou(o){return typeof o=="function"?o:(o[Is]||(o[Is]=function(m){return o.handleEvent(m)}),o[Is])}function se(){et.call(this),this.i=new li(this),this.M=this,this.F=null}Z(se,et),se.prototype[Ce]=!0,se.prototype.removeEventListener=function(o,m,g,T){Vs(this,o,m,g,T)};function Gt(o,m){var g,T=o.F;if(T)for(g=[];T;T=T.F)g.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new W(m,o);else if(m instanceof W)m.target=m.target||o;else{var z=m;m=new W(T,o),N(m,z)}if(z=!0,g)for(var j=g.length-1;0<=j;j--){var tt=m.g=g[j];z=an(tt,T,!0,m)&&z}if(tt=m.g=o,z=an(tt,T,!0,m)&&z,z=an(tt,T,!1,m)&&z,g)for(j=0;j<g.length;j++)tt=m.g=g[j],z=an(tt,T,!1,m)&&z}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var g=o.g[m],T=0;T<g.length;T++)zi(g[T]);delete o.g[m],o.h--}}this.F=null},se.prototype.K=function(o,m,g,T){return this.i.add(String(o),m,!1,g,T)},se.prototype.L=function(o,m,g,T){return this.i.add(String(o),m,!0,g,T)};function an(o,m,g,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,j=0;j<m.length;++j){var tt=m[j];if(tt&&!tt.da&&tt.capture==g){var Ut=tt.listener,Ae=tt.ha||tt.src;tt.fa&&Rr(o.i,tt),z=Ut.call(Ae,T)!==!1&&z}}return z&&!T.defaultPrevented}function je(o,m,g){if(typeof o=="function")g&&(o=I(o,g));else if(o&&typeof o.handleEvent=="function")o=I(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(o,m||0)}function cu(o){o.g=je(()=>{o.g=null,o.i&&(o.i=!1,cu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class bc extends et{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:cu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(o){et.call(this),this.h=o,this.g={}}Z(Vr,et);var Ir=[];function Nr(o){bt(o.g,function(m,g){this.g.hasOwnProperty(g)&&pa(m)},o),o.g={}}Vr.prototype.N=function(){Vr.aa.N.call(this),Nr(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=p.JSON.stringify,_a=p.JSON.parse,Or=class{stringify(o){return p.JSON.stringify(o,void 0)}parse(o){return p.JSON.parse(o,void 0)}};function Ns(){}Ns.prototype.h=null;function Os(o){return o.h||(o.h=o.i())}function Ms(){}var ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oi(){W.call(this,"d")}Z(oi,W);function xs(){W.call(this,"c")}Z(xs,W);var Pn={},Us=null;function Li(){return Us=Us||new se}Pn.La="serverreachability";function va(o){W.call(this,Pn.La,o)}Z(va,W);function Pi(o){const m=Li();Gt(m,new va(m))}Pn.STAT_EVENT="statevent";function hu(o,m){W.call(this,Pn.STAT_EVENT,o),this.stat=m}Z(hu,W);function ne(o){const m=Li();Gt(m,new hu(m,o))}Pn.Ma="timingevent";function Te(o,m){W.call(this,Pn.Ma,o),this.size=m}Z(Te,W);function de(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){o()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function zs(o,m,g,T,z,j){o.info(function(){if(o.g)if(j)for(var tt="",Ut=j.split("&"),Ae=0;Ae<Ut.length;Ae++){var zt=Ut[Ae].split("=");if(1<zt.length){var Ve=zt[0];zt=zt[1];var Se=Ve.split("_");tt=2<=Se.length&&Se[1]=="type"?tt+(Ve+"="+zt+"&"):tt+(Ve+"=redacted&")}}else tt=null;else tt=j;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+g+`
`+tt})}function Rc(o,m,g,T,z,j,tt){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+g+`
`+j+" "+tt})}function Bi(o,m,g,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mr(o,g)+(T?" "+T:"")})}function fu(o,m){o.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Mr(o,m){if(!o.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var T=g[o];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var j=z[0];if(j!="noop"&&j!="stop"&&j!="close")for(var tt=1;tt<z.length;tt++)z[tt]=""}}}}return Vn(g)}catch{return m}}var ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function kn(){}Z(kn,Ns),kn.prototype.g=function(){return new XMLHttpRequest},kn.prototype.i=function(){return{}},Bn=new kn;function Xe(o,m,g,T){this.j=o,this.i=m,this.l=g,this.R=T||1,this.U=new Vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oe}function oe(){this.i=null,this.g="",this.h=!1}var Ls={},Ea={};function In(o,m,g){o.L=1,o.v=Pr(sn(m)),o.m=g,o.P=!0,hi(o,null)}function hi(o,m){o.F=Date.now(),xr(o),o.A=sn(o.v);var g=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Hs(g.i,"t",T),o.C=0,g=o.j.J,o.h=new oe,o.g=Du(o.j,g?m:null,!o.m),0<o.O&&(o.M=new bc(I(o.Y,o,o.g),o.O)),m=o.U,g=o.g,T=o.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ir[0]=z.toString()),z=Ir);for(var j=0;j<z.length;j++){var tt=uu(g,z[j],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Pi(),zs(o.i,o.u,o.A,o.l,o.R,o.m)}Xe.prototype.ca=function(o){o=o.target;const m=this.M;m&&En(o)==3?m.j():this.Y(o)},Xe.prototype.Y=function(o){try{if(o==this.g)t:{const Se=En(this.g);var m=this.g.Ba();const vi=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||Eu(this.g)))){this.J||Se!=4||m==7||(m==8||0>=vi?Pi(3):Pi(2)),qi(this);var g=this.g.Z();this.X=g;e:if(du(this)){var T=Eu(this.g);o="";var z=T.length,j=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),qn(this);var tt="";break e}this.h.i=new p.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(j&&m==z-1)});T.length=0,this.h.g+=o,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=g==200,Rc(this.i,this.u,this.A,this.l,this.R,Se,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Ae=this.g;if((Ut=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(Ut)){var zt=Ut;break e}}zt=null}if(g=zt)Bi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ur(this,g);else{this.o=!1,this.s=3,ne(12),xe(this),qn(this);break t}}if(this.P){g=!0;let Ue;for(;!this.J&&this.C<tt.length;)if(Ue=mu(this,tt),Ue==Ea){Se==4&&(this.s=4,ne(14),g=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Ls){this.s=4,ne(15),Bi(this.i,this.l,tt,"[Invalid Chunk]"),g=!1;break}else Bi(this.i,this.l,Ue,null),Ur(this,Ue);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||tt.length!=0||this.h.h||(this.s=1,ne(16),g=!1),this.o=this.o&&g,!g)Bi(this.i,this.l,tt,"[Invalid Chunked Response]"),xe(this),qn(this);else if(0<tt.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),Fr(Ve),Ve.M=!0,ne(11))}}else Bi(this.i,this.l,tt,null),Ur(this,tt);Se==4&&xe(this),this.o&&!this.J&&(Se==4?Ru(this.j,this):(this.o=!1,xr(this)))}else Ic(this.g),g==400&&0<tt.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),xe(this),qn(this)}}}catch{}finally{}};function du(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function mu(o,m){var g=o.C,T=m.indexOf(`
`,g);return T==-1?Ea:(g=Number(m.substring(g,T)),isNaN(g)?Ls:(T+=1,T+g>m.length?Ea:(m=m.slice(T,T+g),o.C=T+g,m)))}Xe.prototype.cancel=function(){this.J=!0,xe(this)};function xr(o){o.S=Date.now()+o.I,gu(o,o.I)}function gu(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=de(I(o.ba,o),m)}function qi(o){o.B&&(p.clearTimeout(o.B),o.B=null)}Xe.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(fu(this.i,this.A),this.L!=2&&(Pi(),ne(17)),xe(this),this.s=2,qn(this)):gu(this,this.S-o)};function qn(o){o.j.G==0||o.J||Ru(o.j,o)}function xe(o){qi(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Nr(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Ur(o,m){try{var g=o.j;if(g.G!=0&&(g.g==o||Ps(g.h,o))){if(!o.K&&Ps(g.h,o)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)Oa(g),Ia(g);else break t;Xs(g),ne(18)}}else g.za=z[1],0<g.za-g.T&&37500>z[2]&&g.F&&g.v==0&&!g.C&&(g.C=de(I(g.Za,g),6e3));if(1>=Aa(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else _i(g,11)}else if((o.K||g.g==o)&&Oa(g),!pt(m))for(z=g.Da.g.parse(m),m=0;m<z.length;m++){let zt=z[m];if(g.T=zt[0],zt=zt[1],g.G==2)if(zt[0]=="c"){g.K=zt[1],g.ia=zt[2];const Ve=zt[3];Ve!=null&&(g.la=Ve,g.j.info("VER="+g.la));const Se=zt[4];Se!=null&&(g.Aa=Se,g.j.info("SVER="+g.Aa));const vi=zt[5];vi!=null&&typeof vi=="number"&&0<vi&&(T=1.5*vi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Ue=o.g;if(Ue){const Xn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var j=T.h;j.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Sa(j,j.h),j.h=null))}if(T.D){const Zs=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Zs&&(T.ya=Zs,Yt(T.I,T.D,Zs))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var tt=o;if(T.qa=Cu(T,T.J?T.ia:null,T.W),tt.K){Ke(T.h,tt);var Ut=tt,Ae=T.L;Ae&&(Ut.I=Ae),Ut.B&&(qi(Ut),xr(Ut)),T.g=tt}else Su(T);0<g.i.length&&Na(g)}else zt[0]!="stop"&&zt[0]!="close"||_i(g,7);else g.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?_i(g,7):Fs(g):zt[0]!="noop"&&g.l&&g.l.ta(zt),g.v=0)}}Pi(4)}catch{}}var pu=class{constructor(o,m){this.g=o,this.map=m}};function fi(o){this.l=o||10,p.PerformanceNavigationTiming?(o=p.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ta(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Aa(o){return o.h?1:o.g?o.g.size:0}function Ps(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Sa(o,m){o.g?o.g.add(m):o.h=m}function Ke(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}fi.prototype.cancel=function(){if(this.i=Bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Bs(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.D);return m}return nt(o.i)}function wc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],g=o.length,T=0;T<g;T++)m.push(o[T]);return m}m=[],g=0;for(T in o)m[g++]=o[T];return m}function ba(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var g=0;g<o;g++)m.push(g);return m}m=[],g=0;for(const T in o)m[g++]=T;return m}}}function ks(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var g=ba(o),T=wc(o),z=T.length,j=0;j<z;j++)m.call(void 0,T[j],g&&g[j],o)}var zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cc(o,m){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var T=o[g].indexOf("="),z=null;if(0<=T){var j=o[g].substring(0,T);z=o[g].substring(T+1)}else j=o[g];m(j,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function me(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof me){this.h=o.h,Lr(this,o.j),this.o=o.o,this.g=o.g,ji(this,o.s),this.l=o.l;var m=o.i,g=new mi;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),di(this,g),this.m=o.m}else o&&(m=String(o).match(zr))?(this.h=!1,Lr(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),ji(this,m[4]),this.l=yn(m[5]||"",!0),di(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}me.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Br(m,qs,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Br(m,qs,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(Br(g,g.charAt(0)=="/"?Dc:js,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",Br(g,Ra)),o.join("")};function sn(o){return new me(o)}function Lr(o,m,g){o.j=g?yn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function ji(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function di(o,m,g){m instanceof mi?(o.i=m,_u(o.i,o.h)):(g||(m=Br(m,Vc)),o.i=new mi(m,o.h))}function Yt(o,m,g){o.i.set(m,g)}function Pr(o){return Yt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function yn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Br(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,yu),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function yu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var qs=/[#\/\?@]/g,js=/[#\?:]/g,Dc=/[#\?]/g,Vc=/[#\?@]/g,Ra=/#/g;function mi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function _n(o){o.g||(o.g=new Map,o.h=0,o.i&&Cc(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=mi.prototype,s.add=function(o,m){_n(this),this.i=null,o=jn(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function gi(o,m){_n(o),m=jn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function pi(o,m){return _n(o),m=jn(o,m),o.g.has(m)}s.forEach=function(o,m){_n(this),this.g.forEach(function(g,T){g.forEach(function(z){o.call(m,z,T,this)},this)},this)},s.na=function(){_n(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const z=o[T];for(let j=0;j<z.length;j++)g.push(m[T])}return g},s.V=function(o){_n(this);let m=[];if(typeof o=="string")pi(this,o)&&(m=m.concat(this.g.get(jn(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)m=m.concat(o[g])}return m},s.set=function(o,m){return _n(this),this.i=null,o=jn(this,o),pi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Hs(o,m,g){gi(o,m),0<g.length&&(o.i=null,o.g.set(jn(o,m),nt(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const j=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var z=j;tt[T]!==""&&(z+="="+encodeURIComponent(String(tt[T]))),o.push(z)}}return this.i=o.join("&")};function jn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function _u(o,m){m&&!o.j&&(_n(o),o.i=null,o.g.forEach(function(g,T){var z=T.toLowerCase();T!=z&&(gi(this,T),Hs(this,z,g))},o)),o.j=m}function kr(o,m){const g=new pn;if(p.Image){const T=new Image;T.onload=G(vn,g,"TestLoadImage: loaded",!0,m,T),T.onerror=G(vn,g,"TestLoadImage: error",!1,m,T),T.onabort=G(vn,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=G(vn,g,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Nn(o,m){const g=new pn,T=new AbortController,z=setTimeout(()=>{T.abort(),vn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(j=>{clearTimeout(z),j.ok?vn(g,"TestPingServer: ok",!0,m):vn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),vn(g,"TestPingServer: error",!1,m)})}function vn(o,m,g,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(g)}catch{}}function qr(){this.g=new Or}function Hn(o,m,g){const T=g||"";try{ks(o,function(z,j){let tt=z;v(z)&&(tt=Vn(z)),m.push(T+j+"="+encodeURIComponent(tt))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function Hi(o){this.l=o.Ub||null,this.j=o.eb||!1}Z(Hi,Ns),Hi.prototype.g=function(){return new yi(this.l,this.j)},Hi.prototype.i=function(o){return function(){return o}}({});function yi(o,m){se.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(yi,se),s=yi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Qn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Gn(this):Qn(this),this.readyState==3&&Gs(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,Gn(this))},s.Qa=function(o){this.g&&(this.response=o,Gn(this))},s.ga=function(){this.g&&Gn(this)};function Gn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Qn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function Qn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Qs(o){let m="";return bt(o,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function De(o,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Qs(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):Yt(o,m,g))}function jt(o){se.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(jt,se);var wa=/^https?$/i,jr=["POST","PUT"];s=jt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?Os(this.o):Os(Bn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(j){vu(this,j);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)g.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())g.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),z=p.FormData&&o instanceof p.FormData,!(0<=Array.prototype.indexOf.call(jr,m,void 0))||T||z||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,tt]of g)this.g.setRequestHeader(j,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hr(this),this.u=!0,this.g.send(o),this.u=!1}catch(j){vu(this,j)}};function vu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ca(o),Fn(o)}function Ca(o){o.A||(o.A=!0,Gt(o,"complete"),Gt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Gt(this,"complete"),Gt(this,"abort"),Fn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),jt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Da(this):this.bb())},s.bb=function(){Da(this)};function Da(o){if(o.h&&typeof d<"u"&&(!o.v[1]||En(o)!=4||o.Z()!=2)){if(o.u&&En(o)==4)je(o.Ea,0,o);else if(Gt(o,"readystatechange"),En(o)==4){o.h=!1;try{const tt=o.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=tt===0){var z=String(o.D).match(zr)[1]||null;!z&&p.self&&p.self.location&&(z=p.self.location.protocol.slice(0,-1)),T=!wa.test(z?z.toLowerCase():"")}g=T}if(g)Gt(o,"complete"),Gt(o,"success");else{o.m=6;try{var j=2<En(o)?o.g.statusText:""}catch{j=""}o.l=j+" ["+o.Z()+"]",Ca(o)}}finally{Fn(o)}}}}function Fn(o,m){if(o.g){Hr(o);const g=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Gt(o,"ready");try{g.onreadystatechange=T}catch{}}}function Hr(o){o.I&&(p.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function En(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),_a(m)}};function Eu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ic(o){const m={};o=(o.g&&2<=En(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(pt(o[T]))continue;var g=M(o[T]);const z=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=m[z]||[];m[z]=j,j.push(g)}O(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function Va(o){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gr("baseRetryDelayMs",5e3,o),this.cb=Gr("retryDelaySeedMs",1e4,o),this.Wa=Gr("forwardChannelMaxRetries",2,o),this.wa=Gr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new fi(o&&o.concurrentRequestLimit),this.Da=new qr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Va.prototype,s.la=8,s.G=1,s.connect=function(o,m,g,T){ne(0),this.W=o,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=Cu(this,null,this.W),Na(this)};function Fs(o){if(Tu(o),o.G==3){var m=o.U++,g=sn(o.I);if(Yt(g,"SID",o.K),Yt(g,"RID",m),Yt(g,"TYPE","terminate"),Qr(o,g),m=new Xe(o,o.j,m),m.L=2,m.v=Pr(sn(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=Du(m.j,null),m.g.ea(m.v)),m.F=Date.now(),xr(m)}wu(o)}function Ia(o){o.g&&(Fr(o),o.g.cancel(),o.g=null)}function Tu(o){Ia(o),o.u&&(p.clearTimeout(o.u),o.u=null),Oa(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&p.clearTimeout(o.s),o.s=null)}function Na(o){if(!Ta(o.h)&&!o.s){o.s=!0;var m=o.Ga;J||C(),st||(J(),st=!0),Mt.add(m,o),o.B=0}}function Nc(o,m){return Aa(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=de(I(o.Ga,o,m),Ks(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const z=new Xe(this,this.j,o);let j=this.o;if(this.S&&(j?(j=S(j),N(j,this.S)):j=this.S),this.m!==null||this.O||(z.H=j,j=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=Au(this,z,m),g=sn(this.I),Yt(g,"RID",o),Yt(g,"CVER",22),this.D&&Yt(g,"X-HTTP-Session-Id",this.D),Qr(this,g),j&&(this.O?m="headers="+encodeURIComponent(String(Qs(j)))+"&"+m:this.m&&De(g,this.m,j)),Sa(this.h,z),this.Ua&&Yt(g,"TYPE","init"),this.P?(Yt(g,"$req",m),Yt(g,"SID","null"),z.T=!0,In(z,g,null)):In(z,g,m),this.G=2}}else this.G==3&&(o?Ys(this,o):this.i.length==0||Ta(this.h)||Ys(this))};function Ys(o,m){var g;m?g=m.l:g=o.U++;const T=sn(o.I);Yt(T,"SID",o.K),Yt(T,"RID",g),Yt(T,"AID",o.T),Qr(o,T),o.m&&o.o&&De(T,o.m,o.o),g=new Xe(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),m&&(o.i=m.D.concat(o.i)),m=Au(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Sa(o.h,g),In(g,T,m)}function Qr(o,m){o.H&&bt(o.H,function(g,T){Yt(m,T,g)}),o.l&&ks({},function(g,T){Yt(m,T,g)})}function Au(o,m,g){g=Math.min(o.i.length,g);var T=o.l?I(o.l.Na,o.l,o):null;t:{var z=o.i;let j=-1;for(;;){const tt=["count="+g];j==-1?0<g?(j=z[0].g,tt.push("ofs="+j)):j=0:tt.push("ofs="+j);let Ut=!0;for(let Ae=0;Ae<g;Ae++){let zt=z[Ae].g;const Ve=z[Ae].map;if(zt-=j,0>zt)j=Math.max(0,z[Ae].g-100),Ut=!1;else try{Hn(Ve,tt,"req"+zt+"_")}catch{T&&T(Ve)}}if(Ut){T=tt.join("&");break t}}}return o=o.i.splice(0,g),m.D=o,T}function Su(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;J||C(),st||(J(),st=!0),Mt.add(m,o),o.v=0}}function Xs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=de(I(o.Fa,o),Ks(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,bu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=de(I(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),Ia(this),bu(this))};function Fr(o){o.A!=null&&(p.clearTimeout(o.A),o.A=null)}function bu(o){o.g=new Xe(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=sn(o.qa);Yt(m,"RID","rpc"),Yt(m,"SID",o.K),Yt(m,"AID",o.T),Yt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Yt(m,"TO",o.ja),Yt(m,"TYPE","xmlhttp"),Qr(o,m),o.m&&o.o&&De(m,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=Pr(sn(m)),g.m=null,g.P=!0,hi(g,o)}s.Za=function(){this.C!=null&&(this.C=null,Ia(this),Xs(this),ne(19))};function Oa(o){o.C!=null&&(p.clearTimeout(o.C),o.C=null)}function Ru(o,m){var g=null;if(o.g==m){Oa(o),Fr(o),o.g=null;var T=2}else if(Ps(o.h,m))g=m.D,Ke(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var z=o.B;T=Li(),Gt(T,new Te(T,g)),Na(o)}else Su(o);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&Nc(o,m)||T==2&&Xs(o)))switch(g&&0<g.length&&(m=o.h,m.i=m.i.concat(g)),z){case 1:_i(o,5);break;case 4:_i(o,10);break;case 3:_i(o,6);break;default:_i(o,2)}}}function Ks(o,m){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*m}function _i(o,m){if(o.j.info("Error code "+m),m==2){var g=I(o.fb,o),T=o.Xa;const z=!T;T=new me(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Lr(T,"https"),Pr(T),z?kr(T.toString(),g):Nn(T.toString(),g)}else ne(2);o.G=0,o.l&&o.l.sa(m),wu(o),Tu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function wu(o){if(o.G=0,o.ka=[],o.l){const m=Bs(o.h);(m.length!=0||o.i.length!=0)&&($(o.ka,m),$(o.ka,o.i),o.h.i.length=0,nt(o.i),o.i.length=0),o.l.ra()}}function Cu(o,m,g){var T=g instanceof me?sn(g):new me(g);if(T.g!="")m&&(T.g=m+"."+T.g),ji(T,T.s);else{var z=p.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var j=new me(null);T&&Lr(j,T),m&&(j.g=m),z&&ji(j,z),g&&(j.l=g),T=j}return g=o.D,m=o.ya,g&&m&&Yt(T,g,m),Yt(T,"VER",o.la),Qr(o,T),T}function Du(o,m,g){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new jt(new Hi({eb:g})):new jt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}s=Vu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ma(){}Ma.prototype.g=function(o,m){return new Ze(o,m)};function Ze(o,m){se.call(this),this.g=new Va(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!pt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!pt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Yn(this)}Z(Ze,se),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Fs(this.g)},Ze.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=Vn(o),o=g);m.i.push(new pu(m.Ya++,o)),m.G==3&&Na(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Fs(this.g),delete this.g,Ze.aa.N.call(this)};function Iu(o){oi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Z(Iu,oi);function Nu(){xs.call(this),this.status=1}Z(Nu,xs);function Yn(o){this.g=o}Z(Yn,Vu),Yn.prototype.ua=function(){Gt(this.g,"a")},Yn.prototype.ta=function(o){Gt(this.g,new Iu(o))},Yn.prototype.sa=function(o){Gt(this.g,new Nu)},Yn.prototype.ra=function(){Gt(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,q_=function(){return new Ma},k_=function(){return Li()},B_=Pn,Hf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ki.NO_ERROR=0,ki.TIMEOUT=8,ki.HTTP_ERROR=6,Bo=ki,ci.COMPLETE="complete",P_=ci,Ms.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",se.prototype.listen=se.prototype.K,Pl=Ms,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,L_=jt}).apply(typeof Mo<"u"?Mo:typeof self<"u"?self:typeof window<"u"?window:{});const Ry="@firebase/firestore",wy="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ss="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new I_("@firebase/firestore");function us(){return fa.logLevel}function rt(s,...e){if(fa.logLevel<=Bt.DEBUG){const i=e.map(fd);fa.debug(`Firestore (${Ss}): ${s}`,...i)}}function xi(s,...e){if(fa.logLevel<=Bt.ERROR){const i=e.map(fd);fa.error(`Firestore (${Ss}): ${s}`,...i)}}function gs(s,...e){if(fa.logLevel<=Bt.WARN){const i=e.map(fd);fa.warn(`Firestore (${Ss}): ${s}`,...i)}}function fd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,j_(s,a,i)}function j_(s,e,i){let a=`FIRESTORE (${Ss}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw xi(a),new Error(a)}function Ht(s,e,i,a){let u="Unexpected state";typeof i=="string"?u=i:a=i,s||j_(e,u,a)}function St(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends As{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class IT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class NT{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0,42304);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ca,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},p=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ca)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string",31837,{l:a}),new H_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new Fe(e)}}class OT{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MT{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new OT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0,3512);const a=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Cy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Cy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=UT(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function Nt(s,e){return s<e?-1:s>e?1:0}function Gf(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const u=s.charAt(a),h=e.charAt(a);if(u!==h)return Mf(u)===Mf(h)?Nt(u,h):Mf(u)?1:-1}return Nt(s.length,e.length)}const zT=55296,LT=57343;function Mf(s){const e=s.charCodeAt(0);return e>=zT&&e<=LT}function ps(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="__name__";class ti{constructor(e,i,a){i===void 0?i=0:i>e.length&&yt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&yt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=ti.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Nt(e.length,i.length)}static compareSegments(e,i){const a=ti.isNumericId(e),u=ti.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?ti.extractNumericId(e).compare(ti.extractNumericId(i)):Gf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}}class te extends ti{construct(e,i,a){return new te(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new at(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new te(i)}static emptyPath(){return new te([])}}const PT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends ti{construct(e,i,a){return new ke(e,i,a)}static isValidIdentifier(e){return PT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dy}static keyField(){return new ke([Dy])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const p=e[u];if(p==="\\"){if(u+1===e.length)throw new at(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new at(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else p==="`"?(d=!d,u++):p!=="."||d?(a+=p,u++):(h(),u++)}if(h(),d)throw new at(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(te.fromString(e))}static fromName(e){return new ht(te.fromString(e).popFirst(5))}static empty(){return new ht(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(s,e,i){if(!i)throw new at(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function BT(s,e,i,a){if(e===!0&&a===!0)throw new at(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Vy(s){if(!ht.isDocumentKey(s))throw new at(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Iy(s){if(ht.isDocumentKey(s))throw new at(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Q_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function lc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function gr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new at(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=lc(s);throw new at(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(s,e){const i={typeString:s};return e&&(i.value=e),i}function eu(s,e){if(!Q_(s))throw new at(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const u=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(u&&typeof d!==u){i=`JSON field '${a}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new at(Y.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=-62135596800,Oy=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(e){return ee.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Oy);return new ee(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ny)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Oy}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,ee._jsonSchema))return new ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ny;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:ve("string",ee._jsonSchemaVersion),seconds:ve("number"),nanoseconds:ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new ee(0,0))}static max(){return new Tt(new ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function kT(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=Tt.fromTimestamp(a===1e9?new ee(i+1,0):new ee(i,a));return new yr(u,ht.empty(),e)}function qT(s){return new yr(s.readTime,s.key,Kl)}class yr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new yr(Tt.min(),ht.empty(),Kl)}static max(){return new yr(Tt.max(),ht.empty(),Kl)}}function jT(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ht.comparator(s.documentKey,e.documentKey),i!==0?i:Nt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bs(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==HT)throw s;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):X.reject(i)}static resolve(e){return new X((i,a)=>{i(e)})}static reject(e){return new X((i,a)=>{a(e)})}static waitFor(e){return new X((i,a)=>{let u=0,h=0,d=!1;e.forEach(p=>{++u,p.next(()=>{++h,d&&h===u&&i()},_=>a(_))}),d=!0,h===u&&i()})}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next(u=>u?X.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new X((a,u)=>{const h=e.length,d=new Array(h);let p=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++p,p===h&&a(d)},A=>u(A))}})}static doWhile(e,i){return new X((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function QT(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Rs(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=-1;function oc(s){return s==null}function Ko(s){return s===0&&1/s==-1/0}function FT(s){return typeof s=="number"&&Number.isInteger(s)&&!Ko(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="";function YT(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=My(e)),e=XT(s.get(i),e);return My(e)}function XT(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case F_:i+="";break;default:i+=h}}return i}function My(s){return s+F_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Sr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Y_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new ae(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xo(this.root,e,this.comparator,!1)}getReverseIterator(){return new xo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xo(this.root,e,this.comparator,!0)}}class xo{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??Be.RED,this.left=u??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new Be(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Be.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yt(27949);return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(e,i,a,u,h){return this}insert(e,i,a){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Uy(this.data.getIterator())}getIteratorFrom(e){return new Uy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class Uy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new mn([])}unionWith(e){let i=new we(ke.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ps(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new X_("Invalid base64 string: "+h):h}}(e);return new qe(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const KT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(s){if(Ht(!!s,39018),typeof s=="string"){let e=0;const i=KT.exec(s);if(Ht(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:fe(s.seconds),nanos:fe(s.nanos)}}function fe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function vr(s){return typeof s=="string"?qe.fromBase64String(s):qe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="server_timestamp",Z_="__type__",$_="__previous_value__",J_="__local_write_time__";function gd(s){return(s?.mapValue?.fields||{})[Z_]?.stringValue===K_}function cc(s){const e=s.mapValue.fields[$_];return gd(e)?cc(e):e}function Zl(s){const e=_r(s.mapValue.fields[J_].timestampValue);return new ee(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,i,a,u,h,d,p,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const Zo="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||Zo}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===Zo}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="__type__",$T="__max__",Uo={mapValue:{}},tv="__vector__",$o="value";function Er(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?gd(s)?4:WT(s)?9007199254740991:JT(s)?10:11:yt(28295,{value:s})}function si(s,e){if(s===e)return!0;const i=Er(s);if(i!==Er(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Zl(s).isEqual(Zl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=_r(u.timestampValue),p=_r(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return vr(u.bytesValue).isEqual(vr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return fe(u.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(u.geoPointValue.longitude)===fe(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return fe(u.integerValue)===fe(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=fe(u.doubleValue),p=fe(h.doubleValue);return d===p?Ko(d)===Ko(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return ps(s.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},p=h.mapValue.fields||{};if(xy(d)!==xy(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!si(d[_],p[_])))return!1;return!0}(s,e);default:return yt(52216,{left:s})}}function Jl(s,e){return(s.values||[]).find(i=>si(i,e))!==void 0}function ys(s,e){if(s===e)return 0;const i=Er(s),a=Er(e);if(i!==a)return Nt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const p=fe(h.integerValue||h.doubleValue),_=fe(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1}(s,e);case 3:return zy(s.timestampValue,e.timestampValue);case 4:return zy(Zl(s),Zl(e));case 5:return Gf(s.stringValue,e.stringValue);case 6:return function(h,d){const p=vr(h),_=vr(d);return p.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const A=Nt(p[v],_[v]);if(A!==0)return A}return Nt(p.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const p=Nt(fe(h.latitude),fe(d.latitude));return p!==0?p:Nt(fe(h.longitude),fe(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Ly(s.arrayValue,e.arrayValue);case 10:return function(h,d){const p=h.fields||{},_=d.fields||{},v=p[$o]?.arrayValue,A=_[$o]?.arrayValue,V=Nt(v?.values?.length||0,A?.values?.length||0);return V!==0?V:Ly(v,A)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Uo.mapValue&&d===Uo.mapValue)return 0;if(h===Uo.mapValue)return 1;if(d===Uo.mapValue)return-1;const p=h.fields||{},_=Object.keys(p),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let V=0;V<_.length&&V<A.length;++V){const I=Gf(_[V],A[V]);if(I!==0)return I;const G=ys(p[_[V]],v[A[V]]);if(G!==0)return G}return Nt(_.length,A.length)}(s.mapValue,e.mapValue);default:throw yt(23264,{he:i})}}function zy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Nt(s,e);const i=_r(s),a=_r(e),u=Nt(i.seconds,a.seconds);return u!==0?u:Nt(i.nanos,a.nanos)}function Ly(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=ys(i[u],a[u]);if(h)return h}return Nt(i.length,a.length)}function _s(s){return Qf(s)}function Qf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=_r(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return vr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ht.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=Qf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${Qf(i.fields[d])}`;return u+"}"}(s.mapValue):yt(61005,{value:s})}function ko(s){switch(Er(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cc(s);return e?16+ko(e):16;case 5:return 2*s.stringValue.length;case 6:return vr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+ko(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return Sr(a.fields,(h,d)=>{u+=h.length+ko(d)}),u}(s.mapValue);default:throw yt(13486,{value:s})}}function Py(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Ff(s){return!!s&&"integerValue"in s}function pd(s){return!!s&&"arrayValue"in s}function By(s){return!!s&&"nullValue"in s}function ky(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function qo(s){return!!s&&"mapValue"in s}function JT(s){return(s?.mapValue?.fields||{})[W_]?.stringValue===tv}function Hl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Sr(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Hl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hl(s.arrayValue.values[i]);return e}return{...s}}function WT(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===$T}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!qo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(i)}setAll(e){let i=ke.emptyPath(),a={},u=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=p.popLast()}d?a[p.lastSegment()]=Hl(d):u.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());qo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];qo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){Sr(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new rn(Hl(this.value))}}function ev(s){const e=[];return Sr(s.fields,(i,a)=>{const u=new ke([i]);if(qo(a)){const h=ev(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,a,u,h,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Ye(e,0,Tt.min(),Tt.min(),Tt.min(),rn.empty(),0)}static newFoundDocument(e,i,a,u){return new Ye(e,1,i,Tt.min(),a,u,0)}static newNoDocument(e,i){return new Ye(e,2,i,Tt.min(),Tt.min(),rn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,Tt.min(),Tt.min(),rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,i){this.position=e,this.inclusive=i}}function qy(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=ys(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function jy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!si(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,i="asc"){this.field=e,this.dir=i}}function tA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{}class _e extends nv{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new nA(e,i,a):i==="array-contains"?new aA(e,a):i==="in"?new sA(e,a):i==="not-in"?new lA(e,a):i==="array-contains-any"?new uA(e,a):new _e(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new iA(e,a):new rA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ys(i,this.value)):i!==null&&Er(this.value)===Er(i)&&this.matchesComparison(ys(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends nv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new zn(e,i)}matches(e){return iv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iv(s){return s.op==="and"}function rv(s){return eA(s)&&iv(s)}function eA(s){for(const e of s.filters)if(e instanceof zn)return!1;return!0}function Yf(s){if(s instanceof _e)return s.field.canonicalString()+s.op.toString()+_s(s.value);if(rv(s))return s.filters.map(e=>Yf(e)).join(",");{const e=s.filters.map(i=>Yf(i)).join(",");return`${s.op}(${e})`}}function av(s,e){return s instanceof _e?function(a,u){return u instanceof _e&&a.op===u.op&&a.field.isEqual(u.field)&&si(a.value,u.value)}(s,e):s instanceof zn?function(a,u){return u instanceof zn&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,p)=>h&&av(d,u.filters[p]),!0):!1}(s,e):void yt(19439)}function sv(s){return s instanceof _e?function(i){return`${i.field.canonicalString()} ${i.op} ${_s(i.value)}`}(s):s instanceof zn?function(i){return i.op.toString()+" {"+i.getFilters().map(sv).join(" ,")+"}"}(s):"Filter"}class nA extends _e{constructor(e,i,a){super(e,i,a),this.key=ht.fromName(a.referenceValue)}matches(e){const i=ht.comparator(e.key,this.key);return this.matchesComparison(i)}}class iA extends _e{constructor(e,i){super(e,"in",i),this.keys=lv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class rA extends _e{constructor(e,i){super(e,"not-in",i),this.keys=lv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function lv(s,e){return(e.arrayValue?.values||[]).map(i=>ht.fromName(i.referenceValue))}class aA extends _e{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return pd(i)&&Jl(i.arrayValue,this.value)}}class sA extends _e{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Jl(this.value.arrayValue,i)}}class lA extends _e{constructor(e,i){super(e,"not-in",i)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Jl(this.value.arrayValue,i)}}class uA extends _e{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!pd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Jl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,i=null,a=[],u=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function Hy(s,e=null,i=[],a=[],u=null,h=null,d=null){return new oA(s,e,i,a,u,h,d)}function yd(s){const e=St(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Yf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),oc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>_s(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>_s(a)).join(",")),e.Te=i}return e.Te}function _d(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!tA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!av(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!jy(s.startAt,e.startAt)&&jy(s.endAt,e.endAt)}function Xf(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,i=null,a=[],u=[],h=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cA(s,e,i,a,u,h,d,p){return new nu(s,e,i,a,u,h,d,p)}function vd(s){return new nu(s)}function Gy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function uv(s){return s.collectionGroup!==null}function Gl(s){const e=St(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new we(ke.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(p=p.add(v.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Wo(h,a))}),i.has(ke.keyField().canonicalString())||e.Ie.push(new Wo(ke.keyField(),a))}return e.Ie}function ei(s){const e=St(s);return e.Ee||(e.Ee=hA(e,Gl(s))),e.Ee}function hA(s,e){if(s.limitType==="F")return Hy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Wo(u.field,h)});const i=s.endAt?new Jo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Jo(s.startAt.position,s.startAt.inclusive):null;return Hy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Kf(s,e){const i=s.filters.concat([e]);return new nu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Zf(s,e,i){return new nu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function hc(s,e){return _d(ei(s),ei(e))&&s.limitType===e.limitType}function ov(s){return`${yd(ei(s))}|lt:${s.limitType}`}function os(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>sv(u)).join(", ")}]`),oc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>_s(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>_s(u)).join(",")),`Target(${a})`}(ei(s))}; limitType=${s.limitType})`}function fc(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ht.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of Gl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,p,_){const v=qy(d,p,_);return d.inclusive?v<=0:v<0}(a.startAt,Gl(a),u)||a.endAt&&!function(d,p,_){const v=qy(d,p,_);return d.inclusive?v>=0:v>0}(a.endAt,Gl(a),u))}(s,e)}function fA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function cv(s){return(e,i)=>{let a=!1;for(const u of Gl(s)){const h=dA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function dA(s,e,i){const a=s.field.isKeyField()?ht.comparator(e.key,i.key):function(h,d,p){const _=d.data.field(h),v=p.data.field(h);return _!==null&&v!==null?ys(_,v):yt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Sr(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return Y_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=new ae(ht.comparator);function Ui(){return mA}const hv=new ae(ht.comparator);function Bl(...s){let e=hv;for(const i of s)e=e.insert(i.key,i);return e}function fv(s){let e=hv;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function oa(){return Ql()}function dv(){return Ql()}function Ql(){return new ma(s=>s.toString(),(s,e)=>s.isEqual(e))}const gA=new ae(ht.comparator),pA=new we(ht.comparator);function Ot(...s){let e=pA;for(const i of s)e=e.add(i);return e}const yA=new we(Nt);function _A(){return yA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ko(e)?"-0":e}}function mv(s){return{integerValue:""+s}}function vA(s,e){return FT(e)?mv(e):Ed(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(){this._=void 0}}function EA(s,e,i){return s instanceof tc?function(u,h){const d={fields:{[Z_]:{stringValue:K_},[J_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&gd(h)&&(h=cc(h)),h&&(d.fields[$_]=h),{mapValue:d}}(i,e):s instanceof Wl?pv(s,e):s instanceof tu?yv(s,e):function(u,h){const d=gv(u,h),p=Qy(d)+Qy(u.Ae);return Ff(d)&&Ff(u.Ae)?mv(p):Ed(u.serializer,p)}(s,e)}function TA(s,e,i){return s instanceof Wl?pv(s,e):s instanceof tu?yv(s,e):i}function gv(s,e){return s instanceof ec?function(a){return Ff(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class tc extends dc{}class Wl extends dc{constructor(e){super(),this.elements=e}}function pv(s,e){const i=_v(e);for(const a of s.elements)i.some(u=>si(u,a))||i.push(a);return{arrayValue:{values:i}}}class tu extends dc{constructor(e){super(),this.elements=e}}function yv(s,e){let i=_v(e);for(const a of s.elements)i=i.filter(u=>!si(u,a));return{arrayValue:{values:i}}}class ec extends dc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Qy(s){return fe(s.integerValue||s.doubleValue)}function _v(s){return pd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function AA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Wl&&u instanceof Wl||a instanceof tu&&u instanceof tu?ps(a.elements,u.elements,si):a instanceof ec&&u instanceof ec?si(a.Ae,u.Ae):a instanceof tc&&u instanceof tc}(s.transform,e.transform)}class SA{constructor(e,i){this.version=e,this.transformResults=i}}class Un{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class mc{}function vv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Td(s.key,Un.none()):new iu(s.key,s.data,Un.none());{const i=s.data,a=rn.empty();let u=new we(ke.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new br(s.key,a,new mn(u.toArray()),Un.none())}}function bA(s,e,i){s instanceof iu?function(u,h,d){const p=u.value.clone(),_=Yy(u.fieldTransforms,h,d.transformResults);p.setAll(_),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,i):s instanceof br?function(u,h,d){if(!jo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const p=Yy(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(Ev(u)),_.setAll(p),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Fl(s,e,i,a){return s instanceof iu?function(h,d,p,_){if(!jo(h.precondition,d))return p;const v=h.value.clone(),A=Xy(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof br?function(h,d,p,_){if(!jo(h.precondition,d))return p;const v=Xy(h.fieldTransforms,_,d),A=d.data;return A.setAll(Ev(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(V=>V.field))}(s,e,i,a):function(h,d,p){return jo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,i)}function RA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=gv(a.transform,u||null);h!=null&&(i===null&&(i=rn.empty()),i.set(a.field,h))}return i||null}function Fy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&ps(a,u,(h,d)=>AA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class iu extends mc{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class br extends mc{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Ev(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function Yy(s,e,i){const a=new Map;Ht(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,p=e.data.field(h.field);a.set(h.field,TA(d,p,i[u]))}return a}function Xy(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,EA(h,d,e))}return a}class Td extends mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wA extends mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&bA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Fl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Fl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=dv();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(u.key)?null:p;const _=vv(d,p);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ot())}isEqual(e){return this.batchId===e.batchId&&ps(this.mutations,e.mutations,(i,a)=>Fy(i,a))&&ps(this.baseMutations,e.baseMutations,(i,a)=>Fy(i,a))}}class Ad{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){Ht(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let u=function(){return gA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new Ad(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Pt;function IA(s){switch(s){case Y.OK:return yt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function Tv(s){if(s===void 0)return xi("GRPC error has no .code"),Y.UNKNOWN;switch(s){case ye.OK:return Y.OK;case ye.CANCELLED:return Y.CANCELLED;case ye.UNKNOWN:return Y.UNKNOWN;case ye.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case ye.INTERNAL:return Y.INTERNAL;case ye.UNAVAILABLE:return Y.UNAVAILABLE;case ye.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case ye.NOT_FOUND:return Y.NOT_FOUND;case ye.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case ye.ABORTED:return Y.ABORTED;case ye.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case ye.DATA_LOSS:return Y.DATA_LOSS;default:return yt(39323,{code:s})}}(Pt=ye||(ye={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new mr([4294967295,4294967295],0);function Ky(s){const e=NA().encode(s),i=new z_;return i.update(e),new Uint8Array(i.digest())}function Zy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new mr([i,a],0),new mr([u,h],0)]}class Sd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(a<0)throw new kl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=mr.fromNumber(this.ge)}ye(e,i,a){let u=e.add(i.multiply(mr.fromNumber(a)));return u.compare(OA)===1&&(u=new mr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Ky(e),[a,u]=Zy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,u,h);if(!this.we(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Sd(h,u,i);return a.forEach(p=>d.insert(p)),d}insert(e){if(this.ge===0)return;const i=Ky(e),[a,u]=Zy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new gc(Tt.min(),u,new ae(Nt),Ui(),Ot())}}class ru{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new ru(a,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,i,a,u){this.be=e,this.removedTargetIds=i,this.key=a,this.De=u}}class Av{constructor(e,i){this.targetId=e,this.Ce=i}}class Sv{constructor(e,i,a=qe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class $y{constructor(){this.ve=0,this.Fe=Jy(),this.Me=qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ot(),i=Ot(),a=Ot();return this.Fe.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:yt(38017,{changeType:h})}}),new ru(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=Jy()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ui(),this.Je=zo(),this.He=zo(),this.Ye=new ae(Nt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:yt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((a,u)=>{this.rt(u)&&i(u)})}st(e){const i=e.targetId,a=e.Ce.count,u=this.ot(i);if(u){const h=u.target;if(Xf(h))if(a===0){const d=new ht(h.path);this.et(i,d,Ye.newNoDocument(d,Tt.min()))}else Ht(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,p;try{d=vr(a).toUint8Array()}catch(_){if(_ instanceof X_)return gs("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Sd(d,u,h)}catch(_){return gs(_ instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),u++)}),u}Tt(e){const i=new Map;this.ze.forEach((h,d)=>{const p=this.ot(d);if(p){if(h.current&&Xf(p.target)){const _=new ht(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ye.newNoDocument(_,e))}h.Be&&(i.set(d,h.ke()),h.qe())}});let a=Ot();this.He.forEach((h,d)=>{let p=!0;d.forEachWhile(_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(a=a.add(h))}),this.je.forEach((h,d)=>d.setReadTime(e));const u=new gc(e,i,this.Ye,this.je,a);return this.je=Ui(),this.Je=zo(),this.He=zo(),this.Ye=new ae(Nt),u}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new $y,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new we(Nt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new we(Nt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $y),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function zo(){return new ae(ht.comparator)}function Jy(){return new ae(ht.comparator)}const xA={asc:"ASCENDING",desc:"DESCENDING"},UA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zA={and:"AND",or:"OR"};class LA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function $f(s,e){return s.useProto3Json||oc(e)?e:{value:e}}function nc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function PA(s,e){return nc(s,e.toTimestamp())}function ni(s){return Ht(!!s,49232),Tt.fromTimestamp(function(i){const a=_r(i);return new ee(a.seconds,a.nanos)}(s))}function bd(s,e){return Jf(s,e).canonicalString()}function Jf(s,e){const i=function(u){return new te(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function Rv(s){const e=te.fromString(s);return Ht(Iv(e),10190,{key:e.toString()}),e}function Wf(s,e){return bd(s.databaseId,e.path)}function xf(s,e){const i=Rv(e);if(i.get(1)!==s.databaseId.projectId)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ht(Cv(i))}function wv(s,e){return bd(s.databaseId,e)}function BA(s){const e=Rv(s);return e.length===4?te.emptyPath():Cv(e)}function td(s){return new te(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Cv(s){return Ht(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Wy(s,e,i){return{name:Wf(s,e),fields:i.value.mapValue.fields}}function kA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:yt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(Ht(A===void 0||typeof A=="string",58123),qe.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),qe.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(v){const A=v.code===void 0?Y.UNKNOWN:Tv(v.code);return new at(A,v.message||"")}(d);i=new Sv(a,u,h,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=xf(s,a.document.name),h=ni(a.document.updateTime),d=a.document.createTime?ni(a.document.createTime):Tt.min(),p=new rn({mapValue:{fields:a.document.fields}}),_=Ye.newFoundDocument(u,h,d,p),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Ho(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=xf(s,a.document),h=a.readTime?ni(a.readTime):Tt.min(),d=Ye.newNoDocument(u,h),p=a.removedTargetIds||[];i=new Ho([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=xf(s,a.document),h=a.removedTargetIds||[];i=new Ho([],h,u,null)}else{if(!("filter"in e))return yt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new VA(u,h),p=a.targetId;i=new Av(p,d)}}return i}function qA(s,e){let i;if(e instanceof iu)i={update:Wy(s,e.key,e.value)};else if(e instanceof Td)i={delete:Wf(s,e.key)};else if(e instanceof br)i={update:Wy(s,e.key,e.data),updateMask:ZA(e.fieldMask)};else{if(!(e instanceof wA))return yt(16599,{Vt:e.type});i={verify:Wf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const p=d.transform;if(p instanceof tc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof tu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ec)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:PA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)}(s,e.precondition)),i}function jA(s,e){return s&&s.length>0?(Ht(e!==void 0,14353),s.map(i=>function(u,h){let d=u.updateTime?ni(u.updateTime):ni(h);return d.isEqual(Tt.min())&&(d=ni(h)),new SA(d,u.transformResults||[])}(i,e))):[]}function HA(s,e){return{documents:[wv(s,e.path)]}}function GA(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=wv(s,u);const h=function(v){if(v.length!==0)return Vv(zn.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(I){return{field:cs(I.field),direction:YA(I.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=$f(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ft:i,parent:u}}function QA(s){let e=BA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){Ht(a===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(V){const I=Dv(V);return I instanceof zn&&rv(I)?I.getFilters():[I]}(i.where));let d=[];i.orderBy&&(d=function(V){return V.map(I=>function(Z){return new Wo(hs(Z.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(I))}(i.orderBy));let p=null;i.limit&&(p=function(V){let I;return I=typeof V=="object"?V.value:V,oc(I)?null:I}(i.limit));let _=null;i.startAt&&(_=function(V){const I=!!V.before,G=V.values||[];return new Jo(G,I)}(i.startAt));let v=null;return i.endAt&&(v=function(V){const I=!V.before,G=V.values||[];return new Jo(G,I)}(i.endAt)),cA(e,u,d,h,p,"F",_,v)}function FA(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Dv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=hs(i.unaryFilter.field);return _e.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=hs(i.unaryFilter.field);return _e.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=hs(i.unaryFilter.field);return _e.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=hs(i.unaryFilter.field);return _e.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}}(s):s.fieldFilter!==void 0?function(i){return _e.create(hs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return zn.create(i.compositeFilter.filters.map(a=>Dv(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return yt(1026)}}(i.compositeFilter.op))}(s):yt(30097,{filter:s})}function YA(s){return xA[s]}function XA(s){return UA[s]}function KA(s){return zA[s]}function cs(s){return{fieldPath:s.canonicalString()}}function hs(s){return ke.fromServerFormat(s.fieldPath)}function Vv(s){return s instanceof _e?function(i){if(i.op==="=="){if(ky(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NAN"}};if(By(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ky(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NAN"}};if(By(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(i.field),op:XA(i.op),value:i.value}}}(s):s instanceof zn?function(i){const a=i.getFilters().map(u=>Vv(u));return a.length===1?a[0]:{compositeFilter:{op:KA(i.op),filters:a}}}(s):yt(54877,{filter:s})}function ZA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Iv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,i,a,u,h=Tt.min(),d=Tt.min(),p=qe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this.yt=e}}function JA(s){const e=QA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.Cn=new tS}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(yr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class tS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new we(te.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new we(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nv=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(Nv,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vs(0)}static cr(){return new vs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="LruGarbageCollector",eS=1048576;function n_([s,e],[i,a]){const u=Nt(s,i);return u===0?Nt(e,a):u}class nS{constructor(e){this.Ir=e,this.buffer=new we(n_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();n_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class iS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){rt(e_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Rs(i)?rt(e_,"Ignoring IndexedDB error during garbage collection: ",i):await bs(i)}await this.Vr(3e5)})}}class rS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return X.resolve(uc.ce);const a=new nS(i);return this.mr.forEachTarget(e,u=>a.Ar(u.sequenceNumber)).next(()=>this.mr.pr(e,u=>a.Ar(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(t_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t_):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,u,h,d,p,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),u=this.params.maximumSequenceNumbersToCollect):u=V,d=Date.now(),this.nthSequenceNumber(e,u))).next(V=>(a=V,p=Date.now(),this.removeTargets(e,a,i))).next(V=>(h=V,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(V=>(v=Date.now(),us()<=Bt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(p-d)+`ms
	Removed ${h} targets in `+(_-p)+`ms
	Removed ${V} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:V})))}}function aS(s,e){return new rS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.changes=new ma(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&Fl(a.mutation,u,mn.empty(),ee.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Ot()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Ot()){const u=oa();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=Bl();return h.forEach((p,_)=>{d=d.insert(p,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=oa();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Ot()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,a,u){let h=Ui();const d=Ql(),p=function(){return Ql()}();return i.forEach((_,v)=>{const A=a.get(v.key);u.has(v.key)&&(A===void 0||A.mutation instanceof br)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Fl(A.mutation,v,A.mutation.getFieldMask(),ee.now())):d.set(v.key,mn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>p.set(v,new lS(A,d.get(v)??null))),p))}recalculateAndSaveOverlays(e,i){const a=Ql();let u=new ae((d,p)=>d-p),h=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||mn.empty();A=p.applyToLocalView(v,A),a.set(_,A);const V=(u.get(p.batchId)||Ot()).add(_);u=u.insert(p.batchId,V)})}).next(()=>{const d=[],p=u.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,A=_.value,V=dv();A.forEach(I=>{if(!h.has(I)){const G=vv(i.get(I),a.get(I));G!==null&&V.set(I,G),h=h.add(I)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,V))}return X.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):uv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):X.resolve(oa());let p=Kl,_=h;return d.next(v=>X.forEach(v,(A,V)=>(p<V.largestBatchId&&(p=V.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next(I=>{_=_.insert(A,I)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Ot())).next(A=>({batchId:p,changes:fv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ht(i)).next(a=>{let u=Bl();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Bl();return this.indexManager.getCollectionParents(e,h).next(p=>X.forEach(p,_=>{const v=function(V,I){return new nu(I,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next(A=>{A.forEach((V,I)=>{d=d.insert(V,I)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))});let p=Bl();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Fl(A.mutation,v,mn.empty(),ee.now()),fc(i,v)&&(p=p.insert(_,v))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ni(u.createTime)}}(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(u){return{name:u.name,query:JA(u.bundledQuery),readTime:ni(u.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.overlays=new ae(ht.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=oa();return X.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.St(e,i,h)}),X.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.qr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const u=oa(),h=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&u.set(_.getKey(),_)}return X.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new ae((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=h.get(v.largestBatchId);A===null&&(A=oa(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=oa(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>p.set(v,A)),!(p.size()>=u)););return X.resolve(p)}St(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(a.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new DA(i,a));let h=this.qr.get(i);h===void 0&&(h=Ot(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this.Qr=new we(Me.$r),this.Ur=new we(Me.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Me(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.Gr(new Me(e,i))}zr(e,i){e.forEach(a=>this.removeReference(a,i))}jr(e){const i=new ht(new te([])),a=new Me(i,e),u=new Me(i,e+1),h=[];return this.Ur.forEachInRange([a,u],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ht(new te([])),a=new Me(i,e),u=new Me(i,e+1);let h=Ot();return this.Ur.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Me(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Me{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ht.comparator(e.key,i.key)||Nt(e.Yr,i.Yr)}static Kr(e,i){return Nt(e.Yr,i.Yr)||ht.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new we(Me.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new CA(h,i,a,u);this.mutationQueue.push(d);for(const p of u)this.Zr=this.Zr.add(new Me(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.ei(a),h=u<0?0:u;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?md:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Me(i,0),u=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,u],d=>{const p=this.Xr(d.Yr);h.push(p)}),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new we(Nt);return i.forEach(u=>{const h=new Me(u,0),d=new Me(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],p=>{a=a.add(p.Yr)})}),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ht.isDocumentKey(h)||(h=h.child(""));const d=new Me(new ht(h),0);let p=new we(Nt);return this.Zr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(p=p.add(_.Yr)),!0)},d),X.resolve(this.ti(p))}ti(e){const i=[];return e.forEach(a=>{const u=this.Xr(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,u=>{const h=new Me(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Zr=a})}ir(e){}containsKey(e,i){const a=new Me(i,0),u=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.ri=e,this.docs=function(){return new ae(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let a=Ui();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Ye.newInvalidDocument(u))}),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Ui();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||jT(qT(A),a)<=0||(u.has(A.key)||fc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,a,u){yt(9500)}ii(e,i){return X.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new mS(this)}getSize(e){return X.resolve(this.size)}}class mS extends sS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(a)}),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.persistence=e,this.si=new ma(i=>yd(i),_d),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Rd,this.targetCount=0,this.ai=vs.ur()}forEachTarget(e,i){return this.si.forEach((a,u)=>i(u)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new vs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.si.forEach((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),u++)}),X.waitFor(h).next(()=>u)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,i){this.ui={},this.overlays={},this.ci=new uc(0),this.li=!1,this.li=!0,this.hi=new hS,this.referenceDelegate=e(this),this.Pi=new gS(this),this.indexManager=new WA,this.remoteDocumentCache=function(u){return new dS(u)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new $A(i),this.Ii=new oS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new cS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new fS(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){rt("MemoryPersistence","Starting transaction:",e);const u=new pS(this.ci.next());return this.referenceDelegate.Ei(),a(u).next(h=>this.referenceDelegate.di(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ai(e,i){return X.or(Object.values(this.ui).map(a=>()=>a.containsKey(e,i)))}}class pS extends GT{constructor(e){super(),this.currentSequenceNumber=e}}class wd{constructor(e){this.persistence=e,this.Ri=new Rd,this.Vi=null}static mi(e){return new wd(e)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(u=>this.fi.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.fi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,a=>{const u=ht.fromPath(a);return this.gi(e,u).next(h=>{h||i.removeEntry(u,Tt.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ic{constructor(e,i){this.persistence=e,this.pi=new ma(a=>YT(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=aS(this,i)}static mi(e,i){return new ic(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}wr(e){let i=0;return this.pr(e,a=>{i++}).next(()=>i)}pr(e,i){return X.forEach(this.pi,(a,u)=>this.br(e,a,u).next(h=>h?X.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(e,d=>this.br(e,d,i).next(p=>{p||(a++,h.removeEntry(d,Tt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ko(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return X.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=u}static As(e,i){let a=Ot(),u=Ot();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Cd(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return o1()?8:QT(l1())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.ys(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new yS;return this.Ss(e,i,d).next(p=>{if(h.result=p,this.Vs)return this.bs(e,i,d,p.size)})}).next(()=>h.result)}bs(e,i,a,u){return a.documentReadCount<this.fs?(us()<=Bt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",os(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(us()<=Bt.DEBUG&&rt("QueryEngine","Query:",os(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.gs*u?(us()<=Bt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",os(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):X.resolve())}ys(e,i){if(Gy(i))return X.resolve(null);let a=ei(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Zf(i,null,"F"),a=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Ot(...h);return this.ps.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.Ds(i,p);return this.Cs(i,v,d,_.readTime)?this.ys(e,Zf(i,null,"F")):this.vs(e,v,i,_)}))})))}ws(e,i,a,u){return Gy(i)||u.isEqual(Tt.min())?X.resolve(null):this.ps.getDocuments(e,a).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,u)?X.resolve(null):(us()<=Bt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),os(i)),this.vs(e,d,i,kT(u,Kl)).next(p=>p))})}Ds(e,i){let a=new we(cv(e));return i.forEach((u,h)=>{fc(e,h)&&(a=a.add(h))}),a}Cs(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,a){return us()<=Bt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",os(i)),this.ps.getDocumentsMatchingQuery(e,i,yr.min(),a)}vs(e,i,a,u){return this.ps.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="LocalStore",vS=3e8;class ES{constructor(e,i,a,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new ae(Nt),this.xs=new ma(h=>yd(h),_d),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function TS(s,e,i,a){return new ES(s,e,i,a)}async function Mv(s,e){const i=St(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],p=[];let _=Ot();for(const v of u){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){p.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Ls:v,removedBatchIds:d,addedBatchIds:p}))})})}function AS(s,e){const i=St(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return function(p,_,v,A){const V=v.batch,I=V.keys();let G=X.resolve();return I.forEach(Z=>{G=G.next(()=>A.getEntry(_,Z)).next(nt=>{const $=v.docVersions.get(Z);Ht($!==null,48541),nt.version.compareTo($)<0&&(V.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),A.addEntry(nt)))})}),G.next(()=>p.mutationQueue.removeMutationBatch(_,V))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(p){let _=Ot();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function xv(s){const e=St(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function SS(s,e){const i=St(s),a=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const p=[];e.targetChanges.forEach((A,V)=>{const I=u.get(V);if(!I)return;p.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,V).next(()=>i.Pi.addMatchingKeys(h,A.addedDocuments,V)));let G=I.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(V)!==null?G=G.withResumeToken(qe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),u=u.insert(V,G),function(nt,$,At){return nt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=vS?!0:At.addedDocuments.size+At.modifiedDocuments.size+At.removedDocuments.size>0}(I,G,A)&&p.push(i.Pi.updateTargetData(h,G))});let _=Ui(),v=Ot();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),p.push(bS(h,d,e.documentUpdates).next(A=>{_=A.ks,v=A.qs})),!a.isEqual(Tt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next(V=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a));p.push(A)}return X.waitFor(p).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ms=u,h))}function bS(s,e,i){let a=Ot(),u=Ot();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Ui();return i.forEach((p,_)=>{const v=h.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(p)),_.isNoDocument()&&_.version.isEqual(Tt.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):rt(Dd,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)}),{ks:d,qs:u}})}function RS(s,e){const i=St(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=md),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function wS(s,e){const i=St(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Pi.getTargetData(a,e).next(h=>h?(u=h,X.resolve(u)):i.Pi.allocateTargetId(a).next(d=>(u=new hr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.Ms.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a})}async function ed(s,e,i){const a=St(s),u=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Rs(d))throw d;rt(Dd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(u.target)}function i_(s,e,i){const a=St(s);let u=Tt.min(),h=Ot();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const V=St(_),I=V.xs.get(A);return I!==void 0?X.resolve(V.Ms.get(I)):V.Pi.getTargetData(v,A)}(a,d,ei(e)).next(p=>{if(p)return u=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next(_=>{h=_})}).next(()=>a.Fs.getDocumentsMatchingQuery(d,e,i?u:Tt.min(),i?h:Ot())).next(p=>(CS(a,fA(e),p),{documents:p,Qs:h})))}function CS(s,e,i){let a=s.Os.get(e)||Tt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Os.set(e,a)}class r_{constructor(){this.activeTargetIds=_A()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DS{constructor(){this.Mo=new r_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new r_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="ConnectivityMonitor";class s_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(a_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){rt(a_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo=null;function nd(){return Lo===null?Lo=function(){return 268435456+Math.round(2147483648*Math.random())}():Lo++,"0x"+Lo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="RestConnection",IS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${u}`,this.Wo=this.databaseId.database===Zo?`project_id=${a}`:`project_id=${a}&database_id=${u}`}Go(e,i,a,u,h){const d=nd(),p=this.zo(e,i.toUriEncodedString());rt(Uf,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,u,h);const{host:v}=new URL(p),A=cd(v);return this.Jo(e,p,_,a,A).then(V=>(rt(Uf,`Received RPC '${e}' ${d}: `,V),V),V=>{throw gs(Uf,`RPC '${e}' ${d} failed with error: `,V,"url: ",p,"request:",a),V})}Ho(e,i,a,u,h,d){return this.Go(e,i,a,u,h)}jo(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ss}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}zo(e,i){const a=IS[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class MS extends NS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,u,h){const d=nd();return new Promise((p,_)=>{const v=new L_;v.setWithCredentials(!0),v.listenOnce(P_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Bo.NO_ERROR:const V=v.getResponseJson();rt(Qe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(V)),p(V);break;case Bo.TIMEOUT:rt(Qe,`RPC '${e}' ${d} timed out`),_(new at(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Bo.HTTP_ERROR:const I=v.getStatus();if(rt(Qe,`RPC '${e}' ${d} failed with status:`,I,"response text:",v.getResponseText()),I>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G?.error;if(Z&&Z.status&&Z.message){const nt=function(At){const pt=At.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(pt)>=0?pt:Y.UNKNOWN}(Z.status);_(new at(nt,Z.message))}else _(new at(Y.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new at(Y.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{rt(Qe,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(u);rt(Qe,`RPC '${e}' ${d} sending request:`,u),v.send(i,"POST",A,a,15)})}T_(e,i,a){const u=nd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=q_(),p=k_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=h.join("");rt(Qe,`Creating RPC '${e}' stream ${u}: ${A}`,_);const V=d.createWebChannel(A,_);this.I_(V);let I=!1,G=!1;const Z=new OS({Yo:$=>{G?rt(Qe,`Not sending because RPC '${e}' stream ${u} is closed:`,$):(I||(rt(Qe,`Opening RPC '${e}' stream ${u} transport.`),V.open(),I=!0),rt(Qe,`RPC '${e}' stream ${u} sending:`,$),V.send($))},Zo:()=>V.close()}),nt=($,At,pt)=>{$.listen(At,ct=>{try{pt(ct)}catch(xt){setTimeout(()=>{throw xt},0)}})};return nt(V,Pl.EventType.OPEN,()=>{G||(rt(Qe,`RPC '${e}' stream ${u} transport opened.`),Z.o_())}),nt(V,Pl.EventType.CLOSE,()=>{G||(G=!0,rt(Qe,`RPC '${e}' stream ${u} transport closed`),Z.a_(),this.E_(V))}),nt(V,Pl.EventType.ERROR,$=>{G||(G=!0,gs(Qe,`RPC '${e}' stream ${u} transport errored. Name:`,$.name,"Message:",$.message),Z.a_(new at(Y.UNAVAILABLE,"The operation could not be completed")))}),nt(V,Pl.EventType.MESSAGE,$=>{if(!G){const At=$.data[0];Ht(!!At,16349);const pt=At,ct=pt?.error||pt[0]?.error;if(ct){rt(Qe,`RPC '${e}' stream ${u} received error:`,ct);const xt=ct.status;let vt=function(S){const b=ye[S];if(b!==void 0)return Tv(b)}(xt),bt=ct.message;vt===void 0&&(vt=Y.INTERNAL,bt="Unknown error status: "+xt+" with message "+ct.message),G=!0,Z.a_(new at(vt,bt)),V.close()}else rt(Qe,`RPC '${e}' stream ${u} received:`,At),Z.u_(At)}}),nt(p,B_.STAT_EVENT,$=>{$.stat===Hf.PROXY?rt(Qe,`RPC '${e}' stream ${u} detected buffering proxy`):$.stat===Hf.NOPROXY&&rt(Qe,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Z.__()},0),Z}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function zf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(s){return new LA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,i,a=1e3,u=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-a);u>0&&rt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="PersistentStream";class zv{constructor(e,i,a,u,h,d,p,_){this.Mi=e,this.S_=a,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Uv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(xi(i.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.D_===i&&this.G_(a,u)},a=>{e(()=>{const u=new at(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(u)})})}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(u=>{a(()=>this.z_(u))}),this.stream.onMessage(u=>{a(()=>++this.F_==1?this.J_(u):this.onNext(u))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return rt(l_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(rt(l_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xS extends zv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=kA(this.serializer,e),a=function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?ni(d.readTime):Tt.min()}(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=td(this.serializer),i.addTarget=function(h,d){let p;const _=d.target;if(p=Xf(_)?{documents:HA(h,_)}:{query:GA(h,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=bv(h,d.resumeToken);const v=$f(h,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=nc(h,d.snapshotVersion.toTimestamp());const v=$f(h,d.expectedCount);v!==null&&(p.expectedCount=v)}return p}(this.serializer,e);const a=FA(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=td(this.serializer),i.removeTarget=e,this.q_(i)}}class US extends zv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=jA(e.writeResults,e.commitTime),a=ni(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=td(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>qA(this.serializer,a))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{}class LS extends zS{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(e,Jf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(Y.UNKNOWN,h.toString())})}Ho(e,i,a,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Ho(e,Jf(i,a),u,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(Y.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class PS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xi(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="RemoteStore";class BS{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{a.enqueueAndForget(async()=>{ga(this)&&(rt(da,"Restarting streams for network reachability change."),await async function(_){const v=St(_);v.Ea.add(4),await au(v),v.Ra.set("Unknown"),v.Ea.delete(4),await yc(v)}(this))})}),this.Ra=new PS(a,u)}}async function yc(s){if(ga(s))for(const e of s.da)await e(!0)}async function au(s){for(const e of s.da)await e(!1)}function Lv(s,e){const i=St(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Od(i)?Nd(i):ws(i).O_()&&Id(i,e))}function Vd(s,e){const i=St(s),a=ws(i);i.Ia.delete(e),a.O_()&&Pv(i,e),i.Ia.size===0&&(a.O_()?a.L_():ga(i)&&i.Ra.set("Unknown"))}function Id(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ws(s).Y_(e)}function Pv(s,e){s.Va.Ue(e),ws(s).Z_(e)}function Nd(s){s.Va=new MA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),ws(s).start(),s.Ra.ua()}function Od(s){return ga(s)&&!ws(s).x_()&&s.Ia.size>0}function ga(s){return St(s).Ea.size===0}function Bv(s){s.Va=void 0}async function kS(s){s.Ra.set("Online")}async function qS(s){s.Ia.forEach((e,i)=>{Id(s,e)})}async function jS(s,e){Bv(s),Od(s)?(s.Ra.ha(e),Nd(s)):s.Ra.set("Unknown")}async function HS(s,e,i){if(s.Ra.set("Online"),e instanceof Sv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const p of h.targetIds)u.Ia.has(p)&&(await u.remoteSyncer.rejectListen(p,d),u.Ia.delete(p),u.Va.removeTarget(p))}(s,e)}catch(a){rt(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await rc(s,a)}else if(e instanceof Ho?s.Va.Ze(e):e instanceof Av?s.Va.st(e):s.Va.tt(e),!i.isEqual(Tt.min()))try{const a=await xv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ia.get(v);A&&h.Ia.set(v,A.withResumeToken(_.resumeToken,d))}}),p.targetMismatches.forEach((_,v)=>{const A=h.Ia.get(_);if(!A)return;h.Ia.set(_,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),Pv(h,_);const V=new hr(A.target,_,v,A.sequenceNumber);Id(h,V)}),h.remoteSyncer.applyRemoteEvent(p)}(s,i)}catch(a){rt(da,"Failed to raise snapshot:",a),await rc(s,a)}}async function rc(s,e,i){if(!Rs(e))throw e;s.Ea.add(1),await au(s),s.Ra.set("Offline"),i||(i=()=>xv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{rt(da,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await yc(s)})}function kv(s,e){return e().catch(i=>rc(s,i,e))}async function _c(s){const e=St(s),i=Tr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:md;for(;GS(e);)try{const u=await RS(e.localStore,a);if(u===null){e.Ta.length===0&&i.L_();break}a=u.batchId,QS(e,u)}catch(u){await rc(e,u)}qv(e)&&jv(e)}function GS(s){return ga(s)&&s.Ta.length<10}function QS(s,e){s.Ta.push(e);const i=Tr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function qv(s){return ga(s)&&!Tr(s).x_()&&s.Ta.length>0}function jv(s){Tr(s).start()}async function FS(s){Tr(s).ra()}async function YS(s){const e=Tr(s);for(const i of s.Ta)e.ea(i.mutations)}async function XS(s,e,i){const a=s.Ta.shift(),u=Ad.from(a,e,i);await kv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await _c(s)}async function KS(s,e){e&&Tr(s).X_&&await async function(a,u){if(function(d){return IA(d)&&d!==Y.ABORTED}(u.code)){const h=a.Ta.shift();Tr(a).B_(),await kv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await _c(a)}}(s,e),qv(s)&&jv(s)}async function u_(s,e){const i=St(s);i.asyncQueue.verifyOperationInProgress(),rt(da,"RemoteStore received new credentials");const a=ga(i);i.Ea.add(3),await au(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await yc(i)}async function ZS(s,e){const i=St(s);e?(i.Ea.delete(2),await yc(i)):e||(i.Ea.add(2),await au(i),i.Ra.set("Unknown"))}function ws(s){return s.ma||(s.ma=function(i,a,u){const h=St(i);return h.sa(),new xS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{Xo:kS.bind(null,s),t_:qS.bind(null,s),r_:jS.bind(null,s),H_:HS.bind(null,s)}),s.da.push(async e=>{e?(s.ma.B_(),Od(s)?Nd(s):s.Ra.set("Unknown")):(await s.ma.stop(),Bv(s))})),s.ma}function Tr(s){return s.fa||(s.fa=function(i,a,u){const h=St(i);return h.sa(),new US(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:FS.bind(null,s),r_:KS.bind(null,s),ta:YS.bind(null,s),na:XS.bind(null,s)}),s.da.push(async e=>{e?(s.fa.B_(),await _c(s)):(await s.fa.stop(),s.Ta.length>0&&(rt(da,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))})),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,p=new Md(e,i,d,u,h);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xd(s,e){if(xi("AsyncQueue",`${e}: ${s}`),Rs(s))return new at(Y.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{static emptySet(e){return new ds(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=Bl(),this.sortedSet=new ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ds)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ds;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this.ga=new ae(ht.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):yt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,a)=>{e.push(a)}),e}}class Es{constructor(e,i,a,u,h,d,p,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new Es(e,i,ds.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class JS{constructor(){this.queries=c_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const u=St(i),h=u.queries;u.queries=c_(),h.forEach((d,p)=>{for(const _ of p.Sa)_.onError(a)})})(this,new at(Y.ABORTED,"Firestore shutting down"))}}function c_(){return new ma(s=>ov(s),hc)}async function WS(s,e){const i=St(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.ba()&&e.Da()&&(a=2):(h=new $S,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(u,!0);break;case 1:h.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const p=xd(d,`Initialization of query '${os(e.query)}' failed`);return void e.onError(p)}i.queries.set(u,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Ud(i)}async function tb(s,e){const i=St(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.Da()?0:1:!h.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function eb(s,e){const i=St(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(u)&&(a=!0);d.wa=u}}a&&Ud(i)}function nb(s,e,i){const a=St(s),u=a.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);a.queries.delete(e)}function Ud(s){s.Ca.forEach(e=>{e.next()})}var id,h_;(h_=id||(id={})).Ma="default",h_.Cache="cache";class ib{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new Es(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Es.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==id.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e){this.key=e}}class Gv{constructor(e){this.key=e}}class rb{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=cv(e),this.tu=new ds(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new o_,u=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,p=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,V)=>{const I=u.get(A),G=fc(this.query,V)?V:null,Z=!!I&&this.mutatedKeys.has(I.key),nt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let $=!1;I&&G?I.data.isEqual(G.data)?Z!==nt&&(a.track({type:3,doc:G}),$=!0):this.su(I,G)||(a.track({type:2,doc:G}),$=!0,(_&&this.eu(G,_)>0||v&&this.eu(G,v)<0)&&(p=!0)):!I&&G?(a.track({type:0,doc:G}),$=!0):I&&!G&&(a.track({type:1,doc:I}),$=!0,(_||v)&&(p=!0)),$&&(G?(d=d.add(G),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((A,V)=>function(G,Z){const nt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:$})}};return nt(G)-nt(Z)}(A.type,V.type)||this.eu(A.doc,V.doc)),this.ou(a),u=u??!1;const p=i&&!u?this._u():[],_=this.Xa.size===0&&this.current&&!u?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new Es(this.query,e.tu,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new o_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ot(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const i=[];return e.forEach(a=>{this.Xa.has(a)||i.push(new Gv(a))}),this.Xa.forEach(a=>{e.has(a)||i.push(new Hv(a))}),i}cu(e){this.Ya=e.Qs,this.Xa=Ot();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Es.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zd="SyncEngine";class ab{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class sb{constructor(e){this.key=e,this.hu=!1}}class lb{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ma(p=>ov(p),hc),this.Iu=new Map,this.Eu=new Set,this.du=new ae(ht.comparator),this.Au=new Map,this.Ru=new Rd,this.Vu={},this.mu=new Map,this.fu=vs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ub(s,e,i=!0){const a=Zv(s);let u;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await Qv(a,e,i,!0),u}async function ob(s,e){const i=Zv(s);await Qv(i,e,!0,!1)}async function Qv(s,e,i,a){const u=await wS(s.localStore,ei(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await cb(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&Lv(s.remoteStore,u),p}async function cb(s,e,i,a,u){s.pu=(V,I,G)=>async function(nt,$,At,pt){let ct=$.view.ru(At);ct.Cs&&(ct=await i_(nt.localStore,$.query,!1).then(({documents:O})=>$.view.ru(O,ct)));const xt=pt&&pt.targetChanges.get($.targetId),vt=pt&&pt.targetMismatches.get($.targetId)!=null,bt=$.view.applyChanges(ct,nt.isPrimaryClient,xt,vt);return d_(nt,$.targetId,bt.au),bt.snapshot}(s,V,I,G);const h=await i_(s.localStore,e,!0),d=new rb(e,h.Qs),p=d.ru(h.documents),_=ru.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(p,s.isPrimaryClient,_);d_(s,i,v.au);const A=new ab(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function hb(s,e,i){const a=St(s),u=a.Tu.get(e),h=a.Iu.get(u.targetId);if(h.length>1)return a.Iu.set(u.targetId,h.filter(d=>!hc(d,e))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await ed(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&Vd(a.remoteStore,u.targetId),rd(a,u.targetId)}).catch(bs)):(rd(a,u.targetId),await ed(a.localStore,u.targetId,!0))}async function fb(s,e){const i=St(s),a=i.Tu.get(e),u=i.Iu.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Vd(i.remoteStore,a.targetId))}async function db(s,e,i){const a=Eb(s);try{const u=await function(d,p){const _=St(d),v=ee.now(),A=p.reduce((G,Z)=>G.add(Z.key),Ot());let V,I;return _.persistence.runTransaction("Locally write mutations","readwrite",G=>{let Z=Ui(),nt=Ot();return _.Ns.getEntries(G,A).next($=>{Z=$,Z.forEach((At,pt)=>{pt.isValidDocument()||(nt=nt.add(At))})}).next(()=>_.localDocuments.getOverlayedDocuments(G,Z)).next($=>{V=$;const At=[];for(const pt of p){const ct=RA(pt,V.get(pt.key).overlayedDocument);ct!=null&&At.push(new br(pt.key,ct,ev(ct.value.mapValue),Un.exists(!0)))}return _.mutationQueue.addMutationBatch(G,v,At,p)}).next($=>{I=$;const At=$.applyToLocalDocumentSet(V,nt);return _.documentOverlayCache.saveOverlays(G,$.batchId,At)})}).then(()=>({batchId:I.batchId,changes:fv(V)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,p,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new ae(Nt)),v=v.insert(p,_),d.Vu[d.currentUser.toKey()]=v}(a,u.batchId,i),await su(a,u.changes),await _c(a.remoteStore)}catch(u){const h=xd(u,"Failed to persist write");i.reject(h)}}async function Fv(s,e){const i=St(s);try{const a=await SS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Au.get(h);d&&(Ht(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?Ht(d.hu,14607):u.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))}),await su(i,a,e)}catch(a){await bs(a)}}function f_(s,e,i){const a=St(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.Tu.forEach((h,d)=>{const p=d.view.va(e);p.snapshot&&u.push(p.snapshot)}),function(d,p){const _=St(d);_.onlineState=p;let v=!1;_.queries.forEach((A,V)=>{for(const I of V.Sa)I.va(p)&&(v=!0)}),v&&Ud(_)}(a.eventManager,e),u.length&&a.Pu.H_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function mb(s,e,i){const a=St(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Au.get(e),h=u&&u.key;if(h){let d=new ae(ht.comparator);d=d.insert(h,Ye.newNoDocument(h,Tt.min()));const p=Ot().add(h),_=new gc(Tt.min(),new Map,new ae(Nt),d,p);await Fv(a,_),a.du=a.du.remove(h),a.Au.delete(e),Ld(a)}else await ed(a.localStore,e,!1).then(()=>rd(a,e,i)).catch(bs)}async function gb(s,e){const i=St(s),a=e.batch.batchId;try{const u=await AS(i.localStore,e);Xv(i,a,null),Yv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await su(i,u)}catch(u){await bs(u)}}async function pb(s,e,i){const a=St(s);try{const u=await function(d,p){const _=St(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,p).next(V=>(Ht(V!==null,37113),A=V.keys(),_.mutationQueue.removeMutationBatch(v,V))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,p)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(a.localStore,e);Xv(a,e,i),Yv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await su(a,u)}catch(u){await bs(u)}}function Yv(s,e){(s.mu.get(e)||[]).forEach(i=>{i.resolve()}),s.mu.delete(e)}function Xv(s,e,i){const a=St(s);let u=a.Vu[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Vu[a.currentUser.toKey()]=u}}function rd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach(a=>{s.Ru.containsKey(a)||Kv(s,a)})}function Kv(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Vd(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Ld(s))}function d_(s,e,i){for(const a of i)a instanceof Hv?(s.Ru.addReference(a.key,e),yb(s,a)):a instanceof Gv?(rt(zd,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||Kv(s,a.key)):yt(19791,{wu:a})}function yb(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(rt(zd,"New document in limbo: "+i),s.Eu.add(a),Ld(s))}function Ld(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ht(te.fromString(e)),a=s.fu.next();s.Au.set(a,new sb(i)),s.du=s.du.insert(i,a),Lv(s.remoteStore,new hr(ei(vd(i.path)),a,"TargetPurposeLimboResolution",uc.ce))}}async function su(s,e,i){const a=St(s),u=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach((p,_)=>{d.push(a.pu(_,e,i).then(v=>{if((v||i)&&a.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(v){u.push(v);const A=Cd.As(_.targetId,v);h.push(A)}}))}),await Promise.all(d),a.Pu.H_(u),await async function(_,v){const A=St(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>X.forEach(v,I=>X.forEach(I.Es,G=>A.persistence.referenceDelegate.addReference(V,I.targetId,G)).next(()=>X.forEach(I.ds,G=>A.persistence.referenceDelegate.removeReference(V,I.targetId,G)))))}catch(V){if(!Rs(V))throw V;rt(Dd,"Failed to update sequence numbers: "+V)}for(const V of v){const I=V.targetId;if(!V.fromCache){const G=A.Ms.get(I),Z=G.snapshotVersion,nt=G.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(I,nt)}}}(a.localStore,h))}async function _b(s,e){const i=St(s);if(!i.currentUser.isEqual(e)){rt(zd,"User change. New user:",e.toKey());const a=await Mv(i.localStore,e);i.currentUser=e,function(h,d){h.mu.forEach(p=>{p.forEach(_=>{_.reject(new at(Y.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await su(i,a.Ls)}}function vb(s,e){const i=St(s),a=i.Au.get(e);if(a&&a.hu)return Ot().add(a.key);{let u=Ot();const h=i.Iu.get(e);if(!h)return u;for(const d of h){const p=i.Tu.get(d);u=u.unionWith(p.view.nu)}return u}}function Zv(s){const e=St(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mb.bind(null,e),e.Pu.H_=eb.bind(null,e.eventManager),e.Pu.yu=nb.bind(null,e.eventManager),e}function Eb(s){const e=St(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pb.bind(null,e),e}class ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return TS(this.persistence,new _S,e.initialUser,this.serializer)}Cu(e){return new Ov(wd.mi,this.serializer)}Du(e){return new DS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ac.provider={build:()=>new ac};class Tb extends ac{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ht(this.persistence.referenceDelegate instanceof ic,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new iS(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new Ov(a=>ic.mi(a,i),this.serializer)}}class ad{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>f_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=_b.bind(null,this.syncEngine),await ZS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JS}()}createDatastore(e){const i=pc(e.databaseInfo.databaseId),a=function(h){return new MS(h)}(e.databaseInfo);return function(h,d,p,_){return new LS(h,d,p,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,p){return new BS(a,u,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>f_(this.syncEngine,i,0),function(){return s_.v()?new s_:new VS}())}createSyncEngine(e,i){return function(u,h,d,p,_,v,A){const V=new lb(u,h,d,p,_,v);return A&&(V.gu=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const a=St(i);rt(da,"RemoteStore shutting down."),a.Ea.add(5),await au(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ad.provider={build:()=>new ad};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="FirestoreClient";class Sb{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Fe.UNAUTHENTICATED,this.clientId=dd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{rt(Ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(rt(Ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=xd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Lf(s,e){s.asyncQueue.verifyOperationInProgress(),rt(Ar,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await Mv(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function m_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await bb(s);rt(Ar,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>u_(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>u_(e.remoteStore,u)),s._onlineComponents=e}async function bb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(Ar,"Using user provided OfflineComponentProvider");try{await Lf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===Y.FAILED_PRECONDITION||u.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;gs("Error using user provided cache. Falling back to memory cache: "+i),await Lf(s,new ac)}}else rt(Ar,"Using default OfflineComponentProvider"),await Lf(s,new Tb(void 0));return s._offlineComponents}async function $v(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(Ar,"Using user provided OnlineComponentProvider"),await m_(s,s._uninitializedComponentsProvider._online)):(rt(Ar,"Using default OnlineComponentProvider"),await m_(s,new ad))),s._onlineComponents}function Rb(s){return $v(s).then(e=>e.syncEngine)}async function g_(s){const e=await $v(s),i=e.eventManager;return i.onListen=ub.bind(null,e.syncEngine),i.onUnlisten=hb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ob.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=fb.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="firestore.googleapis.com",y_=!0;class __{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Wv,this.ssl=y_}else this.host=e.host,this.ssl=e.ssl??y_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Nv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eS)throw new at(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jv(e.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new __({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new __(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new VT;switch(a.type){case"firstParty":return new MT(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=p_.get(i);a&&(rt("ComponentProvider","Removing Datastore"),p_.delete(i),a.terminate())}(this),Promise.resolve()}}function wb(s,e,i,a={}){s=gr(s,vc);const u=cd(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;u&&(n1(`https://${p}`),s1("Firestore",!0)),h.host!==Wv&&h.host!==p&&gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:p,ssl:u,emulatorOptions:a};if(!Fo(_,d)&&(s._setSettings(_),a.mockUserToken)){let v,A;if(typeof a.mockUserToken=="string")v=a.mockUserToken,A=Fe.MOCK_USER;else{v=i1(a.mockUserToken,s._app?.options.projectId);const V=a.mockUserToken.sub||a.mockUserToken.user_id;if(!V)throw new at(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Fe(V)}s._authCredentials=new IT(new H_(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Cs(this.firestore,e,this._query)}}class Ee{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ee(this.firestore,e,this._key)}toJSON(){return{type:Ee._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(eu(i,Ee._jsonSchema))return new Ee(e,a||null,new ht(te.fromString(i.referencePath)))}}Ee._jsonSchemaVersion="firestore/documentReference/1.0",Ee._jsonSchema={type:ve("string",Ee._jsonSchemaVersion),referencePath:ve("string")};class pr extends Cs{constructor(e,i,a){super(e,i,vd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ee(this.firestore,null,new ht(e))}withConverter(e){return new pr(this.firestore,e,this._path)}}function v_(s,e,...i){if(s=ai(s),G_("collection","path",e),s instanceof vc){const a=te.fromString(e,...i);return Iy(a),new pr(s,null,a)}{if(!(s instanceof Ee||s instanceof pr))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(te.fromString(e,...i));return Iy(a),new pr(s.firestore,null,a)}}function sd(s,e,...i){if(s=ai(s),arguments.length===1&&(e=dd.newId()),G_("doc","path",e),s instanceof vc){const a=te.fromString(e,...i);return Vy(a),new Ee(s,null,new ht(a))}{if(!(s instanceof Ee||s instanceof pr))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(te.fromString(e,...i));return Vy(a),new Ee(s.firestore,s instanceof pr?s.converter:null,new ht(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="AsyncQueue";class T_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Uv(this,"async_queue_retry"),this._c=()=>{const a=zf();a&&rt(E_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=zf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=zf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new ca;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Rs(e))throw e;rt(E_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(a=>{throw this.nc=a,this.rc=!1,xi("INTERNAL UNHANDLED ERROR: ",A_(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=Md.createAndSchedule(this,e,i,a,h=>this.hc(h));return this.tc.push(u),u}uc(){this.nc&&yt(47125,{Pc:A_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function A_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of a)if(h in u&&typeof u[h]=="function")return!0;return!1}(s,["next","error","complete"])}class Ts extends vc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new T_,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T_(e),this._firestoreClient=void 0,await e}}}function Cb(s,e){const i=typeof s=="object"?s:pT(),a=typeof s=="string"?s:Zo,u=hT(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=t1("firestore");h&&wb(u,...h)}return u}function t0(s){if(s._terminated)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Db(s),s._firestoreClient}function Db(s){const e=s._freezeSettings(),i=function(u,h,d,p){return new ZT(u,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Jv(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Sb(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(qe.fromBase64String(e))}catch(i){throw new at(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Dn(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:ve("string",Dn._jsonSchemaVersion),bytes:ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(eu(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:ve("string",ii._jsonSchemaVersion),latitude:ve("number"),longitude:ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new ri(e.vectorValues);throw new at(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:ve("string",ri._jsonSchemaVersion),vectorValues:ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=/^__.*__$/;class Ib{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,i,this.fieldTransforms):new iu(e,this.data,i,this.fieldTransforms)}}class e0{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new br(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function n0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class Bd{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Bd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(n0(this.Ac)&&Vb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Nb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||pc(e)}Cc(e,i,a,u=!1){return new Bd({Ac:e,methodName:i,Dc:a,path:ke.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kd(s){const e=s._freezeSettings(),i=pc(s._databaseId);return new Nb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Ob(s,e,i,a,u,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,u);qd("Data must be an object, but it was:",d,a);const p=i0(a,d);let _,v;if(h.merge)_=new mn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const V of h.mergeFields){const I=ld(e,V,i);if(!d.contains(I))throw new at(Y.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);a0(A,I)||A.push(I)}_=new mn(A),v=d.fieldTransforms.filter(V=>_.covers(V.field))}else _=null,v=d.fieldTransforms;return new Ib(new rn(p),_,v)}class Tc extends Pd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tc}}function Mb(s,e,i,a){const u=s.Cc(1,e,i);qd("Data must be an object, but it was:",u,a);const h=[],d=rn.empty();Sr(a,(_,v)=>{const A=jd(e,_,i);v=ai(v);const V=u.yc(A);if(v instanceof Tc)h.push(A);else{const I=lu(v,V);I!=null&&(h.push(A),d.set(A,I))}});const p=new mn(h);return new e0(d,p,u.fieldTransforms)}function xb(s,e,i,a,u,h){const d=s.Cc(1,e,i),p=[ld(e,a,i)],_=[u];if(h.length%2!=0)throw new at(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<h.length;I+=2)p.push(ld(e,h[I])),_.push(h[I+1]);const v=[],A=rn.empty();for(let I=p.length-1;I>=0;--I)if(!a0(v,p[I])){const G=p[I];let Z=_[I];Z=ai(Z);const nt=d.yc(G);if(Z instanceof Tc)v.push(G);else{const $=lu(Z,nt);$!=null&&(v.push(G),A.set(G,$))}}const V=new mn(v);return new e0(A,V,d.fieldTransforms)}function Ub(s,e,i,a=!1){return lu(i,s.Cc(a?4:3,e))}function lu(s,e){if(r0(s=ai(s)))return qd("Unsupported field value:",e,s),i0(s,e);if(s instanceof Pd)return function(a,u){if(!n0(u.Ac))throw u.Sc(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const p of a){let _=lu(p,u.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=ai(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return vA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ee.fromDate(a);return{timestampValue:nc(u.serializer,h)}}if(a instanceof ee){const h=new ee(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:nc(u.serializer,h)}}if(a instanceof ii)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Dn)return{bytesValue:bv(u.serializer,a._byteString)};if(a instanceof Ee){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:bd(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof ri)return function(d,p){return{mapValue:{fields:{[W_]:{stringValue:tv},[$o]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Ed(p.serializer,v)})}}}}}}(a,u);throw u.Sc(`Unsupported field value: ${lc(a)}`)}(s,e)}function i0(s,e){const i={};return Y_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sr(s,(a,u)=>{const h=lu(u,e.mc(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function r0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ee||s instanceof ii||s instanceof Dn||s instanceof Ee||s instanceof Pd||s instanceof ri)}function qd(s,e,i){if(!r0(i)||!Q_(i)){const a=lc(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function ld(s,e,i){if((e=ai(e))instanceof Ec)return e._internalPath;if(typeof e=="string")return jd(s,e);throw sc("Field path arguments must be of type string or ",s,!1,void 0,i)}const zb=new RegExp("[~\\*/\\[\\]]");function jd(s,e,i){if(e.search(zb)>=0)throw sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ec(...e.split("."))._internalPath}catch{throw sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function sc(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new at(Y.INVALID_ARGUMENT,p+s+_)}function a0(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ee(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Lb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(l0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Lb extends s0{data(){return super.data()}}function l0(s,e){return typeof e=="string"?jd(s,e):e instanceof Ec?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hd{}class Bb extends Hd{}function kb(s,e,...i){let a=[];e instanceof Hd&&a.push(e),a=a.concat(i),function(h){const d=h.filter(_=>_ instanceof Qd).length,p=h.filter(_=>_ instanceof Gd).length;if(d>1||d>0&&p>0)throw new at(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const u of a)s=u._apply(s);return s}class Gd extends Bb{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Gd(e,i,a)}_apply(e){const i=this._parse(e);return u0(e._query,i),new Cs(e.firestore,e.converter,Kf(e._query,i))}_parse(e){const i=kd(e.firestore);return function(h,d,p,_,v,A,V){let I;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){R_(V,A);const Z=[];for(const nt of V)Z.push(b_(_,h,nt));I={arrayValue:{values:Z}}}else I=b_(_,h,V)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||R_(V,A),I=Ub(p,d,V,A==="in"||A==="not-in");return _e.create(v,A,I)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Qd extends Hd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Qd(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:zn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(u,h){let d=u;const p=h.getFlattenedFilters();for(const _ of p)u0(d,_),d=Kf(d,_)}(e._query,i),new Cs(e.firestore,e.converter,Kf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function b_(s,e,i){if(typeof(i=ai(i))=="string"){if(i==="")throw new at(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uv(e)&&i.indexOf("/")!==-1)throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(te.fromString(i));if(!ht.isDocumentKey(a))throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Py(s,new ht(a))}if(i instanceof Ee)return Py(s,i._key);throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lc(i)}.`)}function R_(s,e){if(!Array.isArray(s)||s.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function u0(s,e){const i=function(u,h){for(const d of u)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null}(s.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class qb{convertValue(e,i="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Sr(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){const i=e.fields?.[$o].arrayValue?.values?.map(a=>fe(a.doubleValue));return new ri(i)}convertGeoPoint(e){return new ii(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=cc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=_r(e);return new ee(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=te.fromString(e);Ht(Iv(a),9688,{name:e});const u=new $l(a.get(1),a.get(3)),h=new ht(a.popFirst(5));return u.isEqual(i)||xi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends s0{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Go(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(l0("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ha._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:ve("string",ha._jsonSchemaVersion),bundleSource:ve("string","DocumentSnapshot"),bundleName:ve("string"),bundle:ve("string")};class Go extends ha{data(e={}){return super.data(e)}}class ms{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new ql(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Go(this._firestore,this._userDataWriter,a.key,a,new ql(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(p=>{const _=new Go(u._firestore,u._userDataWriter,p.doc.key,p.doc,new ql(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const _=new Go(u._firestore,u._userDataWriter,p.doc.key,p.doc,new ql(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:Hb(p.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ms._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],u=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Hb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}ms._jsonSchemaVersion="firestore/querySnapshot/1.0",ms._jsonSchema={type:ve("string",ms._jsonSchemaVersion),bundleSource:ve("string","QuerySnapshot"),bundleName:ve("string"),bundle:ve("string")};class o0 extends qb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ee(this.firestore,null,i)}}function Gb(s,e,i,...a){s=gr(s,Ee);const u=gr(s.firestore,Ts),h=kd(u);let d;return d=typeof(e=ai(e))=="string"||e instanceof Ec?xb(h,"updateDoc",s._key,e,i,a):Mb(h,"updateDoc",s._key,e),Fd(u,[d.toMutation(s._key,Un.exists(!0))])}function Qb(s){return Fd(gr(s.firestore,Ts),[new Td(s._key,Un.none())])}function Fb(s,e){const i=gr(s.firestore,Ts),a=sd(s),u=jb(s.converter,e);return Fd(i,[Ob(kd(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,Un.exists(!1))]).then(()=>a)}function Yb(s,...e){s=ai(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||S_(e[a])||(i=e[a++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(S_(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let h,d,p;if(s instanceof Ee)d=gr(s.firestore,Ts),p=vd(s._key.path),h={next:_=>{e[a]&&e[a](Xb(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=gr(s,Cs);d=gr(_.firestore,Ts),p=_._query;const v=new o0(d);h={next:A=>{e[a]&&e[a](new ms(d,v,_,A))},error:e[a+1],complete:e[a+2]},Pb(s._query)}return function(v,A,V,I){const G=new Ab(I),Z=new ib(A,G,V);return v.asyncQueue.enqueueAndForget(async()=>WS(await g_(v),Z)),()=>{G.Nu(),v.asyncQueue.enqueueAndForget(async()=>tb(await g_(v),Z))}}(t0(d),p,u,h)}function Fd(s,e){return function(a,u){const h=new ca;return a.asyncQueue.enqueueAndForget(async()=>db(await Rb(a),u,h)),h.promise}(t0(s),e)}function Xb(s,e,i){const a=i.docs.get(e._key),u=new o0(s);return new ha(s,u,e._key,a,new ql(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){Ss=u})(gT),Xo(new Yl("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new Ts(new NT(a.getProvider("auth-internal")),new xT(d,a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new at(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(v.options.projectId,A)}(d,u),d);return h={useFetchStreams:i,...h},p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),fs(Ry,wy,e),fs(Ry,wy,"esm2020")})();const Kb={apiKey:"AIzaSyCj6edi2ZrsSv0mpbGh5gGDEIxmUSzFo6g",authDomain:"inventory-4614f.firebaseapp.com",projectId:"inventory-4614f",storageBucket:"inventory-4614f.firebasestorage.app",messagingSenderId:"252486694632",appId:"1:252486694632:web:2e3c7b5f66df1e76157b5d",measurementId:"G-0GBQJD9Q23"},Zb=M_(Kb),Po=Cb(Zb);function $b(){const[s,e]=en.useState([]),[i,a]=en.useState([]),[u,h]=en.useState("vienna"),[d,p]=en.useState(""),[_,v]=en.useState(""),[A,V]=en.useState("refill"),[I,G]=en.useState(null),[Z,nt]=en.useState(""),[$,At]=en.useState(""),[pt,ct]=en.useState("refill"),[xt,vt]=en.useState("vienna"),[bt,O]=en.useState("add"),S=10,b=typeof window<"u"&&window.innerWidth<900;en.useEffect(()=>{const ut=kb(v_(Po,"inventory"));return Yb(ut,q=>{const J=q.docs.map(st=>({...st.data(),id:st.id}));e(J.filter(st=>st.site==="vienna")),a(J.filter(st=>st.site==="innsbruck"))})},[]);const N=async()=>{if(!d||!_||isNaN(_))return;const ut={name:d,amount:Number(_),type:A,site:u};await Fb(v_(Po,"inventory"),ut),p(""),v(""),V("refill")},M=async(ut,mt)=>{const J=(mt==="vienna"?s:i).find((st,Mt)=>Mt===ut);J&&J.id&&await Qb(sd(Po,"inventory",J.id))},U=(ut,mt)=>{G(ut),vt(mt);const J=(mt==="vienna"?s:i).find((st,Mt)=>Mt===ut);nt(J.name),At(J.amount),ct(J.type)},w=async()=>{if(!Z||!$||isNaN($))return;const mt=(xt==="vienna"?s:i).find((q,J)=>J===I);mt&&mt.id&&await Gb(sd(Po,"inventory",mt.id),{name:Z,amount:Number($),type:pt,site:xt}),G(null),nt(""),At(""),ct("refill"),vt("vienna")};return it.jsxs("div",{className:"inventory-app",style:{display:b?"block":"flex",minHeight:"100vh",fontFamily:"Segoe UI, Arial, sans-serif",fontSize:"1.3rem",background:"linear-gradient(90deg, #f8fafc 0%, #e0e7ef 100%)",boxSizing:"border-box",width:"100vw",maxWidth:"100vw",overflowY:"auto",margin:0,padding:0},children:[b&&it.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",background:"#fff",boxShadow:"0 2px 8px #e0e7ef",padding:"1rem 0",position:"sticky",top:0,zIndex:10},children:[it.jsx("button",{onClick:()=>O("add"),style:{fontWeight:bt==="add"?"bold":"normal",background:bt==="add"?"#2563eb":"#f1f5f9",color:bt==="add"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.7rem 1.2rem",fontSize:"1.1rem",cursor:"pointer"},children:"Add Item"}),it.jsx("button",{onClick:()=>O("vienna"),style:{fontWeight:bt==="vienna"?"bold":"normal",background:bt==="vienna"?"#2563eb":"#f1f5f9",color:bt==="vienna"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.7rem 1.2rem",fontSize:"1.1rem",cursor:"pointer"},children:"Vienna"}),it.jsx("button",{onClick:()=>O("innsbruck"),style:{fontWeight:bt==="innsbruck"?"bold":"normal",background:bt==="innsbruck"?"#2563eb":"#f1f5f9",color:bt==="innsbruck"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.7rem 1.2rem",fontSize:"1.1rem",cursor:"pointer"},children:"Innsbruck"})]}),(!b||bt==="add")&&it.jsxs("div",{style:{flex:1,minWidth:"0",width:"100vw",padding:"3rem 2rem",background:"#fff",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:"2px 0 10px #e0e7ef",borderRadius:b?"0":"0 2rem 2rem 0",height:b?"auto":"100vh",overflowY:"auto",boxSizing:"border-box"},children:[it.jsx("h2",{style:{fontSize:"2rem",marginBottom:"2rem",color:"#2d3748"},children:"Add Item"}),it.jsxs("div",{className:"add-item",style:{display:"flex",flexDirection:"column",gap:"1.5rem",width:"100%",maxWidth:"400px",minWidth:"0",background:"#f1f5f9",padding:"2rem",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",margin:"2rem auto",boxSizing:"border-box",alignItems:"stretch",justifyContent:"center"},children:[it.jsxs("select",{value:u,onChange:ut=>h(ut.target.value),style:{fontSize:"1.2rem",padding:"0.7rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"},children:[it.jsx("option",{value:"vienna",children:"Vienna"}),it.jsx("option",{value:"innsbruck",children:"Innsbruck"})]}),it.jsx("input",{type:"text",placeholder:"Item name",value:d,onChange:ut=>p(ut.target.value),style:{fontSize:"1.2rem",padding:"0.7rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"}}),it.jsx("input",{type:"number",placeholder:"Amount",value:_,onChange:ut=>v(ut.target.value),style:{fontSize:"1.2rem",padding:"0.7rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"}}),it.jsxs("select",{value:A,onChange:ut=>V(ut.target.value),style:{fontSize:"1.2rem",padding:"0.7rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%"},children:[it.jsx("option",{value:"refill",children:"Supplies"}),it.jsx("option",{value:"stable",children:"Equipment"})]}),it.jsx("button",{onClick:N,style:{fontSize:"1.2rem",padding:"0.7rem",borderRadius:"0.5rem",background:"#2563eb",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",marginTop:"1rem"},children:"Add Item"})]})]}),(!b||bt==="vienna")&&it.jsxs("div",{style:{flex:1,background:"#fff",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"2rem",minWidth:b?"0":"400px",height:b?"auto":"100%",overflowY:"auto",marginTop:b?"2rem":"0",maxHeight:b?"none":"calc(100vh - 4rem)"},children:[it.jsx("h2",{style:{fontSize:"1.7rem",marginBottom:"1.5rem",color:"#2563eb"},children:"Vienna"}),it.jsxs("ul",{className:"item-list",style:{listStyle:"none",padding:0},children:[s.length===0&&it.jsx("p",{style:{color:"#64748b"},children:"No items yet."}),[...s].map((ut,mt)=>({item:ut,originalIdx:mt})).sort((ut,mt)=>(ut.item.type==="refill"?-1:1)-(mt.item.type==="refill"?-1:1)).map(({item:ut,originalIdx:mt})=>it.jsx("li",{style:{margin:"0 auto 2rem auto",background:"#f1f5f9",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1.2rem",maxWidth:"600px",width:"100%",minWidth:"0",overflowX:"hidden",boxSizing:"border-box",display:"flex",flexDirection:"column",gap:"0.7rem"},children:I===mt&&xt==="vienna"?it.jsxs(it.Fragment,{children:[it.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[it.jsx("input",{type:"text",value:Z,onChange:q=>nt(q.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",minWidth:"80px",flex:1}}),it.jsx("input",{type:"number",value:$,onChange:q=>At(q.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",minWidth:"60px",flex:1}}),it.jsxs("select",{value:pt,onChange:q=>ct(q.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",minWidth:"80px",flex:1},children:[it.jsx("option",{value:"refill",children:"Supplies"}),it.jsx("option",{value:"stable",children:"Equipment"})]})]}),it.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",justifyContent:"flex-end"},children:[it.jsx("button",{onClick:w,style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#22c55e",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",minWidth:"80px"},children:"Save"}),it.jsx("button",{onClick:()=>G(null),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",minWidth:"80px"},children:"Cancel"})]})]}):it.jsxs(it.Fragment,{children:[it.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[it.jsx("span",{style:{fontWeight:"bold",fontSize:"1.3rem",color:"#334155",minWidth:"80px",flex:1},children:ut.name}),it.jsxs("span",{style:{fontSize:"1.2rem",color:"#64748b",minWidth:"60px",flex:1},children:["Amount: ",ut.amount]}),it.jsx("span",{style:{fontSize:"1.1rem",color:ut.type==="refill"&&ut.amount<S?"#ef4444":"#22c55e",fontWeight:"bold",minWidth:"80px",flex:1},children:ut.type==="refill"?"Supplies":"Equipment"}),ut.type==="refill"&&ut.amount<S&&it.jsx("span",{className:"alert",style:{color:"#ef4444",marginLeft:"0.5rem",fontWeight:"bold",fontSize:"1.2rem",minWidth:"80px",flex:1},children:" Low stock!"})]}),it.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",justifyContent:"flex-end"},children:[it.jsx("button",{onClick:()=>U(mt,"vienna"),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#2563eb",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",minWidth:"80px"},children:"Edit"}),it.jsx("button",{onClick:()=>M(mt,"vienna"),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",minWidth:"80px"},children:"Delete"})]})]})},mt))]})]}),(!b||bt==="innsbruck")&&it.jsxs("div",{style:{flex:1,background:"#fff",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"2rem",minWidth:b?"0":"400px",height:b?"auto":"100%",overflowY:"auto",marginTop:b?"2rem":"0",maxHeight:b?"none":"calc(100vh - 4rem)"},children:[it.jsx("h2",{style:{fontSize:"1.7rem",marginBottom:"1.5rem",color:"#2563eb"},children:"Innsbruck"}),it.jsxs("ul",{className:"item-list",style:{listStyle:"none",padding:0},children:[i.length===0&&it.jsx("p",{style:{color:"#64748b"},children:"No items yet."}),[...i].map((ut,mt)=>({item:ut,originalIdx:mt})).sort((ut,mt)=>(ut.item.type==="refill"?-1:1)-(mt.item.type==="refill"?-1:1)).map(({item:ut,originalIdx:mt})=>it.jsx("li",{style:{margin:"0 auto 2rem auto",background:"#f1f5f9",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1.2rem",maxWidth:"600px",width:"100%",minWidth:"0",overflowX:"hidden",boxSizing:"border-box",display:"flex",flexDirection:"column",gap:"0.7rem"},children:I===mt&&xt==="innsbruck"?it.jsxs(it.Fragment,{children:[it.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[it.jsx("input",{type:"text",value:Z,onChange:q=>nt(q.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",minWidth:"80px",flex:1}}),it.jsx("input",{type:"number",value:$,onChange:q=>At(q.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",minWidth:"60px",flex:1}}),it.jsxs("select",{value:pt,onChange:q=>ct(q.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",minWidth:"80px",flex:1},children:[it.jsx("option",{value:"refill",children:"Supplies"}),it.jsx("option",{value:"stable",children:"Equipment"})]})]}),it.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",justifyContent:"flex-end"},children:[it.jsx("button",{onClick:w,style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#22c55e",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",minWidth:"80px"},children:"Save"}),it.jsx("button",{onClick:()=>G(null),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",minWidth:"80px"},children:"Cancel"})]})]}):it.jsxs(it.Fragment,{children:[it.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[it.jsx("span",{style:{fontWeight:"bold",fontSize:"1.3rem",color:"#334155",minWidth:"80px",flex:1},children:ut.name}),it.jsxs("span",{style:{fontSize:"1.2rem",color:"#64748b",minWidth:"60px",flex:1},children:["Amount: ",ut.amount]}),it.jsx("span",{style:{fontSize:"1.1rem",color:ut.type==="refill"&&ut.amount<S?"#ef4444":"#22c55e",fontWeight:"bold",minWidth:"80px",flex:1},children:ut.type==="refill"?"Supplies":"Equipment"}),ut.type==="refill"&&ut.amount<S&&it.jsx("span",{className:"alert",style:{color:"#ef4444",marginLeft:"0.5rem",fontWeight:"bold",fontSize:"1.2rem",minWidth:"80px",flex:1},children:" Low stock!"})]}),it.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",justifyContent:"flex-end"},children:[it.jsx("button",{onClick:()=>U(mt,"innsbruck"),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#2563eb",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",minWidth:"80px"},children:"Edit"}),it.jsx("button",{onClick:()=>M(mt,"innsbruck"),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",minWidth:"80px"},children:"Delete"})]})]})},mt))]})]})]})}HE.createRoot(document.getElementById("root")).render(it.jsx(en.StrictMode,{children:it.jsx($b,{})}));
