(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function UE(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Sf={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function zE(){if(ry)return zl;ry=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:h}}return zl.Fragment=e,zl.jsx=i,zl.jsxs=i,zl}var ay;function LE(){return ay||(ay=1,Sf.exports=zE()),Sf.exports}var W=LE(),bf={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function PE(){if(sy)return St;sy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.iterator;function I(C){return C===null||typeof C!="object"?null:(C=N&&C[N]||C["@@iterator"],typeof C=="function"?C:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,rt={};function tt(C,Y,it){this.props=C,this.context=Y,this.refs=rt,this.updater=it||Q}tt.prototype.isReactComponent={},tt.prototype.setState=function(C,Y){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Y,"setState")},tt.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Tt(){}Tt.prototype=tt.prototype;function dt(C,Y,it){this.props=C,this.context=Y,this.refs=rt,this.updater=it||Q}var ut=dt.prototype=new Tt;ut.constructor=dt,$(ut,tt.prototype),ut.isPureReactComponent=!0;var Rt=Array.isArray,pt={H:null,A:null,T:null,S:null,V:null},bt=Object.prototype.hasOwnProperty;function x(C,Y,it,et,ht,Ct){return it=Ct.ref,{$$typeof:s,type:C,key:Y,ref:it!==void 0?it:null,props:Ct}}function S(C,Y){return x(C.type,Y,void 0,void 0,void 0,C.props)}function R(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function V(C){var Y={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(it){return Y[it]})}var O=/\/+/g;function M(C,Y){return typeof C=="object"&&C!==null&&C.key!=null?V(""+C.key):Y.toString(36)}function w(){}function fe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(Y){C.status==="pending"&&(C.status="fulfilled",C.value=Y)},function(Y){C.status==="pending"&&(C.status="rejected",C.reason=Y)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Wt(C,Y,it,et,ht){var Ct=typeof C;(Ct==="undefined"||Ct==="boolean")&&(C=null);var vt=!1;if(C===null)vt=!0;else switch(Ct){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(C.$$typeof){case s:case e:vt=!0;break;case A:return vt=C._init,Wt(vt(C._payload),Y,it,et,ht)}}if(vt)return ht=ht(C),vt=et===""?"."+M(C,0):et,Rt(ht)?(it="",vt!=null&&(it=vt.replace(O,"$&/")+"/"),Wt(ht,Y,it,"",function(Ln){return Ln})):ht!=null&&(R(ht)&&(ht=S(ht,it+(ht.key==null||C&&C.key===ht.key?"":(""+ht.key).replace(O,"$&/")+"/")+vt)),Y.push(ht)),1;vt=0;var Ce=et===""?".":et+":";if(Rt(C))for(var Zt=0;Zt<C.length;Zt++)et=C[Zt],Ct=Ce+M(et,Zt),vt+=Wt(et,Y,it,Ct,ht);else if(Zt=I(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(et=C.next()).done;)et=et.value,Ct=Ce+M(et,Zt++),vt+=Wt(et,Y,it,Ct,ht);else if(Ct==="object"){if(typeof C.then=="function")return Wt(fe(C),Y,it,et,ht);throw Y=String(C),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return vt}function H(C,Y,it){if(C==null)return C;var et=[],ht=0;return Wt(C,et,"","",function(Ct){return Y.call(it,Ct,ht++)}),et}function B(C){if(C._status===-1){var Y=C._result;Y=Y(),Y.then(function(it){(C._status===0||C._status===-1)&&(C._status=1,C._result=it)},function(it){(C._status===0||C._status===-1)&&(C._status=2,C._result=it)}),C._status===-1&&(C._status=0,C._result=Y)}if(C._status===1)return C._result.default;throw C._result}var J=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function yt(){}return St.Children={map:H,forEach:function(C,Y,it){H(C,function(){Y.apply(this,arguments)},it)},count:function(C){var Y=0;return H(C,function(){Y++}),Y},toArray:function(C){return H(C,function(Y){return Y})||[]},only:function(C){if(!R(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},St.Component=tt,St.Fragment=i,St.Profiler=o,St.PureComponent=dt,St.StrictMode=a,St.Suspense=_,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,St.__COMPILER_RUNTIME={__proto__:null,c:function(C){return pt.H.useMemoCache(C)}},St.cache=function(C){return function(){return C.apply(null,arguments)}},St.cloneElement=function(C,Y,it){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var et=$({},C.props),ht=C.key,Ct=void 0;if(Y!=null)for(vt in Y.ref!==void 0&&(Ct=void 0),Y.key!==void 0&&(ht=""+Y.key),Y)!bt.call(Y,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&Y.ref===void 0||(et[vt]=Y[vt]);var vt=arguments.length-2;if(vt===1)et.children=it;else if(1<vt){for(var Ce=Array(vt),Zt=0;Zt<vt;Zt++)Ce[Zt]=arguments[Zt+2];et.children=Ce}return x(C.type,ht,void 0,void 0,Ct,et)},St.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},St.createElement=function(C,Y,it){var et,ht={},Ct=null;if(Y!=null)for(et in Y.key!==void 0&&(Ct=""+Y.key),Y)bt.call(Y,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(ht[et]=Y[et]);var vt=arguments.length-2;if(vt===1)ht.children=it;else if(1<vt){for(var Ce=Array(vt),Zt=0;Zt<vt;Zt++)Ce[Zt]=arguments[Zt+2];ht.children=Ce}if(C&&C.defaultProps)for(et in vt=C.defaultProps,vt)ht[et]===void 0&&(ht[et]=vt[et]);return x(C,Ct,void 0,void 0,null,ht)},St.createRef=function(){return{current:null}},St.forwardRef=function(C){return{$$typeof:p,render:C}},St.isValidElement=R,St.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:B}},St.memo=function(C,Y){return{$$typeof:v,type:C,compare:Y===void 0?null:Y}},St.startTransition=function(C){var Y=pt.T,it={};pt.T=it;try{var et=C(),ht=pt.S;ht!==null&&ht(it,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(yt,J)}catch(Ct){J(Ct)}finally{pt.T=Y}},St.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},St.use=function(C){return pt.H.use(C)},St.useActionState=function(C,Y,it){return pt.H.useActionState(C,Y,it)},St.useCallback=function(C,Y){return pt.H.useCallback(C,Y)},St.useContext=function(C){return pt.H.useContext(C)},St.useDebugValue=function(){},St.useDeferredValue=function(C,Y){return pt.H.useDeferredValue(C,Y)},St.useEffect=function(C,Y,it){var et=pt.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(C,Y)},St.useId=function(){return pt.H.useId()},St.useImperativeHandle=function(C,Y,it){return pt.H.useImperativeHandle(C,Y,it)},St.useInsertionEffect=function(C,Y){return pt.H.useInsertionEffect(C,Y)},St.useLayoutEffect=function(C,Y){return pt.H.useLayoutEffect(C,Y)},St.useMemo=function(C,Y){return pt.H.useMemo(C,Y)},St.useOptimistic=function(C,Y){return pt.H.useOptimistic(C,Y)},St.useReducer=function(C,Y,it){return pt.H.useReducer(C,Y,it)},St.useRef=function(C){return pt.H.useRef(C)},St.useState=function(C){return pt.H.useState(C)},St.useSyncExternalStore=function(C,Y,it){return pt.H.useSyncExternalStore(C,Y,it)},St.useTransition=function(){return pt.H.useTransition()},St.version="19.1.1",St}var ly;function ud(){return ly||(ly=1,bf.exports=PE()),bf.exports}var Be=ud();const Rf=UE(Be);var wf={exports:{}},Ll={},Cf={exports:{}},Df={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function BE(){return oy||(oy=1,function(s){function e(H,B){var J=H.length;H.push(B);t:for(;0<J;){var yt=J-1>>>1,C=H[yt];if(0<o(C,B))H[yt]=B,H[J]=C,J=yt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var B=H[0],J=H.pop();if(J!==B){H[0]=J;t:for(var yt=0,C=H.length,Y=C>>>1;yt<Y;){var it=2*(yt+1)-1,et=H[it],ht=it+1,Ct=H[ht];if(0>o(et,J))ht<C&&0>o(Ct,et)?(H[yt]=Ct,H[ht]=J,yt=ht):(H[yt]=et,H[it]=J,yt=it);else if(ht<C&&0>o(Ct,J))H[yt]=Ct,H[ht]=J,yt=ht;else break t}}return B}function o(H,B){var J=H.sortIndex-B.sortIndex;return J!==0?J:H.id-B.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],v=[],A=1,N=null,I=3,Q=!1,$=!1,rt=!1,tt=!1,Tt=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function Rt(H){for(var B=i(v);B!==null;){if(B.callback===null)a(v);else if(B.startTime<=H)a(v),B.sortIndex=B.expirationTime,e(_,B);else break;B=i(v)}}function pt(H){if(rt=!1,Rt(H),!$)if(i(_)!==null)$=!0,bt||(bt=!0,M());else{var B=i(v);B!==null&&Wt(pt,B.startTime-H)}}var bt=!1,x=-1,S=5,R=-1;function V(){return tt?!0:!(s.unstable_now()-R<S)}function O(){if(tt=!1,bt){var H=s.unstable_now();R=H;var B=!0;try{t:{$=!1,rt&&(rt=!1,dt(x),x=-1),Q=!0;var J=I;try{e:{for(Rt(H),N=i(_);N!==null&&!(N.expirationTime>H&&V());){var yt=N.callback;if(typeof yt=="function"){N.callback=null,I=N.priorityLevel;var C=yt(N.expirationTime<=H);if(H=s.unstable_now(),typeof C=="function"){N.callback=C,Rt(H),B=!0;break e}N===i(_)&&a(_),Rt(H)}else a(_);N=i(_)}if(N!==null)B=!0;else{var Y=i(v);Y!==null&&Wt(pt,Y.startTime-H),B=!1}}break t}finally{N=null,I=J,Q=!1}B=void 0}}finally{B?M():bt=!1}}}var M;if(typeof ut=="function")M=function(){ut(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,fe=w.port2;w.port1.onmessage=O,M=function(){fe.postMessage(null)}}else M=function(){Tt(O,0)};function Wt(H,B){x=Tt(function(){H(s.unstable_now())},B)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(H){switch(I){case 1:case 2:case 3:var B=3;break;default:B=I}var J=I;I=B;try{return H()}finally{I=J}},s.unstable_requestPaint=function(){tt=!0},s.unstable_runWithPriority=function(H,B){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var J=I;I=H;try{return B()}finally{I=J}},s.unstable_scheduleCallback=function(H,B,J){var yt=s.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?yt+J:yt):J=yt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=J+C,H={id:A++,callback:B,priorityLevel:H,startTime:J,expirationTime:C,sortIndex:-1},J>yt?(H.sortIndex=J,e(v,H),i(_)===null&&H===i(v)&&(rt?(dt(x),x=-1):rt=!0,Wt(pt,J-yt))):(H.sortIndex=C,e(_,H),$||Q||($=!0,bt||(bt=!0,M()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var B=I;return function(){var J=I;I=B;try{return H.apply(this,arguments)}finally{I=J}}}}(Df)),Df}var uy;function kE(){return uy||(uy=1,Cf.exports=BE()),Cf.exports}var Vf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function jE(){if(cy)return Qe;cy=1;var s=ud();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,A){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qe.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},Qe.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},Qe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},Qe.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Qe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,N=p(A,v.crossOrigin),I=typeof v.integrity=="string"?v.integrity:void 0,Q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:N,integrity:I,fetchPriority:Q}):A==="script"&&a.d.X(_,{crossOrigin:N,integrity:I,fetchPriority:Q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Qe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},Qe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,N=p(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:N,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Qe.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=p(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},Qe.requestFormReset=function(_){a.d.r(_)},Qe.unstable_batchedUpdates=function(_,v){return _(v)},Qe.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var hy;function qE(){if(hy)return Vf.exports;hy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Vf.exports=jE(),Vf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function HE(){if(fy)return Ll;fy=1;var s=kE(),e=ud(),i=qE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return p(c),t;if(f===l)return p(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),rt=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),Rt=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function fe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case tt:return"Profiler";case rt:return"StrictMode";case pt:return"Suspense";case bt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case ut:return(t.displayName||"Context")+".Provider";case dt:return(t._context.displayName||"Context")+".Consumer";case Rt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:fe(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return fe(t(n))}catch{}}return null}var Wt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},yt=[],C=-1;function Y(t){return{current:t}}function it(t){0>C||(t.current=yt[C],yt[C]=null,C--)}function et(t,n){C++,yt[C]=t.current,t.current=n}var ht=Y(null),Ct=Y(null),vt=Y(null),Ce=Y(null);function Zt(t,n){switch(et(vt,n),et(Ct,t),et(ht,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?xp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=xp(n),t=Op(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(ht),et(ht,t)}function Ln(){it(ht),it(Ct),it(vt)}function zi(t){t.memoizedState!==null&&et(Ce,t);var n=ht.current,r=Op(n,t.type);n!==r&&(et(Ct,t),et(ht,r))}function li(t){Ct.current===t&&(it(ht),it(Ct)),Ce.current===t&&(it(Ce),Nl._currentValue=J)}var Rr=Object.prototype.hasOwnProperty,wr=s.unstable_scheduleCallback,Cr=s.unstable_cancelCallback,Ds=s.unstable_shouldYield,oo=s.unstable_requestPaint,gn=s.unstable_now,Ac=s.unstable_getCurrentPriorityLevel,Vs=s.unstable_ImmediatePriority,pa=s.unstable_UserBlockingPriority,Dr=s.unstable_NormalPriority,Sc=s.unstable_LowPriority,ya=s.unstable_IdlePriority,Is=s.log,uo=s.unstable_setDisableYieldValue,ae=null,qt=null;function an(t){if(typeof Is=="function"&&uo(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(ae,t)}catch{}}var He=Math.clz32?Math.clz32:Vr,co=Math.log,bc=Math.LN2;function Vr(t){return t>>>=0,t===0?32:31-(co(t)/bc|0)|0}var Ir=256,Nr=4194304;function Vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _a(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Vn(l):(y&=E,y!==0?c=Vn(y):r||(r=E&~t,r!==0&&(c=Vn(r))))):(E=l&~f,E!==0?c=Vn(E):y!==0?c=Vn(y):r||(r=l&~t,r!==0&&(c=Vn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function xr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ns(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xs(){var t=Ir;return Ir<<=1,(Ir&4194048)===0&&(Ir=256),t}function Os(){var t=Nr;return Nr<<=1,(Nr&62914560)===0&&(Nr=4194304),t}function oi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ui(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ms(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-He(r),X=1<<G;E[G]=0,b[G]=-1;var k=P[G];if(k!==null)for(P[G]=null,G=0;G<k.length;G++){var j=k[G];j!==null&&(j.lane&=-536870913)}r&=~X}l!==0&&Pn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Pn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-He(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Us(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-He(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Li(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function va(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pi(){var t=B.p;return t!==0?t:(t=window.event,t===void 0?32:Jp(t.type))}function ho(t,n){var r=B.p;try{return B.p=t,n()}finally{B.p=r}}var ee=Math.random().toString(36).slice(2),Te="__reactFiber$"+ee,de="__reactProps$"+ee,pn="__reactContainer$"+ee,zs="__reactEvents$"+ee,Rc="__reactListeners$"+ee,Bi="__reactHandles$"+ee,fo="__reactResources$"+ee,Or="__reactMarker$"+ee;function ki(t){delete t[Te],delete t[de],delete t[zs],delete t[Rc],delete t[Bi]}function ci(t){var n=t[Te];if(n)return n;for(var r=t.parentNode;r;){if(n=r[pn]||r[Te]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Lp(t);t!==null;){if(r=t[Te])return r;t=Lp(t)}return n}t=r,r=t.parentNode}return null}function Bn(t){if(t=t[Te]||t[pn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function kn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ke(t){var n=t[fo];return n||(n=t[fo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function oe(t){t[Or]=!0}var Ls=new Set,Ea={};function In(t,n){hi(t,n),hi(t+"Capture",n)}function hi(t,n){for(Ea[t]=n,t=0;t<n.length;t++)Ls.add(n[t])}var mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),go={},Mr={};function po(t){return Rr.call(Mr,t)?!0:Rr.call(go,t)?!1:mo.test(t)?Mr[t]=!0:(go[t]=!0,!1)}function ji(t,n,r){if(po(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function jn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Me(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Ur,yo;function fi(t){if(Ur===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ur=n&&n[1]||"",yo=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ur+t+yo}var Ta=!1;function Aa(t,n){if(!t||Ta)return"";Ta=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(j){var k=j}Reflect.construct(t,[],X)}else{try{X.call()}catch(j){k=j}t.call(X.prototype)}}else{try{throw Error()}catch(j){k=j}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(j){if(j&&k&&typeof j.stack=="string")return[j.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Ta=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?fi(r):""}function Ps(t){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Aa(t.type,!1);case 11:return Aa(t.type.render,!1);case 1:return Aa(t.type,!0);case 31:return fi("Activity");default:return""}}function Sa(t){try{var n="";do n+=Ps(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wc(t){var n=Bs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ba(t){t._valueTracker||(t._valueTracker=wc(t))}function ks(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Bs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function zr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cc=/[\n"\\]/g;function me(t){return t.replace(Cc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ze(n)):t.value!==""+Ze(n)&&(t.value=""+Ze(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?qi(t,y,Ze(n)):r!=null?qi(t,y,Ze(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ze(E):t.removeAttribute("name")}function Lr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ze(r):"",n=n!=null?""+Ze(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function qi(t,n,r){n==="number"&&zr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function di(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ze(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Ze(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ze(r):""}function Pr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(Wt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ze(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Br=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _o(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Br.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function js(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&_o(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&_o(t,f,n[f])}function qs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(t){return Vc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var mi=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gi=null,pi=null;function Hs(t){var n=Bn(t);if(n&&(t=n.stateNode)){var r=t[de]||null;t:switch(t=n.stateNode,n.type){case"input":if(sn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[de]||null;if(!c)throw Error(a(90));sn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&ks(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&di(t,!!r.multiple,n,!1)}}}var qn=!1;function vo(t,n,r){if(qn)return t(n,r);qn=!0;try{var l=t(n);return l}finally{if(qn=!1,(gi!==null||pi!==null)&&(fu(),gi&&(n=gi,t=pi,pi=gi=null,Hs(n),t)))for(n=0;n<t.length;n++)Hs(t[n])}}function kr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[de]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(Nn)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{vn=!1}var Hn=null,Hi=null,yi=null;function Gs(){if(yi)return yi;var t,n=Hi,r=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return yi=c.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qn(){return!0}function Qs(){return!1}function De(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qn:Qs,this.isPropagationStopped=Qs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=De(kt),qr=A({},kt,{view:0,detail:0}),Eo=De(qr),Ca,Da,Fn,Hr=A({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(Ca=t.screenX-Fn.screenX,Da=t.screenY-Fn.screenY):Da=Ca=0,Fn=t),Ca)},movementY:function(t){return"movementY"in t?t.movementY:Da}}),En=De(Hr),To=A({},Hr,{dataTransfer:0}),Ic=De(To),Gr=A({},qr,{relatedTarget:0}),Va=De(Gr),Fs=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ia=De(Fs),Ao=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Na=De(Ao),Nc=A({},kt,{data:0}),Ys=De(Nc),Qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},So={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=bo[t])?!!n[t]:!1}function Fr(){return Xs}var Ro=A({},qr,{key:function(t){if(t.key){var n=Qr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?So[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xa=De(Ro),wo=A({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ks=De(wo),_i=A({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),Co=De(_i),Do=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vo=De(Do),Io=A({},Hr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Oa=De(Io),$e=A({},kt,{newState:0,oldState:0}),No=De($e),xo=[9,13,27,32],Yn=Nn&&"CompositionEvent"in window,u=null;Nn&&"documentMode"in document&&(u=document.documentMode);var m=Nn&&"TextEvent"in window&&!u,g=Nn&&(!Yn||u&&8<u&&11>=u),T=" ",z=!1;function q(t,n){switch(t){case"keyup":return xo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Ae(t,n){switch(t){case"compositionend":return nt(n);case"keypress":return n.which!==32?null:(z=!0,T);case"textInput":return t=n.data,t===T&&z?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Yn&&q(t,n)?(t=Gs(),yi=Hi=Hn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ve[t.type]:n==="textarea"}function vi(t,n,r,l){gi?pi?pi.push(l):pi=[l]:gi=l,n=_u(n,"onChange"),0<n.length&&(r=new wa("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,Xn=null;function Zs(t){Cp(t,0)}function Oo(t){var n=kn(t);if(ks(n))return t}function Xd(t,n){if(t==="change")return n}var Kd=!1;if(Nn){var xc;if(Nn){var Oc="oninput"in document;if(!Oc){var Zd=document.createElement("div");Zd.setAttribute("oninput","return;"),Oc=typeof Zd.oninput=="function"}xc=Oc}else xc=!1;Kd=xc&&(!document.documentMode||9<document.documentMode)}function $d(){Ue&&(Ue.detachEvent("onpropertychange",Jd),Xn=Ue=null)}function Jd(t){if(t.propertyName==="value"&&Oo(Xn)){var n=[];vi(n,Xn,t,_n(t)),vo(Zs,n)}}function h0(t,n,r){t==="focusin"?($d(),Ue=n,Xn=r,Ue.attachEvent("onpropertychange",Jd)):t==="focusout"&&$d()}function f0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oo(Xn)}function d0(t,n){if(t==="click")return Oo(n)}function m0(t,n){if(t==="input"||t==="change")return Oo(n)}function g0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:g0;function $s(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Rr.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function Wd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tm(t,n){var r=Wd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Wd(r)}}function em(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?em(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function nm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=zr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=zr(t.document)}return n}function Mc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var p0=Nn&&"documentMode"in document&&11>=document.documentMode,Ma=null,Uc=null,Js=null,zc=!1;function im(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zc||Ma==null||Ma!==zr(l)||(l=Ma,"selectionStart"in l&&Mc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Js&&$s(Js,l)||(Js=l,l=_u(Uc,"onSelect"),0<l.length&&(n=new wa("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ma)))}function Yr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ua={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},Lc={},rm={};Nn&&(rm=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Xr(t){if(Lc[t])return Lc[t];if(!Ua[t])return t;var n=Ua[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in rm)return Lc[t]=n[r];return t}var am=Xr("animationend"),sm=Xr("animationiteration"),lm=Xr("animationstart"),y0=Xr("transitionrun"),_0=Xr("transitionstart"),v0=Xr("transitioncancel"),om=Xr("transitionend"),um=new Map,Pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pc.push("scrollEnd");function xn(t,n){um.set(t,n),In(n,[t])}var cm=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var r=cm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Sa(n)},cm.set(t,n),n)}return{value:t,source:n,stack:Sa(n)}}var An=[],za=0,Bc=0;function Mo(){for(var t=za,n=Bc=za=0;n<t;){var r=An[n];An[n++]=null;var l=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&hm(r,c,f)}}function Uo(t,n,r,l){An[za++]=t,An[za++]=n,An[za++]=r,An[za++]=l,Bc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function kc(t,n,r,l){return Uo(t,n,r,l),zo(t)}function La(t,n){return Uo(t,null,null,n),zo(t)}function hm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-He(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function zo(t){if(50<Sl)throw Sl=0,Fh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Pa={};function E0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,r,l){return new E0(t,n,r,l)}function jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ei(t,n){var r=t.alternate;return r===null?(r=on(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function fm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Lo(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")jc(t)&&(y=1);else if(typeof t=="string")y=AE(t,r,ht.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=on(31,r,n,c),t.elementType=R,t.lanes=f,t;case $:return Kr(r.children,c,f,n);case rt:y=8,c|=24;break;case tt:return t=on(12,r,n,c|2),t.elementType=tt,t.lanes=f,t;case pt:return t=on(13,r,n,c),t.elementType=pt,t.lanes=f,t;case bt:return t=on(19,r,n,c),t.elementType=bt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tt:case ut:y=10;break t;case dt:y=9;break t;case Rt:y=11;break t;case x:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=on(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Kr(t,n,r,l){return t=on(7,t,l,n),t.lanes=r,t}function qc(t,n,r){return t=on(6,t,null,n),t.lanes=r,t}function Hc(t,n,r){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ba=[],ka=0,Po=null,Bo=0,Sn=[],bn=0,Zr=null,Ti=1,Ai="";function $r(t,n){Ba[ka++]=Bo,Ba[ka++]=Po,Po=t,Bo=n}function dm(t,n,r){Sn[bn++]=Ti,Sn[bn++]=Ai,Sn[bn++]=Zr,Zr=t;var l=Ti;t=Ai;var c=32-He(l)-1;l&=~(1<<c),r+=1;var f=32-He(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ti=1<<32-He(n)+c|r<<c|l,Ai=f+t}else Ti=1<<f|r<<c|l,Ai=t}function Gc(t){t.return!==null&&($r(t,1),dm(t,1,0))}function Qc(t){for(;t===Po;)Po=Ba[--ka],Ba[ka]=null,Bo=Ba[--ka],Ba[ka]=null;for(;t===Zr;)Zr=Sn[--bn],Sn[bn]=null,Ai=Sn[--bn],Sn[bn]=null,Ti=Sn[--bn],Sn[bn]=null}var Je=null,se=null,Bt=!1,Jr=null,Kn=!1,Fc=Error(a(519));function Wr(t){var n=Error(a(418,""));throw el(Tn(n,t)),Fc}function mm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Te]=t,n[de]=l,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<Rl.length;r++)It(Rl[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Lr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ba(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Pr(n,l.value,l.defaultValue,l.children),ba(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Np(n.textContent,r)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=vu),n=!0):n=!1,n||Wr(t)}function gm(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Je=Je.return}}function Ws(t){if(t!==Je)return!1;if(!Bt)return gm(t),Bt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||uf(t.type,t.memoizedProps)),r=!r),r&&se&&Wr(t),gm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){se=Mn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}se=null}}else n===27?(n=se,ar(t.type)?(t=df,df=null,se=t):se=n):se=Je?Mn(t.stateNode.nextSibling):null;return!0}function tl(){se=Je=null,Bt=!1}function pm(){var t=Jr;return t!==null&&(en===null?en=t:en.push.apply(en,t),Jr=null),t}function el(t){Jr===null?Jr=[t]:Jr.push(t)}var Yc=Y(null),ta=null,Si=null;function Gi(t,n,r){et(Yc,n._currentValue),n._currentValue=r}function bi(t){t._currentValue=Yc.current,it(Yc)}function Xc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Kc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Xc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Xc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function nl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;ln(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ce.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}c=c.return}t!==null&&Kc(n,t,r,l),n.flags|=262144}function ko(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){ta=t,Si=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return ym(ta,t)}function jo(t,n){return ta===null&&ea(t),ym(t,n)}function ym(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Si===null){if(t===null)throw Error(a(308));Si=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Si=Si.next=n;return r}var T0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},A0=s.unstable_scheduleCallback,S0=s.unstable_NormalPriority,be={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zc(){return{controller:new T0,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&A0(S0,function(){t.controller.abort()})}var rl=null,$c=0,ja=0,qa=null;function b0(t,n){if(rl===null){var r=rl=[];$c=0,ja=Wh(),qa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return $c++,n.then(_m,_m),n}function _m(){if(--$c===0&&rl!==null){qa!==null&&(qa.status="fulfilled");var t=rl;rl=null,ja=0,qa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function R0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var vm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&b0(t,n),vm!==null&&vm(t,n)};var na=Y(null);function Jc(){var t=na.current;return t!==null?t:$t.pooledCache}function qo(t,n){n===null?et(na,na.current):et(na,n.pool)}function Em(){var t=Jc();return t===null?null:{parent:be._currentValue,pool:t}}var al=Error(a(460)),Tm=Error(a(474)),Ho=Error(a(542)),Wc={then:function(){}};function Am(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Go(){}function Sm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Go,Go),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Rm(t),t;default:if(typeof n.status=="string")n.then(Go,Go);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Rm(t),t}throw sl=n,al}}var sl=null;function bm(){if(sl===null)throw Error(a(459));var t=sl;return sl=null,t}function Rm(t){if(t===al||t===Ho)throw Error(a(483))}var Qi=!1;function th(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Yi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=zo(t),hm(t,null,r),n}return Uo(t,l,n,r),zo(t)}function ll(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Us(t,r)}}function nh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var ih=!1;function ol(){if(ih){var t=qa;if(t!==null)throw t}}function ul(t,n,r,l){ih=!1;var c=t.updateQueue;Qi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=b))}if(f!==null){var X=c.baseState;y=0,G=P=b=null,E=f;do{var k=E.lane&-536870913,j=k!==E.lane;if(j?(Ut&k)===k:(l&k)===k){k!==0&&k===ja&&(ih=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=t,ft=E;k=n;var Xt=r;switch(ft.tag){case 1:if(_t=ft.payload,typeof _t=="function"){X=_t.call(Xt,X,k);break t}X=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=ft.payload,k=typeof _t=="function"?_t.call(Xt,X,k):_t,k==null)break t;X=A({},X,k);break t;case 2:Qi=!0}}k=E.callback,k!==null&&(t.flags|=64,j&&(t.flags|=8192),j=c.callbacks,j===null?c.callbacks=[k]:j.push(k))}else j={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=j,b=X):G=G.next=j,y|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);G===null&&(b=X),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),er|=y,t.lanes=y,t.memoizedState=X}}function wm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Cm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)wm(r[t],n)}var Ha=Y(null),Qo=Y(0);function Dm(t,n){t=Ni,et(Qo,t),et(Ha,n),Ni=t|n.baseLanes}function rh(){et(Qo,Ni),et(Ha,Ha.current)}function ah(){Ni=Qo.current,it(Ha),it(Qo)}var Xi=0,wt=null,Ft=null,ge=null,Fo=!1,Ga=!1,ia=!1,Yo=0,cl=0,Qa=null,w0=0;function ue(){throw Error(a(321))}function sh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function lh(t,n,r,l,c,f){return Xi=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?hg:fg,ia=!1,f=r(l,c),ia=!1,Ga&&(f=Im(n,r,l,c)),Vm(t),f}function Vm(t){H.H=Wo;var n=Ft!==null&&Ft.next!==null;if(Xi=0,ge=Ft=wt=null,Fo=!1,cl=0,Qa=null,n)throw Error(a(300));t===null||Ie||(t=t.dependencies,t!==null&&ko(t)&&(Ie=!0))}function Im(t,n,r,l){wt=t;var c=0;do{if(Ga&&(Qa=null),cl=0,Ga=!1,25<=c)throw Error(a(301));if(c+=1,ge=Ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=O0,f=n(r,l)}while(Ga);return f}function C0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?hl(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(wt.flags|=1024),n}function oh(){var t=Yo!==0;return Yo=0,t}function uh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function ch(t){if(Fo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Fo=!1}Xi=0,ge=Ft=wt=null,Ga=!1,cl=Yo=0,Qa=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?wt.memoizedState=ge=t:ge=ge.next=t,ge}function pe(){if(Ft===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=ge===null?wt.memoizedState:ge.next;if(n!==null)ge=n,Ft=t;else{if(t===null)throw wt.alternate===null?Error(a(467)):Error(a(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},ge===null?wt.memoizedState=ge=t:ge=ge.next=t}return ge}function hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var n=cl;return cl+=1,Qa===null&&(Qa=[]),t=Sm(Qa,t,n),n=wt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?hg:fg),t}function Xo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===ut)return Ge(t)}throw Error(a(438,String(t)))}function fh(t){var n=null,r=wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=hh(),wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function Ri(t,n){return typeof n=="function"?n(t):n}function Ko(t){var n=pe();return dh(n,Ft,t)}function dh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,G=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(Ut&X)===X:(Xi&X)===X){var k=P.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===ja&&(G=!0);else if((Xi&k)===k){P=P.next,k===ja&&(G=!0);continue}else X={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=X,y=f):b=b.next=X,wt.lanes|=k,er|=k;X=P.action,ia&&r(f,X),f=P.hasEagerState?P.eagerState:r(f,X)}else k={lane:X,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=k,y=f):b=b.next=k,wt.lanes|=X,er|=X;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!ln(f,t.memoizedState)&&(Ie=!0,G&&(r=qa,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function mh(t){var n=pe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);ln(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Nm(t,n,r){var l=wt,c=pe(),f=Bt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!ln((Ft||c).memoizedState,r);y&&(c.memoizedState=r,Ie=!0),c=c.queue;var E=Mm.bind(null,l,c,t);if(fl(2048,8,E,[t]),c.getSnapshot!==n||y||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,Fa(9,Zo(),Om.bind(null,l,c,r,n),null),$t===null)throw Error(a(349));f||(Xi&124)!==0||xm(l,n,r)}return r}function xm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=wt.updateQueue,n===null?(n=hh(),wt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Om(t,n,r,l){n.value=r,n.getSnapshot=l,Um(n)&&zm(t)}function Mm(t,n,r){return r(function(){Um(n)&&zm(t)})}function Um(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function zm(t){var n=La(t,2);n!==null&&dn(n,t,2)}function gh(t){var n=We();if(typeof t=="function"){var r=t;if(t=r(),ia){an(!0);try{r()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},n}function Lm(t,n,r,l){return t.baseState=r,dh(t,Ft,typeof l=="function"?l:Ri)}function D0(t,n,r,l,c){if(Jo(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Pm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Pm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,l),b=H.S;b!==null&&b(y,E),Bm(t,n,E)}catch(P){ph(t,n,P)}finally{H.T=f}}else try{f=r(c,l),Bm(t,n,f)}catch(P){ph(t,n,P)}}function Bm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){km(t,n,l)},function(l){return ph(t,n,l)}):km(t,n,r)}function km(t,n,r){n.status="fulfilled",n.value=r,jm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Pm(t,r)))}function ph(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,jm(n),n=n.next;while(n!==l)}t.action=null}function jm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function qm(t,n){return n}function Hm(t,n){if(Bt){var r=$t.formState;if(r!==null){t:{var l=wt;if(Bt){if(se){e:{for(var c=se,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Mn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){se=Mn(c.nextSibling),l=c.data==="F!";break t}}Wr(l)}l=!1}l&&(n=r[0])}}return r=We(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qm,lastRenderedState:n},r.queue=l,r=og.bind(null,wt,l),l.dispatch=r,l=gh(!1),f=Th.bind(null,wt,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=D0.bind(null,wt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Gm(t){var n=pe();return Qm(n,Ft,t)}function Qm(t,n,r){if(n=dh(t,n,qm)[0],t=Ko(Ri)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=hl(n)}catch(y){throw y===al?Ho:y}else l=n;n=pe();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(wt.flags|=2048,Fa(9,Zo(),V0.bind(null,c,r),null)),[l,f,t]}function V0(t,n){t.action=n}function Fm(t){var n=pe(),r=Ft;if(r!==null)return Qm(n,r,t);pe(),n=n.memoizedState,r=pe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Fa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=hh(),wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Zo(){return{destroy:void 0,resource:void 0}}function Ym(){return pe().memoizedState}function $o(t,n,r,l){var c=We();l=l===void 0?null:l,wt.flags|=t,c.memoizedState=Fa(1|n,Zo(),r,l)}function fl(t,n,r,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;Ft!==null&&l!==null&&sh(l,Ft.memoizedState.deps)?c.memoizedState=Fa(n,f,r,l):(wt.flags|=t,c.memoizedState=Fa(1|n,f,r,l))}function Xm(t,n){$o(8390656,8,t,n)}function Km(t,n){fl(2048,8,t,n)}function Zm(t,n){return fl(4,2,t,n)}function $m(t,n){return fl(4,4,t,n)}function Jm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Wm(t,n,r){r=r!=null?r.concat([t]):null,fl(4,4,Jm.bind(null,n,t),r)}function yh(){}function tg(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&sh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function eg(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&sh(n,l[1]))return l[0];if(l=t(),ia){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l}function _h(t,n,r){return r===void 0||(Xi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=rp(),wt.lanes|=t,er|=t,r)}function ng(t,n,r,l){return ln(r,n)?r:Ha.current!==null?(t=_h(t,r,l),ln(t,n)||(Ie=!0),t):(Xi&42)===0?(Ie=!0,t.memoizedState=r):(t=rp(),wt.lanes|=t,er|=t,n)}function ig(t,n,r,l,c){var f=B.p;B.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,Th(t,!1,n,r);try{var b=c(),P=H.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=R0(b,l);dl(t,n,G,fn(t))}else dl(t,n,l,fn(t))}catch(X){dl(t,n,{then:function(){},status:"rejected",reason:X},fn())}finally{B.p=f,H.T=y}}function I0(){}function vh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=rg(t).queue;ig(t,c,n,J,r===null?I0:function(){return ag(t),r(l)})}function rg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:J},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ag(t){var n=rg(t).next.queue;dl(t,n,{},fn())}function Eh(){return Ge(Nl)}function sg(){return pe().memoizedState}function lg(){return pe().memoizedState}function N0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=fn();t=Fi(r);var l=Yi(n,t,r);l!==null&&(dn(l,n,r),ll(l,n,r)),n={cache:Zc()},t.payload=n;return}n=n.return}}function x0(t,n,r){var l=fn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Jo(t)?ug(n,r):(r=kc(t,n,r,l),r!==null&&(dn(r,t,l),cg(r,n,l)))}function og(t,n,r){var l=fn();dl(t,n,r,l)}function dl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jo(t))ug(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,ln(E,y))return Uo(t,n,c,0),$t===null&&Mo(),!1}catch{}finally{}if(r=kc(t,n,c,l),r!==null)return dn(r,t,l),cg(r,n,l),!0}return!1}function Th(t,n,r,l){if(l={lane:2,revertLane:Wh(),action:l,hasEagerState:!1,eagerState:null,next:null},Jo(t)){if(n)throw Error(a(479))}else n=kc(t,r,l,2),n!==null&&dn(n,t,2)}function Jo(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function ug(t,n){Ga=Fo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function cg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Us(t,r)}}var Wo={readContext:Ge,use:Xo,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},hg={readContext:Ge,use:Xo,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:Ge,useEffect:Xm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,$o(4194308,4,Jm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return $o(4194308,4,t,n)},useInsertionEffect:function(t,n){$o(4,2,t,n)},useMemo:function(t,n){var r=We();n=n===void 0?null:n;var l=t();if(ia){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=We();if(r!==void 0){var c=r(n);if(ia){an(!0);try{r(n)}finally{an(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=x0.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=gh(t);var n=t.queue,r=og.bind(null,wt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:yh,useDeferredValue:function(t,n){var r=We();return _h(r,t,n)},useTransition:function(){var t=gh(!1);return t=ig.bind(null,wt,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=wt,c=We();if(Bt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),$t===null)throw Error(a(349));(Ut&124)!==0||xm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Xm(Mm.bind(null,l,f,t),[t]),l.flags|=2048,Fa(9,Zo(),Om.bind(null,l,f,r,n),null),r},useId:function(){var t=We(),n=$t.identifierPrefix;if(Bt){var r=Ai,l=Ti;r=(l&~(1<<32-He(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=Yo++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=w0++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Eh,useFormState:Hm,useActionState:Hm,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Th.bind(null,wt,!0,r),r.dispatch=n,[t,n]},useMemoCache:fh,useCacheRefresh:function(){return We().memoizedState=N0.bind(null,wt)}},fg={readContext:Ge,use:Xo,useCallback:tg,useContext:Ge,useEffect:Km,useImperativeHandle:Wm,useInsertionEffect:Zm,useLayoutEffect:$m,useMemo:eg,useReducer:Ko,useRef:Ym,useState:function(){return Ko(Ri)},useDebugValue:yh,useDeferredValue:function(t,n){var r=pe();return ng(r,Ft.memoizedState,t,n)},useTransition:function(){var t=Ko(Ri)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Nm,useId:sg,useHostTransitionStatus:Eh,useFormState:Gm,useActionState:Gm,useOptimistic:function(t,n){var r=pe();return Lm(r,Ft,t,n)},useMemoCache:fh,useCacheRefresh:lg},O0={readContext:Ge,use:Xo,useCallback:tg,useContext:Ge,useEffect:Km,useImperativeHandle:Wm,useInsertionEffect:Zm,useLayoutEffect:$m,useMemo:eg,useReducer:mh,useRef:Ym,useState:function(){return mh(Ri)},useDebugValue:yh,useDeferredValue:function(t,n){var r=pe();return Ft===null?_h(r,t,n):ng(r,Ft.memoizedState,t,n)},useTransition:function(){var t=mh(Ri)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Nm,useId:sg,useHostTransitionStatus:Eh,useFormState:Fm,useActionState:Fm,useOptimistic:function(t,n){var r=pe();return Ft!==null?Lm(r,Ft,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:fh,useCacheRefresh:lg},Ya=null,ml=0;function tu(t){var n=ml;return ml+=1,Ya===null&&(Ya=[]),Sm(Ya,t,n)}function gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function eu(t,n){throw n.$$typeof===N?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function dg(t){var n=t._init;return n(t._payload)}function mg(t){function n(U,D){if(t){var L=U.deletions;L===null?(U.deletions=[D],U.flags|=16):L.push(D)}}function r(U,D){if(!t)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function l(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function c(U,D){return U=Ei(U,D),U.index=0,U.sibling=null,U}function f(U,D,L){return U.index=L,t?(L=U.alternate,L!==null?(L=L.index,L<D?(U.flags|=67108866,D):L):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,L,F){return D===null||D.tag!==6?(D=qc(L,U.mode,F),D.return=U,D):(D=c(D,L),D.return=U,D)}function b(U,D,L,F){var lt=L.type;return lt===$?G(U,D,L.props.children,F,L.key):D!==null&&(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&dg(lt)===D.type)?(D=c(D,L.props),gl(D,L),D.return=U,D):(D=Lo(L.type,L.key,L.props,null,U.mode,F),gl(D,L),D.return=U,D)}function P(U,D,L,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Hc(L,U.mode,F),D.return=U,D):(D=c(D,L.children||[]),D.return=U,D)}function G(U,D,L,F,lt){return D===null||D.tag!==7?(D=Kr(L,U.mode,F,lt),D.return=U,D):(D=c(D,L),D.return=U,D)}function X(U,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=qc(""+D,U.mode,L),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case I:return L=Lo(D.type,D.key,D.props,null,U.mode,L),gl(L,D),L.return=U,L;case Q:return D=Hc(D,U.mode,L),D.return=U,D;case S:var F=D._init;return D=F(D._payload),X(U,D,L)}if(Wt(D)||M(D))return D=Kr(D,U.mode,L,null),D.return=U,D;if(typeof D.then=="function")return X(U,tu(D),L);if(D.$$typeof===ut)return X(U,jo(U,D),L);eu(U,D)}return null}function k(U,D,L,F){var lt=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:E(U,D,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return L.key===lt?b(U,D,L,F):null;case Q:return L.key===lt?P(U,D,L,F):null;case S:return lt=L._init,L=lt(L._payload),k(U,D,L,F)}if(Wt(L)||M(L))return lt!==null?null:G(U,D,L,F,null);if(typeof L.then=="function")return k(U,D,tu(L),F);if(L.$$typeof===ut)return k(U,D,jo(U,L),F);eu(U,L)}return null}function j(U,D,L,F,lt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(L)||null,E(D,U,""+F,lt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case I:return U=U.get(F.key===null?L:F.key)||null,b(D,U,F,lt);case Q:return U=U.get(F.key===null?L:F.key)||null,P(D,U,F,lt);case S:var Dt=F._init;return F=Dt(F._payload),j(U,D,L,F,lt)}if(Wt(F)||M(F))return U=U.get(L)||null,G(D,U,F,lt,null);if(typeof F.then=="function")return j(U,D,L,tu(F),lt);if(F.$$typeof===ut)return j(U,D,L,jo(D,F),lt);eu(D,F)}return null}function _t(U,D,L,F){for(var lt=null,Dt=null,ot=D,mt=D=0,xe=null;ot!==null&&mt<L.length;mt++){ot.index>mt?(xe=ot,ot=null):xe=ot.sibling;var Pt=k(U,ot,L[mt],F);if(Pt===null){ot===null&&(ot=xe);break}t&&ot&&Pt.alternate===null&&n(U,ot),D=f(Pt,D,mt),Dt===null?lt=Pt:Dt.sibling=Pt,Dt=Pt,ot=xe}if(mt===L.length)return r(U,ot),Bt&&$r(U,mt),lt;if(ot===null){for(;mt<L.length;mt++)ot=X(U,L[mt],F),ot!==null&&(D=f(ot,D,mt),Dt===null?lt=ot:Dt.sibling=ot,Dt=ot);return Bt&&$r(U,mt),lt}for(ot=l(ot);mt<L.length;mt++)xe=j(ot,U,mt,L[mt],F),xe!==null&&(t&&xe.alternate!==null&&ot.delete(xe.key===null?mt:xe.key),D=f(xe,D,mt),Dt===null?lt=xe:Dt.sibling=xe,Dt=xe);return t&&ot.forEach(function(cr){return n(U,cr)}),Bt&&$r(U,mt),lt}function ft(U,D,L,F){if(L==null)throw Error(a(151));for(var lt=null,Dt=null,ot=D,mt=D=0,xe=null,Pt=L.next();ot!==null&&!Pt.done;mt++,Pt=L.next()){ot.index>mt?(xe=ot,ot=null):xe=ot.sibling;var cr=k(U,ot,Pt.value,F);if(cr===null){ot===null&&(ot=xe);break}t&&ot&&cr.alternate===null&&n(U,ot),D=f(cr,D,mt),Dt===null?lt=cr:Dt.sibling=cr,Dt=cr,ot=xe}if(Pt.done)return r(U,ot),Bt&&$r(U,mt),lt;if(ot===null){for(;!Pt.done;mt++,Pt=L.next())Pt=X(U,Pt.value,F),Pt!==null&&(D=f(Pt,D,mt),Dt===null?lt=Pt:Dt.sibling=Pt,Dt=Pt);return Bt&&$r(U,mt),lt}for(ot=l(ot);!Pt.done;mt++,Pt=L.next())Pt=j(ot,U,mt,Pt.value,F),Pt!==null&&(t&&Pt.alternate!==null&&ot.delete(Pt.key===null?mt:Pt.key),D=f(Pt,D,mt),Dt===null?lt=Pt:Dt.sibling=Pt,Dt=Pt);return t&&ot.forEach(function(ME){return n(U,ME)}),Bt&&$r(U,mt),lt}function Xt(U,D,L,F){if(typeof L=="object"&&L!==null&&L.type===$&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case I:t:{for(var lt=L.key;D!==null;){if(D.key===lt){if(lt=L.type,lt===$){if(D.tag===7){r(U,D.sibling),F=c(D,L.props.children),F.return=U,U=F;break t}}else if(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&dg(lt)===D.type){r(U,D.sibling),F=c(D,L.props),gl(F,L),F.return=U,U=F;break t}r(U,D);break}else n(U,D);D=D.sibling}L.type===$?(F=Kr(L.props.children,U.mode,F,L.key),F.return=U,U=F):(F=Lo(L.type,L.key,L.props,null,U.mode,F),gl(F,L),F.return=U,U=F)}return y(U);case Q:t:{for(lt=L.key;D!==null;){if(D.key===lt)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){r(U,D.sibling),F=c(D,L.children||[]),F.return=U,U=F;break t}else{r(U,D);break}else n(U,D);D=D.sibling}F=Hc(L,U.mode,F),F.return=U,U=F}return y(U);case S:return lt=L._init,L=lt(L._payload),Xt(U,D,L,F)}if(Wt(L))return _t(U,D,L,F);if(M(L)){if(lt=M(L),typeof lt!="function")throw Error(a(150));return L=lt.call(L),ft(U,D,L,F)}if(typeof L.then=="function")return Xt(U,D,tu(L),F);if(L.$$typeof===ut)return Xt(U,D,jo(U,L),F);eu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(r(U,D.sibling),F=c(D,L),F.return=U,U=F):(r(U,D),F=qc(L,U.mode,F),F.return=U,U=F),y(U)):r(U,D)}return function(U,D,L,F){try{ml=0;var lt=Xt(U,D,L,F);return Ya=null,lt}catch(ot){if(ot===al||ot===Ho)throw ot;var Dt=on(29,ot,null,U.mode);return Dt.lanes=F,Dt.return=U,Dt}finally{}}}var Xa=mg(!0),gg=mg(!1),Rn=Y(null),Zn=null;function Ki(t){var n=t.alternate;et(Re,Re.current&1),et(Rn,t),Zn===null&&(n===null||Ha.current!==null||n.memoizedState!==null)&&(Zn=t)}function pg(t){if(t.tag===22){if(et(Re,Re.current),et(Rn,t),Zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Zn=t)}}else Zi()}function Zi(){et(Re,Re.current),et(Rn,Rn.current)}function wi(t){it(Rn),Zn===t&&(Zn=null),it(Re)}var Re=Y(0);function nu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||ff(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ah(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Sh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Fi(l);c.payload=n,r!=null&&(c.callback=r),n=Yi(t,c,l),n!==null&&(dn(n,t,l),ll(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Fi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Yi(t,c,l),n!==null&&(dn(n,t,l),ll(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=fn(),l=Fi(r);l.tag=2,n!=null&&(l.callback=n),n=Yi(t,l,r),n!==null&&(dn(n,t,r),ll(n,t,r))}};function yg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!$s(r,l)||!$s(c,f):!0}function _g(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Sh.enqueueReplaceState(n,n.state,null)}function ra(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function vg(t){iu(t)}function Eg(t){console.error(t)}function Tg(t){iu(t)}function ru(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ag(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function bh(t,n,r){return r=Fi(r),r.tag=3,r.payload={element:null},r.callback=function(){ru(t,n)},r}function Sg(t){return t=Fi(t),t.tag=3,t}function bg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Ag(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Ag(n,r,l),typeof c!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function M0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&nl(n,r,c,!0),r=Rn.current,r!==null){switch(r.tag){case 13:return Zn===null?Xh():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Wc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Zh(t,l,c)),!1;case 22:return r.flags|=65536,l===Wc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Zh(t,l,c)),!1}throw Error(a(435,r.tag))}return Zh(t,l,c),Xh(),!1}if(Bt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Fc&&(t=Error(a(422),{cause:l}),el(Tn(t,r)))):(l!==Fc&&(n=Error(a(423),{cause:l}),el(Tn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Tn(l,r),c=bh(t.stateNode,l,c),nh(t,c),le!==4&&(le=2)),!1;var f=Error(a(520),{cause:l});if(f=Tn(f,r),Al===null?Al=[f]:Al.push(f),le!==4&&(le=2),n===null)return!0;l=Tn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=bh(r.stateNode,l,t),nh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(nr===null||!nr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Sg(c),bg(c,t,r,l),nh(r,c),!1}r=r.return}while(r!==null);return!1}var Rg=Error(a(461)),Ie=!1;function ze(t,n,r,l){n.child=t===null?gg(n,null,r,l):Xa(n,t.child,r,l)}function wg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ea(n),l=lh(t,n,r,y,f,c),E=oh(),t!==null&&!Ie?(uh(t,n,c),Ci(t,n,c)):(Bt&&E&&Gc(n),n.flags|=1,ze(t,n,l,c),n.child)}function Cg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!jc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Dg(t,n,f,l,c)):(t=Lo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!xh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:$s,r(y,l)&&t.ref===n.ref)return Ci(t,n,c)}return n.flags|=1,t=Ei(f,l),t.ref=n.ref,t.return=n,n.child=t}function Dg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if($s(f,l)&&t.ref===n.ref)if(Ie=!1,n.pendingProps=l=f,xh(t,c))(t.flags&131072)!==0&&(Ie=!0);else return n.lanes=t.lanes,Ci(t,n,c)}return Rh(t,n,r,l,c)}function Vg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Ig(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&qo(n,f!==null?f.cachePool:null),f!==null?Dm(n,f):rh(),pg(n);else return n.lanes=n.childLanes=536870912,Ig(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(qo(n,f.cachePool),Dm(n,f),Zi(),n.memoizedState=null):(t!==null&&qo(n,null),rh(),Zi());return ze(t,n,c,r),n.child}function Ig(t,n,r,l){var c=Jc();return c=c===null?null:{parent:be._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&qo(n,null),rh(),pg(n),t!==null&&nl(t,n,l,!0),null}function au(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Rh(t,n,r,l,c){return ea(n),r=lh(t,n,r,l,void 0,c),l=oh(),t!==null&&!Ie?(uh(t,n,c),Ci(t,n,c)):(Bt&&l&&Gc(n),n.flags|=1,ze(t,n,r,c),n.child)}function Ng(t,n,r,l,c,f){return ea(n),n.updateQueue=null,r=Im(n,l,r,c),Vm(t),l=oh(),t!==null&&!Ie?(uh(t,n,f),Ci(t,n,f)):(Bt&&l&&Gc(n),n.flags|=1,ze(t,n,r,f),n.child)}function xg(t,n,r,l,c){if(ea(n),n.stateNode===null){var f=Pa,y=r.contextType;typeof y=="object"&&y!==null&&(f=Ge(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Sh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},th(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?Ge(y):Pa,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Ah(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Sh.enqueueReplaceState(f,f.state,null),ul(n,l,f,c),ol(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ra(r,E);f.props=b;var P=f.context,G=r.contextType;y=Pa,typeof G=="object"&&G!==null&&(y=Ge(G));var X=r.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&_g(n,f,l,y),Qi=!1;var k=n.memoizedState;f.state=k,ul(n,l,f,c),ol(),P=n.memoizedState,E||k!==P||Qi?(typeof X=="function"&&(Ah(n,r,X,l),P=n.memoizedState),(b=Qi||yg(n,r,b,l,k,P,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,eh(t,n),y=n.memoizedProps,G=ra(r,y),f.props=G,X=n.pendingProps,k=f.context,P=r.contextType,b=Pa,typeof P=="object"&&P!==null&&(b=Ge(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||k!==b)&&_g(n,f,l,b),Qi=!1,k=n.memoizedState,f.state=k,ul(n,l,f,c),ol();var j=n.memoizedState;y!==X||k!==j||Qi||t!==null&&t.dependencies!==null&&ko(t.dependencies)?(typeof E=="function"&&(Ah(n,r,E,l),j=n.memoizedState),(G=Qi||yg(n,r,G,l,k,j,b)||t!==null&&t.dependencies!==null&&ko(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,j,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,j,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,au(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Xa(n,t.child,null,c),n.child=Xa(n,null,r,c)):ze(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ci(t,n,c),t}function Og(t,n,r,l){return tl(),n.flags|=256,ze(t,n,r,l),n.child}var wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ch(t){return{baseLanes:t,cachePool:Em()}}function Dh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=wn),t}function Mg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Ki(n):Zi(),Bt){var E=se,b;if(b=E){t:{for(b=E,E=Kn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Mn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Zr!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},b=on(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Je=n,se=null,b=!0):b=!1}b||Wr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ff(E)?n.lanes=32:n.lanes=536870912,null;wi(n)}return E=l.children,l=l.fallback,c?(Zi(),c=n.mode,E=su({mode:"hidden",children:E},c),l=Kr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Ch(r),c.childLanes=Dh(t,y,r),n.memoizedState=wh,l):(Ki(n),Vh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Ki(n),n.flags&=-257,n=Ih(t,n,r)):n.memoizedState!==null?(Zi(),n.child=t.child,n.flags|=128,n=null):(Zi(),c=l.fallback,E=n.mode,l=su({mode:"visible",children:l.children},E),c=Kr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Xa(n,t.child,null,r),l=n.child,l.memoizedState=Ch(r),l.childLanes=Dh(t,y,r),n.memoizedState=wh,n=c);else if(Ki(n),ff(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(a(419)),l.stack="",l.digest=y,el({value:l,source:null,stack:null}),n=Ih(t,n,r)}else if(Ie||nl(t,n,r,!1),y=(r&t.childLanes)!==0,Ie||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:Li(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,La(t,l),dn(y,t,l),Rg;E.data==="$?"||Xh(),n=Ih(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,se=Mn(E.nextSibling),Je=n,Bt=!0,Jr=null,Kn=!1,t!==null&&(Sn[bn++]=Ti,Sn[bn++]=Ai,Sn[bn++]=Zr,Ti=t.id,Ai=t.overflow,Zr=n),n=Vh(n,l.children),n.flags|=4096);return n}return c?(Zi(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=Ei(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=Ei(P,c):(c=Kr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Ch(r):(b=E.cachePool,b!==null?(P=be._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=Em(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=Dh(t,y,r),n.memoizedState=wh,l):(Ki(n),r=t.child,t=r.sibling,r=Ei(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Vh(t,n){return n=su({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function su(t,n){return t=on(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ih(t,n,r){return Xa(n,t.child,null,r),t=Vh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ug(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Xc(t.return,n,r)}function Nh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function zg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ze(t,n,l.children,r),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ug(t,r,n);else if(t.tag===19)Ug(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(et(Re,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&nu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Nh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&nu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Nh(n,!0,r,null,f);break;case"together":Nh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ci(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),er|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(nl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Ei(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ei(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function xh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ko(t)))}function U0(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Gi(n,be,t.memoizedState.cache),tl();break;case 27:case 5:zi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Gi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ki(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Mg(t,n,r):(Ki(n),t=Ci(t,n,r),t!==null?t.sibling:null);Ki(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(nl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return zg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,Vg(t,n,r);case 24:Gi(n,be,t.memoizedState.cache)}return Ci(t,n,r)}function Lg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ie=!0;else{if(!xh(t,r)&&(n.flags&128)===0)return Ie=!1,U0(t,n,r);Ie=(t.flags&131072)!==0}else Ie=!1,Bt&&(n.flags&1048576)!==0&&dm(n,Bo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")jc(l)?(t=ra(l,t),n.tag=1,n=xg(null,n,l,t,r)):(n.tag=0,n=Rh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Rt){n.tag=11,n=wg(null,n,l,t,r);break t}else if(c===x){n.tag=14,n=Cg(null,n,l,t,r);break t}}throw n=fe(l)||l,Error(a(306,n,""))}}return n;case 0:return Rh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ra(l,n.pendingProps),xg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,eh(t,n),ul(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Gi(n,be,l),l!==f.cache&&Kc(n,[be],r,!0),ol(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Og(t,n,l,r);break t}else if(l!==c){c=Tn(Error(a(424)),n),el(c),n=Og(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=Mn(t.firstChild),Je=n,Bt=!0,Jr=null,Kn=!0,r=gg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(tl(),l===c){n=Ci(t,n,r);break t}ze(t,n,l,r)}n=n.child}return n;case 26:return au(t,n),t===null?(r=jp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=Eu(vt.current).createElement(r),l[Te]=n,l[de]=t,Pe(l,r,t),oe(l),n.stateNode=l):n.memoizedState=jp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return zi(n),t===null&&Bt&&(l=n.stateNode=Pp(n.type,n.pendingProps,vt.current),Je=n,Kn=!0,c=se,ar(n.type)?(df=c,se=Mn(l.firstChild)):se=c),ze(t,n,n.pendingProps.children,r),au(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=se)&&(l=uE(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Je=n,se=Mn(l.firstChild),Kn=!1,c=!0):c=!1),c||Wr(n)),zi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,uf(c,f)?l=null:y!==null&&uf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=lh(t,n,C0,null,null,r),Nl._currentValue=c),au(t,n),ze(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=se)&&(r=cE(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,Je=n,se=null,t=!0):t=!1),t||Wr(n)),null;case 13:return Mg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Xa(n,null,l,r):ze(t,n,l,r),n.child;case 11:return wg(t,n,n.type,n.pendingProps,r);case 7:return ze(t,n,n.pendingProps,r),n.child;case 8:return ze(t,n,n.pendingProps.children,r),n.child;case 12:return ze(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Gi(n,n.type,l.value),ze(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ea(n),c=Ge(c),l=l(c),n.flags|=1,ze(t,n,l,r),n.child;case 14:return Cg(t,n,n.type,n.pendingProps,r);case 15:return Dg(t,n,n.type,n.pendingProps,r);case 19:return zg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=su(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ei(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Vg(t,n,r);case 24:return ea(n),l=Ge(be),t===null?(c=Jc(),c===null&&(c=$t,f=Zc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},th(n),Gi(n,be,c)):((t.lanes&r)!==0&&(eh(t,n),ul(n,null,null,r),ol()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Gi(n,be,l)):(l=f.cache,Gi(n,be,l),l!==c.cache&&Kc(n,[be],r,!0))),ze(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Di(t){t.flags|=4}function Pg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Fp(n)){if(n=Rn.current,n!==null&&((Ut&4194048)===Ut?Zn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==Zn))throw sl=Wc,Tm;t.flags|=8192}}function lu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Os():536870912,t.lanes|=n,Ja|=n)}function pl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function z0(t,n,r){var l=n.pendingProps;switch(Qc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),bi(be),Ln(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ws(n)?Di(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,pm())),ie(n),null;case 26:return r=n.memoizedState,t===null?(Di(n),r!==null?(ie(n),Pg(n,r)):(ie(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Di(n),ie(n),Pg(n,r)):(ie(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),ie(n),n.flags&=-16777217),null;case 27:li(n),r=vt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}t=ht.current,Ws(n)?mm(n):(t=Pp(c,l,r),n.stateNode=t,Di(n))}return ie(n),null;case 5:if(li(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(t=ht.current,Ws(n))mm(n);else{switch(c=Eu(vt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Te]=n,t[de]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=vt.current,Ws(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Te]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Np(t.nodeValue,r)),t||Wr(n)}else t=Eu(t).createTextNode(l),t[Te]=n,n.stateNode=t}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ws(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Te]=n}else tl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=pm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(wi(n),n):(wi(n),null)}if(wi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),lu(n,n.updateQueue),ie(n),null;case 4:return Ln(),t===null&&rf(n.stateNode.containerInfo),ie(n),null;case 10:return bi(n.type),ie(n),null;case 19:if(it(Re),c=n.memoizedState,c===null)return ie(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)pl(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=nu(t),f!==null){for(n.flags|=128,pl(c,!1),t=f.updateQueue,n.updateQueue=t,lu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)fm(r,t),r=r.sibling;return et(Re,Re.current&1|2),n.child}t=t.sibling}c.tail!==null&&gn()>cu&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304)}else{if(!l)if(t=nu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,lu(n,t),pl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return ie(n),null}else 2*gn()-c.renderingStartTime>cu&&r!==536870912&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=gn(),n.sibling=null,t=Re.current,et(Re,l?t&1|2:t&1),n):(ie(n),null);case 22:case 23:return wi(n),ah(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&lu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&it(na),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),bi(be),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function L0(t,n){switch(Qc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return bi(be),Ln(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return li(n),null;case 13:if(wi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));tl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return it(Re),null;case 4:return Ln(),null;case 10:return bi(n.type),null;case 22:case 23:return wi(n),ah(),t!==null&&it(na),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return bi(be),null;case 25:return null;default:return null}}function Bg(t,n){switch(Qc(n),n.tag){case 3:bi(be),Ln();break;case 26:case 27:case 5:li(n);break;case 4:Ln();break;case 13:wi(n);break;case 19:it(Re);break;case 10:bi(n.type);break;case 22:case 23:wi(n),ah(),t!==null&&it(na);break;case 24:bi(be)}}function yl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function $i(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,P=E;try{P()}catch(G){Kt(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){Kt(n,n.return,G)}}function kg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Cm(n,r)}catch(l){Kt(t,t.return,l)}}}function jg(t,n,r){r.props=ra(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(t,n,l)}}function _l(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Kt(t,n,c)}}function $n(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(t,n,c)}else r.current=null}function qg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Kt(t,t.return,c)}}function Oh(t,n,r){try{var l=t.stateNode;rE(l,t.type,r,n),l[de]=n}catch(c){Kt(t,t.return,c)}}function Hg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ar(t.type)||t.tag===4}function Mh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Hg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=vu));else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Uh(t,n,r),t=t.sibling;t!==null;)Uh(t,n,r),t=t.sibling}function ou(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ou(t,n,r),t=t.sibling;t!==null;)ou(t,n,r),t=t.sibling}function Gg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,r),n[Te]=t,n[de]=r}catch(f){Kt(t,t.return,f)}}var Vi=!1,ce=!1,zh=!1,Qg=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function P0(t,n){if(t=t.containerInfo,lf=wu,t=nm(t),Mc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,P=0,G=0,X=t,k=null;e:for(;;){for(var j;X!==r||c!==0&&X.nodeType!==3||(E=y+c),X!==f||l!==0&&X.nodeType!==3||(b=y+l),X.nodeType===3&&(y+=X.nodeValue.length),(j=X.firstChild)!==null;)k=X,X=j;for(;;){if(X===t)break e;if(k===r&&++P===c&&(E=y),k===f&&++G===l&&(b=y),(j=X.nextSibling)!==null)break;X=k,k=X.parentNode}X=j}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(of={focusedElem:t,selectionRange:r},wu=!1,Ne=n;Ne!==null;)if(n=Ne,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ne=t;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var _t=ra(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(_t,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Kt(r,r.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)hf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ne=t;break}Ne=n.return}}function Fg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ji(t,r),l&4&&yl(5,r);break;case 1:if(Ji(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Kt(r,r.return,y)}else{var c=ra(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(r,r.return,y)}}l&64&&kg(r),l&512&&_l(r,r.return);break;case 3:if(Ji(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Cm(t,n)}catch(y){Kt(r,r.return,y)}}break;case 27:n===null&&l&4&&Gg(r);case 26:case 5:Ji(t,r),n===null&&l&4&&qg(r),l&512&&_l(r,r.return);break;case 12:Ji(t,r);break;case 13:Ji(t,r),l&4&&Kg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Y0.bind(null,r),hE(t,r))));break;case 22:if(l=r.memoizedState!==null||Vi,!l){n=n!==null&&n.memoizedState!==null||ce,c=Vi;var f=ce;Vi=l,(ce=n)&&!f?Wi(t,r,(r.subtreeFlags&8772)!==0):Ji(t,r),Vi=c,ce=f}break;case 30:break;default:Ji(t,r)}}function Yg(t){var n=t.alternate;n!==null&&(t.alternate=null,Yg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ki(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,tn=!1;function Ii(t,n,r){for(r=r.child;r!==null;)Xg(t,n,r),r=r.sibling}function Xg(t,n,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(ae,r)}catch{}switch(r.tag){case 26:ce||$n(r,n),Ii(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ce||$n(r,n);var l=ne,c=tn;ar(r.type)&&(ne=r.stateNode,tn=!1),Ii(t,n,r),Cl(r.stateNode),ne=l,tn=c;break;case 5:ce||$n(r,n);case 6:if(l=ne,c=tn,ne=null,Ii(t,n,r),ne=l,tn=c,ne!==null)if(tn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{ne.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:ne!==null&&(tn?(t=ne,zp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ul(t)):zp(ne,r.stateNode));break;case 4:l=ne,c=tn,ne=r.stateNode.containerInfo,tn=!0,Ii(t,n,r),ne=l,tn=c;break;case 0:case 11:case 14:case 15:ce||$i(2,r,n),ce||$i(4,r,n),Ii(t,n,r);break;case 1:ce||($n(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&jg(r,n,l)),Ii(t,n,r);break;case 21:Ii(t,n,r);break;case 22:ce=(l=ce)||r.memoizedState!==null,Ii(t,n,r),ce=l;break;default:Ii(t,n,r)}}function Kg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ul(t)}catch(r){Kt(n,n.return,r)}}function B0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Qg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Qg),n;default:throw Error(a(435,t.tag))}}function Lh(t,n){var r=B0(t);n.forEach(function(l){var c=X0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function un(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ar(E.type)){ne=E.stateNode,tn=!1;break t}break;case 5:ne=E.stateNode,tn=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(ne===null)throw Error(a(160));Xg(f,y,c),ne=null,tn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Zg(n,t),n=n.sibling}var On=null;function Zg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&($i(3,t,t.return),yl(3,t),$i(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(ce||r===null||$n(r,r.return)),l&64&&Vi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=On;if(un(n,t),cn(t),l&512&&(ce||r===null||$n(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Or]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,r),f[Te]=t,oe(f),l=f;break t;case"link":var y=Gp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Gp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[Te]=t,oe(f),l=f}t.stateNode=l}else Qp(c,t.type,t.stateNode);else t.stateNode=Hp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Qp(c,t.type,t.stateNode):Hp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Oh(t,t.memoizedProps,r.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(ce||r===null||$n(r,r.return)),r!==null&&l&4&&Oh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(ce||r===null||$n(r,r.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(j){Kt(t,t.return,j)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Oh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(zh=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(j){Kt(t,t.return,j)}}break;case 3:if(Su=null,c=On,On=Tu(n.containerInfo),un(n,t),On=c,cn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ul(n.containerInfo)}catch(j){Kt(t,t.return,j)}zh&&(zh=!1,$g(t));break;case 4:l=On,On=Tu(t.stateNode.containerInfo),un(n,t),cn(t),On=l;break;case 12:un(n,t),cn(t);break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Hh=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,P=Vi,G=ce;if(Vi=P||c,ce=G||b,un(n,t),ce=G,Vi=P,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Vi||ce||aa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var X=b.memoizedProps.style,k=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(j){Kt(b,b.return,j)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(j){Kt(b,b.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Lh(t,r))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lh(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Hg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Mh(t);ou(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(yn(y,""),r.flags&=-33);var E=Mh(t);ou(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,P=Mh(t);Uh(t,P,b);break;default:throw Error(a(161))}}catch(G){Kt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function $g(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;$g(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Fg(t,n.alternate,n),n=n.sibling}function aa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$i(4,n,n.return),aa(n);break;case 1:$n(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&jg(n,n.return,r),aa(n);break;case 27:Cl(n.stateNode);case 26:case 5:$n(n,n.return),aa(n);break;case 22:n.memoizedState===null&&aa(n);break;case 30:aa(n);break;default:aa(n)}t=t.sibling}}function Wi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(c,f,r),yl(4,f);break;case 1:if(Wi(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Kt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)wm(b[c],E)}catch(P){Kt(l,l.return,P)}}r&&y&64&&kg(f),_l(f,f.return);break;case 27:Gg(f);case 26:case 5:Wi(c,f,r),r&&l===null&&y&4&&qg(f),_l(f,f.return);break;case 12:Wi(c,f,r);break;case 13:Wi(c,f,r),r&&y&4&&Kg(c,f);break;case 22:f.memoizedState===null&&Wi(c,f,r),_l(f,f.return);break;case 30:break;default:Wi(c,f,r)}n=n.sibling}}function Ph(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&il(r))}function Bh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t))}function Jn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Jg(t,n,r,l),n=n.sibling}function Jg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,r,l),c&2048&&yl(9,n);break;case 1:Jn(t,n,r,l);break;case 3:Jn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t)));break;case 12:if(c&2048){Jn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else Jn(t,n,r,l);break;case 13:Jn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,r,l):vl(t,n):f._visibility&2?Jn(t,n,r,l):(f._visibility|=2,Ka(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Ph(y,n);break;case 24:Jn(t,n,r,l),c&2048&&Bh(n.alternate,n);break;default:Jn(t,n,r,l)}}function Ka(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Ka(f,y,E,b,c),yl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Ka(f,y,E,b,c):vl(f,y):(G._visibility|=2,Ka(f,y,E,b,c)),c&&P&2048&&Ph(y.alternate,y);break;case 24:Ka(f,y,E,b,c),c&&P&2048&&Bh(y.alternate,y);break;default:Ka(f,y,E,b,c)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:vl(r,l),c&2048&&Ph(l.alternate,l);break;case 24:vl(r,l),c&2048&&Bh(l.alternate,l);break;default:vl(r,l)}n=n.sibling}}var El=8192;function Za(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)Wg(t),t=t.sibling}function Wg(t){switch(t.tag){case 26:Za(t),t.flags&El&&t.memoizedState!==null&&bE(On,t.memoizedState,t.memoizedProps);break;case 5:Za(t);break;case 3:case 4:var n=On;On=Tu(t.stateNode.containerInfo),Za(t),On=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=El,El=16777216,Za(t),El=n):Za(t));break;default:Za(t)}}function tp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,np(l,t)}tp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ep(t),t=t.sibling}function ep(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&$i(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,uu(t)):Tl(t);break;default:Tl(t)}}function uu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,np(l,t)}tp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$i(8,n,n.return),uu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,uu(n));break;default:uu(n)}t=t.sibling}}function np(t,n){for(;Ne!==null;){var r=Ne;switch(r.tag){case 0:case 11:case 15:$i(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ne=l;else t:for(r=t;Ne!==null;){l=Ne;var c=l.sibling,f=l.return;if(Yg(l),l===r){Ne=null;break t}if(c!==null){c.return=f,Ne=c;break t}Ne=f}}}var k0={getCacheForType:function(t){var n=Ge(be),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},j0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,Vt=null,Ut=0,Gt=0,hn=null,tr=!1,$a=!1,kh=!1,Ni=0,le=0,er=0,sa=0,jh=0,wn=0,Ja=0,Al=null,en=null,qh=!1,Hh=0,cu=1/0,hu=null,nr=null,Le=0,ir=null,Wa=null,ts=0,Gh=0,Qh=null,ip=null,Sl=0,Fh=null;function fn(){if((Ht&2)!==0&&Ut!==0)return Ut&-Ut;if(H.T!==null){var t=ja;return t!==0?t:Wh()}return Pi()}function rp(){wn===0&&(wn=(Ut&536870912)===0||Bt?xs():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),wn}function dn(t,n,r){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(es(t,0),rr(t,Ut,wn,!1)),ui(t,r),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(sa|=r),le===4&&rr(t,Ut,wn,!1)),Wn(t))}function ap(t,n,r){if((Ht&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||xr(t,n),c=l?G0(t,n):Kh(t,n,!0),f=l;do{if(c===0){$a&&!l&&rr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!q0(r)){c=Kh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Al;var b=E.current.memoizedState.isDehydrated;if(b&&(es(E,y).flags|=256),y=Kh(E,y,!1),y!==2){if(kh&&!b){E.errorRecoveryDisabledLanes|=f,sa|=f,c=4;break t}f=en,en=c,f!==null&&(en===null?en=f:en.push.apply(en,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){es(t,0),rr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:rr(l,n,wn,!tr);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Hh+300-gn(),10<c)){if(rr(l,n,wn,!tr),_a(l,0,!0)!==0)break t;l.timeoutHandle=Mp(sp.bind(null,l,r,en,hu,qh,n,wn,sa,Ja,tr,f,2,-0,0),c);break t}sp(l,r,en,hu,qh,n,wn,sa,Ja,tr,f,0,-0,0)}}break}while(!0);Wn(t)}function sp(t,n,r,l,c,f,y,E,b,P,G,X,k,j){if(t.timeoutHandle=-1,X=n.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:SE},Wg(n),X=RE(),X!==null)){t.cancelPendingCommit=X(dp.bind(null,t,n,f,r,l,c,y,E,b,G,1,k,j)),rr(t,f,y,!P);return}dp(t,n,f,r,l,c,y,E,b)}function q0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function rr(t,n,r,l){n&=~jh,n&=~sa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-He(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Pn(t,r,n)}function fu(){return(Ht&6)===0?(bl(0),!1):!0}function Yh(){if(Vt!==null){if(Gt===0)var t=Vt.return;else t=Vt,Si=ta=null,ch(t),Ya=null,ml=0,t=Vt;for(;t!==null;)Bg(t.alternate,t),t=t.return;Vt=null}}function es(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,sE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Yh(),$t=t,Vt=r=Ei(t.current,null),Ut=n,Gt=0,hn=null,tr=!1,$a=xr(t,n),kh=!1,Ja=wn=jh=sa=er=le=0,en=Al=null,qh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-He(l),f=1<<c;n|=t[c],l&=~f}return Ni=n,Mo(),r}function lp(t,n){wt=null,H.H=Wo,n===al||n===Ho?(n=bm(),Gt=3):n===Tm?(n=bm(),Gt=4):Gt=n===Rg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Vt===null&&(le=1,ru(t,Tn(n,t.current)))}function op(){var t=H.H;return H.H=Wo,t===null?Wo:t}function up(){var t=H.A;return H.A=k0,t}function Xh(){le=4,tr||(Ut&4194048)!==Ut&&Rn.current!==null||($a=!0),(er&134217727)===0&&(sa&134217727)===0||$t===null||rr($t,Ut,wn,!1)}function Kh(t,n,r){var l=Ht;Ht|=2;var c=op(),f=up();($t!==t||Ut!==n)&&(hu=null,es(t,n)),n=!1;var y=le;t:do try{if(Gt!==0&&Vt!==null){var E=Vt,b=hn;switch(Gt){case 8:Yh(),y=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var P=Gt;if(Gt=0,hn=null,ns(t,E,b,P),r&&$a){y=0;break t}break;default:P=Gt,Gt=0,hn=null,ns(t,E,b,P)}}H0(),y=le;break}catch(G){lp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Si=ta=null,Ht=l,H.H=c,H.A=f,Vt===null&&($t=null,Ut=0,Mo()),y}function H0(){for(;Vt!==null;)cp(Vt)}function G0(t,n){var r=Ht;Ht|=2;var l=op(),c=up();$t!==t||Ut!==n?(hu=null,cu=gn()+500,es(t,n)):$a=xr(t,n);t:do try{if(Gt!==0&&Vt!==null){n=Vt;var f=hn;e:switch(Gt){case 1:Gt=0,hn=null,ns(t,n,f,1);break;case 2:case 9:if(Am(f)){Gt=0,hn=null,hp(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Wn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Am(f)?(Gt=0,hn=null,hp(n)):(Gt=0,hn=null,ns(t,n,f,7));break;case 5:var y=null;switch(Vt.tag){case 26:y=Vt.memoizedState;case 5:case 27:var E=Vt;if(!y||Fp(y)){Gt=0,hn=null;var b=E.sibling;if(b!==null)Vt=b;else{var P=E.return;P!==null?(Vt=P,du(P)):Vt=null}break e}}Gt=0,hn=null,ns(t,n,f,5);break;case 6:Gt=0,hn=null,ns(t,n,f,6);break;case 8:Yh(),le=6;break t;default:throw Error(a(462))}}Q0();break}catch(G){lp(t,G)}while(!0);return Si=ta=null,H.H=l,H.A=c,Ht=r,Vt!==null?0:($t=null,Ut=0,Mo(),le)}function Q0(){for(;Vt!==null&&!Ds();)cp(Vt)}function cp(t){var n=Lg(t.alternate,t,Ni);t.memoizedProps=t.pendingProps,n===null?du(t):Vt=n}function hp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Ng(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Ng(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:ch(n);default:Bg(r,n),n=Vt=fm(n,Ni),n=Lg(r,n,Ni)}t.memoizedProps=t.pendingProps,n===null?du(t):Vt=n}function ns(t,n,r,l){Si=ta=null,ch(n),Ya=null,ml=0;var c=n.return;try{if(M0(t,c,n,r,Ut)){le=1,ru(t,Tn(r,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;le=1,ru(t,Tn(r,t.current)),Vt=null;return}n.flags&32768?(Bt||l===1?t=!0:$a||(Ut&536870912)!==0?t=!1:(tr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),fp(n,t)):du(n)}function du(t){var n=t;do{if((n.flags&32768)!==0){fp(n,tr);return}t=n.return;var r=z0(n.alternate,n,Ni);if(r!==null){Vt=r;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);le===0&&(le=5)}function fp(t,n){do{var r=L0(t.alternate,t);if(r!==null){r.flags&=32767,Vt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=r}while(t!==null);le=6,Vt=null}function dp(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do mu();while(Le!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bc,Ms(t,r,f,y,E,b),t===$t&&(Vt=$t=null,Ut=0),Wa=n,ir=t,ts=r,Gh=f,Qh=c,ip=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,K0(Dr,function(){return _p(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=B.p,B.p=2,y=Ht,Ht|=4;try{P0(t,n,r)}finally{Ht=y,B.p=c,H.T=l}}Le=1,mp(),gp(),pp()}}function mp(){if(Le===1){Le=0;var t=ir,n=Wa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=B.p;B.p=2;var c=Ht;Ht|=4;try{Zg(n,t);var f=of,y=nm(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&em(E.ownerDocument.documentElement,E)){if(b!==null&&Mc(E)){var P=b.start,G=b.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,k=X&&X.defaultView||window;if(k.getSelection){var j=k.getSelection(),_t=E.textContent.length,ft=Math.min(b.start,_t),Xt=b.end===void 0?ft:Math.min(b.end,_t);!j.extend&&ft>Xt&&(y=Xt,Xt=ft,ft=y);var U=tm(E,ft),D=tm(E,Xt);if(U&&D&&(j.rangeCount!==1||j.anchorNode!==U.node||j.anchorOffset!==U.offset||j.focusNode!==D.node||j.focusOffset!==D.offset)){var L=X.createRange();L.setStart(U.node,U.offset),j.removeAllRanges(),ft>Xt?(j.addRange(L),j.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),j.addRange(L))}}}}for(X=[],j=E;j=j.parentNode;)j.nodeType===1&&X.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var F=X[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}wu=!!lf,of=lf=null}finally{Ht=c,B.p=l,H.T=r}}t.current=n,Le=2}}function gp(){if(Le===2){Le=0;var t=ir,n=Wa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=B.p;B.p=2;var c=Ht;Ht|=4;try{Fg(t,n.alternate,n)}finally{Ht=c,B.p=l,H.T=r}}Le=3}}function pp(){if(Le===4||Le===3){Le=0,oo();var t=ir,n=Wa,r=ts,l=ip;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,Wa=ir=null,yp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(nr=null),va(r),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=B.p,B.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,B.p=c}}(ts&3)!==0&&mu(),Wn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Fh?Sl++:(Sl=0,Fh=t):Sl=0,bl(0)}}function yp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,il(n)))}function mu(t){return mp(),gp(),pp(),_p()}function _p(){if(Le!==5)return!1;var t=ir,n=Gh;Gh=0;var r=va(ts),l=H.T,c=B.p;try{B.p=32>r?32:r,H.T=null,r=Qh,Qh=null;var f=ir,y=ts;if(Le=0,Wa=ir=null,ts=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,ep(f.current),Jg(f,f.current,y,r),Ht=E,bl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{B.p=c,H.T=l,yp(t,n)}}function vp(t,n,r){n=Tn(r,n),n=bh(t.stateNode,n,2),t=Yi(t,n,2),t!==null&&(ui(t,2),Wn(t))}function Kt(t,n,r){if(t.tag===3)vp(t,t,r);else for(;n!==null;){if(n.tag===3){vp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(nr===null||!nr.has(l))){t=Tn(r,t),r=Sg(2),l=Yi(n,r,2),l!==null&&(bg(r,l,n,t),ui(l,2),Wn(l));break}}n=n.return}}function Zh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new j0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(kh=!0,c.add(r),t=F0.bind(null,t,n,r),n.then(t,t))}function F0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(Ut&r)===r&&(le===4||le===3&&(Ut&62914560)===Ut&&300>gn()-Hh?(Ht&2)===0&&es(t,0):jh|=r,Ja===Ut&&(Ja=0)),Wn(t)}function Ep(t,n){n===0&&(n=Os()),t=La(t,n),t!==null&&(ui(t,n),Wn(t))}function Y0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Ep(t,r)}function X0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Ep(t,r)}function K0(t,n){return wr(t,n)}var gu=null,is=null,$h=!1,pu=!1,Jh=!1,la=0;function Wn(t){t!==is&&t.next===null&&(is===null?gu=is=t:is=is.next=t),pu=!0,$h||($h=!0,$0())}function bl(t,n){if(!Jh&&pu){Jh=!0;do for(var r=!1,l=gu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-He(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,bp(l,f))}else f=Ut,f=_a(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||xr(l,f)||(r=!0,bp(l,f));l=l.next}while(r);Jh=!1}}function Z0(){Tp()}function Tp(){pu=$h=!1;var t=0;la!==0&&(aE()&&(t=la),la=0);for(var n=gn(),r=null,l=gu;l!==null;){var c=l.next,f=Ap(l,n);f===0?(l.next=null,r===null?gu=c:r.next=c,c===null&&(is=r)):(r=l,(t!==0||(f&3)!==0)&&(pu=!0)),l=c}bl(t)}function Ap(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-He(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Ns(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=Ut,r=_a(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Cr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||xr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Cr(l),va(r)){case 2:case 8:r=pa;break;case 32:r=Dr;break;case 268435456:r=ya;break;default:r=Dr}return l=Sp.bind(null,t),r=wr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Cr(l),t.callbackPriority=2,t.callbackNode=null,2}function Sp(t,n){if(Le!==0&&Le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(mu()&&t.callbackNode!==r)return null;var l=Ut;return l=_a(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ap(t,l,n),Ap(t,gn()),t.callbackNode!=null&&t.callbackNode===r?Sp.bind(null,t):null)}function bp(t,n){if(mu())return null;ap(t,n,!0)}function $0(){lE(function(){(Ht&6)!==0?wr(Vs,Z0):Tp()})}function Wh(){return la===0&&(la=xs()),la}function Rp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ra(""+t)}function wp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function J0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Rp((c[de]||null).action),y=l.submitter;y&&(n=(n=y[de]||null)?Rp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new wa("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(la!==0){var b=y?wp(c,y):new FormData(c);vh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?wp(c,y):new FormData(c),vh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var tf=0;tf<Pc.length;tf++){var ef=Pc[tf],W0=ef.toLowerCase(),tE=ef[0].toUpperCase()+ef.slice(1);xn(W0,"on"+tE)}xn(am,"onAnimationEnd"),xn(sm,"onAnimationIteration"),xn(lm,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(y0,"onTransitionRun"),xn(_0,"onTransitionStart"),xn(v0,"onTransitionCancel"),xn(om,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function Cp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){iu(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){iu(G)}c.currentTarget=null,f=b}}}}function It(t,n){var r=n[zs];r===void 0&&(r=n[zs]=new Set);var l=t+"__bubble";r.has(l)||(Dp(n,t,2,!1),r.add(l))}function nf(t,n,r){var l=0;n&&(l|=4),Dp(r,t,l,n)}var yu="_reactListening"+Math.random().toString(36).slice(2);function rf(t){if(!t[yu]){t[yu]=!0,Ls.forEach(function(r){r!=="selectionchange"&&(eE.has(r)||nf(r,!1,t),nf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[yu]||(n[yu]=!0,nf("selectionchange",!1,n))}}function Dp(t,n,r,l){switch(Jp(n)){case 2:var c=DE;break;case 8:c=VE;break;default:c=_f}r=c.bind(null,n,r,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function af(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ci(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}vo(function(){var P=f,G=_n(r),X=[];t:{var k=um.get(t);if(k!==void 0){var j=wa,_t=t;switch(t){case"keypress":if(Gn(r)===0)break t;case"keydown":case"keyup":j=xa;break;case"focusin":_t="focus",j=Va;break;case"focusout":_t="blur",j=Va;break;case"beforeblur":case"afterblur":j=Va;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Co;break;case am:case sm:case lm:j=Ia;break;case om:j=Vo;break;case"scroll":case"scrollend":j=Eo;break;case"wheel":j=Oa;break;case"copy":case"cut":case"paste":j=Na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Ks;break;case"toggle":case"beforetoggle":j=No}var ft=(n&4)!==0,Xt=!ft&&(t==="scroll"||t==="scrollend"),U=ft?k!==null?k+"Capture":null:k;ft=[];for(var D=P,L;D!==null;){var F=D;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||U===null||(F=kr(D,U),F!=null&&ft.push(wl(D,F,L))),Xt)break;D=D.return}0<ft.length&&(k=new j(k,_t,null,r,G),X.push({event:k,listeners:ft}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",k&&r!==mi&&(_t=r.relatedTarget||r.fromElement)&&(ci(_t)||_t[pn]))break t;if((j||k)&&(k=G.window===G?G:(k=G.ownerDocument)?k.defaultView||k.parentWindow:window,j?(_t=r.relatedTarget||r.toElement,j=P,_t=_t?ci(_t):null,_t!==null&&(Xt=h(_t),ft=_t.tag,_t!==Xt||ft!==5&&ft!==27&&ft!==6)&&(_t=null)):(j=null,_t=P),j!==_t)){if(ft=En,F="onMouseLeave",U="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ft=Ks,F="onPointerLeave",U="onPointerEnter",D="pointer"),Xt=j==null?k:kn(j),L=_t==null?k:kn(_t),k=new ft(F,D+"leave",j,r,G),k.target=Xt,k.relatedTarget=L,F=null,ci(G)===P&&(ft=new ft(U,D+"enter",_t,r,G),ft.target=L,ft.relatedTarget=Xt,F=ft),Xt=F,j&&_t)e:{for(ft=j,U=_t,D=0,L=ft;L;L=rs(L))D++;for(L=0,F=U;F;F=rs(F))L++;for(;0<D-L;)ft=rs(ft),D--;for(;0<L-D;)U=rs(U),L--;for(;D--;){if(ft===U||U!==null&&ft===U.alternate)break e;ft=rs(ft),U=rs(U)}ft=null}else ft=null;j!==null&&Vp(X,k,j,ft,!1),_t!==null&&Xt!==null&&Vp(X,Xt,_t,ft,!0)}}t:{if(k=P?kn(P):window,j=k.nodeName&&k.nodeName.toLowerCase(),j==="select"||j==="input"&&k.type==="file")var lt=Xd;else if(Se(k))if(Kd)lt=m0;else{lt=f0;var Dt=h0}else j=k.nodeName,!j||j.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?P&&qs(P.elementType)&&(lt=Xd):lt=d0;if(lt&&(lt=lt(t,P))){vi(X,lt,r,G);break t}Dt&&Dt(t,k,P),t==="focusout"&&P&&k.type==="number"&&P.memoizedProps.value!=null&&qi(k,"number",k.value)}switch(Dt=P?kn(P):window,t){case"focusin":(Se(Dt)||Dt.contentEditable==="true")&&(Ma=Dt,Uc=P,Js=null);break;case"focusout":Js=Uc=Ma=null;break;case"mousedown":zc=!0;break;case"contextmenu":case"mouseup":case"dragend":zc=!1,im(X,r,G);break;case"selectionchange":if(p0)break;case"keydown":case"keyup":im(X,r,G)}var ot;if(Yn)t:{switch(t){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Ot?q(t,r)&&(mt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(mt="onCompositionStart");mt&&(g&&r.locale!=="ko"&&(Ot||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Ot&&(ot=Gs()):(Hn=G,Hi="value"in Hn?Hn.value:Hn.textContent,Ot=!0)),Dt=_u(P,mt),0<Dt.length&&(mt=new Ys(mt,t,null,r,G),X.push({event:mt,listeners:Dt}),ot?mt.data=ot:(ot=nt(r),ot!==null&&(mt.data=ot)))),(ot=m?Ae(t,r):Mt(t,r))&&(mt=_u(P,"onBeforeInput"),0<mt.length&&(Dt=new Ys("onBeforeInput","beforeinput",null,r,G),X.push({event:Dt,listeners:mt}),Dt.data=ot)),J0(X,t,P,r,G)}Cp(X,n)})}function wl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function _u(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=kr(t,r),c!=null&&l.unshift(wl(t,c,f)),c=kr(t,n),c!=null&&l.push(wl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=kr(r,f),P!=null&&y.unshift(wl(r,P,b))):c||(P=kr(r,f),P!=null&&y.push(wl(r,P,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var nE=/\r\n?/g,iE=/\u0000|\uFFFD/g;function Ip(t){return(typeof t=="string"?t:""+t).replace(nE,`
`).replace(iE,"")}function Np(t,n){return n=Ip(n),Ip(t)===n}function vu(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":jn(t,"class",l);break;case"tabIndex":jn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(t,r,l);break;case"style":js(t,l,f);break;case"data":if(n!=="object"){jn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ra(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ra(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=vu);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ra(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":It("beforetoggle",t),It("toggle",t),ji(t,"popover",l);break;case"xlinkActuate":Me(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Me(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Me(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Me(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Me(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Me(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Me(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Me(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Me(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ji(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Dc.get(r)||r,ji(t,r,l))}}function sf(t,n,r,l,c,f){switch(r){case"style":js(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=vu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ea.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[de]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ji(t,r,l)}}}function Pe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,f,y,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":It("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Yt(t,n,l,G,r,null)}}Lr(t,f,E,b,P,y,c,!1),ba(t);return;case"select":It("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?di(t,!!l,n,!1):r!=null&&di(t,!!l,r,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Yt(t,n,y,E,r,null)}Pr(t,l,c,f),ba(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,r,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)It(Rl[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,P,l,r,null)}return;default:if(qs(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&sf(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function rE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,G=null;for(j in r){var X=r[j];if(r.hasOwnProperty(j)&&X!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":b=X;default:l.hasOwnProperty(j)||Yt(t,n,j,null,l,X)}}for(var k in l){var j=l[k];if(X=r[k],l.hasOwnProperty(k)&&(j!=null||X!=null))switch(k){case"type":f=j;break;case"name":c=j;break;case"checked":P=j;break;case"defaultChecked":G=j;break;case"value":y=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==X&&Yt(t,n,k,j,l,X)}}sn(t,y,E,b,P,G,f,c);return;case"select":j=y=E=k=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":j=b;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Yt(t,n,c,f,l,b)}n=E,r=y,l=j,k!=null?di(t,!!r,k,!1):!!l!=!!r&&(n!=null?di(t,!!r,n,!0):di(t,!!r,r?[]:"",!1));return;case"textarea":j=k=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":k=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Qt(t,k,j);return;case"option":for(var _t in r)if(k=r[_t],r.hasOwnProperty(_t)&&k!=null&&!l.hasOwnProperty(_t))switch(_t){case"selected":t.selected=!1;break;default:Yt(t,n,_t,null,l,k)}for(b in l)if(k=l[b],j=r[b],l.hasOwnProperty(b)&&k!==j&&(k!=null||j!=null))switch(b){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Yt(t,n,b,k,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in r)k=r[ft],r.hasOwnProperty(ft)&&k!=null&&!l.hasOwnProperty(ft)&&Yt(t,n,ft,null,l,k);for(P in l)if(k=l[P],j=r[P],l.hasOwnProperty(P)&&k!==j&&(k!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:Yt(t,n,P,k,l,j)}return;default:if(qs(n)){for(var Xt in r)k=r[Xt],r.hasOwnProperty(Xt)&&k!==void 0&&!l.hasOwnProperty(Xt)&&sf(t,n,Xt,void 0,l,k);for(G in l)k=l[G],j=r[G],!l.hasOwnProperty(G)||k===j||k===void 0&&j===void 0||sf(t,n,G,k,l,j);return}}for(var U in r)k=r[U],r.hasOwnProperty(U)&&k!=null&&!l.hasOwnProperty(U)&&Yt(t,n,U,null,l,k);for(X in l)k=l[X],j=r[X],!l.hasOwnProperty(X)||k===j||k==null&&j==null||Yt(t,n,X,k,l,j)}var lf=null,of=null;function Eu(t){return t.nodeType===9?t:t.ownerDocument}function xp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Op(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function uf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cf=null;function aE(){var t=window.event;return t&&t.type==="popstate"?t===cf?!1:(cf=t,!0):(cf=null,!1)}var Mp=typeof setTimeout=="function"?setTimeout:void 0,sE=typeof clearTimeout=="function"?clearTimeout:void 0,Up=typeof Promise=="function"?Promise:void 0,lE=typeof queueMicrotask=="function"?queueMicrotask:typeof Up<"u"?function(t){return Up.resolve(null).then(t).catch(oE)}:Mp;function oE(t){setTimeout(function(){throw t})}function ar(t){return t==="head"}function zp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Cl(y.documentElement),r&2&&Cl(y.body),r&4)for(r=y.head,Cl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Or]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Ul(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Ul(n)}function hf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":hf(r),ki(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function uE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Or])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function cE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Mn(t.nextSibling),t===null))return null;return t}function ff(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function hE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var df=null;function Lp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Pp(t,n,r){switch(n=Eu(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Cl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ki(t)}var Cn=new Map,Bp=new Set;function Tu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var xi=B.d;B.d={f:fE,r:dE,D:mE,C:gE,L:pE,m:yE,X:vE,S:_E,M:EE};function fE(){var t=xi.f(),n=fu();return t||n}function dE(t){var n=Bn(t);n!==null&&n.tag===5&&n.type==="form"?ag(n):xi.r(t)}var as=typeof document>"u"?null:document;function kp(t,n,r){var l=as;if(l&&typeof n=="string"&&n){var c=me(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Bp.has(c)||(Bp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),oe(n),l.head.appendChild(n)))}}function mE(t){xi.D(t),kp("dns-prefetch",t,null)}function gE(t,n){xi.C(t,n),kp("preconnect",t,n)}function pE(t,n,r){xi.L(t,n,r);var l=as;if(l&&t&&n){var c='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+me(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+me(r.imageSizes)+'"]')):c+='[href="'+me(t)+'"]';var f=c;switch(n){case"style":f=ss(t);break;case"script":f=ls(t)}Cn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Cn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Dl(f))||n==="script"&&l.querySelector(Vl(f))||(n=l.createElement("link"),Pe(n,"link",t),oe(n),l.head.appendChild(n)))}}function yE(t,n){xi.m(t,n);var r=as;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+me(l)+'"][href="'+me(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ls(t)}if(!Cn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Cn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Vl(f)))return}l=r.createElement("link"),Pe(l,"link",t),oe(l),r.head.appendChild(l)}}}function _E(t,n,r){xi.S(t,n,r);var l=as;if(l&&t){var c=Ke(l).hoistableStyles,f=ss(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Dl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Cn.get(f))&&mf(t,r);var b=y=l.createElement("link");oe(b),Pe(b,"link",t),b._p=new Promise(function(P,G){b.onload=P,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Au(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function vE(t,n){xi.X(t,n);var r=as;if(r&&t){var l=Ke(r).hoistableScripts,c=ls(t),f=l.get(c);f||(f=r.querySelector(Vl(c)),f||(t=A({src:t,async:!0},n),(n=Cn.get(c))&&gf(t,n),f=r.createElement("script"),oe(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function EE(t,n){xi.M(t,n);var r=as;if(r&&t){var l=Ke(r).hoistableScripts,c=ls(t),f=l.get(c);f||(f=r.querySelector(Vl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Cn.get(c))&&gf(t,n),f=r.createElement("script"),oe(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function jp(t,n,r,l){var c=(c=vt.current)?Tu(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ss(r.href),r=Ke(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ss(r.href);var f=Ke(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Dl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Cn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Cn.set(t,r),f||TE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ls(r),r=Ke(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ss(t){return'href="'+me(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function qp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function TE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",r),oe(n),t.head.appendChild(n))}function ls(t){return'[src="'+me(t)+'"]'}function Vl(t){return"script[async]"+t}function Hp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+me(r.href)+'"]');if(l)return n.instance=l,oe(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),oe(l),Pe(l,"style",c),Au(l,r.precedence,t),n.instance=l;case"stylesheet":c=ss(r.href);var f=t.querySelector(Dl(c));if(f)return n.state.loading|=4,n.instance=f,oe(f),f;l=qp(r),(c=Cn.get(c))&&mf(l,c),f=(t.ownerDocument||t).createElement("link"),oe(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Pe(f,"link",l),n.state.loading|=4,Au(f,r.precedence,t),n.instance=f;case"script":return f=ls(r.src),(c=t.querySelector(Vl(f)))?(n.instance=c,oe(c),c):(l=r,(c=Cn.get(f))&&(l=A({},r),gf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),oe(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Au(l,r.precedence,t));return n.instance}function Au(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function gf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Su=null;function Gp(t,n,r){if(Su===null){var l=new Map,c=Su=new Map;c.set(r,l)}else c=Su,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Or]||f[Te]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Qp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function AE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Fp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function SE(){}function bE(t,n,r){if(Il===null)throw Error(a(475));var l=Il;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ss(r.href),f=t.querySelector(Dl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=bu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,oe(f);return}f=t.ownerDocument||t,r=qp(r),(c=Cn.get(c))&&mf(r,c),f=f.createElement("link"),oe(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Pe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=bu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function RE(){if(Il===null)throw Error(a(475));var t=Il;return t.stylesheets&&t.count===0&&pf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&pf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function bu(){if(this.count--,this.count===0){if(this.stylesheets)pf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ru=null;function pf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ru=new Map,n.forEach(wE,t),Ru=null,bu.call(t))}function wE(t,n){if(!(n.state.loading&4)){var r=Ru.get(t);if(r)var l=r.get(null);else{r=new Map,Ru.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=bu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Nl={$$typeof:ut,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function CE(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Yp(t,n,r,l,c,f,y,E,b,P,G,X){return t=new CE(t,n,r,y,E,b,P,X),n=1,f===!0&&(n|=24),f=on(3,null,null,n),t.current=f,f.stateNode=t,n=Zc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},th(f),t}function Xp(t){return t?(t=Pa,t):Pa}function Kp(t,n,r,l,c,f){c=Xp(c),l.context===null?l.context=c:l.pendingContext=c,l=Fi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Yi(t,l,n),r!==null&&(dn(r,t,n),ll(r,t,n))}function Zp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function yf(t,n){Zp(t,n),(t=t.alternate)&&Zp(t,n)}function $p(t){if(t.tag===13){var n=La(t,67108864);n!==null&&dn(n,t,67108864),yf(t,67108864)}}var wu=!0;function DE(t,n,r,l){var c=H.T;H.T=null;var f=B.p;try{B.p=2,_f(t,n,r,l)}finally{B.p=f,H.T=c}}function VE(t,n,r,l){var c=H.T;H.T=null;var f=B.p;try{B.p=8,_f(t,n,r,l)}finally{B.p=f,H.T=c}}function _f(t,n,r,l){if(wu){var c=vf(l);if(c===null)af(t,n,l,Cu,r),Wp(t,l);else if(NE(c,t,n,r,l))l.stopPropagation();else if(Wp(t,l),n&4&&-1<IE.indexOf(t)){for(;c!==null;){var f=Bn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Vn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-He(y);E.entanglements[1]|=b,y&=~b}Wn(f),(Ht&6)===0&&(cu=gn()+500,bl(0))}}break;case 13:E=La(f,2),E!==null&&dn(E,f,2),fu(),yf(f,2)}if(f=vf(l),f===null&&af(t,n,l,Cu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else af(t,n,l,null,r)}}function vf(t){return t=_n(t),Ef(t)}var Cu=null;function Ef(t){if(Cu=null,t=ci(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cu=t,null}function Jp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ac()){case Vs:return 2;case pa:return 8;case Dr:case Sc:return 32;case ya:return 268435456;default:return 32}default:return 32}}var Tf=!1,sr=null,lr=null,or=null,xl=new Map,Ol=new Map,ur=[],IE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wp(t,n){switch(t){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function Ml(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Bn(n),n!==null&&$p(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function NE(t,n,r,l,c){switch(n){case"focusin":return sr=Ml(sr,t,n,r,l,c),!0;case"dragenter":return lr=Ml(lr,t,n,r,l,c),!0;case"mouseover":return or=Ml(or,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return xl.set(f,Ml(xl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ol.set(f,Ml(Ol.get(f)||null,t,n,r,l,c)),!0}return!1}function ty(t){var n=ci(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ho(t.priority,function(){if(r.tag===13){var l=fn();l=Li(l);var c=La(r,l);c!==null&&dn(c,r,l),yf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Du(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=vf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);mi=l,r.target.dispatchEvent(l),mi=null}else return n=Bn(r),n!==null&&$p(n),t.blockedOn=r,!1;n.shift()}return!0}function ey(t,n,r){Du(t)&&r.delete(n)}function xE(){Tf=!1,sr!==null&&Du(sr)&&(sr=null),lr!==null&&Du(lr)&&(lr=null),or!==null&&Du(or)&&(or=null),xl.forEach(ey),Ol.forEach(ey)}function Vu(t,n){t.blockedOn===n&&(t.blockedOn=null,Tf||(Tf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,xE)))}var Iu=null;function ny(t){Iu!==t&&(Iu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Iu===t&&(Iu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Ef(l||r)===null)continue;break}var f=Bn(r);f!==null&&(t.splice(n,3),n-=3,vh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ul(t){function n(b){return Vu(b,t)}sr!==null&&Vu(sr,t),lr!==null&&Vu(lr,t),or!==null&&Vu(or,t),xl.forEach(n),Ol.forEach(n);for(var r=0;r<ur.length;r++){var l=ur[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ur.length&&(r=ur[0],r.blockedOn===null);)ty(r),r.blockedOn===null&&ur.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[de]||null;if(typeof f=="function")y||ny(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[de]||null)E=y.formAction;else if(Ef(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),ny(r)}}}function Af(t){this._internalRoot=t}Nu.prototype.render=Af.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=fn();Kp(r,l,t,n,null,null)},Nu.prototype.unmount=Af.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Kp(t.current,2,null,t,null,null),fu(),n[pn]=null}};function Nu(t){this._internalRoot=t}Nu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Pi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ur.length&&n!==0&&n<ur[r].priority;r++);ur.splice(r,0,t),r===0&&ty(t)}};var iy=e.version;if(iy!=="19.1.1")throw Error(a(527,iy,"19.1.1"));B.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var OE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{ae=xu.inject(OE),qt=xu}catch{}}return Ll.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=vg,f=Eg,y=Tg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Yp(t,1,!1,null,null,r,l,c,f,y,E,null),t[pn]=n.current,rf(t),new Af(n)},Ll.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=vg,y=Eg,E=Tg,b=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Yp(t,1,!0,n,r??null,l,c,f,y,E,b,P),n.context=Xp(null),r=n.current,l=fn(),l=Li(l),c=Fi(l),c.callback=null,Yi(r,c,l),r=l,n.current.lanes=r,ui(n,r),Wn(n),t[pn]=n.current,rf(t),new Nu(n)},Ll.version="19.1.1",Ll}var dy;function GE(){if(dy)return wf.exports;dy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),wf.exports=HE(),wf.exports}var QE=GE();const FE=()=>{};var my={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},YE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],p=s[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},D_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,p=d?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,A=h>>2,N=(h&3)<<4|p>>4;let I=(p&15)<<2|v>>6,Q=v&63;_||(Q=64,d||(I=64)),a.push(i[A],i[N],i[I],i[Q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(C_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):YE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const N=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||p==null||v==null||N==null)throw new XE;const I=h<<2|p>>4;if(a.push(I),v!==64){const Q=p<<4&240|v>>2;if(a.push(Q),N!==64){const $=v<<6&192|N;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class XE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KE=function(s){const e=C_(s);return D_.encodeByteArray(e,!0)},Qu=function(s){return KE(s).replace(/\./g,"")},ZE=function(s){try{return D_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=()=>$E().__FIREBASE_DEFAULTS__,WE=()=>{if(typeof process>"u"||typeof my>"u")return;const s=my.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},t1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&ZE(s[1]);return e&&JSON.parse(e)},cd=()=>{try{return FE()||JE()||WE()||t1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},e1=s=>cd()?.emulatorHosts?.[s],n1=s=>{const e=e1(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},V_=()=>cd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function r1(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Qu(JSON.stringify(i)),Qu(JSON.stringify(d)),""].join(".")}const ql={};function s1(){const s={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?s.emulator.push(e):s.prod.push(e);return s}function l1(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let gy=!1;function o1(s,e){if(typeof window>"u"||typeof document>"u"||!hd(window.location.host)||ql[s]===e||ql[s]||gy)return;ql[s]=e;function i(I){return`__firebase__banner__${I}`}const a="__firebase__banner",h=s1().prod.length>0;function d(){const I=document.getElementById(a);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function _(I,Q){I.setAttribute("width","24"),I.setAttribute("id",Q),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function v(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{gy=!0,d()},I}function A(I,Q){I.setAttribute("id",Q),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function N(){const I=l1(a),Q=i("text"),$=document.getElementById(Q)||document.createElement("span"),rt=i("learnmore"),tt=document.getElementById(rt)||document.createElement("a"),Tt=i("preprendIcon"),dt=document.getElementById(Tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ut=I.element;p(ut),A(tt,rt);const Rt=v();_(dt,Tt),ut.append(dt,$,tt,Rt),document.body.appendChild(ut)}h?($.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c1(){const s=cd()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h1(){return!c1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f1(){try{return typeof indexedDB=="object"}catch{return!1}}function d1(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="FirebaseError";class As extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=m1,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I_.prototype.create)}}class I_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?g1(h,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new As(o,p,a)}}function g1(s,e){return s.replace(p1,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const p1=/\{\$([^}]+)}/g;function Fu(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=s[o],d=e[o];if(py(h)&&py(d)){if(!Fu(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function py(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(s){return s&&s._delegate?s._delegate:s}class Yl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new i1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v1(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const h=this.instances.get(a);return h&&e(h,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:_1(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _1(s){return s===oa?void 0:s}function v1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new y1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const T1={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},A1=Lt.INFO,S1={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},b1=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=S1[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class N_{constructor(e){this.name=e,this._logLevel=A1,this._logHandler=b1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?T1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const R1=(s,e)=>e.some(i=>s instanceof i);let yy,_y;function w1(){return yy||(yy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C1(){return _y||(_y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x_=new WeakMap,Bf=new WeakMap,O_=new WeakMap,If=new WeakMap,fd=new WeakMap;function D1(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(fr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&x_.set(i,s)}).catch(()=>{}),fd.set(e,s),e}function V1(s){if(Bf.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Bf.set(s,e)}let kf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Bf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||O_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return fr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function I1(s){kf=s(kf)}function N1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Nf(this),e,...i);return O_.set(a,e.sort?e.sort():[e]),fr(a)}:C1().includes(s)?function(...e){return s.apply(Nf(this),e),fr(x_.get(this))}:function(...e){return fr(s.apply(Nf(this),e))}}function x1(s){return typeof s=="function"?N1(s):(s instanceof IDBTransaction&&V1(s),R1(s,w1())?new Proxy(s,kf):s)}function fr(s){if(s instanceof IDBRequest)return D1(s);if(If.has(s))return If.get(s);const e=x1(s);return e!==s&&(If.set(s,e),fd.set(e,s)),e}const Nf=s=>fd.get(s);function O1(s,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),p=fr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(fr(d.result),_.oldVersion,_.newVersion,fr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const M1=["get","getKey","getAll","getAllKeys","count"],U1=["put","add","delete","clear"],xf=new Map;function vy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(xf.get(e))return xf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=U1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||M1.includes(i)))return;const h=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&_.done]))[0]};return xf.set(e,h),h}I1(s=>({...s,get:(e,i,a)=>vy(e,i)||s.get(e,i,a),has:(e,i)=>!!vy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(L1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function L1(s){return s.getComponent()?.type==="VERSION"}const jf="@firebase/app",Ey="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new N_("@firebase/app"),P1="@firebase/app-compat",B1="@firebase/analytics-compat",k1="@firebase/analytics",j1="@firebase/app-check-compat",q1="@firebase/app-check",H1="@firebase/auth",G1="@firebase/auth-compat",Q1="@firebase/database",F1="@firebase/data-connect",Y1="@firebase/database-compat",X1="@firebase/functions",K1="@firebase/functions-compat",Z1="@firebase/installations",$1="@firebase/installations-compat",J1="@firebase/messaging",W1="@firebase/messaging-compat",tT="@firebase/performance",eT="@firebase/performance-compat",nT="@firebase/remote-config",iT="@firebase/remote-config-compat",rT="@firebase/storage",aT="@firebase/storage-compat",sT="@firebase/firestore",lT="@firebase/ai",oT="@firebase/firestore-compat",uT="firebase",cT="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="[DEFAULT]",hT={[jf]:"fire-core",[P1]:"fire-core-compat",[k1]:"fire-analytics",[B1]:"fire-analytics-compat",[q1]:"fire-app-check",[j1]:"fire-app-check-compat",[H1]:"fire-auth",[G1]:"fire-auth-compat",[Q1]:"fire-rtdb",[F1]:"fire-data-connect",[Y1]:"fire-rtdb-compat",[X1]:"fire-fn",[K1]:"fire-fn-compat",[Z1]:"fire-iid",[$1]:"fire-iid-compat",[J1]:"fire-fcm",[W1]:"fire-fcm-compat",[tT]:"fire-perf",[eT]:"fire-perf-compat",[nT]:"fire-rc",[iT]:"fire-rc-compat",[rT]:"fire-gcs",[aT]:"fire-gcs-compat",[sT]:"fire-fst",[oT]:"fire-fst-compat",[lT]:"fire-vertex","fire-js":"fire-js",[uT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new Map,fT=new Map,Hf=new Map;function Ty(s,e){try{s.container.addComponent(e)}catch(i){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Xu(s){const e=s.name;if(Hf.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;Hf.set(e,s);for(const i of Yu.values())Ty(i,s);for(const i of fT.values())Ty(i,s);return!0}function dT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function mT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new I_("app","Firebase",gT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=cT;function M_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:qf,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw dr.create("bad-app-name",{appName:String(o)});if(i||(i=V_()),!i)throw dr.create("no-options");const h=Yu.get(o);if(h){if(Fu(i,h.options)&&Fu(a,h.config))return h;throw dr.create("duplicate-app",{appName:o})}const d=new E1(o);for(const _ of Hf.values())d.addComponent(_);const p=new pT(i,a,d);return Yu.set(o,p),p}function _T(s=qf){const e=Yu.get(s);if(!e&&s===qf&&V_())return M_();if(!e)throw dr.create("no-app",{appName:s});return e}function fs(s,e,i){let a=hT[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(d.join(" "));return}Xu(new Yl(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="firebase-heartbeat-database",ET=1,Xl="firebase-heartbeat-store";let Of=null;function U_(){return Of||(Of=O1(vT,ET,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(s=>{throw dr.create("idb-open",{originalErrorMessage:s.message})})),Of}async function TT(s){try{const i=(await U_()).transaction(Xl),a=await i.objectStore(Xl).get(z_(s));return await i.done,a}catch(e){if(e instanceof As)Oi.warn(e.message);else{const i=dr.create("idb-get",{originalErrorMessage:e?.message});Oi.warn(i.message)}}}async function Ay(s,e){try{const a=(await U_()).transaction(Xl,"readwrite");await a.objectStore(Xl).put(e,z_(s)),await a.done}catch(i){if(i instanceof As)Oi.warn(i.message);else{const a=dr.create("idb-set",{originalErrorMessage:i?.message});Oi.warn(a.message)}}}function z_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=1024,ST=30;class bT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new wT(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Sy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>ST){const o=CT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Oi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Sy(),{heartbeatsToSend:i,unsentEntries:a}=RT(this._heartbeatsCache.heartbeats),o=Qu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Oi.warn(e),""}}}function Sy(){return new Date().toISOString().substring(0,10)}function RT(s,e=AT){const i=[];let a=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),by(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),by(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class wT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f1()?d1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await TT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Ay(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Ay(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function by(s){return Qu(JSON.stringify({version:2,heartbeats:s})).length}function CT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(s){Xu(new Yl("platform-logger",e=>new z1(e),"PRIVATE")),Xu(new Yl("heartbeat",e=>new bT(e),"PRIVATE")),fs(jf,Ey,s),fs(jf,Ey,"esm2020"),fs("fire-js","")}DT("");var VT="firebase",IT="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(VT,IT,"app");var Ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mr,L_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function R(){}R.prototype=S.prototype,x.D=S.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(V,O,M){for(var w=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)w[fe-2]=arguments[fe];return S.prototype[O].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,R){R||(R=0);var V=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)V[O]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(O=0;16>O;++O)V[O]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=x.g[0],R=x.g[1],O=x.g[2];var M=x.g[3],w=S+(M^R&(O^M))+V[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=M+(O^S&(R^O))+V[1]+3905402710&4294967295,M=S+(w<<12&4294967295|w>>>20),w=O+(R^M&(S^R))+V[2]+606105819&4294967295,O=M+(w<<17&4294967295|w>>>15),w=R+(S^O&(M^S))+V[3]+3250441966&4294967295,R=O+(w<<22&4294967295|w>>>10),w=S+(M^R&(O^M))+V[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=M+(O^S&(R^O))+V[5]+1200080426&4294967295,M=S+(w<<12&4294967295|w>>>20),w=O+(R^M&(S^R))+V[6]+2821735955&4294967295,O=M+(w<<17&4294967295|w>>>15),w=R+(S^O&(M^S))+V[7]+4249261313&4294967295,R=O+(w<<22&4294967295|w>>>10),w=S+(M^R&(O^M))+V[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=M+(O^S&(R^O))+V[9]+2336552879&4294967295,M=S+(w<<12&4294967295|w>>>20),w=O+(R^M&(S^R))+V[10]+4294925233&4294967295,O=M+(w<<17&4294967295|w>>>15),w=R+(S^O&(M^S))+V[11]+2304563134&4294967295,R=O+(w<<22&4294967295|w>>>10),w=S+(M^R&(O^M))+V[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=M+(O^S&(R^O))+V[13]+4254626195&4294967295,M=S+(w<<12&4294967295|w>>>20),w=O+(R^M&(S^R))+V[14]+2792965006&4294967295,O=M+(w<<17&4294967295|w>>>15),w=R+(S^O&(M^S))+V[15]+1236535329&4294967295,R=O+(w<<22&4294967295|w>>>10),w=S+(O^M&(R^O))+V[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=M+(R^O&(S^R))+V[6]+3225465664&4294967295,M=S+(w<<9&4294967295|w>>>23),w=O+(S^R&(M^S))+V[11]+643717713&4294967295,O=M+(w<<14&4294967295|w>>>18),w=R+(M^S&(O^M))+V[0]+3921069994&4294967295,R=O+(w<<20&4294967295|w>>>12),w=S+(O^M&(R^O))+V[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=M+(R^O&(S^R))+V[10]+38016083&4294967295,M=S+(w<<9&4294967295|w>>>23),w=O+(S^R&(M^S))+V[15]+3634488961&4294967295,O=M+(w<<14&4294967295|w>>>18),w=R+(M^S&(O^M))+V[4]+3889429448&4294967295,R=O+(w<<20&4294967295|w>>>12),w=S+(O^M&(R^O))+V[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=M+(R^O&(S^R))+V[14]+3275163606&4294967295,M=S+(w<<9&4294967295|w>>>23),w=O+(S^R&(M^S))+V[3]+4107603335&4294967295,O=M+(w<<14&4294967295|w>>>18),w=R+(M^S&(O^M))+V[8]+1163531501&4294967295,R=O+(w<<20&4294967295|w>>>12),w=S+(O^M&(R^O))+V[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=M+(R^O&(S^R))+V[2]+4243563512&4294967295,M=S+(w<<9&4294967295|w>>>23),w=O+(S^R&(M^S))+V[7]+1735328473&4294967295,O=M+(w<<14&4294967295|w>>>18),w=R+(M^S&(O^M))+V[12]+2368359562&4294967295,R=O+(w<<20&4294967295|w>>>12),w=S+(R^O^M)+V[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=M+(S^R^O)+V[8]+2272392833&4294967295,M=S+(w<<11&4294967295|w>>>21),w=O+(M^S^R)+V[11]+1839030562&4294967295,O=M+(w<<16&4294967295|w>>>16),w=R+(O^M^S)+V[14]+4259657740&4294967295,R=O+(w<<23&4294967295|w>>>9),w=S+(R^O^M)+V[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=M+(S^R^O)+V[4]+1272893353&4294967295,M=S+(w<<11&4294967295|w>>>21),w=O+(M^S^R)+V[7]+4139469664&4294967295,O=M+(w<<16&4294967295|w>>>16),w=R+(O^M^S)+V[10]+3200236656&4294967295,R=O+(w<<23&4294967295|w>>>9),w=S+(R^O^M)+V[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=M+(S^R^O)+V[0]+3936430074&4294967295,M=S+(w<<11&4294967295|w>>>21),w=O+(M^S^R)+V[3]+3572445317&4294967295,O=M+(w<<16&4294967295|w>>>16),w=R+(O^M^S)+V[6]+76029189&4294967295,R=O+(w<<23&4294967295|w>>>9),w=S+(R^O^M)+V[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=M+(S^R^O)+V[12]+3873151461&4294967295,M=S+(w<<11&4294967295|w>>>21),w=O+(M^S^R)+V[15]+530742520&4294967295,O=M+(w<<16&4294967295|w>>>16),w=R+(O^M^S)+V[2]+3299628645&4294967295,R=O+(w<<23&4294967295|w>>>9),w=S+(O^(R|~M))+V[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=M+(R^(S|~O))+V[7]+1126891415&4294967295,M=S+(w<<10&4294967295|w>>>22),w=O+(S^(M|~R))+V[14]+2878612391&4294967295,O=M+(w<<15&4294967295|w>>>17),w=R+(M^(O|~S))+V[5]+4237533241&4294967295,R=O+(w<<21&4294967295|w>>>11),w=S+(O^(R|~M))+V[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=M+(R^(S|~O))+V[3]+2399980690&4294967295,M=S+(w<<10&4294967295|w>>>22),w=O+(S^(M|~R))+V[10]+4293915773&4294967295,O=M+(w<<15&4294967295|w>>>17),w=R+(M^(O|~S))+V[1]+2240044497&4294967295,R=O+(w<<21&4294967295|w>>>11),w=S+(O^(R|~M))+V[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=M+(R^(S|~O))+V[15]+4264355552&4294967295,M=S+(w<<10&4294967295|w>>>22),w=O+(S^(M|~R))+V[6]+2734768916&4294967295,O=M+(w<<15&4294967295|w>>>17),w=R+(M^(O|~S))+V[13]+1309151649&4294967295,R=O+(w<<21&4294967295|w>>>11),w=S+(O^(R|~M))+V[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=M+(R^(S|~O))+V[11]+3174756917&4294967295,M=S+(w<<10&4294967295|w>>>22),w=O+(S^(M|~R))+V[2]+718787259&4294967295,O=M+(w<<15&4294967295|w>>>17),w=R+(M^(O|~S))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+M&4294967295}a.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var R=S-this.blockSize,V=this.B,O=this.h,M=0;M<S;){if(O==0)for(;M<=R;)o(this,x,M),M+=this.blockSize;if(typeof x=="string"){for(;M<S;)if(V[O++]=x.charCodeAt(M++),O==this.blockSize){o(this,V),O=0;break}}else for(;M<S;)if(V[O++]=x[M++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=S},a.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var R=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=R&255,R/=256;for(this.u(x),x=Array(16),S=R=0;4>S;++S)for(var V=0;32>V;V+=8)x[R++]=this.g[S]>>>V&255;return x};function h(x,S){var R=p;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=S(x)}function d(x,S){this.h=S;for(var R=[],V=!0,O=x.length-1;0<=O;O--){var M=x[O]|0;V&&M==S||(R[O]=M,V=!1)}this.g=R}var p={};function _(x){return-128<=x&&128>x?h(x,function(S){return new d([S|0],0>S?-1:0)}):new d([x|0],0>x?-1:0)}function v(x){if(isNaN(x)||!isFinite(x))return N;if(0>x)return tt(v(-x));for(var S=[],R=1,V=0;x>=R;V++)S[V]=x/R|0,R*=4294967296;return new d(S,0)}function A(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return tt(A(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(S,8)),V=N,O=0;O<x.length;O+=8){var M=Math.min(8,x.length-O),w=parseInt(x.substring(O,O+M),S);8>M?(M=v(Math.pow(S,M)),V=V.j(M).add(v(w))):(V=V.j(R),V=V.add(v(w)))}return V}var N=_(0),I=_(1),Q=_(16777216);s=d.prototype,s.m=function(){if(rt(this))return-tt(this).m();for(var x=0,S=1,R=0;R<this.g.length;R++){var V=this.i(R);x+=(0<=V?V:4294967296+V)*S,S*=4294967296}return x},s.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if($(this))return"0";if(rt(this))return"-"+tt(this).toString(x);for(var S=v(Math.pow(x,6)),R=this,V="";;){var O=Rt(R,S).g;R=Tt(R,O.j(S));var M=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=O,$(R))return M+V;for(;6>M.length;)M="0"+M;V=M+V}},s.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function $(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function rt(x){return x.h==-1}s.l=function(x){return x=Tt(this,x),rt(x)?-1:$(x)?0:1};function tt(x){for(var S=x.g.length,R=[],V=0;V<S;V++)R[V]=~x.g[V];return new d(R,~x.h).add(I)}s.abs=function(){return rt(this)?tt(this):this},s.add=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],V=0,O=0;O<=S;O++){var M=V+(this.i(O)&65535)+(x.i(O)&65535),w=(M>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);V=w>>>16,M&=65535,w&=65535,R[O]=w<<16|M}return new d(R,R[R.length-1]&-2147483648?-1:0)};function Tt(x,S){return x.add(tt(S))}s.j=function(x){if($(this)||$(x))return N;if(rt(this))return rt(x)?tt(this).j(tt(x)):tt(tt(this).j(x));if(rt(x))return tt(this.j(tt(x)));if(0>this.l(Q)&&0>x.l(Q))return v(this.m()*x.m());for(var S=this.g.length+x.g.length,R=[],V=0;V<2*S;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var O=0;O<x.g.length;O++){var M=this.i(V)>>>16,w=this.i(V)&65535,fe=x.i(O)>>>16,Wt=x.i(O)&65535;R[2*V+2*O]+=w*Wt,dt(R,2*V+2*O),R[2*V+2*O+1]+=M*Wt,dt(R,2*V+2*O+1),R[2*V+2*O+1]+=w*fe,dt(R,2*V+2*O+1),R[2*V+2*O+2]+=M*fe,dt(R,2*V+2*O+2)}for(V=0;V<S;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=S;V<2*S;V++)R[V]=0;return new d(R,0)};function dt(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function ut(x,S){this.g=x,this.h=S}function Rt(x,S){if($(S))throw Error("division by zero");if($(x))return new ut(N,N);if(rt(x))return S=Rt(tt(x),S),new ut(tt(S.g),tt(S.h));if(rt(S))return S=Rt(x,tt(S)),new ut(tt(S.g),S.h);if(30<x.g.length){if(rt(x)||rt(S))throw Error("slowDivide_ only works with positive integers.");for(var R=I,V=S;0>=V.l(x);)R=pt(R),V=pt(V);var O=bt(R,1),M=bt(V,1);for(V=bt(V,2),R=bt(R,2);!$(V);){var w=M.add(V);0>=w.l(x)&&(O=O.add(R),M=w),V=bt(V,1),R=bt(R,1)}return S=Tt(x,O.j(S)),new ut(O,S)}for(O=N;0<=x.l(S);){for(R=Math.max(1,Math.floor(x.m()/S.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),M=v(R),w=M.j(S);rt(w)||0<w.l(x);)R-=V,M=v(R),w=M.j(S);$(M)&&(M=I),O=O.add(M),x=Tt(x,w)}return new ut(O,x)}s.A=function(x){return Rt(this,x).h},s.and=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],V=0;V<S;V++)R[V]=this.i(V)&x.i(V);return new d(R,this.h&x.h)},s.or=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],V=0;V<S;V++)R[V]=this.i(V)|x.i(V);return new d(R,this.h|x.h)},s.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],V=0;V<S;V++)R[V]=this.i(V)^x.i(V);return new d(R,this.h^x.h)};function pt(x){for(var S=x.g.length+1,R=[],V=0;V<S;V++)R[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(R,x.h)}function bt(x,S){var R=S>>5;S%=32;for(var V=x.g.length-R,O=[],M=0;M<V;M++)O[M]=0<S?x.i(M+R)>>>S|x.i(M+R+1)<<32-S:x.i(M+R);return new d(O,x.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,L_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,mr=d}).apply(typeof Ry<"u"?Ry:typeof self<"u"?self:typeof window<"u"?window:{});var Ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var P_,Pl,B_,Bu,Gf,k_,j_,q_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,g){return u==Array.prototype||u==Object.prototype||(u[m]=g.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ou=="object"&&Ou];for(var m=0;m<u.length;++m){var g=u[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var g=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var z=u[T];if(!(z in g))break t;g=g[z]}u=u[u.length-1],T=g[u],m=m(T),m!=T&&m!=null&&e(g,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var g=0,T=!1,z={next:function(){if(!T&&g<u.length){var q=g++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,g){return u.call.apply(u.bind,arguments)}function N(u,m,g){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function I(u,m,g){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:N,I.apply(null,arguments)}function Q(u,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function $(u,m){function g(){}g.prototype=m.prototype,u.aa=m.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(T,z,q){for(var nt=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)nt[Ot-2]=arguments[Ot];return m.prototype[z].apply(T,nt)}}function rt(u){const m=u.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=u[T];return g}return[]}function tt(u,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(_(T)){const z=u.length||0,q=T.length||0;u.length=z+q;for(let nt=0;nt<q;nt++)u[z+nt]=T[nt]}else u.push(T)}}class Tt{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(u){return/^[\s\xa0]*$/.test(u)}function ut(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function Rt(u){return Rt[" "](u),u}Rt[" "]=function(){};var pt=ut().indexOf("Gecko")!=-1&&!(ut().toLowerCase().indexOf("webkit")!=-1&&ut().indexOf("Edge")==-1)&&!(ut().indexOf("Trident")!=-1||ut().indexOf("MSIE")!=-1)&&ut().indexOf("Edge")==-1;function bt(u,m,g){for(const T in u)m.call(g,u[T],T,u)}function x(u,m){for(const g in u)m.call(void 0,u[g],g,u)}function S(u){const m={};for(const g in u)m[g]=u[g];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let g,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(g in T)u[g]=T[g];for(let q=0;q<R.length;q++)g=R[q],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function O(u){var m=1;u=u.split(":");const g=[];for(;0<m&&u.length;)g.push(u.shift()),m--;return u.length&&g.push(u.join(":")),g}function M(u){p.setTimeout(()=>{throw u},0)}function w(){var u=yt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class fe{constructor(){this.h=this.g=null}add(m,g){const T=Wt.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var Wt=new Tt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let B,J=!1,yt=new fe,C=()=>{const u=p.Promise.resolve(void 0);B=()=>{u.then(Y)}};var Y=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(g){M(g)}var m=Wt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}J=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch{}return u}();function Ct(u,m){if(et.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(pt){t:{try{Rt(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else g=="mouseover"?m=u.fromElement:g=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ct.aa.h.call(this)}}$(Ct,et);var vt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Ln(u,m,g,T,z){this.listener=u,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=z,this.key=++Zt,this.da=this.fa=!1}function zi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function li(u){this.src=u,this.g={},this.h=0}li.prototype.add=function(u,m,g,T,z){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var nt=wr(u,m,T,z);return-1<nt?(m=u[nt],g||(m.fa=!1)):(m=new Ln(m,this.src,q,!!T,z),m.fa=g,u.push(m)),m};function Rr(u,m){var g=m.type;if(g in u.g){var T=u.g[g],z=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=z)&&Array.prototype.splice.call(T,z,1),q&&(zi(m),u.g[g].length==0&&(delete u.g[g],u.h--))}}function wr(u,m,g,T){for(var z=0;z<u.length;++z){var q=u[z];if(!q.da&&q.listener==m&&q.capture==!!g&&q.ha==T)return z}return-1}var Cr="closure_lm_"+(1e6*Math.random()|0),Ds={};function oo(u,m,g,T,z){if(Array.isArray(m)){for(var q=0;q<m.length;q++)oo(u,m[q],g,T,z);return null}return g=uo(g),u&&u[Ce]?u.K(m,g,v(T)?!!T.capture:!1,z):gn(u,m,g,!1,T,z)}function gn(u,m,g,T,z,q){if(!m)throw Error("Invalid event type");var nt=v(z)?!!z.capture:!!z,Ot=ya(u);if(Ot||(u[Cr]=Ot=new li(u)),g=Ot.add(m,g,T,nt,q),g.proxy)return g;if(T=Ac(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)ht||(z=nt),z===void 0&&(z=!1),u.addEventListener(m.toString(),T,z);else if(u.attachEvent)u.attachEvent(Dr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ac(){function u(g){return m.call(u.src,u.listener,g)}const m=Sc;return u}function Vs(u,m,g,T,z){if(Array.isArray(m))for(var q=0;q<m.length;q++)Vs(u,m[q],g,T,z);else T=v(T)?!!T.capture:!!T,g=uo(g),u&&u[Ce]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],g=wr(q,g,T,z),-1<g&&(zi(q[g]),Array.prototype.splice.call(q,g,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=ya(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wr(m,g,T,z)),(g=-1<u?m[u]:null)&&pa(g))}function pa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])Rr(m.i,u);else{var g=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(g,T,u.capture):m.detachEvent?m.detachEvent(Dr(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=ya(m))?(Rr(g,u),g.h==0&&(g.src=null,m[Cr]=null)):zi(u)}}}function Dr(u){return u in Ds?Ds[u]:Ds[u]="on"+u}function Sc(u,m){if(u.da)u=!0;else{m=new Ct(m,this);var g=u.listener,T=u.ha||u.src;u.fa&&pa(u),u=g.call(T,m)}return u}function ya(u){return u=u[Cr],u instanceof li?u:null}var Is="__closure_events_fn_"+(1e9*Math.random()>>>0);function uo(u){return typeof u=="function"?u:(u[Is]||(u[Is]=function(m){return u.handleEvent(m)}),u[Is])}function ae(){it.call(this),this.i=new li(this),this.M=this,this.F=null}$(ae,it),ae.prototype[Ce]=!0,ae.prototype.removeEventListener=function(u,m,g,T){Vs(this,u,m,g,T)};function qt(u,m){var g,T=u.F;if(T)for(g=[];T;T=T.F)g.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new et(m,u);else if(m instanceof et)m.target=m.target||u;else{var z=m;m=new et(T,u),V(m,z)}if(z=!0,g)for(var q=g.length-1;0<=q;q--){var nt=m.g=g[q];z=an(nt,T,!0,m)&&z}if(nt=m.g=u,z=an(nt,T,!0,m)&&z,z=an(nt,T,!1,m)&&z,g)for(q=0;q<g.length;q++)nt=m.g=g[q],z=an(nt,T,!1,m)&&z}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var g=u.g[m],T=0;T<g.length;T++)zi(g[T]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,g,T){return this.i.add(String(u),m,!1,g,T)},ae.prototype.L=function(u,m,g,T){return this.i.add(String(u),m,!0,g,T)};function an(u,m,g,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,q=0;q<m.length;++q){var nt=m[q];if(nt&&!nt.da&&nt.capture==g){var Ot=nt.listener,Ae=nt.ha||nt.src;nt.fa&&Rr(u.i,nt),z=Ot.call(Ae,T)!==!1&&z}}return z&&!T.defaultPrevented}function He(u,m,g){if(typeof u=="function")g&&(u=I(u,g));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function co(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,co(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class bc extends it{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:co(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(u){it.call(this),this.h=u,this.g={}}$(Vr,it);var Ir=[];function Nr(u){bt(u.g,function(m,g){this.g.hasOwnProperty(g)&&pa(m)},u),u.g={}}Vr.prototype.N=function(){Vr.aa.N.call(this),Nr(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=p.JSON.stringify,_a=p.JSON.parse,xr=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function Ns(){}Ns.prototype.h=null;function xs(u){return u.h||(u.h=u.i())}function Os(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ui(){et.call(this,"d")}$(ui,et);function Ms(){et.call(this,"c")}$(Ms,et);var Pn={},Us=null;function Li(){return Us=Us||new ae}Pn.La="serverreachability";function va(u){et.call(this,Pn.La,u)}$(va,et);function Pi(u){const m=Li();qt(m,new va(m))}Pn.STAT_EVENT="statevent";function ho(u,m){et.call(this,Pn.STAT_EVENT,u),this.stat=m}$(ho,et);function ee(u){const m=Li();qt(m,new ho(m,u))}Pn.Ma="timingevent";function Te(u,m){et.call(this,Pn.Ma,u),this.size=m}$(Te,et);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function zs(u,m,g,T,z,q){u.info(function(){if(u.g)if(q)for(var nt="",Ot=q.split("&"),Ae=0;Ae<Ot.length;Ae++){var Mt=Ot[Ae].split("=");if(1<Mt.length){var Ve=Mt[0];Mt=Mt[1];var Se=Ve.split("_");nt=2<=Se.length&&Se[1]=="type"?nt+(Ve+"="+Mt+"&"):nt+(Ve+"=redacted&")}}else nt=null;else nt=q;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+g+`
`+nt})}function Rc(u,m,g,T,z,q,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+g+`
`+q+" "+nt})}function Bi(u,m,g,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Or(u,g)+(T?" "+T:"")})}function fo(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Or(u,m){if(!u.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var T=g[u];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var q=z[0];if(q!="noop"&&q!="stop"&&q!="close")for(var nt=1;nt<z.length;nt++)z[nt]=""}}}}return Vn(g)}catch{return m}}var ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function kn(){}$(kn,Ns),kn.prototype.g=function(){return new XMLHttpRequest},kn.prototype.i=function(){return{}},Bn=new kn;function Ke(u,m,g,T){this.j=u,this.i=m,this.l=g,this.R=T||1,this.U=new Vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oe}function oe(){this.i=null,this.g="",this.h=!1}var Ls={},Ea={};function In(u,m,g){u.L=1,u.v=Pr(sn(m)),u.m=g,u.P=!0,hi(u,null)}function hi(u,m){u.F=Date.now(),Mr(u),u.A=sn(u.v);var g=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Hs(g.i,"t",T),u.C=0,g=u.j.J,u.h=new oe,u.g=Vo(u.j,g?m:null,!u.m),0<u.O&&(u.M=new bc(I(u.Y,u,u.g),u.O)),m=u.U,g=u.g,T=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ir[0]=z.toString()),z=Ir);for(var q=0;q<z.length;q++){var nt=oo(g,z[q],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Pi(),zs(u.i,u.u,u.A,u.l,u.R,u.m)}Ke.prototype.ca=function(u){u=u.target;const m=this.M;m&&En(u)==3?m.j():this.Y(u)},Ke.prototype.Y=function(u){try{if(u==this.g)t:{const Se=En(this.g);var m=this.g.Ba();const vi=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||To(this.g)))){this.J||Se!=4||m==7||(m==8||0>=vi?Pi(3):Pi(2)),ji(this);var g=this.g.Z();this.X=g;e:if(mo(this)){var T=To(this.g);u="";var z=T.length,q=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),jn(this);var nt="";break e}this.h.i=new p.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==z-1)});T.length=0,this.h.g+=u,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=g==200,Rc(this.i,this.u,this.A,this.l,this.R,Se,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Ae=this.g;if((Ot=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Ot)){var Mt=Ot;break e}}Mt=null}if(g=Mt)Bi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ur(this,g);else{this.o=!1,this.s=3,ee(12),Me(this),jn(this);break t}}if(this.P){g=!0;let Ue;for(;!this.J&&this.C<nt.length;)if(Ue=go(this,nt),Ue==Ea){Se==4&&(this.s=4,ee(14),g=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Ls){this.s=4,ee(15),Bi(this.i,this.l,nt,"[Invalid Chunk]"),g=!1;break}else Bi(this.i,this.l,Ue,null),Ur(this,Ue);if(mo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||nt.length!=0||this.h.h||(this.s=1,ee(16),g=!1),this.o=this.o&&g,!g)Bi(this.i,this.l,nt,"[Invalid Chunked Response]"),Me(this),jn(this);else if(0<nt.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),Fr(Ve),Ve.M=!0,ee(11))}}else Bi(this.i,this.l,nt,null),Ur(this,nt);Se==4&&Me(this),this.o&&!this.J&&(Se==4?wo(this.j,this):(this.o=!1,Mr(this)))}else Ic(this.g),g==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Me(this),jn(this)}}}catch{}finally{}};function mo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function go(u,m){var g=u.C,T=m.indexOf(`
`,g);return T==-1?Ea:(g=Number(m.substring(g,T)),isNaN(g)?Ls:(T+=1,T+g>m.length?Ea:(m=m.slice(T,T+g),u.C=T+g,m)))}Ke.prototype.cancel=function(){this.J=!0,Me(this)};function Mr(u){u.S=Date.now()+u.I,po(u,u.I)}function po(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(I(u.ba,u),m)}function ji(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Ke.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(fo(this.i,this.A),this.L!=2&&(Pi(),ee(17)),Me(this),this.s=2,jn(this)):po(this,this.S-u)};function jn(u){u.j.G==0||u.J||wo(u.j,u)}function Me(u){ji(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Nr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Ur(u,m){try{var g=u.j;if(g.G!=0&&(g.g==u||Ps(g.h,u))){if(!u.K&&Ps(g.h,u)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)xa(g),Ia(g);else break t;Xs(g),ee(18)}}else g.za=z[1],0<g.za-g.T&&37500>z[2]&&g.F&&g.v==0&&!g.C&&(g.C=de(I(g.Za,g),6e3));if(1>=Aa(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else _i(g,11)}else if((u.K||g.g==u)&&xa(g),!dt(m))for(z=g.Da.g.parse(m),m=0;m<z.length;m++){let Mt=z[m];if(g.T=Mt[0],Mt=Mt[1],g.G==2)if(Mt[0]=="c"){g.K=Mt[1],g.ia=Mt[2];const Ve=Mt[3];Ve!=null&&(g.la=Ve,g.j.info("VER="+g.la));const Se=Mt[4];Se!=null&&(g.Aa=Se,g.j.info("SVER="+g.Aa));const vi=Mt[5];vi!=null&&typeof vi=="number"&&0<vi&&(T=1.5*vi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Ue=u.g;if(Ue){const Xn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var q=T.h;q.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Sa(q,q.h),q.h=null))}if(T.D){const Zs=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Zs&&(T.ya=Zs,Qt(T.I,T.D,Zs))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var nt=u;if(T.qa=Do(T,T.J?T.ia:null,T.W),nt.K){Ze(T.h,nt);var Ot=nt,Ae=T.L;Ae&&(Ot.I=Ae),Ot.B&&(ji(Ot),Mr(Ot)),T.g=nt}else bo(T);0<g.i.length&&Na(g)}else Mt[0]!="stop"&&Mt[0]!="close"||_i(g,7);else g.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?_i(g,7):Fs(g):Mt[0]!="noop"&&g.l&&g.l.ta(Mt),g.v=0)}}Pi(4)}catch{}}var yo=class{constructor(u,m){this.g=u,this.map=m}};function fi(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ta(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Aa(u){return u.h?1:u.g?u.g.size:0}function Ps(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Sa(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fi.prototype.cancel=function(){if(this.i=Bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Bs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const g of u.g.values())m=m.concat(g.D);return m}return rt(u.i)}function wc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],g=u.length,T=0;T<g;T++)m.push(u[T]);return m}m=[],g=0;for(T in u)m[g++]=u[T];return m}function ba(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var g=0;g<u;g++)m.push(g);return m}m=[],g=0;for(const T in u)m[g++]=T;return m}}}function ks(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var g=ba(u),T=wc(u),z=T.length,q=0;q<z;q++)m.call(void 0,T[q],g&&g[q],u)}var zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cc(u,m){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var T=u[g].indexOf("="),z=null;if(0<=T){var q=u[g].substring(0,T);z=u[g].substring(T+1)}else q=u[g];m(q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,Lr(this,u.j),this.o=u.o,this.g=u.g,qi(this,u.s),this.l=u.l;var m=u.i,g=new mi;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),di(this,g),this.m=u.m}else u&&(m=String(u).match(zr))?(this.h=!1,Lr(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),qi(this,m[4]),this.l=yn(m[5]||"",!0),di(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Br(m,js,!0),":");var g=this.g;return(g||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Br(m,js,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Br(g,g.charAt(0)=="/"?Dc:qs,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Br(g,Ra)),u.join("")};function sn(u){return new me(u)}function Lr(u,m,g){u.j=g?yn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function qi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function di(u,m,g){m instanceof mi?(u.i=m,vo(u.i,u.h)):(g||(m=Br(m,Vc)),u.i=new mi(m,u.h))}function Qt(u,m,g){u.i.set(m,g)}function Pr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Br(u,m,g){return typeof u=="string"?(u=encodeURI(u).replace(m,_o),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _o(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var js=/[#\/\?@]/g,qs=/[#\?:]/g,Dc=/[#\?]/g,Vc=/[#\?@]/g,Ra=/#/g;function mi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&Cc(u.i,function(m,g){u.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=mi.prototype,s.add=function(u,m){_n(this),this.i=null,u=qn(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(m),this.h+=1,this};function gi(u,m){_n(u),m=qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function pi(u,m){return _n(u),m=qn(u,m),u.g.has(m)}s.forEach=function(u,m){_n(this),this.g.forEach(function(g,T){g.forEach(function(z){u.call(m,z,T,this)},this)},this)},s.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const z=u[T];for(let q=0;q<z.length;q++)g.push(m[T])}return g},s.V=function(u){_n(this);let m=[];if(typeof u=="string")pi(this,u)&&(m=m.concat(this.g.get(qn(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)m=m.concat(u[g])}return m},s.set=function(u,m){return _n(this),this.i=null,u=qn(this,u),pi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Hs(u,m,g){gi(u,m),0<g.length&&(u.i=null,u.g.set(qn(u,m),rt(g)),u.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const q=encodeURIComponent(String(T)),nt=this.V(T);for(T=0;T<nt.length;T++){var z=q;nt[T]!==""&&(z+="="+encodeURIComponent(String(nt[T]))),u.push(z)}}return this.i=u.join("&")};function qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function vo(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(g,T){var z=T.toLowerCase();T!=z&&(gi(this,T),Hs(this,z,g))},u)),u.j=m}function kr(u,m){const g=new pn;if(p.Image){const T=new Image;T.onload=Q(vn,g,"TestLoadImage: loaded",!0,m,T),T.onerror=Q(vn,g,"TestLoadImage: error",!1,m,T),T.onabort=Q(vn,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=Q(vn,g,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Nn(u,m){const g=new pn,T=new AbortController,z=setTimeout(()=>{T.abort(),vn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(z),q.ok?vn(g,"TestPingServer: ok",!0,m):vn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),vn(g,"TestPingServer: error",!1,m)})}function vn(u,m,g,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(g)}catch{}}function jr(){this.g=new xr}function Hn(u,m,g){const T=g||"";try{ks(u,function(z,q){let nt=z;v(z)&&(nt=Vn(z)),m.push(T+q+"="+encodeURIComponent(nt))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function Hi(u){this.l=u.Ub||null,this.j=u.eb||!1}$(Hi,Ns),Hi.prototype.g=function(){return new yi(this.l,this.j)},Hi.prototype.i=function(u){return function(){return u}}({});function yi(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(yi,ae),s=yi.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Gn(this):Qn(this),this.readyState==3&&Gs(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Gn(this))},s.Qa=function(u){this.g&&(this.response=u,Gn(this))},s.ga=function(){this.g&&Gn(this)};function Gn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Qn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qs(u){let m="";return bt(u,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function De(u,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Qs(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Qt(u,m,g))}function kt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(kt,ae);var wa=/^https?$/i,qr=["POST","PUT"];s=kt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?xs(this.o):xs(Bn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Eo(this,q);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)g.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())g.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(q=>q.toLowerCase()=="content-type"),z=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(qr,m,void 0))||T||z||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of g)this.g.setRequestHeader(q,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Eo(this,q)}};function Eo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ca(u),Fn(u)}function Ca(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),Fn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),kt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Da(this):this.bb())},s.bb=function(){Da(this)};function Da(u){if(u.h&&typeof d<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)He(u.Ea,0,u);else if(qt(u,"readystatechange"),En(u)==4){u.h=!1;try{const nt=u.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=nt===0){var z=String(u.D).match(zr)[1]||null;!z&&p.self&&p.self.location&&(z=p.self.location.protocol.slice(0,-1)),T=!wa.test(z?z.toLowerCase():"")}g=T}if(g)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var q=2<En(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Ca(u)}}finally{Fn(u)}}}}function Fn(u,m){if(u.g){Hr(u);const g=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qt(u,"ready");try{g.onreadystatechange=T}catch{}}}function Hr(u){u.I&&(p.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),_a(m)}};function To(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ic(u){const m={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(dt(u[T]))continue;var g=O(u[T]);const z=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const q=m[z]||[];m[z]=q,q.push(g)}x(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(u,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||m}function Va(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gr("baseRetryDelayMs",5e3,u),this.cb=Gr("retryDelaySeedMs",1e4,u),this.Wa=Gr("forwardChannelMaxRetries",2,u),this.wa=Gr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new fi(u&&u.concurrentRequestLimit),this.Da=new jr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Va.prototype,s.la=8,s.G=1,s.connect=function(u,m,g,T){ee(0),this.W=u,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=Do(this,null,this.W),Na(this)};function Fs(u){if(Ao(u),u.G==3){var m=u.U++,g=sn(u.I);if(Qt(g,"SID",u.K),Qt(g,"RID",m),Qt(g,"TYPE","terminate"),Qr(u,g),m=new Ke(u,u.j,m),m.L=2,m.v=Pr(sn(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=Vo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Mr(m)}Co(u)}function Ia(u){u.g&&(Fr(u),u.g.cancel(),u.g=null)}function Ao(u){Ia(u),u.u&&(p.clearTimeout(u.u),u.u=null),xa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function Na(u){if(!Ta(u.h)&&!u.s){u.s=!0;var m=u.Ga;B||C(),J||(B(),J=!0),yt.add(m,u),u.B=0}}function Nc(u,m){return Aa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(I(u.Ga,u,m),Ks(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Ke(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),V(q,this.S)):q=this.S),this.m!==null||this.O||(z.H=q,q=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=So(this,z,m),g=sn(this.I),Qt(g,"RID",u),Qt(g,"CVER",22),this.D&&Qt(g,"X-HTTP-Session-Id",this.D),Qr(this,g),q&&(this.O?m="headers="+encodeURIComponent(String(Qs(q)))+"&"+m:this.m&&De(g,this.m,q)),Sa(this.h,z),this.Ua&&Qt(g,"TYPE","init"),this.P?(Qt(g,"$req",m),Qt(g,"SID","null"),z.T=!0,In(z,g,null)):In(z,g,m),this.G=2}}else this.G==3&&(u?Ys(this,u):this.i.length==0||Ta(this.h)||Ys(this))};function Ys(u,m){var g;m?g=m.l:g=u.U++;const T=sn(u.I);Qt(T,"SID",u.K),Qt(T,"RID",g),Qt(T,"AID",u.T),Qr(u,T),u.m&&u.o&&De(T,u.m,u.o),g=new Ke(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),m&&(u.i=m.D.concat(u.i)),m=So(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Sa(u.h,g),In(g,T,m)}function Qr(u,m){u.H&&bt(u.H,function(g,T){Qt(m,T,g)}),u.l&&ks({},function(g,T){Qt(m,T,g)})}function So(u,m,g){g=Math.min(u.i.length,g);var T=u.l?I(u.l.Na,u.l,u):null;t:{var z=u.i;let q=-1;for(;;){const nt=["count="+g];q==-1?0<g?(q=z[0].g,nt.push("ofs="+q)):q=0:nt.push("ofs="+q);let Ot=!0;for(let Ae=0;Ae<g;Ae++){let Mt=z[Ae].g;const Ve=z[Ae].map;if(Mt-=q,0>Mt)q=Math.max(0,z[Ae].g-100),Ot=!1;else try{Hn(Ve,nt,"req"+Mt+"_")}catch{T&&T(Ve)}}if(Ot){T=nt.join("&");break t}}}return u=u.i.splice(0,g),m.D=u,T}function bo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;B||C(),J||(B(),J=!0),yt.add(m,u),u.v=0}}function Xs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(I(u.Fa,u),Ks(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,Ro(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(I(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),Ia(this),Ro(this))};function Fr(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function Ro(u){u.g=new Ke(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=sn(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),Qr(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Pr(sn(m)),g.m=null,g.P=!0,hi(g,u)}s.Za=function(){this.C!=null&&(this.C=null,Ia(this),Xs(this),ee(19))};function xa(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function wo(u,m){var g=null;if(u.g==m){xa(u),Fr(u),u.g=null;var T=2}else if(Ps(u.h,m))g=m.D,Ze(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;T=Li(),qt(T,new Te(T,g)),Na(u)}else bo(u);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&Nc(u,m)||T==2&&Xs(u)))switch(g&&0<g.length&&(m=u.h,m.i=m.i.concat(g)),z){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function Ks(u,m){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var g=I(u.fb,u),T=u.Xa;const z=!T;T=new me(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Lr(T,"https"),Pr(T),z?kr(T.toString(),g):Nn(T.toString(),g)}else ee(2);u.G=0,u.l&&u.l.sa(m),Co(u),Ao(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Co(u){if(u.G=0,u.ka=[],u.l){const m=Bs(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ka,m),tt(u.ka,u.i),u.h.i.length=0,rt(u.i),u.i.length=0),u.l.ra()}}function Do(u,m,g){var T=g instanceof me?sn(g):new me(g);if(T.g!="")m&&(T.g=m+"."+T.g),qi(T,T.s);else{var z=p.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var q=new me(null);T&&Lr(q,T),m&&(q.g=m),z&&qi(q,z),g&&(q.l=g),T=q}return g=u.D,m=u.ya,g&&m&&Qt(T,g,m),Qt(T,"VER",u.la),Qr(u,T),T}function Vo(u,m,g){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new kt(new Hi({eb:g})):new kt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Io(){}s=Io.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Oa(){}Oa.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){ae.call(this),this.g=new Va(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!dt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yn(this)}$($e,ae),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Fs(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Vn(u),u=g);m.i.push(new yo(m.Ya++,u)),m.G==3&&Na(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Fs(this.g),delete this.g,$e.aa.N.call(this)};function No(u){ui.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const g in m){u=g;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(No,ui);function xo(){Ms.call(this),this.status=1}$(xo,Ms);function Yn(u){this.g=u}$(Yn,Io),Yn.prototype.ua=function(){qt(this.g,"a")},Yn.prototype.ta=function(u){qt(this.g,new No(u))},Yn.prototype.sa=function(u){qt(this.g,new xo)},Yn.prototype.ra=function(){qt(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,q_=function(){return new Oa},j_=function(){return Li()},k_=Pn,Gf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ki.NO_ERROR=0,ki.TIMEOUT=8,ki.HTTP_ERROR=6,Bu=ki,ci.COMPLETE="complete",B_=ci,Os.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Pl=Os,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,P_=kt}).apply(typeof Ou<"u"?Ou:typeof self<"u"?self:typeof window<"u"?window:{});const wy="@firebase/firestore",Cy="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ss="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new N_("@firebase/firestore");function os(){return fa.logLevel}function at(s,...e){if(fa.logLevel<=Lt.DEBUG){const i=e.map(dd);fa.debug(`Firestore (${Ss}): ${s}`,...i)}}function Mi(s,...e){if(fa.logLevel<=Lt.ERROR){const i=e.map(dd);fa.error(`Firestore (${Ss}): ${s}`,...i)}}function gs(s,...e){if(fa.logLevel<=Lt.WARN){const i=e.map(dd);fa.warn(`Firestore (${Ss}): ${s}`,...i)}}function dd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,H_(s,a,i)}function H_(s,e,i){let a=`FIRESTORE (${Ss}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Mi(a),new Error(a)}function jt(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||H_(e,o,a)}function At(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends As{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ye.UNAUTHENTICATED))}shutdown(){}}class xT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class OT{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){jt(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ca,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},p=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ca)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(jt(typeof a.accessToken=="string",31837,{l:a}),new G_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class MT{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UT{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new MT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){jt(this.o===void 0,3512);const a=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const o=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Dy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Dy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=LT(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Nt(s,e){return s<e?-1:s>e?1:0}function Qf(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),h=e.charAt(a);if(o!==h)return Mf(o)===Mf(h)?Nt(o,h):Mf(o)?1:-1}return Nt(s.length,e.length)}const PT=55296,BT=57343;function Mf(s){const e=s.charCodeAt(0);return e>=PT&&e<=BT}function ps(s,e,i){return s.length===e.length&&s.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="__name__";class ti{constructor(e,i,a){i===void 0?i=0:i>e.length&&gt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&gt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=ti.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Nt(e.length,i.length)}static compareSegments(e,i){const a=ti.isNumericId(e),o=ti.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?ti.extractNumericId(e).compare(ti.extractNumericId(i)):Qf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}}class Jt extends ti{construct(e,i,a){return new Jt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new st(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new Jt(i)}static emptyPath(){return new Jt([])}}const kT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends ti{construct(e,i,a){return new je(e,i,a)}static isValidIdentifier(e){return kT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vy}static keyField(){return new je([Vy])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new st(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new st(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(h(),o++)}if(h(),d)throw new st(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new je(i)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(Jt.fromString(e))}static fromName(e){return new ct(Jt.fromString(e).popFirst(5))}static empty(){return new ct(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(s,e,i){if(!i)throw new st(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function jT(s,e,i,a){if(e===!0&&a===!0)throw new st(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Iy(s){if(!ct.isDocumentKey(s))throw new st(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Ny(s){if(ct.isDocumentKey(s))throw new st(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function F_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function lc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function gr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new st(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=lc(s);throw new st(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(s,e){const i={typeString:s};return e&&(i.value=e),i}function eo(s,e){if(!F_(s))throw new st(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new st(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=-62135596800,Oy=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Oy);return new te(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<xy)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Oy}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eo(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:ve("string",te._jsonSchemaVersion),seconds:ve("number"),nanoseconds:ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new te(0,0))}static max(){return new Et(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function qT(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(a===1e9?new te(i+1,0):new te(i,a));return new yr(o,ct.empty(),e)}function HT(s){return new yr(s.readTime,s.key,Kl)}class yr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new yr(Et.min(),ct.empty(),Kl)}static max(){return new yr(Et.max(),ct.empty(),Kl)}}function GT(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,e.documentKey),i!==0?i:Nt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bs(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==QT)throw s;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.reject(i)}static resolve(e){return new Z((i,a)=>{i(e)})}static reject(e){return new Z((i,a)=>{a(e)})}static waitFor(e){return new Z((i,a)=>{let o=0,h=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++h,d&&h===o&&i()},_=>a(_))}),d=!0,h===o&&i()})}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next(o=>o?Z.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,h)=>{a.push(i.call(this,o,h))}),this.waitFor(a)}static mapArray(e,i){return new Z((a,o)=>{const h=e.length,d=new Array(h);let p=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++p,p===h&&a(d)},A=>o(A))}})}static doWhile(e,i){return new Z((a,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):a()};h()})}}function YT(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Rs(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}oc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=-1;function uc(s){return s==null}function Ku(s){return s===0&&1/s==-1/0}function XT(s){return typeof s=="number"&&Number.isInteger(s)&&!Ku(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="";function KT(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=My(e)),e=ZT(s.get(i),e);return My(e)}function ZT(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case Y_:i+="";break;default:i+=h}}return i}function My(s){return s+Y_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Sr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function X_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mu(this.root,e,this.comparator,!0)}}class Mu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??ke.RED,this.left=o??ke.EMPTY,this.right=h??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new ke(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ke.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new zy(this.data.getIterator())}getIteratorFrom(e){return new zy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class zy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(je.comparator)}static empty(){return new mn([])}unionWith(e){let i=new we(je.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ps(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new K_("Invalid base64 string: "+h):h}}(e);return new qe(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const $T=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(s){if(jt(!!s,39018),typeof s=="string"){let e=0;const i=$T.exec(s);if(jt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:he(s.seconds),nanos:he(s.nanos)}}function he(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function vr(s){return typeof s=="string"?qe.fromBase64String(s):qe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="server_timestamp",$_="__type__",J_="__previous_value__",W_="__local_write_time__";function pd(s){return(s?.mapValue?.fields||{})[$_]?.stringValue===Z_}function cc(s){const e=s.mapValue.fields[J_];return pd(e)?cc(e):e}function Zl(s){const e=_r(s.mapValue.fields[W_].timestampValue);return new te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,i,a,o,h,d,p,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const Zu="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||Zu}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===Zu}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="__type__",WT="__max__",Uu={mapValue:{}},ev="__vector__",$u="value";function Er(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?pd(s)?4:eA(s)?9007199254740991:tA(s)?10:11:gt(28295,{value:s})}function si(s,e){if(s===e)return!0;const i=Er(s);if(i!==Er(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Zl(s).isEqual(Zl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=_r(o.timestampValue),p=_r(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,h){return vr(o.bytesValue).isEqual(vr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,h){return he(o.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(h.geoPointValue.longitude)}(s,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return he(o.integerValue)===he(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=he(o.doubleValue),p=he(h.doubleValue);return d===p?Ku(d)===Ku(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return ps(s.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(Uy(d)!==Uy(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!si(d[_],p[_])))return!1;return!0}(s,e);default:return gt(52216,{left:s})}}function Jl(s,e){return(s.values||[]).find(i=>si(i,e))!==void 0}function ys(s,e){if(s===e)return 0;const i=Er(s),a=Er(e);if(i!==a)return Nt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const p=he(h.integerValue||h.doubleValue),_=he(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1}(s,e);case 3:return Ly(s.timestampValue,e.timestampValue);case 4:return Ly(Zl(s),Zl(e));case 5:return Qf(s.stringValue,e.stringValue);case 6:return function(h,d){const p=vr(h),_=vr(d);return p.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const A=Nt(p[v],_[v]);if(A!==0)return A}return Nt(p.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const p=Nt(he(h.latitude),he(d.latitude));return p!==0?p:Nt(he(h.longitude),he(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Py(s.arrayValue,e.arrayValue);case 10:return function(h,d){const p=h.fields||{},_=d.fields||{},v=p[$u]?.arrayValue,A=_[$u]?.arrayValue,N=Nt(v?.values?.length||0,A?.values?.length||0);return N!==0?N:Py(v,A)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Uu.mapValue&&d===Uu.mapValue)return 0;if(h===Uu.mapValue)return 1;if(d===Uu.mapValue)return-1;const p=h.fields||{},_=Object.keys(p),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let N=0;N<_.length&&N<A.length;++N){const I=Qf(_[N],A[N]);if(I!==0)return I;const Q=ys(p[_[N]],v[A[N]]);if(Q!==0)return Q}return Nt(_.length,A.length)}(s.mapValue,e.mapValue);default:throw gt(23264,{he:i})}}function Ly(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Nt(s,e);const i=_r(s),a=_r(e),o=Nt(i.seconds,a.seconds);return o!==0?o:Nt(i.nanos,a.nanos)}function Py(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=ys(i[o],a[o]);if(h)return h}return Nt(i.length,a.length)}function _s(s){return Ff(s)}function Ff(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=_r(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return vr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ct.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=Ff(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${Ff(i.fields[d])}`;return o+"}"}(s.mapValue):gt(61005,{value:s})}function ku(s){switch(Er(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cc(s);return e?16+ku(e):16;case 5:return 2*s.stringValue.length;case 6:return vr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,h)=>o+ku(h),0)}(s.arrayValue);case 10:case 11:return function(a){let o=0;return Sr(a.fields,(h,d)=>{o+=h.length+ku(d)}),o}(s.mapValue);default:throw gt(13486,{value:s})}}function By(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Yf(s){return!!s&&"integerValue"in s}function yd(s){return!!s&&"arrayValue"in s}function ky(s){return!!s&&"nullValue"in s}function jy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ju(s){return!!s&&"mapValue"in s}function tA(s){return(s?.mapValue?.fields||{})[tv]?.stringValue===ev}function Hl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Sr(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Hl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hl(s.arrayValue.values[i]);return e}return{...s}}function eA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===WT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!ju(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(i)}setAll(e){let i=je.emptyPath(),a={},o=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Hl(d):o.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());ju(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];ju(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Sr(i,(o,h)=>e[o]=h);for(const o of a)delete e[o]}clone(){return new rn(Hl(this.value))}}function nv(s){const e=[];return Sr(s.fields,(i,a)=>{const o=new je([i]);if(ju(a)){const h=nv(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,a,o,h,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Xe(e,0,Et.min(),Et.min(),Et.min(),rn.empty(),0)}static newFoundDocument(e,i,a,o){return new Xe(e,1,i,Et.min(),a,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,Et.min(),Et.min(),rn.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,Et.min(),Et.min(),rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,i){this.position=e,this.inclusive=i}}function qy(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?a=ct.comparator(ct.fromName(d.referenceValue),i.key):a=ys(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Hy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!si(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,i="asc"){this.field=e,this.dir=i}}function nA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{}class _e extends iv{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new rA(e,i,a):i==="array-contains"?new lA(e,a):i==="in"?new oA(e,a):i==="not-in"?new uA(e,a):i==="array-contains-any"?new cA(e,a):new _e(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new aA(e,a):new sA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ys(i,this.value)):i!==null&&Er(this.value)===Er(i)&&this.matchesComparison(ys(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends iv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new zn(e,i)}matches(e){return rv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rv(s){return s.op==="and"}function av(s){return iA(s)&&rv(s)}function iA(s){for(const e of s.filters)if(e instanceof zn)return!1;return!0}function Xf(s){if(s instanceof _e)return s.field.canonicalString()+s.op.toString()+_s(s.value);if(av(s))return s.filters.map(e=>Xf(e)).join(",");{const e=s.filters.map(i=>Xf(i)).join(",");return`${s.op}(${e})`}}function sv(s,e){return s instanceof _e?function(a,o){return o instanceof _e&&a.op===o.op&&a.field.isEqual(o.field)&&si(a.value,o.value)}(s,e):s instanceof zn?function(a,o){return o instanceof zn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((h,d,p)=>h&&sv(d,o.filters[p]),!0):!1}(s,e):void gt(19439)}function lv(s){return s instanceof _e?function(i){return`${i.field.canonicalString()} ${i.op} ${_s(i.value)}`}(s):s instanceof zn?function(i){return i.op.toString()+" {"+i.getFilters().map(lv).join(" ,")+"}"}(s):"Filter"}class rA extends _e{constructor(e,i,a){super(e,i,a),this.key=ct.fromName(a.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class aA extends _e{constructor(e,i){super(e,"in",i),this.keys=ov("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class sA extends _e{constructor(e,i){super(e,"not-in",i),this.keys=ov("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function ov(s,e){return(e.arrayValue?.values||[]).map(i=>ct.fromName(i.referenceValue))}class lA extends _e{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return yd(i)&&Jl(i.arrayValue,this.value)}}class oA extends _e{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Jl(this.value.arrayValue,i)}}class uA extends _e{constructor(e,i){super(e,"not-in",i)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Jl(this.value.arrayValue,i)}}class cA extends _e{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!yd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Jl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,i=null,a=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function Gy(s,e=null,i=[],a=[],o=null,h=null,d=null){return new hA(s,e,i,a,o,h,d)}function _d(s){const e=At(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Xf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),uc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>_s(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>_s(a)).join(",")),e.Te=i}return e.Te}function vd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!nA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!sv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Hy(s.startAt,e.startAt)&&Hy(s.endAt,e.endAt)}function Kf(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,i=null,a=[],o=[],h=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fA(s,e,i,a,o,h,d,p){return new no(s,e,i,a,o,h,d,p)}function Ed(s){return new no(s)}function Qy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function uv(s){return s.collectionGroup!==null}function Gl(s){const e=At(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new we(je.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(p=p.add(v.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Wu(h,a))}),i.has(je.keyField().canonicalString())||e.Ie.push(new Wu(je.keyField(),a))}return e.Ie}function ei(s){const e=At(s);return e.Ee||(e.Ee=dA(e,Gl(s))),e.Ee}function dA(s,e){if(s.limitType==="F")return Gy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new Wu(o.field,h)});const i=s.endAt?new Ju(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Ju(s.startAt.position,s.startAt.inclusive):null;return Gy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Zf(s,e){const i=s.filters.concat([e]);return new no(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function $f(s,e,i){return new no(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function hc(s,e){return vd(ei(s),ei(e))&&s.limitType===e.limitType}function cv(s){return`${_d(ei(s))}|lt:${s.limitType}`}function us(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>lv(o)).join(", ")}]`),uc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>_s(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>_s(o)).join(",")),`Target(${a})`}(ei(s))}; limitType=${s.limitType})`}function fc(s,e){return e.isFoundDocument()&&function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ct.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,o){for(const h of Gl(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0}(s,e)&&function(a,o){return!(a.startAt&&!function(d,p,_){const v=qy(d,p,_);return d.inclusive?v<=0:v<0}(a.startAt,Gl(a),o)||a.endAt&&!function(d,p,_){const v=qy(d,p,_);return d.inclusive?v>=0:v>0}(a.endAt,Gl(a),o))}(s,e)}function mA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function hv(s){return(e,i)=>{let a=!1;for(const o of Gl(s)){const h=gA(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function gA(s,e,i){const a=s.field.isKeyField()?ct.comparator(e.key,i.key):function(h,d,p){const _=d.data.field(h),v=p.data.field(h);return _!==null&&v!==null?ys(_,v):gt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Sr(this.inner,(i,a)=>{for(const[o,h]of a)e(o,h)})}isEmpty(){return X_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=new re(ct.comparator);function Ui(){return pA}const fv=new re(ct.comparator);function Bl(...s){let e=fv;for(const i of s)e=e.insert(i.key,i);return e}function dv(s){let e=fv;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function ua(){return Ql()}function mv(){return Ql()}function Ql(){return new ma(s=>s.toString(),(s,e)=>s.isEqual(e))}const yA=new re(ct.comparator),_A=new we(ct.comparator);function xt(...s){let e=_A;for(const i of s)e=e.add(i);return e}const vA=new we(Nt);function EA(){return vA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ku(e)?"-0":e}}function gv(s){return{integerValue:""+s}}function TA(s,e){return XT(e)?gv(e):Td(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(){this._=void 0}}function AA(s,e,i){return s instanceof tc?function(o,h){const d={fields:{[$_]:{stringValue:Z_},[W_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&pd(h)&&(h=cc(h)),h&&(d.fields[J_]=h),{mapValue:d}}(i,e):s instanceof Wl?yv(s,e):s instanceof to?_v(s,e):function(o,h){const d=pv(o,h),p=Fy(d)+Fy(o.Ae);return Yf(d)&&Yf(o.Ae)?gv(p):Td(o.serializer,p)}(s,e)}function SA(s,e,i){return s instanceof Wl?yv(s,e):s instanceof to?_v(s,e):i}function pv(s,e){return s instanceof ec?function(a){return Yf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class tc extends dc{}class Wl extends dc{constructor(e){super(),this.elements=e}}function yv(s,e){const i=vv(e);for(const a of s.elements)i.some(o=>si(o,a))||i.push(a);return{arrayValue:{values:i}}}class to extends dc{constructor(e){super(),this.elements=e}}function _v(s,e){let i=vv(e);for(const a of s.elements)i=i.filter(o=>!si(o,a));return{arrayValue:{values:i}}}class ec extends dc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Fy(s){return he(s.integerValue||s.doubleValue)}function vv(s){return yd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function bA(s,e){return s.field.isEqual(e.field)&&function(a,o){return a instanceof Wl&&o instanceof Wl||a instanceof to&&o instanceof to?ps(a.elements,o.elements,si):a instanceof ec&&o instanceof ec?si(a.Ae,o.Ae):a instanceof tc&&o instanceof tc}(s.transform,e.transform)}class RA{constructor(e,i){this.version=e,this.transformResults=i}}class Un{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class mc{}function Ev(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ad(s.key,Un.none()):new io(s.key,s.data,Un.none());{const i=s.data,a=rn.empty();let o=new we(je.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new br(s.key,a,new mn(o.toArray()),Un.none())}}function wA(s,e,i){s instanceof io?function(o,h,d){const p=o.value.clone(),_=Xy(o.fieldTransforms,h,d.transformResults);p.setAll(_),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,i):s instanceof br?function(o,h,d){if(!qu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=Xy(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(Tv(o)),_.setAll(p),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Fl(s,e,i,a){return s instanceof io?function(h,d,p,_){if(!qu(h.precondition,d))return p;const v=h.value.clone(),A=Ky(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof br?function(h,d,p,_){if(!qu(h.precondition,d))return p;const v=Ky(h.fieldTransforms,_,d),A=d.data;return A.setAll(Tv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(N=>N.field))}(s,e,i,a):function(h,d,p){return qu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,i)}function CA(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),h=pv(a.transform,o||null);h!=null&&(i===null&&(i=rn.empty()),i.set(a.field,h))}return i||null}function Yy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ps(a,o,(h,d)=>bA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class io extends mc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class br extends mc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Tv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function Xy(s,e,i){const a=new Map;jt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,p=e.data.field(h.field);a.set(h.field,SA(d,p,i[o]))}return a}function Ky(s,e,i){const a=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);a.set(o.field,AA(h,d,e))}return a}class Ad extends mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DA extends mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&wA(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Fl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Fl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=mv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const _=Ev(d,p);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),xt())}isEqual(e){return this.batchId===e.batchId&&ps(this.mutations,e.mutations,(i,a)=>Yy(i,a))&&ps(this.baseMutations,e.baseMutations,(i,a)=>Yy(i,a))}}class Sd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){jt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=function(){return yA}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new Sd(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,zt;function xA(s){switch(s){case K.OK:return gt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function Av(s){if(s===void 0)return Mi("GRPC error has no .code"),K.UNKNOWN;switch(s){case ye.OK:return K.OK;case ye.CANCELLED:return K.CANCELLED;case ye.UNKNOWN:return K.UNKNOWN;case ye.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ye.INTERNAL:return K.INTERNAL;case ye.UNAVAILABLE:return K.UNAVAILABLE;case ye.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ye.NOT_FOUND:return K.NOT_FOUND;case ye.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ye.ABORTED:return K.ABORTED;case ye.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ye.DATA_LOSS:return K.DATA_LOSS;default:return gt(39323,{code:s})}}(zt=ye||(ye={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=new mr([4294967295,4294967295],0);function Zy(s){const e=OA().encode(s),i=new L_;return i.update(e),new Uint8Array(i.digest())}function $y(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new mr([i,a],0),new mr([o,h],0)]}class bd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(a<0)throw new kl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=mr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(mr.fromNumber(a)));return o.compare(MA)===1&&(o=new mr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Zy(e),[a,o]=$y(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new bd(h,o,i);return a.forEach(p=>d.insert(p)),d}insert(e){if(this.ge===0)return;const i=Zy(e),[a,o]=$y(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,ro.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new gc(Et.min(),o,new re(Nt),Ui(),xt())}}class ro{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new ro(a,i,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class Sv{constructor(e,i){this.targetId=e,this.Ce=i}}class bv{constructor(e,i,a=qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Jy{constructor(){this.ve=0,this.Fe=Wy(),this.Me=qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xt(),i=xt(),a=xt();return this.Fe.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:gt(38017,{changeType:h})}}),new ro(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=Wy()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ui(),this.Je=zu(),this.He=zu(),this.Ye=new re(Nt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:gt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((a,o)=>{this.rt(o)&&i(o)})}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Kf(h))if(a===0){const d=new ct(h.path);this.et(i,d,Xe.newNoDocument(d,Et.min()))}else jt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=vr(a).toUint8Array()}catch(_){if(_ instanceof K_)return gs("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new bd(d,o,h)}catch(_){return gs(_ instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach(h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),o++)}),o}Tt(e){const i=new Map;this.ze.forEach((h,d)=>{const p=this.ot(d);if(p){if(h.current&&Kf(p.target)){const _=new ct(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Xe.newNoDocument(_,e))}h.Be&&(i.set(d,h.ke()),h.qe())}});let a=xt();this.He.forEach((h,d)=>{let p=!0;d.forEachWhile(_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(a=a.add(h))}),this.je.forEach((h,d)=>d.setReadTime(e));const o=new gc(e,i,this.Ye,this.je,a);return this.je=Ui(),this.Je=zu(),this.He=zu(),this.Ye=new re(Nt),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Jy,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new we(Nt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new we(Nt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Jy),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function zu(){return new re(ct.comparator)}function Wy(){return new re(ct.comparator)}const zA={asc:"ASCENDING",desc:"DESCENDING"},LA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PA={and:"AND",or:"OR"};class BA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Jf(s,e){return s.useProto3Json||uc(e)?e:{value:e}}function nc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function kA(s,e){return nc(s,e.toTimestamp())}function ni(s){return jt(!!s,49232),Et.fromTimestamp(function(i){const a=_r(i);return new te(a.seconds,a.nanos)}(s))}function Rd(s,e){return Wf(s,e).canonicalString()}function Wf(s,e){const i=function(o){return new Jt(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?i:i.child(e)}function wv(s){const e=Jt.fromString(s);return jt(Nv(e),10190,{key:e.toString()}),e}function td(s,e){return Rd(s.databaseId,e.path)}function Uf(s,e){const i=wv(e);if(i.get(1)!==s.databaseId.projectId)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(Dv(i))}function Cv(s,e){return Rd(s.databaseId,e)}function jA(s){const e=wv(s);return e.length===4?Jt.emptyPath():Dv(e)}function ed(s){return new Jt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Dv(s){return jt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function t_(s,e,i){return{name:td(s,e),fields:i.value.mapValue.fields}}function qA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:gt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(jt(A===void 0||typeof A=="string",58123),qe.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),qe.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(v){const A=v.code===void 0?K.UNKNOWN:Av(v.code);return new st(A,v.message||"")}(d);i=new bv(a,o,h,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Uf(s,a.document.name),h=ni(a.document.updateTime),d=a.document.createTime?ni(a.document.createTime):Et.min(),p=new rn({mapValue:{fields:a.document.fields}}),_=Xe.newFoundDocument(o,h,d,p),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Hu(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Uf(s,a.document),h=a.readTime?ni(a.readTime):Et.min(),d=Xe.newNoDocument(o,h),p=a.removedTargetIds||[];i=new Hu([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Uf(s,a.document),h=a.removedTargetIds||[];i=new Hu([],h,o,null)}else{if(!("filter"in e))return gt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new NA(o,h),p=a.targetId;i=new Sv(p,d)}}return i}function HA(s,e){let i;if(e instanceof io)i={update:t_(s,e.key,e.value)};else if(e instanceof Ad)i={delete:td(s,e.key)};else if(e instanceof br)i={update:t_(s,e.key,e.data),updateMask:JA(e.fieldMask)};else{if(!(e instanceof DA))return gt(16599,{Vt:e.type});i={verify:td(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const p=d.transform;if(p instanceof tc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof to)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ec)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:kA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt(27497)}(s,e.precondition)),i}function GA(s,e){return s&&s.length>0?(jt(e!==void 0,14353),s.map(i=>function(o,h){let d=o.updateTime?ni(o.updateTime):ni(h);return d.isEqual(Et.min())&&(d=ni(h)),new RA(d,o.transformResults||[])}(i,e))):[]}function QA(s,e){return{documents:[Cv(s,e.path)]}}function FA(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Cv(s,o);const h=function(v){if(v.length!==0)return Iv(zn.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(I){return{field:cs(I.field),direction:KA(I.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Jf(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ft:i,parent:o}}function YA(s){let e=jA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){jt(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(N){const I=Vv(N);return I instanceof zn&&av(I)?I.getFilters():[I]}(i.where));let d=[];i.orderBy&&(d=function(N){return N.map(I=>function($){return new Wu(hs($.field),function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(I))}(i.orderBy));let p=null;i.limit&&(p=function(N){let I;return I=typeof N=="object"?N.value:N,uc(I)?null:I}(i.limit));let _=null;i.startAt&&(_=function(N){const I=!!N.before,Q=N.values||[];return new Ju(Q,I)}(i.startAt));let v=null;return i.endAt&&(v=function(N){const I=!N.before,Q=N.values||[];return new Ju(Q,I)}(i.endAt)),fA(e,o,d,h,p,"F",_,v)}function XA(s,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Vv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=hs(i.unaryFilter.field);return _e.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=hs(i.unaryFilter.field);return _e.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=hs(i.unaryFilter.field);return _e.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=hs(i.unaryFilter.field);return _e.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}}(s):s.fieldFilter!==void 0?function(i){return _e.create(hs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return zn.create(i.compositeFilter.filters.map(a=>Vv(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}}(i.compositeFilter.op))}(s):gt(30097,{filter:s})}function KA(s){return zA[s]}function ZA(s){return LA[s]}function $A(s){return PA[s]}function cs(s){return{fieldPath:s.canonicalString()}}function hs(s){return je.fromServerFormat(s.fieldPath)}function Iv(s){return s instanceof _e?function(i){if(i.op==="=="){if(jy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NAN"}};if(ky(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(jy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NAN"}};if(ky(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(i.field),op:ZA(i.op),value:i.value}}}(s):s instanceof zn?function(i){const a=i.getFilters().map(o=>Iv(o));return a.length===1?a[0]:{compositeFilter:{op:$A(i.op),filters:a}}}(s):gt(54877,{filter:s})}function JA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Nv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,i,a,o,h=Et.min(),d=Et.min(),p=qe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.yt=e}}function tS(s){const e=YA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?$f(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.Cn=new nS}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(yr.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class nS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new we(Jt.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new we(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xv=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(xv,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vs(0)}static cr(){return new vs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="LruGarbageCollector",iS=1048576;function i_([s,e],[i,a]){const o=Nt(s,i);return o===0?Nt(e,a):o}class rS{constructor(e){this.Ir=e,this.buffer=new we(i_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();i_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class aS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){at(n_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Rs(i)?at(n_,"Ignoring IndexedDB error during garbage collection: ",i):await bs(i)}await this.Vr(3e5)})}}class sS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(oc.ce);const a=new rS(i);return this.mr.forEachTarget(e,o=>a.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>a.Ar(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(e_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e_):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,h,d,p,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,d=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(a=N,p=Date.now(),this.removeTargets(e,a,i))).next(N=>(h=N,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(N=>(v=Date.now(),os()<=Lt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(_-p)+`ms
	Removed ${N} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:N})))}}function lS(s,e){return new sS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.changes=new ma(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&Fl(a.mutation,o,mn.empty(),te.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,xt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=xt()){const o=ua();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(h=>{let d=Bl();return h.forEach((p,_)=>{d=d.insert(p,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=ua();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,xt()))}populateOverlays(e,i,a){const o=[];return a.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,a,o){let h=Ui();const d=Ql(),p=function(){return Ql()}();return i.forEach((_,v)=>{const A=a.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof br)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Fl(A.mutation,v,A.mutation.getFieldMask(),te.now())):d.set(v.key,mn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>p.set(v,new uS(A,d.get(v)??null))),p))}recalculateAndSaveOverlays(e,i){const a=Ql();let o=new re((d,p)=>d-p),h=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||mn.empty();A=p.applyToLocalView(v,A),a.set(_,A);const N=(o.get(p.batchId)||xt()).add(_);o=o.insert(p.batchId,N)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,A=_.value,N=mv();A.forEach(I=>{if(!h.has(I)){const Q=Ev(i.get(I),a.get(I));Q!==null&&N.set(I,Q),h=h.add(I)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,N))}return Z.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):uv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):Z.resolve(ua());let p=Kl,_=h;return d.next(v=>Z.forEach(v,(A,N)=>(p<N.largestBatchId&&(p=N.largestBatchId),h.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next(I=>{_=_.insert(A,I)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,xt())).next(A=>({batchId:p,changes:dv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next(a=>{let o=Bl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=Bl();return this.indexManager.getCollectionParents(e,h).next(p=>Z.forEach(p,_=>{const v=function(N,I){return new no(I,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next(A=>{A.forEach((N,I)=>{d=d.insert(N,I)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))});let p=Bl();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Fl(A.mutation,v,mn.empty(),te.now()),fc(i,v)&&(p=p.insert(_,v))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ni(o.createTime)}}(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(o){return{name:o.name,query:tS(o.bundledQuery),readTime:ni(o.readTime)}}(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.overlays=new re(ct.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ua();return Z.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&a.set(o,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,h)=>{this.St(e,i,h)}),Z.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const o=ua(),h=i.length+1,d=new ct(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&o.set(_.getKey(),_)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new re((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=h.get(v.largestBatchId);A===null&&(A=ua(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=ua(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>p.set(v,A)),!(p.size()>=o)););return Z.resolve(p)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new IA(i,a));let h=this.qr.get(i);h===void 0&&(h=xt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(){this.Qr=new we(Oe.$r),this.Ur=new we(Oe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Oe(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.Gr(new Oe(e,i))}zr(e,i){e.forEach(a=>this.removeReference(a,i))}jr(e){const i=new ct(new Jt([])),a=new Oe(i,e),o=new Oe(i,e+1),h=[];return this.Ur.forEachInRange([a,o],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ct(new Jt([])),a=new Oe(i,e),o=new Oe(i,e+1);let h=xt();return this.Ur.forEachInRange([a,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Oe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ct.comparator(e.key,i.key)||Nt(e.Yr,i.Yr)}static Kr(e,i){return Nt(e.Yr,i.Yr)||ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new we(Oe.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new VA(h,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Oe(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?gd:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,o],d=>{const p=this.Xr(d.Yr);h.push(p)}),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new we(Nt);return i.forEach(o=>{const h=new Oe(o,0),d=new Oe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],p=>{a=a.add(p.Yr)})}),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;ct.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new ct(h),0);let p=new we(Nt);return this.Zr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Yr)),!0)},d),Z.resolve(this.ti(p))}ti(e){const i=[];return e.forEach(a=>{const o=this.Xr(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){jt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,o=>{const h=new Oe(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=a})}ir(e){}containsKey(e,i){const a=new Oe(i,0),o=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.ri=e,this.docs=function(){return new re(ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let a=Ui();return i.forEach(o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))}),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=Ui();const d=i.path,p=new ct(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||GT(HT(A),a)<=0||(o.has(A.key)||fc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,a,o){gt(9500)}ii(e,i){return Z.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new pS(this)}getSize(e){return Z.resolve(this.size)}}class pS extends oS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)}),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.persistence=e,this.si=new ma(i=>_d(i),vd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new wd,this.targetCount=0,this.ai=vs.ur()}forEachTarget(e,i){return this.si.forEach((a,o)=>i(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new vs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.si.forEach((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),Z.waitFor(h).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,i){this.ui={},this.overlays={},this.ci=new oc(0),this.li=!1,this.li=!0,this.hi=new dS,this.referenceDelegate=e(this),this.Pi=new yS(this),this.indexManager=new eS,this.remoteDocumentCache=function(o){return new gS(o)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new WA(i),this.Ii=new hS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new fS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new mS(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){at("MemoryPersistence","Starting transaction:",e);const o=new _S(this.ci.next());return this.referenceDelegate.Ei(),a(o).next(h=>this.referenceDelegate.di(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ai(e,i){return Z.or(Object.values(this.ui).map(a=>()=>a.containsKey(e,i)))}}class _S extends FT{constructor(e){super(),this.currentSequenceNumber=e}}class Cd{constructor(e){this.persistence=e,this.Ri=new wd,this.Vi=null}static mi(e){return new Cd(e)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(o=>this.fi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.fi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,a=>{const o=ct.fromPath(a);return this.gi(e,o).next(h=>{h||i.removeEntry(o,Et.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ic{constructor(e,i){this.persistence=e,this.pi=new ma(a=>KT(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=lS(this,i)}static mi(e,i){return new ic(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}wr(e){let i=0;return this.pr(e,a=>{i++}).next(()=>i)}pr(e,i){return Z.forEach(this.pi,(a,o)=>this.br(e,a,o).next(h=>h?Z.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,i).next(p=>{p||(a++,h.removeEntry(d,Et.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ku(e.data.value)),i}br(e,i,a){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=xt(),o=xt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Dd(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return h1()?8:YT(u1())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ys(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(e,i,o,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new vS;return this.Ss(e,i,d).next(p=>{if(h.result=p,this.Vs)return this.bs(e,i,d,p.size)})}).next(()=>h.result)}bs(e,i,a,o){return a.documentReadCount<this.fs?(os()<=Lt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",us(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(os()<=Lt.DEBUG&&at("QueryEngine","Query:",us(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(os()<=Lt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",us(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):Z.resolve())}ys(e,i){if(Qy(i))return Z.resolve(null);let a=ei(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=$f(i,null,"F"),a=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=xt(...h);return this.ps.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.Ds(i,p);return this.Cs(i,v,d,_.readTime)?this.ys(e,$f(i,null,"F")):this.vs(e,v,i,_)}))})))}ws(e,i,a,o){return Qy(i)||o.isEqual(Et.min())?Z.resolve(null):this.ps.getDocuments(e,a).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,o)?Z.resolve(null):(os()<=Lt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),us(i)),this.vs(e,d,i,qT(o,Kl)).next(p=>p))})}Ds(e,i){let a=new we(hv(e));return i.forEach((o,h)=>{fc(e,h)&&(a=a.add(h))}),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,a){return os()<=Lt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",us(i)),this.ps.getDocumentsMatchingQuery(e,i,yr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="LocalStore",TS=3e8;class AS{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new re(Nt),this.xs=new ma(h=>_d(h),vd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function SS(s,e,i,a){return new AS(s,e,i,a)}async function Mv(s,e){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],p=[];let _=xt();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){p.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Ls:v,removedBatchIds:d,addedBatchIds:p}))})})}function bS(s,e){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return function(p,_,v,A){const N=v.batch,I=N.keys();let Q=Z.resolve();return I.forEach($=>{Q=Q.next(()=>A.getEntry(_,$)).next(rt=>{const tt=v.docVersions.get($);jt(tt!==null,48541),rt.version.compareTo(tt)<0&&(N.applyToRemoteDocument(rt,v),rt.isValidDocument()&&(rt.setReadTime(v.commitVersion),A.addEntry(rt)))})}),Q.next(()=>p.mutationQueue.removeMutationBatch(_,N))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(p){let _=xt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function Uv(s){const e=At(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function RS(s,e){const i=At(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach((A,N)=>{const I=o.get(N);if(!I)return;p.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,N).next(()=>i.Pi.addMatchingKeys(h,A.addedDocuments,N)));let Q=I.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(N)!==null?Q=Q.withResumeToken(qe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,a)),o=o.insert(N,Q),function(rt,tt,Tt){return rt.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=TS?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0}(I,Q,A)&&p.push(i.Pi.updateTargetData(h,Q))});let _=Ui(),v=xt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),p.push(wS(h,d,e.documentUpdates).next(A=>{_=A.ks,v=A.qs})),!a.isEqual(Et.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next(N=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a));p.push(A)}return Z.waitFor(p).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ms=o,h))}function wS(s,e,i){let a=xt(),o=xt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Ui();return i.forEach((p,_)=>{const v=h.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(Et.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):at(Vd,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)}),{ks:d,qs:o}})}function CS(s,e){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=gd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function DS(s,e){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.Pi.getTargetData(a,e).next(h=>h?(o=h,Z.resolve(o)):i.Pi.allocateTargetId(a).next(d=>(o=new hr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a})}async function nd(s,e,i){const a=At(s),o=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Rs(d))throw d;at(Vd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function r_(s,e,i){const a=At(s);let o=Et.min(),h=xt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const N=At(_),I=N.xs.get(A);return I!==void 0?Z.resolve(N.Ms.get(I)):N.Pi.getTargetData(v,A)}(a,d,ei(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next(_=>{h=_})}).next(()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?h:xt())).next(p=>(VS(a,mA(e),p),{documents:p,Qs:h})))}function VS(s,e,i){let a=s.Os.get(e)||Et.min();i.forEach((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Os.set(e,a)}class a_{constructor(){this.activeTargetIds=EA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IS{constructor(){this.Mo=new a_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new a_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="ConnectivityMonitor";class l_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(s_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){at(s_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu=null;function id(){return Lu===null?Lu=function(){return 268435456+Math.round(2147483648*Math.random())}():Lu++,"0x"+Lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="RestConnection",xS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Zu?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,h){const d=id(),p=this.zo(e,i.toUriEncodedString());at(zf,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,h);const{host:v}=new URL(p),A=hd(v);return this.Jo(e,p,_,a,A).then(N=>(at(zf,`Received RPC '${e}' ${d}: `,N),N),N=>{throw gs(zf,`RPC '${e}' ${d} failed with error: `,N,"url: ",p,"request:",a),N})}Ho(e,i,a,o,h,d){return this.Go(e,i,a,o,h)}jo(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ss}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),a&&a.headers.forEach((o,h)=>e[h]=o)}zo(e,i){const a=xS[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class US extends OS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,h){const d=id();return new Promise((p,_)=>{const v=new P_;v.setWithCredentials(!0),v.listenOnce(B_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Bu.NO_ERROR:const N=v.getResponseJson();at(Fe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(N)),p(N);break;case Bu.TIMEOUT:at(Fe,`RPC '${e}' ${d} timed out`),_(new st(K.DEADLINE_EXCEEDED,"Request time out"));break;case Bu.HTTP_ERROR:const I=v.getStatus();if(at(Fe,`RPC '${e}' ${d} failed with status:`,I,"response text:",v.getResponseText()),I>0){let Q=v.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const $=Q?.error;if($&&$.status&&$.message){const rt=function(Tt){const dt=Tt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(dt)>=0?dt:K.UNKNOWN}($.status);_(new st(rt,$.message))}else _(new st(K.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new st(K.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{at(Fe,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);at(Fe,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",A,a,15)})}T_(e,i,a){const o=id(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=q_(),p=j_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=h.join("");at(Fe,`Creating RPC '${e}' stream ${o}: ${A}`,_);const N=d.createWebChannel(A,_);this.I_(N);let I=!1,Q=!1;const $=new MS({Yo:tt=>{Q?at(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,tt):(I||(at(Fe,`Opening RPC '${e}' stream ${o} transport.`),N.open(),I=!0),at(Fe,`RPC '${e}' stream ${o} sending:`,tt),N.send(tt))},Zo:()=>N.close()}),rt=(tt,Tt,dt)=>{tt.listen(Tt,ut=>{try{dt(ut)}catch(Rt){setTimeout(()=>{throw Rt},0)}})};return rt(N,Pl.EventType.OPEN,()=>{Q||(at(Fe,`RPC '${e}' stream ${o} transport opened.`),$.o_())}),rt(N,Pl.EventType.CLOSE,()=>{Q||(Q=!0,at(Fe,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(N))}),rt(N,Pl.EventType.ERROR,tt=>{Q||(Q=!0,gs(Fe,`RPC '${e}' stream ${o} transport errored. Name:`,tt.name,"Message:",tt.message),$.a_(new st(K.UNAVAILABLE,"The operation could not be completed")))}),rt(N,Pl.EventType.MESSAGE,tt=>{if(!Q){const Tt=tt.data[0];jt(!!Tt,16349);const dt=Tt,ut=dt?.error||dt[0]?.error;if(ut){at(Fe,`RPC '${e}' stream ${o} received error:`,ut);const Rt=ut.status;let pt=function(S){const R=ye[S];if(R!==void 0)return Av(R)}(Rt),bt=ut.message;pt===void 0&&(pt=K.INTERNAL,bt="Unknown error status: "+Rt+" with message "+ut.message),Q=!0,$.a_(new st(pt,bt)),N.close()}else at(Fe,`RPC '${e}' stream ${o} received:`,Tt),$.u_(Tt)}}),rt(p,k_.STAT_EVENT,tt=>{tt.stat===Gf.PROXY?at(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):tt.stat===Gf.NOPROXY&&at(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{$.__()},0),$}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function Lf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(s){return new BA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="PersistentStream";class Lv{constructor(e,i,a,o,h,d,p,_){this.Mi=e,this.S_=a,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.D_===i&&this.G_(a,o)},a=>{e(()=>{const o=new st(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)})})}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{a(()=>this.z_(o))}),this.stream.onMessage(o=>{a(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return at(o_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(at(o_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zS extends Lv{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=qA(this.serializer,e),a=function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ni(d.readTime):Et.min()}(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=ed(this.serializer),i.addTarget=function(h,d){let p;const _=d.target;if(p=Kf(_)?{documents:QA(h,_)}:{query:FA(h,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Rv(h,d.resumeToken);const v=Jf(h,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=nc(h,d.snapshotVersion.toTimestamp());const v=Jf(h,d.expectedCount);v!==null&&(p.expectedCount=v)}return p}(this.serializer,e);const a=XA(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=ed(this.serializer),i.removeTarget=e,this.q_(i)}}class LS extends Lv{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=GA(e.writeResults,e.commitTime),a=ni(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=ed(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>HA(this.serializer,a))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{}class BS extends PS{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(e,Wf(i,a),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new st(K.UNKNOWN,h.toString())})}Ho(e,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Ho(e,Wf(i,a),o,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(K.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class kS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mi(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="RemoteStore";class jS{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{a.enqueueAndForget(async()=>{ga(this)&&(at(da,"Restarting streams for network reachability change."),await async function(_){const v=At(_);v.Ea.add(4),await ao(v),v.Ra.set("Unknown"),v.Ea.delete(4),await yc(v)}(this))})}),this.Ra=new kS(a,o)}}async function yc(s){if(ga(s))for(const e of s.da)await e(!0)}async function ao(s){for(const e of s.da)await e(!1)}function Pv(s,e){const i=At(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Od(i)?xd(i):ws(i).O_()&&Nd(i,e))}function Id(s,e){const i=At(s),a=ws(i);i.Ia.delete(e),a.O_()&&Bv(i,e),i.Ia.size===0&&(a.O_()?a.L_():ga(i)&&i.Ra.set("Unknown"))}function Nd(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ws(s).Y_(e)}function Bv(s,e){s.Va.Ue(e),ws(s).Z_(e)}function xd(s){s.Va=new UA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),ws(s).start(),s.Ra.ua()}function Od(s){return ga(s)&&!ws(s).x_()&&s.Ia.size>0}function ga(s){return At(s).Ea.size===0}function kv(s){s.Va=void 0}async function qS(s){s.Ra.set("Online")}async function HS(s){s.Ia.forEach((e,i)=>{Nd(s,e)})}async function GS(s,e){kv(s),Od(s)?(s.Ra.ha(e),xd(s)):s.Ra.set("Unknown")}async function QS(s,e,i){if(s.Ra.set("Online"),e instanceof bv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))}(s,e)}catch(a){at(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await rc(s,a)}else if(e instanceof Hu?s.Va.Ze(e):e instanceof Sv?s.Va.st(e):s.Va.tt(e),!i.isEqual(Et.min()))try{const a=await Uv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ia.get(v);A&&h.Ia.set(v,A.withResumeToken(_.resumeToken,d))}}),p.targetMismatches.forEach((_,v)=>{const A=h.Ia.get(_);if(!A)return;h.Ia.set(_,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),Bv(h,_);const N=new hr(A.target,_,v,A.sequenceNumber);Nd(h,N)}),h.remoteSyncer.applyRemoteEvent(p)}(s,i)}catch(a){at(da,"Failed to raise snapshot:",a),await rc(s,a)}}async function rc(s,e,i){if(!Rs(e))throw e;s.Ea.add(1),await ao(s),s.Ra.set("Offline"),i||(i=()=>Uv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{at(da,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await yc(s)})}function jv(s,e){return e().catch(i=>rc(s,i,e))}async function _c(s){const e=At(s),i=Tr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gd;for(;FS(e);)try{const o=await CS(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,YS(e,o)}catch(o){await rc(e,o)}qv(e)&&Hv(e)}function FS(s){return ga(s)&&s.Ta.length<10}function YS(s,e){s.Ta.push(e);const i=Tr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function qv(s){return ga(s)&&!Tr(s).x_()&&s.Ta.length>0}function Hv(s){Tr(s).start()}async function XS(s){Tr(s).ra()}async function KS(s){const e=Tr(s);for(const i of s.Ta)e.ea(i.mutations)}async function ZS(s,e,i){const a=s.Ta.shift(),o=Sd.from(a,e,i);await jv(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await _c(s)}async function $S(s,e){e&&Tr(s).X_&&await async function(a,o){if(function(d){return xA(d)&&d!==K.ABORTED}(o.code)){const h=a.Ta.shift();Tr(a).B_(),await jv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o)),await _c(a)}}(s,e),qv(s)&&Hv(s)}async function u_(s,e){const i=At(s);i.asyncQueue.verifyOperationInProgress(),at(da,"RemoteStore received new credentials");const a=ga(i);i.Ea.add(3),await ao(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await yc(i)}async function JS(s,e){const i=At(s);e?(i.Ea.delete(2),await yc(i)):e||(i.Ea.add(2),await ao(i),i.Ra.set("Unknown"))}function ws(s){return s.ma||(s.ma=function(i,a,o){const h=At(i);return h.sa(),new zS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{Xo:qS.bind(null,s),t_:HS.bind(null,s),r_:GS.bind(null,s),H_:QS.bind(null,s)}),s.da.push(async e=>{e?(s.ma.B_(),Od(s)?xd(s):s.Ra.set("Unknown")):(await s.ma.stop(),kv(s))})),s.ma}function Tr(s){return s.fa||(s.fa=function(i,a,o){const h=At(i);return h.sa(),new LS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:XS.bind(null,s),r_:$S.bind(null,s),ta:KS.bind(null,s),na:ZS.bind(null,s)}),s.da.push(async e=>{e?(s.fa.B_(),await _c(s)):(await s.fa.stop(),s.Ta.length>0&&(at(da,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))})),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,p=new Md(e,i,d,o,h);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ud(s,e){if(Mi("AsyncQueue",`${e}: ${s}`),Rs(s))return new st(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{static emptySet(e){return new ds(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ct.comparator(i.key,a.key):(i,a)=>ct.comparator(i.key,a.key),this.keyedMap=Bl(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ds)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ds;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.ga=new re(ct.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):gt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,a)=>{e.push(a)}),e}}class Es{constructor(e,i,a,o,h,d,p,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new Es(e,i,ds.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class tb{constructor(){this.queries=h_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=At(i),h=o.queries;o.queries=h_(),h.forEach((d,p)=>{for(const _ of p.Sa)_.onError(a)})})(this,new st(K.ABORTED,"Firestore shutting down"))}}function h_(){return new ma(s=>cv(s),hc)}async function eb(s,e){const i=At(s);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(a=2):(h=new WS,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Ud(d,`Initialization of query '${us(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&zd(i)}async function nb(s,e){const i=At(s),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function ib(s,e){const i=At(s);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&zd(i)}function rb(s,e,i){const a=At(s),o=a.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);a.queries.delete(e)}function zd(s){s.Ca.forEach(e=>{e.next()})}var rd,f_;(f_=rd||(rd={})).Ma="default",f_.Cache="cache";class ab{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Es(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Es.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e){this.key=e}}class Qv{constructor(e){this.key=e}}class sb{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xt(),this.mutatedKeys=xt(),this.eu=hv(e),this.tu=new ds(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new c_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,N)=>{const I=o.get(A),Q=fc(this.query,N)?N:null,$=!!I&&this.mutatedKeys.has(I.key),rt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let tt=!1;I&&Q?I.data.isEqual(Q.data)?$!==rt&&(a.track({type:3,doc:Q}),tt=!0):this.su(I,Q)||(a.track({type:2,doc:Q}),tt=!0,(_&&this.eu(Q,_)>0||v&&this.eu(Q,v)<0)&&(p=!0)):!I&&Q?(a.track({type:0,doc:Q}),tt=!0):I&&!Q&&(a.track({type:1,doc:I}),tt=!0,(_||v)&&(p=!0)),tt&&(Q?(d=d.add(Q),h=rt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((A,N)=>function(Q,$){const rt=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:tt})}};return rt(Q)-rt($)}(A.type,N.type)||this.eu(A.doc,N.doc)),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new Es(this.query,e.tu,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xt(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const i=[];return e.forEach(a=>{this.Xa.has(a)||i.push(new Qv(a))}),this.Xa.forEach(a=>{e.has(a)||i.push(new Gv(a))}),i}cu(e){this.Ya=e.Qs,this.Xa=xt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Es.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ld="SyncEngine";class lb{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class ob{constructor(e){this.key=e,this.hu=!1}}class ub{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ma(p=>cv(p),hc),this.Iu=new Map,this.Eu=new Set,this.du=new re(ct.comparator),this.Au=new Map,this.Ru=new wd,this.Vu={},this.mu=new Map,this.fu=vs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cb(s,e,i=!0){const a=$v(s);let o;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await Fv(a,e,i,!0),o}async function hb(s,e){const i=$v(s);await Fv(i,e,!0,!1)}async function Fv(s,e,i,a){const o=await DS(s.localStore,ei(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await fb(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&Pv(s.remoteStore,o),p}async function fb(s,e,i,a,o){s.pu=(N,I,Q)=>async function(rt,tt,Tt,dt){let ut=tt.view.ru(Tt);ut.Cs&&(ut=await r_(rt.localStore,tt.query,!1).then(({documents:x})=>tt.view.ru(x,ut)));const Rt=dt&&dt.targetChanges.get(tt.targetId),pt=dt&&dt.targetMismatches.get(tt.targetId)!=null,bt=tt.view.applyChanges(ut,rt.isPrimaryClient,Rt,pt);return m_(rt,tt.targetId,bt.au),bt.snapshot}(s,N,I,Q);const h=await r_(s.localStore,e,!0),d=new sb(e,h.Qs),p=d.ru(h.documents),_=ro.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),v=d.applyChanges(p,s.isPrimaryClient,_);m_(s,i,v.au);const A=new lb(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function db(s,e,i){const a=At(s),o=a.Tu.get(e),h=a.Iu.get(o.targetId);if(h.length>1)return a.Iu.set(o.targetId,h.filter(d=>!hc(d,e))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await nd(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Id(a.remoteStore,o.targetId),ad(a,o.targetId)}).catch(bs)):(ad(a,o.targetId),await nd(a.localStore,o.targetId,!0))}async function mb(s,e){const i=At(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Id(i.remoteStore,a.targetId))}async function gb(s,e,i){const a=Ab(s);try{const o=await function(d,p){const _=At(d),v=te.now(),A=p.reduce((Q,$)=>Q.add($.key),xt());let N,I;return _.persistence.runTransaction("Locally write mutations","readwrite",Q=>{let $=Ui(),rt=xt();return _.Ns.getEntries(Q,A).next(tt=>{$=tt,$.forEach((Tt,dt)=>{dt.isValidDocument()||(rt=rt.add(Tt))})}).next(()=>_.localDocuments.getOverlayedDocuments(Q,$)).next(tt=>{N=tt;const Tt=[];for(const dt of p){const ut=CA(dt,N.get(dt.key).overlayedDocument);ut!=null&&Tt.push(new br(dt.key,ut,nv(ut.value.mapValue),Un.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,v,Tt,p)}).next(tt=>{I=tt;const Tt=tt.applyToLocalDocumentSet(N,rt);return _.documentOverlayCache.saveOverlays(Q,tt.batchId,Tt)})}).then(()=>({batchId:I.batchId,changes:dv(N)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,p,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new re(Nt)),v=v.insert(p,_),d.Vu[d.currentUser.toKey()]=v}(a,o.batchId,i),await so(a,o.changes),await _c(a.remoteStore)}catch(o){const h=Ud(o,"Failed to persist write");i.reject(h)}}async function Yv(s,e){const i=At(s);try{const a=await RS(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Au.get(h);d&&(jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?jt(d.hu,14607):o.removedDocuments.size>0&&(jt(d.hu,42227),d.hu=!1))}),await so(i,a,e)}catch(a){await bs(a)}}function d_(s,e,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach((h,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)}),function(d,p){const _=At(d);_.onlineState=p;let v=!1;_.queries.forEach((A,N)=>{for(const I of N.Sa)I.va(p)&&(v=!0)}),v&&zd(_)}(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function pb(s,e,i){const a=At(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),h=o&&o.key;if(h){let d=new re(ct.comparator);d=d.insert(h,Xe.newNoDocument(h,Et.min()));const p=xt().add(h),_=new gc(Et.min(),new Map,new re(Nt),d,p);await Yv(a,_),a.du=a.du.remove(h),a.Au.delete(e),Pd(a)}else await nd(a.localStore,e,!1).then(()=>ad(a,e,i)).catch(bs)}async function yb(s,e){const i=At(s),a=e.batch.batchId;try{const o=await bS(i.localStore,e);Kv(i,a,null),Xv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await so(i,o)}catch(o){await bs(o)}}async function _b(s,e,i){const a=At(s);try{const o=await function(d,p){const _=At(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,p).next(N=>(jt(N!==null,37113),A=N.keys(),_.mutationQueue.removeMutationBatch(v,N))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,p)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(a.localStore,e);Kv(a,e,i),Xv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await so(a,o)}catch(o){await bs(o)}}function Xv(s,e){(s.mu.get(e)||[]).forEach(i=>{i.resolve()}),s.mu.delete(e)}function Kv(s,e,i){const a=At(s);let o=a.Vu[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function ad(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach(a=>{s.Ru.containsKey(a)||Zv(s,a)})}function Zv(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Id(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Pd(s))}function m_(s,e,i){for(const a of i)a instanceof Gv?(s.Ru.addReference(a.key,e),vb(s,a)):a instanceof Qv?(at(Ld,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||Zv(s,a.key)):gt(19791,{wu:a})}function vb(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(at(Ld,"New document in limbo: "+i),s.Eu.add(a),Pd(s))}function Pd(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ct(Jt.fromString(e)),a=s.fu.next();s.Au.set(a,new ob(i)),s.du=s.du.insert(i,a),Pv(s.remoteStore,new hr(ei(Ed(i.path)),a,"TargetPurposeLimboResolution",oc.ce))}}async function so(s,e,i){const a=At(s),o=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach((p,_)=>{d.push(a.pu(_,e,i).then(v=>{if((v||i)&&a.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(v){o.push(v);const A=Dd.As(_.targetId,v);h.push(A)}}))}),await Promise.all(d),a.Pu.H_(o),await async function(_,v){const A=At(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>Z.forEach(v,I=>Z.forEach(I.Es,Q=>A.persistence.referenceDelegate.addReference(N,I.targetId,Q)).next(()=>Z.forEach(I.ds,Q=>A.persistence.referenceDelegate.removeReference(N,I.targetId,Q)))))}catch(N){if(!Rs(N))throw N;at(Vd,"Failed to update sequence numbers: "+N)}for(const N of v){const I=N.targetId;if(!N.fromCache){const Q=A.Ms.get(I),$=Q.snapshotVersion,rt=Q.withLastLimboFreeSnapshotVersion($);A.Ms=A.Ms.insert(I,rt)}}}(a.localStore,h))}async function Eb(s,e){const i=At(s);if(!i.currentUser.isEqual(e)){at(Ld,"User change. New user:",e.toKey());const a=await Mv(i.localStore,e);i.currentUser=e,function(h,d){h.mu.forEach(p=>{p.forEach(_=>{_.reject(new st(K.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await so(i,a.Ls)}}function Tb(s,e){const i=At(s),a=i.Au.get(e);if(a&&a.hu)return xt().add(a.key);{let o=xt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function $v(s){const e=At(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pb.bind(null,e),e.Pu.H_=ib.bind(null,e.eventManager),e.Pu.yu=rb.bind(null,e.eventManager),e}function Ab(s){const e=At(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_b.bind(null,e),e}class ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return SS(this.persistence,new ES,e.initialUser,this.serializer)}Cu(e){return new Ov(Cd.mi,this.serializer)}Du(e){return new IS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ac.provider={build:()=>new ac};class Sb extends ac{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){jt(this.persistence.referenceDelegate instanceof ic,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new aS(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new Ov(a=>ic.mi(a,i),this.serializer)}}class sd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>d_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Eb.bind(null,this.syncEngine),await JS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tb}()}createDatastore(e){const i=pc(e.databaseInfo.databaseId),a=function(h){return new US(h)}(e.databaseInfo);return function(h,d,p,_){return new BS(h,d,p,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,h,d,p){return new jS(a,o,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>d_(this.syncEngine,i,0),function(){return l_.v()?new l_:new NS}())}createSyncEngine(e,i){return function(o,h,d,p,_,v,A){const N=new ub(o,h,d,p,_,v);return A&&(N.gu=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const a=At(i);at(da,"RemoteStore shutting down."),a.Ea.add(5),await ao(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sd.provider={build:()=>new sd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="FirestoreClient";class Rb{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=md.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{at(Ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(at(Ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Ud(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Pf(s,e){s.asyncQueue.verifyOperationInProgress(),at(Ar,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async o=>{a.isEqual(o)||(await Mv(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function g_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await wb(s);at(Ar,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>u_(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,o)=>u_(e.remoteStore,o)),s._onlineComponents=e}async function wb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(Ar,"Using user provided OfflineComponentProvider");try{await Pf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;gs("Error using user provided cache. Falling back to memory cache: "+i),await Pf(s,new ac)}}else at(Ar,"Using default OfflineComponentProvider"),await Pf(s,new Sb(void 0));return s._offlineComponents}async function Jv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(Ar,"Using user provided OnlineComponentProvider"),await g_(s,s._uninitializedComponentsProvider._online)):(at(Ar,"Using default OnlineComponentProvider"),await g_(s,new sd))),s._onlineComponents}function Cb(s){return Jv(s).then(e=>e.syncEngine)}async function p_(s){const e=await Jv(s),i=e.eventManager;return i.onListen=cb.bind(null,e.syncEngine),i.onUnlisten=db.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=hb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=mb.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="firestore.googleapis.com",__=!0;class v_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new st(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t0,this.ssl=__}else this.host=e.host,this.ssl=e.ssl??__;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iS)throw new st(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wv(e.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new NT;switch(a.type){case"firstParty":return new UT(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=y_.get(i);a&&(at("ComponentProvider","Removing Datastore"),y_.delete(i),a.terminate())}(this),Promise.resolve()}}function Db(s,e,i,a={}){s=gr(s,vc);const o=hd(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(r1(`https://${p}`),o1("Firestore",!0)),h.host!==t0&&h.host!==p&&gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:p,ssl:o,emulatorOptions:a};if(!Fu(_,d)&&(s._setSettings(_),a.mockUserToken)){let v,A;if(typeof a.mockUserToken=="string")v=a.mockUserToken,A=Ye.MOCK_USER;else{v=a1(a.mockUserToken,s._app?.options.projectId);const N=a.mockUserToken.sub||a.mockUserToken.user_id;if(!N)throw new st(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(N)}s._authCredentials=new xT(new G_(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Cs(this.firestore,e,this._query)}}class Ee{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ee(this.firestore,e,this._key)}toJSON(){return{type:Ee._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(eo(i,Ee._jsonSchema))return new Ee(e,a||null,new ct(Jt.fromString(i.referencePath)))}}Ee._jsonSchemaVersion="firestore/documentReference/1.0",Ee._jsonSchema={type:ve("string",Ee._jsonSchemaVersion),referencePath:ve("string")};class pr extends Cs{constructor(e,i,a){super(e,i,Ed(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ee(this.firestore,null,new ct(e))}withConverter(e){return new pr(this.firestore,e,this._path)}}function E_(s,e,...i){if(s=ai(s),Q_("collection","path",e),s instanceof vc){const a=Jt.fromString(e,...i);return Ny(a),new pr(s,null,a)}{if(!(s instanceof Ee||s instanceof pr))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Jt.fromString(e,...i));return Ny(a),new pr(s.firestore,null,a)}}function ld(s,e,...i){if(s=ai(s),arguments.length===1&&(e=md.newId()),Q_("doc","path",e),s instanceof vc){const a=Jt.fromString(e,...i);return Iy(a),new Ee(s,null,new ct(a))}{if(!(s instanceof Ee||s instanceof pr))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Jt.fromString(e,...i));return Iy(a),new Ee(s.firestore,s instanceof pr?s.converter:null,new ct(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="AsyncQueue";class A_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zv(this,"async_queue_retry"),this._c=()=>{const a=Lf();a&&at(T_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Lf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Lf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new ca;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Rs(e))throw e;at(T_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(a=>{throw this.nc=a,this.rc=!1,Mi("INTERNAL UNHANDLED ERROR: ",S_(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Md.createAndSchedule(this,e,i,a,h=>this.hc(h));return this.tc.push(o),o}uc(){this.nc&&gt(47125,{Pc:S_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function S_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of a)if(h in o&&typeof o[h]=="function")return!0;return!1}(s,["next","error","complete"])}class Ts extends vc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new A_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A_(e),this._firestoreClient=void 0,await e}}}function Vb(s,e){const i=typeof s=="object"?s:_T(),a=typeof s=="string"?s:Zu,o=dT(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=n1("firestore");h&&Db(o,...h)}return o}function e0(s){if(s._terminated)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Ib(s),s._firestoreClient}function Ib(s){const e=s._freezeSettings(),i=function(o,h,d,p){return new JT(o,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Wv(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Rb(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(qe.fromBase64String(e))}catch(i){throw new st(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Dn(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eo(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:ve("string",Dn._jsonSchemaVersion),bytes:ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new st(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(eo(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:ve("string",ii._jsonSchemaVersion),latitude:ve("number"),longitude:ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eo(e,ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new ri(e.vectorValues);throw new st(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:ve("string",ri._jsonSchemaVersion),vectorValues:ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=/^__.*__$/;class xb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,i,this.fieldTransforms):new io(e,this.data,i,this.fieldTransforms)}}class n0{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new br(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function i0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:s})}}class kd{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(i0(this.Ac)&&Nb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ob{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||pc(e)}Cc(e,i,a,o=!1){return new kd({Ac:e,methodName:i,Dc:a,path:je.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jd(s){const e=s._freezeSettings(),i=pc(s._databaseId);return new Ob(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Mb(s,e,i,a,o,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,o);qd("Data must be an object, but it was:",d,a);const p=r0(a,d);let _,v;if(h.merge)_=new mn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const N of h.mergeFields){const I=od(e,N,i);if(!d.contains(I))throw new st(K.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);s0(A,I)||A.push(I)}_=new mn(A),v=d.fieldTransforms.filter(N=>_.covers(N.field))}else _=null,v=d.fieldTransforms;return new xb(new rn(p),_,v)}class Tc extends Bd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tc}}function Ub(s,e,i,a){const o=s.Cc(1,e,i);qd("Data must be an object, but it was:",o,a);const h=[],d=rn.empty();Sr(a,(_,v)=>{const A=Hd(e,_,i);v=ai(v);const N=o.yc(A);if(v instanceof Tc)h.push(A);else{const I=lo(v,N);I!=null&&(h.push(A),d.set(A,I))}});const p=new mn(h);return new n0(d,p,o.fieldTransforms)}function zb(s,e,i,a,o,h){const d=s.Cc(1,e,i),p=[od(e,a,i)],_=[o];if(h.length%2!=0)throw new st(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<h.length;I+=2)p.push(od(e,h[I])),_.push(h[I+1]);const v=[],A=rn.empty();for(let I=p.length-1;I>=0;--I)if(!s0(v,p[I])){const Q=p[I];let $=_[I];$=ai($);const rt=d.yc(Q);if($ instanceof Tc)v.push(Q);else{const tt=lo($,rt);tt!=null&&(v.push(Q),A.set(Q,tt))}}const N=new mn(v);return new n0(A,N,d.fieldTransforms)}function Lb(s,e,i,a=!1){return lo(i,s.Cc(a?4:3,e))}function lo(s,e){if(a0(s=ai(s)))return qd("Unsupported field value:",e,s),r0(s,e);if(s instanceof Bd)return function(a,o){if(!i0(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(a,o){const h=[];let d=0;for(const p of a){let _=lo(p,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,o){if((a=ai(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return TA(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=te.fromDate(a);return{timestampValue:nc(o.serializer,h)}}if(a instanceof te){const h=new te(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:nc(o.serializer,h)}}if(a instanceof ii)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Dn)return{bytesValue:Rv(o.serializer,a._byteString)};if(a instanceof Ee){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Rd(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ri)return function(d,p){return{mapValue:{fields:{[tv]:{stringValue:ev},[$u]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Td(p.serializer,v)})}}}}}}(a,o);throw o.Sc(`Unsupported field value: ${lc(a)}`)}(s,e)}function r0(s,e){const i={};return X_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sr(s,(a,o)=>{const h=lo(o,e.mc(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function a0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof te||s instanceof ii||s instanceof Dn||s instanceof Ee||s instanceof Bd||s instanceof ri)}function qd(s,e,i){if(!a0(i)||!F_(i)){const a=lc(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function od(s,e,i){if((e=ai(e))instanceof Ec)return e._internalPath;if(typeof e=="string")return Hd(s,e);throw sc("Field path arguments must be of type string or ",s,!1,void 0,i)}const Pb=new RegExp("[~\\*/\\[\\]]");function Hd(s,e,i){if(e.search(Pb)>=0)throw sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ec(...e.split("."))._internalPath}catch{throw sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function sc(s,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new st(K.INVALID_ARGUMENT,p+s+_)}function s0(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ee(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(o0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Bb extends l0{data(){return super.data()}}function o0(s,e){return typeof e=="string"?Hd(s,e):e instanceof Ec?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new st(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gd{}class jb extends Gd{}function qb(s,e,...i){let a=[];e instanceof Gd&&a.push(e),a=a.concat(i),function(h){const d=h.filter(_=>_ instanceof Fd).length,p=h.filter(_=>_ instanceof Qd).length;if(d>1||d>0&&p>0)throw new st(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)s=o._apply(s);return s}class Qd extends jb{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Qd(e,i,a)}_apply(e){const i=this._parse(e);return u0(e._query,i),new Cs(e.firestore,e.converter,Zf(e._query,i))}_parse(e){const i=jd(e.firestore);return function(h,d,p,_,v,A,N){let I;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new st(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){w_(N,A);const $=[];for(const rt of N)$.push(R_(_,h,rt));I={arrayValue:{values:$}}}else I=R_(_,h,N)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||w_(N,A),I=Lb(p,d,N,A==="in"||A==="not-in");return _e.create(v,A,I)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Fd extends Gd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Fd(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:zn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,h){let d=o;const p=h.getFlattenedFilters();for(const _ of p)u0(d,_),d=Zf(d,_)}(e._query,i),new Cs(e.firestore,e.converter,Zf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function R_(s,e,i){if(typeof(i=ai(i))=="string"){if(i==="")throw new st(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uv(e)&&i.indexOf("/")!==-1)throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Jt.fromString(i));if(!ct.isDocumentKey(a))throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return By(s,new ct(a))}if(i instanceof Ee)return By(s,i._key);throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lc(i)}.`)}function w_(s,e){if(!Array.isArray(s)||s.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function u0(s,e){const i=function(o,h){for(const d of o)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null}(s.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new st(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new st(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Hb{convertValue(e,i="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Sr(e,(o,h)=>{a[o]=this.convertValue(h,i)}),a}convertVectorValue(e){const i=e.fields?.[$u].arrayValue?.values?.map(a=>he(a.doubleValue));return new ri(i)}convertGeoPoint(e){return new ii(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=cc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=_r(e);return new te(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Jt.fromString(e);jt(Nv(a),9688,{name:e});const o=new $l(a.get(1),a.get(3)),h=new ct(a.popFirst(5));return o.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class jl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends l0{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(o0("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ha._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:ve("string",ha._jsonSchemaVersion),bundleSource:ve("string","DocumentSnapshot"),bundleName:ve("string"),bundle:ve("string")};class Gu extends ha{data(e={}){return super.data(e)}}class ms{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new jl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Gu(this._firestore,this._userDataWriter,a.key,a,new jl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const _=new Gu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new jl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const _=new Gu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new jl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:Qb(p.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ms._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=md.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Qb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}ms._jsonSchemaVersion="firestore/querySnapshot/1.0",ms._jsonSchema={type:ve("string",ms._jsonSchemaVersion),bundleSource:ve("string","QuerySnapshot"),bundleName:ve("string"),bundle:ve("string")};class c0 extends Hb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ee(this.firestore,null,i)}}function Fb(s,e,i,...a){s=gr(s,Ee);const o=gr(s.firestore,Ts),h=jd(o);let d;return d=typeof(e=ai(e))=="string"||e instanceof Ec?zb(h,"updateDoc",s._key,e,i,a):Ub(h,"updateDoc",s._key,e),Yd(o,[d.toMutation(s._key,Un.exists(!0))])}function Yb(s){return Yd(gr(s.firestore,Ts),[new Ad(s._key,Un.none())])}function Xb(s,e){const i=gr(s.firestore,Ts),a=ld(s),o=Gb(s.converter,e);return Yd(i,[Mb(jd(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,Un.exists(!1))]).then(()=>a)}function Kb(s,...e){s=ai(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||b_(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(b_(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let h,d,p;if(s instanceof Ee)d=gr(s.firestore,Ts),p=Ed(s._key.path),h={next:_=>{e[a]&&e[a](Zb(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=gr(s,Cs);d=gr(_.firestore,Ts),p=_._query;const v=new c0(d);h={next:A=>{e[a]&&e[a](new ms(d,v,_,A))},error:e[a+1],complete:e[a+2]},kb(s._query)}return function(v,A,N,I){const Q=new bb(I),$=new ab(A,Q,N);return v.asyncQueue.enqueueAndForget(async()=>eb(await p_(v),$)),()=>{Q.Nu(),v.asyncQueue.enqueueAndForget(async()=>nb(await p_(v),$))}}(e0(d),p,o,h)}function Yd(s,e){return function(a,o){const h=new ca;return a.asyncQueue.enqueueAndForget(async()=>gb(await Cb(a),o,h)),h.promise}(e0(s),e)}function Zb(s,e,i){const a=i.docs.get(e._key),o=new c0(s);return new ha(s,o,e._key,a,new jl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Ss=o})(yT),Xu(new Yl("firestore",(a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new Ts(new OT(a.getProvider("auth-internal")),new zT(d,a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new st(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(v.options.projectId,A)}(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),fs(wy,Cy,e),fs(wy,Cy,"esm2020")})();const $b={apiKey:"AIzaSyCj6edi2ZrsSv0mpbGh5gGDEIxmUSzFo6g",authDomain:"inventory-4614f.firebaseapp.com",projectId:"inventory-4614f",storageBucket:"inventory-4614f.firebasestorage.app",messagingSenderId:"252486694632",appId:"1:252486694632:web:2e3c7b5f66df1e76157b5d",measurementId:"G-0GBQJD9Q23"},Jb=M_($b),Pu=Vb(Jb);function Wb(){const s=B=>/[\u0590-\u05FF]/.test(B),[e,i]=Be.useState(typeof window<"u"&&window.innerWidth<900);Be.useEffect(()=>{const B=()=>{i(window.innerWidth<900)};return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]);const a=B=>{if(!B)return e?"1.1rem":"1.3rem";const J=B.length;return e?J>35?"0.65rem":J>25?"0.75rem":J>20?"0.85rem":J>15?"0.95rem":J>10?"1.05rem":"1.1rem":J>45?"0.75rem":J>35?"0.85rem":J>25?"0.95rem":J>18?"1.1rem":J>12?"1.2rem":"1.3rem"},[o,h]=Be.useState([]),[d,p]=Be.useState([]),[_,v]=Be.useState("vienna"),[A,N]=Be.useState(""),[I,Q]=Be.useState(""),[$,rt]=Be.useState("refill"),[tt,Tt]=Be.useState(null),[dt,ut]=Be.useState(""),[Rt,pt]=Be.useState(""),[bt,x]=Be.useState("refill"),[S,R]=Be.useState("vienna"),[V,O]=Be.useState("add"),M=10;Be.useEffect(()=>{const B=qb(E_(Pu,"inventory"));return Kb(B,yt=>{const C=yt.docs.map(Y=>({...Y.data(),id:Y.id}));h(C.filter(Y=>Y.site==="vienna")),p(C.filter(Y=>Y.site==="innsbruck"))})},[]);const w=async()=>{if(!A||!I||isNaN(I))return;const B={name:A,amount:Number(I),type:$,site:_};await Xb(E_(Pu,"inventory"),B),N(""),Q(""),rt("refill")},fe=async(B,J)=>{const C=(J==="vienna"?o:d).find((Y,it)=>it===B);C&&C.id&&await Yb(ld(Pu,"inventory",C.id))},Wt=(B,J)=>{Tt(B),R(J);const C=(J==="vienna"?o:d).find((Y,it)=>it===B);ut(C.name),pt(C.amount),x(C.type)},H=async()=>{if(!dt||!Rt||isNaN(Rt))return;const J=(S==="vienna"?o:d).find((yt,C)=>C===tt);J&&J.id&&await Fb(ld(Pu,"inventory",J.id),{name:dt,amount:Number(Rt),type:bt,site:S}),Tt(null),ut(""),pt(""),x("refill"),R("vienna")};return W.jsxs("div",{className:"inventory-app",style:{display:e?"block":"flex",height:"100dvh",width:"100vw",fontFamily:"Segoe UI, Arial, sans-serif",fontSize:"1.3rem",background:"linear-gradient(90deg, #f8fafc 0%, #e0e7ef 100%)",boxSizing:"border-box",overflow:"auto",margin:0,padding:0},children:[e&&W.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",background:"#fff",boxShadow:"0 2px 8px #e0e7ef",padding:"1rem 0",position:"sticky",top:0,zIndex:10},children:[W.jsx("button",{onClick:()=>O("add"),style:{fontWeight:V==="add"?"bold":"normal",background:V==="add"?"#2563eb":"#f1f5f9",color:V==="add"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.7rem 1.2rem",fontSize:"1.1rem",cursor:"pointer"},children:"Add Item"}),W.jsx("button",{onClick:()=>O("vienna"),style:{fontWeight:V==="vienna"?"bold":"normal",background:V==="vienna"?"#2563eb":"#f1f5f9",color:V==="vienna"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.7rem 1.2rem",fontSize:"1.1rem",cursor:"pointer"},children:"Vienna"}),W.jsx("button",{onClick:()=>O("innsbruck"),style:{fontWeight:V==="innsbruck"?"bold":"normal",background:V==="innsbruck"?"#2563eb":"#f1f5f9",color:V==="innsbruck"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.7rem 1.2rem",fontSize:"1.1rem",cursor:"pointer"},children:"Innsbruck"})]}),(!e||V==="add")&&W.jsxs("div",{style:{flex:1,minWidth:"0",padding:"3rem 2rem",background:"#fff",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:"2px 0 10px #e0e7ef",borderRadius:e?"0":"0 2rem 2rem 0",height:e?"auto":"100%",overflowY:"auto",boxSizing:"border-box"},children:[W.jsx("h2",{style:{fontSize:"2rem",marginBottom:"2rem",color:"#2d3748"},children:"Add Item"}),W.jsxs("div",{className:"add-item",style:{display:"flex",flexDirection:"column",gap:"1.5rem",width:"100%",maxWidth:"400px",minWidth:"0",background:"#f1f5f9",padding:"2rem",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",margin:"2rem auto",boxSizing:"border-box",alignItems:"stretch",justifyContent:"center"},children:[W.jsxs("select",{value:_,onChange:B=>v(B.target.value),style:{fontSize:"1.2rem",padding:"0.7rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"},children:[W.jsx("option",{value:"vienna",children:"Vienna"}),W.jsx("option",{value:"innsbruck",children:"Innsbruck"})]}),W.jsx("input",{type:"text",placeholder:"Item name",value:A,onChange:B=>N(B.target.value),style:{fontSize:"1.2rem",padding:"0.7rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"}}),W.jsx("input",{type:"number",placeholder:"Amount",value:I,onChange:B=>Q(B.target.value),style:{fontSize:"1.2rem",padding:"0.7rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"}}),W.jsxs("select",{value:$,onChange:B=>rt(B.target.value),style:{fontSize:"1.2rem",padding:"0.7rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%"},children:[W.jsx("option",{value:"refill",children:"Supplies"}),W.jsx("option",{value:"stable",children:"Equipment"})]}),W.jsx("button",{onClick:w,style:{fontSize:"1.2rem",padding:"0.7rem",borderRadius:"0.5rem",background:"#2563eb",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",marginTop:"1rem"},children:"Add Item"})]})]}),(!e||V==="vienna")&&W.jsxs("div",{style:{flex:1,background:"#fff",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"2rem",minWidth:e?"0":"400px",height:e?"auto":"100%",overflowY:"auto",marginTop:e?"2rem":"0"},children:[W.jsx("h2",{style:{fontSize:"1.7rem",marginBottom:"1.5rem",color:"#2563eb"},children:"Vienna"}),W.jsxs("ul",{className:"item-list",style:{listStyle:"none",padding:0},children:[o.length===0&&W.jsx("p",{style:{color:"#64748b"},children:"No items yet."}),[...o].map((B,J)=>({item:B,originalIdx:J})).sort((B,J)=>(B.item.type==="refill"?-1:1)-(J.item.type==="refill"?-1:1)).map(({item:B,originalIdx:J})=>W.jsx("li",{style:{margin:"0 auto 2rem auto",background:B.type==="refill"&&B.amount<M?"#fee2e2":"#f1f5f9",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1.2rem",maxWidth:"600px",width:"100%",minWidth:"0",overflowX:"hidden",boxSizing:"border-box",display:"flex",flexDirection:"column",gap:"0.7rem",border:B.type==="refill"&&B.amount<M?"2px solid #ef4444":"none"},children:tt===J&&S==="vienna"?W.jsx(Rf.Fragment,{children:W.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[W.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"0.5rem",alignItems:"center"},children:[W.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",minWidth:"45px",fontWeight:"bold"},children:"Name:"}),W.jsx("input",{type:"text",value:dt,onChange:yt=>ut(yt.target.value),style:{fontSize:"1.1rem",padding:"0.4rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",flex:1,maxWidth:"300px"}})]}),W.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center"},children:[W.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flex:1},children:[W.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",minWidth:"55px",fontWeight:"bold"},children:"Amount:"}),W.jsx("input",{type:"number",value:Rt,onChange:yt=>pt(yt.target.value),style:{fontSize:"1.1rem",padding:"0.4rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"80px"}})]}),W.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flex:1},children:[W.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",minWidth:"40px",fontWeight:"bold"},children:"Type:"}),W.jsxs("select",{value:bt,onChange:yt=>x(yt.target.value),style:{fontSize:"1.1rem",padding:"0.4rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",minWidth:"100px"},children:[W.jsx("option",{value:"refill",children:"Supplies"}),W.jsx("option",{value:"stable",children:"Equipment"})]})]})]}),W.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"},children:[W.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[W.jsx("span",{style:{fontSize:"1rem",color:bt==="refill"&&Rt<M?"#ef4444":"#22c55e",fontWeight:"bold"},children:bt==="refill"?"Supplies":"Equipment"}),bt==="refill"&&Rt<M&&W.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1.1rem"},children:"⚠️ Low stock!"})]}),W.jsxs("div",{style:{display:"flex",gap:"0.8rem",alignItems:"center"},children:[W.jsx("button",{onClick:H,style:{fontSize:"1rem",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",background:"#22c55e",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",minWidth:"60px"},children:"Save"}),W.jsx("button",{onClick:()=>Tt(null),style:{fontSize:"1rem",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",minWidth:"60px"},children:"Cancel"})]})]})]})}):W.jsxs(Rf.Fragment,{children:[W.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center",justifyContent:"space-between"},children:[W.jsx("span",{style:{fontWeight:"bold",fontSize:a(B.name),color:"#334155",wordBreak:"break-word",maxWidth:s(B.name)?"75%":"65%",whiteSpace:B.name.length>25?"normal":"nowrap",overflow:"hidden",textOverflow:B.name.length>25?"clip":"ellipsis",direction:s(B.name)?"rtl":"ltr",textAlign:s(B.name)?"right":"left",lineHeight:B.name.length>25?"1.2":"1.4",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:B.name.length>35?3:2,maxHeight:B.name.length>35?"2.8rem":"2.4rem"},title:B.name,children:B.name}),W.jsxs("span",{style:{fontSize:"1.2rem",color:"#64748b",minWidth:"60px",textAlign:"right"},children:["Amount: ",B.amount]})]}),W.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center",justifyContent:"space-between",flexWrap:"nowrap"},children:[W.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[W.jsx("span",{style:{fontSize:"1.1rem",color:B.type==="refill"&&B.amount<M?"#ef4444":"#22c55e",fontWeight:"bold"},children:B.type==="refill"?"Supplies":"Equipment"}),B.type==="refill"&&B.amount<M&&W.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1.1rem"},children:"⚠️ Low stock!"})]}),W.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[W.jsx("button",{onClick:()=>Wt(J,"vienna"),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#2563eb",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Edit"}),W.jsx("button",{onClick:()=>fe(J,"vienna"),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Delete"})]})]})]})},J))]})]}),(!e||V==="innsbruck")&&W.jsxs("div",{style:{flex:1,background:"#fff",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"2rem",minWidth:e?"0":"400px",height:e?"auto":"100%",overflowY:"auto",marginTop:e?"2rem":"0"},children:[W.jsx("h2",{style:{fontSize:"1.7rem",marginBottom:"1.5rem",color:"#2563eb"},children:"Innsbruck"}),W.jsxs("ul",{className:"item-list",style:{listStyle:"none",padding:0},children:[d.length===0&&W.jsx("p",{style:{color:"#64748b"},children:"No items yet."}),[...d].map((B,J)=>({item:B,originalIdx:J})).sort((B,J)=>(B.item.type==="refill"?-1:1)-(J.item.type==="refill"?-1:1)).map(({item:B,originalIdx:J})=>W.jsx("li",{style:{margin:"0 auto 2rem auto",background:B.type==="refill"&&B.amount<M?"#fee2e2":"#f1f5f9",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1.2rem",maxWidth:"600px",width:"100%",minWidth:"0",overflowX:"hidden",boxSizing:"border-box",display:"flex",flexDirection:"column",gap:"0.7rem",border:B.type==="refill"&&B.amount<M?"2px solid #ef4444":"none"},children:tt===J&&S==="innsbruck"?W.jsx(Rf.Fragment,{children:W.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[W.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"0.5rem",alignItems:"center"},children:[W.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",minWidth:"45px",fontWeight:"bold"},children:"Name:"}),W.jsx("input",{type:"text",value:dt,onChange:yt=>ut(yt.target.value),style:{fontSize:"1.1rem",padding:"0.4rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",flex:1,maxWidth:"300px"}})]}),W.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center"},children:[W.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flex:1},children:[W.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",minWidth:"55px",fontWeight:"bold"},children:"Amount:"}),W.jsx("input",{type:"number",value:Rt,onChange:yt=>pt(yt.target.value),style:{fontSize:"1.1rem",padding:"0.4rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"80px"}})]}),W.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flex:1},children:[W.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",minWidth:"40px",fontWeight:"bold"},children:"Type:"}),W.jsxs("select",{value:bt,onChange:yt=>x(yt.target.value),style:{fontSize:"1.1rem",padding:"0.4rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",minWidth:"100px"},children:[W.jsx("option",{value:"refill",children:"Supplies"}),W.jsx("option",{value:"stable",children:"Equipment"})]})]})]}),W.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"},children:[W.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[W.jsx("span",{style:{fontSize:"1rem",color:bt==="refill"&&Rt<M?"#ef4444":"#22c55e",fontWeight:"bold"},children:bt==="refill"?"Supplies":"Equipment"}),bt==="refill"&&Rt<M&&W.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1.1rem"},children:"⚠️ Low stock!"})]}),W.jsxs("div",{style:{display:"flex",gap:"0.8rem",alignItems:"center"},children:[W.jsx("button",{onClick:H,style:{fontSize:"1rem",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",background:"#22c55e",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",minWidth:"60px"},children:"Save"}),W.jsx("button",{onClick:()=>Tt(null),style:{fontSize:"1rem",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",minWidth:"60px"},children:"Cancel"})]})]})]})}):W.jsxs(W.Fragment,{children:[W.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center",justifyContent:"space-between"},children:[W.jsx("span",{style:{fontWeight:"bold",fontSize:a(B.name),color:"#334155",wordBreak:"break-word",maxWidth:s(B.name)?"75%":"65%",whiteSpace:B.name.length>25?"normal":"nowrap",overflow:"hidden",textOverflow:B.name.length>25?"clip":"ellipsis",direction:s(B.name)?"rtl":"ltr",textAlign:s(B.name)?"right":"left",lineHeight:B.name.length>25?"1.2":"1.4",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:B.name.length>35?3:2,maxHeight:B.name.length>35?"2.8rem":"2.4rem"},title:B.name,children:B.name}),W.jsxs("span",{style:{fontSize:"1.2rem",color:"#64748b",minWidth:"60px",textAlign:"right"},children:["Amount: ",B.amount]})]}),W.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center",justifyContent:"space-between",flexWrap:"nowrap"},children:[W.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[W.jsx("span",{style:{fontSize:"1.1rem",color:B.type==="refill"&&B.amount<M?"#ef4444":"#22c55e",fontWeight:"bold"},children:B.type==="refill"?"Supplies":"Equipment"}),B.type==="refill"&&B.amount<M&&W.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1.1rem"},children:"⚠️ Low stock!"})]}),W.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[W.jsx("button",{onClick:()=>Wt(J,"innsbruck"),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#2563eb",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Edit"}),W.jsx("button",{onClick:()=>fe(J,"innsbruck"),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Delete"})]})]})]})},J))]})]})]})}QE.createRoot(document.getElementById("root")).render(W.jsx(Be.StrictMode,{children:W.jsx(Wb,{})}));
