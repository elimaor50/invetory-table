(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();function z1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ah={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function j1(){if(ry)return Ul;ry=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var p in o)p!=="key"&&(f[p]=o[p])}else f=o;return o=f.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:f}}return Ul.Fragment=e,Ul.jsx=i,Ul.jsxs=i,Ul}var sy;function U1(){return sy||(sy=1,Ah.exports=j1()),Ah.exports}var S=U1(),Rh={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function k1(){if(ay)return wt;ay=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),M=Symbol.iterator;function N(D){return D===null||typeof D!="object"?null:(D=M&&D[M]||D["@@iterator"],typeof D=="function"?D:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,ot={};function nt(D,$,J){this.props=D,this.context=$,this.refs=ot,this.updater=J||F}nt.prototype.isReactComponent={},nt.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},nt.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Rt(){}Rt.prototype=nt.prototype;function _t(D,$,J){this.props=D,this.context=$,this.refs=ot,this.updater=J||F}var mt=_t.prototype=new Rt;mt.constructor=_t,tt(mt,nt.prototype),mt.isPureReactComponent=!0;var jt=Array.isArray,bt={H:null,A:null,T:null,S:null,V:null},qt=Object.prototype.hasOwnProperty;function z(D,$,J,et,it,Ct){return J=Ct.ref,{$$typeof:a,type:D,key:$,ref:J!==void 0?J:null,props:Ct}}function A(D,$){return z(D.type,$,void 0,void 0,void 0,D.props)}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===a}function V(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(J){return $[J]})}var O=/\/+/g;function j(D,$){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):$.toString(36)}function x(){}function Dt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(x,x):(D.status="pending",D.then(function($){D.status==="pending"&&(D.status="fulfilled",D.value=$)},function($){D.status==="pending"&&(D.status="rejected",D.reason=$)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Qt(D,$,J,et,it){var Ct=typeof D;(Ct==="undefined"||Ct==="boolean")&&(D=null);var gt=!1;if(D===null)gt=!0;else switch(Ct){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(D.$$typeof){case a:case e:gt=!0;break;case T:return gt=D._init,Qt(gt(D._payload),$,J,et,it)}}if(gt)return it=it(D),gt=et===""?"."+j(D,0):et,jt(it)?(J="",gt!=null&&(J=gt.replace(O,"$&/")+"/"),Qt(it,$,J,"",function(R){return R})):it!=null&&(C(it)&&(it=A(it,J+(it.key==null||D&&D.key===it.key?"":(""+it.key).replace(O,"$&/")+"/")+gt)),$.push(it)),1;gt=0;var se=et===""?".":et+":";if(jt(D))for(var Ht=0;Ht<D.length;Ht++)et=D[Ht],Ct=se+j(et,Ht),gt+=Qt(et,$,J,Ct,it);else if(Ht=N(D),typeof Ht=="function")for(D=Ht.call(D),Ht=0;!(et=D.next()).done;)et=et.value,Ct=se+j(et,Ht++),gt+=Qt(et,$,J,Ct,it);else if(Ct==="object"){if(typeof D.then=="function")return Qt(Dt(D),$,J,et,it);throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return gt}function q(D,$,J){if(D==null)return D;var et=[],it=0;return Qt(D,et,"","",function(Ct){return $.call(J,Ct,it++)}),et}function rt(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(J){(D._status===0||D._status===-1)&&(D._status=1,D._result=J)},function(J){(D._status===0||D._status===-1)&&(D._status=2,D._result=J)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var lt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function xt(){}return wt.Children={map:q,forEach:function(D,$,J){q(D,function(){$.apply(this,arguments)},J)},count:function(D){var $=0;return q(D,function(){$++}),$},toArray:function(D){return q(D,function($){return $})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},wt.Component=nt,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=_t,wt.StrictMode=s,wt.Suspense=_,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=bt,wt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return bt.H.useMemoCache(D)}},wt.cache=function(D){return function(){return D.apply(null,arguments)}},wt.cloneElement=function(D,$,J){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var et=tt({},D.props),it=D.key,Ct=void 0;if($!=null)for(gt in $.ref!==void 0&&(Ct=void 0),$.key!==void 0&&(it=""+$.key),$)!qt.call($,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&$.ref===void 0||(et[gt]=$[gt]);var gt=arguments.length-2;if(gt===1)et.children=J;else if(1<gt){for(var se=Array(gt),Ht=0;Ht<gt;Ht++)se[Ht]=arguments[Ht+2];et.children=se}return z(D.type,it,void 0,void 0,Ct,et)},wt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:f,_context:D},D},wt.createElement=function(D,$,J){var et,it={},Ct=null;if($!=null)for(et in $.key!==void 0&&(Ct=""+$.key),$)qt.call($,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(it[et]=$[et]);var gt=arguments.length-2;if(gt===1)it.children=J;else if(1<gt){for(var se=Array(gt),Ht=0;Ht<gt;Ht++)se[Ht]=arguments[Ht+2];it.children=se}if(D&&D.defaultProps)for(et in gt=D.defaultProps,gt)it[et]===void 0&&(it[et]=gt[et]);return z(D,Ct,void 0,void 0,null,it)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(D){return{$$typeof:p,render:D}},wt.isValidElement=C,wt.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:rt}},wt.memo=function(D,$){return{$$typeof:v,type:D,compare:$===void 0?null:$}},wt.startTransition=function(D){var $=bt.T,J={};bt.T=J;try{var et=D(),it=bt.S;it!==null&&it(J,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(xt,lt)}catch(Ct){lt(Ct)}finally{bt.T=$}},wt.unstable_useCacheRefresh=function(){return bt.H.useCacheRefresh()},wt.use=function(D){return bt.H.use(D)},wt.useActionState=function(D,$,J){return bt.H.useActionState(D,$,J)},wt.useCallback=function(D,$){return bt.H.useCallback(D,$)},wt.useContext=function(D){return bt.H.useContext(D)},wt.useDebugValue=function(){},wt.useDeferredValue=function(D,$){return bt.H.useDeferredValue(D,$)},wt.useEffect=function(D,$,J){var et=bt.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(D,$)},wt.useId=function(){return bt.H.useId()},wt.useImperativeHandle=function(D,$,J){return bt.H.useImperativeHandle(D,$,J)},wt.useInsertionEffect=function(D,$){return bt.H.useInsertionEffect(D,$)},wt.useLayoutEffect=function(D,$){return bt.H.useLayoutEffect(D,$)},wt.useMemo=function(D,$){return bt.H.useMemo(D,$)},wt.useOptimistic=function(D,$){return bt.H.useOptimistic(D,$)},wt.useReducer=function(D,$,J){return bt.H.useReducer(D,$,J)},wt.useRef=function(D){return bt.H.useRef(D)},wt.useState=function(D){return bt.H.useState(D)},wt.useSyncExternalStore=function(D,$,J){return bt.H.useSyncExternalStore(D,$,J)},wt.useTransition=function(){return bt.H.useTransition()},wt.version="19.1.1",wt}var ly;function ud(){return ly||(ly=1,Rh.exports=k1()),Rh.exports}var fe=ud();const os=z1(fe);var wh={exports:{}},kl={},xh={exports:{}},Ch={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function L1(){return oy||(oy=1,function(a){function e(q,rt){var lt=q.length;q.push(rt);t:for(;0<lt;){var xt=lt-1>>>1,D=q[xt];if(0<o(D,rt))q[xt]=rt,q[lt]=D,lt=xt;else break t}}function i(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var rt=q[0],lt=q.pop();if(lt!==rt){q[0]=lt;t:for(var xt=0,D=q.length,$=D>>>1;xt<$;){var J=2*(xt+1)-1,et=q[J],it=J+1,Ct=q[it];if(0>o(et,lt))it<D&&0>o(Ct,et)?(q[xt]=Ct,q[it]=lt,xt=it):(q[xt]=et,q[J]=lt,xt=J);else if(it<D&&0>o(Ct,lt))q[xt]=Ct,q[it]=lt,xt=it;else break t}}return rt}function o(q,rt){var lt=q.sortIndex-rt.sortIndex;return lt!==0?lt:q.id-rt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var _=[],v=[],T=1,M=null,N=3,F=!1,tt=!1,ot=!1,nt=!1,Rt=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function jt(q){for(var rt=i(v);rt!==null;){if(rt.callback===null)s(v);else if(rt.startTime<=q)s(v),rt.sortIndex=rt.expirationTime,e(_,rt);else break;rt=i(v)}}function bt(q){if(ot=!1,jt(q),!tt)if(i(_)!==null)tt=!0,qt||(qt=!0,j());else{var rt=i(v);rt!==null&&Qt(bt,rt.startTime-q)}}var qt=!1,z=-1,A=5,C=-1;function V(){return nt?!0:!(a.unstable_now()-C<A)}function O(){if(nt=!1,qt){var q=a.unstable_now();C=q;var rt=!0;try{t:{tt=!1,ot&&(ot=!1,_t(z),z=-1),F=!0;var lt=N;try{e:{for(jt(q),M=i(_);M!==null&&!(M.expirationTime>q&&V());){var xt=M.callback;if(typeof xt=="function"){M.callback=null,N=M.priorityLevel;var D=xt(M.expirationTime<=q);if(q=a.unstable_now(),typeof D=="function"){M.callback=D,jt(q),rt=!0;break e}M===i(_)&&s(_),jt(q)}else s(_);M=i(_)}if(M!==null)rt=!0;else{var $=i(v);$!==null&&Qt(bt,$.startTime-q),rt=!1}}break t}finally{M=null,N=lt,F=!1}rt=void 0}}finally{rt?j():qt=!1}}}var j;if(typeof mt=="function")j=function(){mt(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Dt=x.port2;x.port1.onmessage=O,j=function(){Dt.postMessage(null)}}else j=function(){Rt(O,0)};function Qt(q,rt){z=Rt(function(){q(a.unstable_now())},rt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(q){q.callback=null},a.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},a.unstable_getCurrentPriorityLevel=function(){return N},a.unstable_next=function(q){switch(N){case 1:case 2:case 3:var rt=3;break;default:rt=N}var lt=N;N=rt;try{return q()}finally{N=lt}},a.unstable_requestPaint=function(){nt=!0},a.unstable_runWithPriority=function(q,rt){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var lt=N;N=q;try{return rt()}finally{N=lt}},a.unstable_scheduleCallback=function(q,rt,lt){var xt=a.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?xt+lt:xt):lt=xt,q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=lt+D,q={id:T++,callback:rt,priorityLevel:q,startTime:lt,expirationTime:D,sortIndex:-1},lt>xt?(q.sortIndex=lt,e(v,q),i(_)===null&&q===i(v)&&(ot?(_t(z),z=-1):ot=!0,Qt(bt,lt-xt))):(q.sortIndex=D,e(_,q),tt||F||(tt=!0,qt||(qt=!0,j()))),q},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(q){var rt=N;return function(){var lt=N;N=rt;try{return q.apply(this,arguments)}finally{N=lt}}}}(Ch)),Ch}var uy;function P1(){return uy||(uy=1,xh.exports=L1()),xh.exports}var Dh={exports:{}},We={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function B1(){if(cy)return We;cy=1;var a=ud();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(_,v,T){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:M==null?null:""+M,children:_,containerInfo:v,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,We.createPortal=function(_,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return f(_,v,null,T)},We.flushSync=function(_){var v=d.T,T=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=T,s.d.f()}},We.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},We.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},We.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var T=v.as,M=p(T,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,F=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:M,integrity:N,fetchPriority:F}):T==="script"&&s.d.X(_,{crossOrigin:M,integrity:N,fetchPriority:F,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},We.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=p(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},We.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,M=p(T,v.crossOrigin);s.d.L(_,T,{crossOrigin:M,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},We.preloadModule=function(_,v){if(typeof _=="string")if(v){var T=p(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},We.requestFormReset=function(_){s.d.r(_)},We.unstable_batchedUpdates=function(_,v){return _(v)},We.useFormState=function(_,v,T){return d.H.useFormState(_,v,T)},We.useFormStatus=function(){return d.H.useHostTransitionStatus()},We.version="19.1.1",We}var fy;function q1(){if(fy)return Dh.exports;fy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Dh.exports=B1(),Dh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function H1(){if(hy)return kl;hy=1;var a=P1(),e=ud(),i=q1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(f(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===r)return p(c),t;if(h===l)return p(c),n;h=h.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=h;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=h;break}if(E===l){y=!0,l=c,r=h;break}E=E.sibling}if(!y){for(E=h.child;E;){if(E===r){y=!0,r=h,l=c;break}if(E===l){y=!0,l=h,r=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,M=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),ot=Symbol.for("react.strict_mode"),nt=Symbol.for("react.profiler"),Rt=Symbol.for("react.provider"),_t=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),jt=Symbol.for("react.forward_ref"),bt=Symbol.for("react.suspense"),qt=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Dt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case nt:return"Profiler";case ot:return"StrictMode";case bt:return"Suspense";case qt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case mt:return(t.displayName||"Context")+".Provider";case _t:return(t._context.displayName||"Context")+".Consumer";case jt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z:return n=t.displayName||null,n!==null?n:Dt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Dt(t(n))}catch{}}return null}var Qt=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},xt=[],D=-1;function $(t){return{current:t}}function J(t){0>D||(t.current=xt[D],xt[D]=null,D--)}function et(t,n){D++,xt[D]=t.current,t.current=n}var it=$(null),Ct=$(null),gt=$(null),se=$(null);function Ht(t,n){switch(et(gt,n),et(Ct,t),et(it,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Np(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Np(n),t=Op(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(it),et(it,t)}function R(){J(it),J(Ct),J(gt)}function Z(t){t.memoizedState!==null&&et(se,t);var n=it.current,r=Op(n,t.type);n!==r&&(et(Ct,t),et(it,r))}function at(t){Ct.current===t&&(J(it),J(Ct)),se.current===t&&(J(se),Nl._currentValue=lt)}var At=Object.prototype.hasOwnProperty,le=a.unstable_scheduleCallback,Mn=a.unstable_cancelCallback,Da=a.unstable_shouldYield,uo=a.unstable_requestPaint,En=a.unstable_now,Sc=a.unstable_getCurrentPriorityLevel,Ia=a.unstable_ImmediatePriority,ys=a.unstable_UserBlockingPriority,Cr=a.unstable_NormalPriority,Ac=a.unstable_LowPriority,_s=a.unstable_IdlePriority,Va=a.log,co=a.unstable_setDisableYieldValue,de=null,Kt=null;function cn(t){if(typeof Va=="function"&&co(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(de,t)}catch{}}var Xe=Math.clz32?Math.clz32:Dr,fo=Math.log,Rc=Math.LN2;function Dr(t){return t>>>=0,t===0?32:31-(fo(t)/Rc|0)|0}var Ir=256,Vr=4194304;function zn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vs(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?c=zn(l):(y&=E,y!==0?c=zn(y):r||(r=E&~t,r!==0&&(c=zn(r))))):(E=l&~h,E!==0?c=zn(E):y!==0?c=zn(y):r||(r=l&~t,r!==0&&(c=zn(r)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,r=n&-n,h>=r||h===32&&(r&4194048)!==0)?n:c}function Nr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Na(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oa(){var t=Ir;return Ir<<=1,(Ir&4194048)===0&&(Ir=256),t}function Ma(){var t=Vr;return Vr<<=1,(Vr&62914560)===0&&(Vr=4194304),t}function hi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function di(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function za(t,n,r,l,c,h){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var Q=31-Xe(r),X=1<<Q;E[Q]=0,w[Q]=-1;var B=P[Q];if(B!==null)for(P[Q]=null,Q=0;Q<B.length;Q++){var H=B[Q];H!==null&&(H.lane&=-536870913)}r&=~X}l!==0&&Hn(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(y&~n))}function Hn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Xe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function ja(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Xe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Pi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Es(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bi(){var t=rt.p;return t!==0?t:(t=window.event,t===void 0?32:$p(t.type))}function ho(t,n){var r=rt.p;try{return rt.p=t,n()}finally{rt.p=r}}var oe=Math.random().toString(36).slice(2),Ce="__reactFiber$"+oe,Ee="__reactProps$"+oe,bn="__reactContainer$"+oe,Ua="__reactEvents$"+oe,wc="__reactListeners$"+oe,qi="__reactHandles$"+oe,mo="__reactResources$"+oe,Or="__reactMarker$"+oe;function Hi(t){delete t[Ce],delete t[Ee],delete t[Ua],delete t[wc],delete t[qi]}function mi(t){var n=t[Ce];if(n)return n;for(var r=t.parentNode;r;){if(n=r[bn]||r[Ce]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Up(t);t!==null;){if(r=t[Ce])return r;t=Up(t)}return n}t=r,r=t.parentNode}return null}function Gn(t){if(t=t[Ce]||t[bn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Qn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function tn(t){var n=t[mo];return n||(n=t[mo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function pe(t){t[Or]=!0}var ka=new Set,bs={};function jn(t,n){gi(t,n),gi(t+"Capture",n)}function gi(t,n){for(bs[t]=n,t=0;t<n.length;t++)ka.add(n[t])}var go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),po={},Mr={};function yo(t){return At.call(Mr,t)?!0:At.call(po,t)?!1:go.test(t)?Mr[t]=!0:(po[t]=!0,!1)}function Gi(t,n,r){if(yo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Fn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Pe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var zr,_o;function pi(t){if(zr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);zr=n&&n[1]||"",_o=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zr+t+_o}var Ts=!1;function Ss(t,n){if(!t||Ts)return"";Ts=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){B=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),y=h[0],E=h[1];if(y&&E){var w=y.split(`
`),P=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===P.length)for(l=w.length-1,c=P.length-1;1<=l&&0<=c&&w[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==P[c]){var Q=`
`+w[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{Ts=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?pi(r):""}function La(t){switch(t.tag){case 26:case 27:case 5:return pi(t.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Ss(t.type,!1);case 11:return Ss(t.type.render,!1);case 1:return Ss(t.type,!0);case 31:return pi("Activity");default:return""}}function As(t){try{var n="";do n+=La(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pa(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xc(t){var n=Pa(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,h=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,h.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Rs(t){t._valueTracker||(t._valueTracker=xc(t))}function Ba(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Pa(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function jr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cc=/[\n"\\]/g;function be(t){return t.replace(Cc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fn(t,n,r,l,c,h,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+en(n)):t.value!==""+en(n)&&(t.value=""+en(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Qi(t,y,en(n)):r!=null?Qi(t,y,en(r)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+en(E):t.removeAttribute("name")}function Ur(t,n,r,l,c,h,y,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;r=r!=null?""+en(r):"",n=n!=null?""+en(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Qi(t,n,r){n==="number"&&jr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function yi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+en(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function $t(t,n,r){if(n!=null&&(n=""+en(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+en(r):""}function kr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(Qt(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=en(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function Tn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Lr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vo(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Lr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function qa(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&vo(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&vo(t,h,n[h])}function Ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ic=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ws(t){return Ic.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var _i=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vi=null,Ei=null;function Ga(t){var n=Gn(t);if(n&&(t=n.stateNode)){var r=t[Ee]||null;t:switch(t=n.stateNode,n.type){case"input":if(fn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+be(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[Ee]||null;if(!c)throw Error(s(90));fn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ba(l)}break t;case"textarea":$t(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&yi(t,!!r.multiple,n,!1)}}}var Yn=!1;function Eo(t,n,r){if(Yn)return t(n,r);Yn=!0;try{var l=t(n);return l}finally{if(Yn=!1,(vi!==null||Ei!==null)&&(du(),vi&&(n=vi,t=Ei,Ei=vi=null,Ga(n),t)))for(n=0;n<t.length;n++)Ga(t[n])}}function Pr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Ee]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),An=!1;if(Un)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){An=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{An=!1}var Xn=null,Fi=null,bi=null;function Qa(){if(bi)return bi;var t,n=Fi,r=n.length,l,c="value"in Xn?Xn.value:Xn.textContent,h=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[h-l];l++);return bi=c.slice(t,1<l?1-l:void 0)}function Kn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Wn(){return!0}function Fa(){return!1}function Me(t){function n(r,l,c,h,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Wn:Fa,this.isPropagationStopped=Fa,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),n}var Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xs=Me(Yt),qr=T({},Yt,{view:0,detail:0}),bo=Me(qr),Cs,Ds,Zn,Hr=T({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zn&&(Zn&&t.type==="mousemove"?(Cs=t.screenX-Zn.screenX,Ds=t.screenY-Zn.screenY):Ds=Cs=0,Zn=t),Cs)},movementY:function(t){return"movementY"in t?t.movementY:Ds}}),Rn=Me(Hr),To=T({},Hr,{dataTransfer:0}),Vc=Me(To),Gr=T({},qr,{relatedTarget:0}),Is=Me(Gr),Ya=T({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0}),Vs=Me(Ya),So=T({},Yt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ns=Me(So),Nc=T({},Yt,{data:0}),Xa=Me(Nc),Qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ao={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ro={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ka(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ro[t])?!!n[t]:!1}function Fr(){return Ka}var wo=T({},qr,{key:function(t){if(t.key){var n=Qr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Kn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ao[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(t){return t.type==="keypress"?Kn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Os=Me(wo),xo=T({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wa=Me(xo),Ti=T({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),Co=Me(Ti),Do=T({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Io=Me(Do),Vo=T({},Hr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ms=Me(Vo),nn=T({},Yt,{newState:0,oldState:0}),No=Me(nn),Oo=[9,13,27,32],$n=Un&&"CompositionEvent"in window,u=null;Un&&"documentMode"in document&&(u=document.documentMode);var m=Un&&"TextEvent"in window&&!u,g=Un&&(!$n||u&&8<u&&11>=u),b=" ",k=!1;function G(t,n){switch(t){case"keyup":return Oo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ut=!1;function De(t,n){switch(t){case"compositionend":return st(n);case"keypress":return n.which!==32?null:(k=!0,b);case"textInput":return t=n.data,t===b&&k?null:t;default:return null}}function kt(t,n){if(Ut)return t==="compositionend"||!$n&&G(t,n)?(t=Qa(),bi=Fi=Xn=null,Ut=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var ze={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ie(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!ze[t.type]:n==="textarea"}function Si(t,n,r,l){vi?Ei?Ei.push(l):Ei=[l]:vi=l,n=vu(n,"onChange"),0<n.length&&(r=new xs("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Be=null,Jn=null;function Za(t){xp(t,0)}function Mo(t){var n=Qn(t);if(Ba(n))return t}function Xd(t,n){if(t==="change")return n}var Kd=!1;if(Un){var Oc;if(Un){var Mc="oninput"in document;if(!Mc){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),Mc=typeof Wd.oninput=="function"}Oc=Mc}else Oc=!1;Kd=Oc&&(!document.documentMode||9<document.documentMode)}function Zd(){Be&&(Be.detachEvent("onpropertychange",$d),Jn=Be=null)}function $d(t){if(t.propertyName==="value"&&Mo(Jn)){var n=[];Si(n,Jn,t,Sn(t)),Eo(Za,n)}}function f0(t,n,r){t==="focusin"?(Zd(),Be=n,Jn=r,Be.attachEvent("onpropertychange",$d)):t==="focusout"&&Zd()}function h0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mo(Jn)}function d0(t,n){if(t==="click")return Mo(n)}function m0(t,n){if(t==="input"||t==="change")return Mo(n)}function g0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:g0;function $a(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!At.call(n,c)||!hn(t[c],n[c]))return!1}return!0}function Jd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tm(t,n){var r=Jd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Jd(r)}}function em(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?em(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function nm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=jr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=jr(t.document)}return n}function zc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var p0=Un&&"documentMode"in document&&11>=document.documentMode,zs=null,jc=null,Ja=null,Uc=!1;function im(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Uc||zs==null||zs!==jr(l)||(l=zs,"selectionStart"in l&&zc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ja&&$a(Ja,l)||(Ja=l,l=vu(jc,"onSelect"),0<l.length&&(n=new xs("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=zs)))}function Yr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var js={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},kc={},rm={};Un&&(rm=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function Xr(t){if(kc[t])return kc[t];if(!js[t])return t;var n=js[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in rm)return kc[t]=n[r];return t}var sm=Xr("animationend"),am=Xr("animationiteration"),lm=Xr("animationstart"),y0=Xr("transitionrun"),_0=Xr("transitionstart"),v0=Xr("transitioncancel"),om=Xr("transitionend"),um=new Map,Lc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lc.push("scrollEnd");function kn(t,n){um.set(t,n),jn(n,[t])}var cm=new WeakMap;function wn(t,n){if(typeof t=="object"&&t!==null){var r=cm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:As(n)},cm.set(t,n),n)}return{value:t,source:n,stack:As(n)}}var xn=[],Us=0,Pc=0;function zo(){for(var t=Us,n=Pc=Us=0;n<t;){var r=xn[n];xn[n++]=null;var l=xn[n];xn[n++]=null;var c=xn[n];xn[n++]=null;var h=xn[n];if(xn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}h!==0&&fm(r,c,h)}}function jo(t,n,r,l){xn[Us++]=t,xn[Us++]=n,xn[Us++]=r,xn[Us++]=l,Pc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Bc(t,n,r,l){return jo(t,n,r,l),Uo(t)}function ks(t,n){return jo(t,null,null,n),Uo(t)}function fm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,h=t.return;h!==null;)h.childLanes|=r,l=h.alternate,l!==null&&(l.childLanes|=r),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-Xe(r),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),h):null}function Uo(t){if(50<Al)throw Al=0,Xf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ls={};function E0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,n,r,l){return new E0(t,n,r,l)}function qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ai(t,n){var r=t.alternate;return r===null?(r=dn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function hm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ko(t,n,r,l,c,h){var y=0;if(l=t,typeof t=="function")qc(t)&&(y=1);else if(typeof t=="string")y=T1(t,r,it.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=dn(31,r,n,c),t.elementType=C,t.lanes=h,t;case tt:return Kr(r.children,c,h,n);case ot:y=8,c|=24;break;case nt:return t=dn(12,r,n,c|2),t.elementType=nt,t.lanes=h,t;case bt:return t=dn(13,r,n,c),t.elementType=bt,t.lanes=h,t;case qt:return t=dn(19,r,n,c),t.elementType=qt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Rt:case mt:y=10;break t;case _t:y=9;break t;case jt:y=11;break t;case z:y=14;break t;case A:y=16,l=null;break t}y=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=dn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function Kr(t,n,r,l){return t=dn(7,t,l,n),t.lanes=r,t}function Hc(t,n,r){return t=dn(6,t,null,n),t.lanes=r,t}function Gc(t,n,r){return n=dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ps=[],Bs=0,Lo=null,Po=0,Cn=[],Dn=0,Wr=null,Ri=1,wi="";function Zr(t,n){Ps[Bs++]=Po,Ps[Bs++]=Lo,Lo=t,Po=n}function dm(t,n,r){Cn[Dn++]=Ri,Cn[Dn++]=wi,Cn[Dn++]=Wr,Wr=t;var l=Ri;t=wi;var c=32-Xe(l)-1;l&=~(1<<c),r+=1;var h=32-Xe(n)+c;if(30<h){var y=c-c%5;h=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ri=1<<32-Xe(n)+c|r<<c|l,wi=h+t}else Ri=1<<h|r<<c|l,wi=t}function Qc(t){t.return!==null&&(Zr(t,1),dm(t,1,0))}function Fc(t){for(;t===Lo;)Lo=Ps[--Bs],Ps[Bs]=null,Po=Ps[--Bs],Ps[Bs]=null;for(;t===Wr;)Wr=Cn[--Dn],Cn[Dn]=null,wi=Cn[--Dn],Cn[Dn]=null,Ri=Cn[--Dn],Cn[Dn]=null}var rn=null,me=null,Ft=!1,$r=null,ti=!1,Yc=Error(s(519));function Jr(t){var n=Error(s(418,""));throw nl(wn(n,t)),Yc}function mm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ce]=t,n[Ee]=l,r){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(r=0;r<wl.length;r++)Ot(wl[r],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),Ur(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Rs(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),kr(n,l.value,l.defaultValue,l.children),Rs(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Vp(n.textContent,r)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=Eu),n=!0):n=!1,n||Jr(t)}function gm(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:rn=rn.return}}function tl(t){if(t!==rn)return!1;if(!Ft)return gm(t),Ft=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||ch(t.type,t.memoizedProps)),r=!r),r&&me&&Jr(t),gm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){me=Pn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}me=null}}else n===27?(n=me,or(t.type)?(t=mh,mh=null,me=t):me=n):me=rn?Pn(t.stateNode.nextSibling):null;return!0}function el(){me=rn=null,Ft=!1}function pm(){var t=$r;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),$r=null),t}function nl(t){$r===null?$r=[t]:$r.push(t)}var Xc=$(null),ts=null,xi=null;function Yi(t,n,r){et(Xc,n._currentValue),n._currentValue=r}function Ci(t){t._currentValue=Xc.current,J(Xc)}function Kc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Wc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var y=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){h.lanes|=r,E=h.alternate,E!==null&&(E.lanes|=r),Kc(h.return,r,t),l||(y=null);break t}h=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,h=y.alternate,h!==null&&(h.lanes|=r),Kc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function il(t,n,r,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;hn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===se.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}c=c.return}t!==null&&Wc(n,t,r,l),n.flags|=262144}function Bo(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function es(t){ts=t,xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ke(t){return ym(ts,t)}function qo(t,n){return ts===null&&es(t),ym(t,n)}function ym(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},xi===null){if(t===null)throw Error(s(308));xi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else xi=xi.next=n;return r}var b0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},T0=a.unstable_scheduleCallback,S0=a.unstable_NormalPriority,Ve={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zc(){return{controller:new b0,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&T0(S0,function(){t.controller.abort()})}var sl=null,$c=0,qs=0,Hs=null;function A0(t,n){if(sl===null){var r=sl=[];$c=0,qs=eh(),Hs={status:"pending",value:void 0,then:function(l){r.push(l)}}}return $c++,n.then(_m,_m),n}function _m(){if(--$c===0&&sl!==null){Hs!==null&&(Hs.status="fulfilled");var t=sl;sl=null,qs=0,Hs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function R0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var vm=q.S;q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&A0(t,n),vm!==null&&vm(t,n)};var ns=$(null);function Jc(){var t=ns.current;return t!==null?t:ie.pooledCache}function Ho(t,n){n===null?et(ns,ns.current):et(ns,n.pool)}function Em(){var t=Jc();return t===null?null:{parent:Ve._currentValue,pool:t}}var al=Error(s(460)),bm=Error(s(474)),Go=Error(s(542)),tf={then:function(){}};function Tm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qo(){}function Sm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Qo,Qo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Rm(t),t;default:if(typeof n.status=="string")n.then(Qo,Qo);else{if(t=ie,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Rm(t),t}throw ll=n,al}}var ll=null;function Am(){if(ll===null)throw Error(s(459));var t=ll;return ll=null,t}function Rm(t){if(t===al||t===Go)throw Error(s(483))}var Xi=!1;function ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Wt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Uo(t),fm(t,null,r),n}return jo(t,l,n,r),Uo(t)}function ol(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ja(t,r)}}function rf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?c=h=y:h=h.next=y,r=r.next}while(r!==null);h===null?c=h=n:h=h.next=n}else c=h=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var sf=!1;function ul(){if(sf){var t=Hs;if(t!==null)throw t}}function cl(t,n,r,l){sf=!1;var c=t.updateQueue;Xi=!1;var h=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,P=w.next;w.next=null,y===null?h=P:y.next=P,y=w;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=P:E.next=P,Q.lastBaseUpdate=w))}if(h!==null){var X=c.baseState;y=0,Q=P=w=null,E=h;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Lt&B)===B:(l&B)===B){B!==0&&B===qs&&(sf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Et=t,pt=E;B=n;var ee=r;switch(pt.tag){case 1:if(Et=pt.payload,typeof Et=="function"){X=Et.call(ee,X,B);break t}X=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=pt.payload,B=typeof Et=="function"?Et.call(ee,X,B):Et,B==null)break t;X=T({},X,B);break t;case 2:Xi=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(P=Q=H,w=X):Q=Q.next=H,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;H=E,E=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);Q===null&&(w=X),c.baseState=w,c.firstBaseUpdate=P,c.lastBaseUpdate=Q,h===null&&(c.shared.lanes=0),rr|=y,t.lanes=y,t.memoizedState=X}}function wm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function xm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)wm(r[t],n)}var Gs=$(null),Fo=$(0);function Cm(t,n){t=zi,et(Fo,t),et(Gs,n),zi=t|n.baseLanes}function af(){et(Fo,zi),et(Gs,Gs.current)}function lf(){zi=Fo.current,J(Gs),J(Fo)}var Zi=0,It=null,Jt=null,Te=null,Yo=!1,Qs=!1,is=!1,Xo=0,fl=0,Fs=null,w0=0;function ye(){throw Error(s(321))}function of(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!hn(t[r],n[r]))return!1;return!0}function uf(t,n,r,l,c,h){return Zi=h,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?fg:hg,is=!1,h=r(l,c),is=!1,Qs&&(h=Im(n,r,l,c)),Dm(t),h}function Dm(t){q.H=tu;var n=Jt!==null&&Jt.next!==null;if(Zi=0,Te=Jt=It=null,Yo=!1,fl=0,Fs=null,n)throw Error(s(300));t===null||je||(t=t.dependencies,t!==null&&Bo(t)&&(je=!0))}function Im(t,n,r,l){It=t;var c=0;do{if(Qs&&(Fs=null),fl=0,Qs=!1,25<=c)throw Error(s(301));if(c+=1,Te=Jt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}q.H=O0,h=n(r,l)}while(Qs);return h}function x0(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?hl(n):n,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(It.flags|=1024),n}function cf(){var t=Xo!==0;return Xo=0,t}function ff(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function hf(t){if(Yo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Yo=!1}Zi=0,Te=Jt=It=null,Qs=!1,fl=Xo=0,Fs=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?It.memoizedState=Te=t:Te=Te.next=t,Te}function Se(){if(Jt===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var n=Te===null?It.memoizedState:Te.next;if(n!==null)Te=n,Jt=t;else{if(t===null)throw It.alternate===null?Error(s(467)):Error(s(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Te===null?It.memoizedState=Te=t:Te=Te.next=t}return Te}function df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var n=fl;return fl+=1,Fs===null&&(Fs=[]),t=Sm(Fs,t,n),n=It,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?fg:hg),t}function Ko(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===mt)return Ke(t)}throw Error(s(438,String(t)))}function mf(t){var n=null,r=It.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=df(),It.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function Di(t,n){return typeof n=="function"?n(t):n}function Wo(t){var n=Se();return gf(n,Jt,t)}function gf(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var y=c.next;c.next=h.next,h.next=y}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=y=null,w=null,P=n,Q=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(Lt&X)===X:(Zi&X)===X){var B=P.revertLane;if(B===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===qs&&(Q=!0);else if((Zi&B)===B){P=P.next,B===qs&&(Q=!0);continue}else X={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},w===null?(E=w=X,y=h):w=w.next=X,It.lanes|=B,rr|=B;X=P.action,is&&r(h,X),h=P.hasEagerState?P.eagerState:r(h,X)}else B={lane:X,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},w===null?(E=w=B,y=h):w=w.next=B,It.lanes|=X,rr|=X;P=P.next}while(P!==null&&P!==n);if(w===null?y=h:w.next=E,!hn(h,t.memoizedState)&&(je=!0,Q&&(r=Hs,r!==null)))throw r;t.memoizedState=h,t.baseState=y,t.baseQueue=w,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function pf(t){var n=Se(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,h=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do h=t(h,y.action),y=y.next;while(y!==c);hn(h,n.memoizedState)||(je=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),r.lastRenderedState=h}return[h,l]}function Vm(t,n,r){var l=It,c=Se(),h=Ft;if(h){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!hn((Jt||c).memoizedState,r);y&&(c.memoizedState=r,je=!0),c=c.queue;var E=Mm.bind(null,l,c,t);if(dl(2048,8,E,[t]),c.getSnapshot!==n||y||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,Ys(9,Zo(),Om.bind(null,l,c,r,n),null),ie===null)throw Error(s(349));h||(Zi&124)!==0||Nm(l,n,r)}return r}function Nm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=It.updateQueue,n===null?(n=df(),It.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Om(t,n,r,l){n.value=r,n.getSnapshot=l,zm(n)&&jm(t)}function Mm(t,n,r){return r(function(){zm(n)&&jm(t)})}function zm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!hn(t,r)}catch{return!0}}function jm(t){var n=ks(t,2);n!==null&&_n(n,t,2)}function yf(t){var n=sn();if(typeof t=="function"){var r=t;if(t=r(),is){cn(!0);try{r()}finally{cn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:t},n}function Um(t,n,r,l){return t.baseState=r,gf(t,Jt,typeof l=="function"?l:Di)}function C0(t,n,r,l,c){if(Jo(t))throw Error(s(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};q.T!==null?r(!0):h.isTransition=!1,l(h),r=n.pending,r===null?(h.next=n.pending=h,km(n,h)):(h.next=r.next,n.pending=r.next=h)}}function km(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=q.T,y={};q.T=y;try{var E=r(c,l),w=q.S;w!==null&&w(y,E),Lm(t,n,E)}catch(P){_f(t,n,P)}finally{q.T=h}}else try{h=r(c,l),Lm(t,n,h)}catch(P){_f(t,n,P)}}function Lm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Pm(t,n,l)},function(l){return _f(t,n,l)}):Pm(t,n,r)}function Pm(t,n,r){n.status="fulfilled",n.value=r,Bm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,km(t,r)))}function _f(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Bm(n),n=n.next;while(n!==l)}t.action=null}function Bm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function qm(t,n){return n}function Hm(t,n){if(Ft){var r=ie.formState;if(r!==null){t:{var l=It;if(Ft){if(me){e:{for(var c=me,h=ti;c.nodeType!==8;){if(!h){c=null;break e}if(c=Pn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){me=Pn(c.nextSibling),l=c.data==="F!";break t}}Jr(l)}l=!1}l&&(n=r[0])}}return r=sn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qm,lastRenderedState:n},r.queue=l,r=og.bind(null,It,l),l.dispatch=r,l=yf(!1),h=Sf.bind(null,It,!1,l.queue),l=sn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=C0.bind(null,It,c,h,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Gm(t){var n=Se();return Qm(n,Jt,t)}function Qm(t,n,r){if(n=gf(t,n,qm)[0],t=Wo(Di)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=hl(n)}catch(y){throw y===al?Go:y}else l=n;n=Se();var c=n.queue,h=c.dispatch;return r!==n.memoizedState&&(It.flags|=2048,Ys(9,Zo(),D0.bind(null,c,r),null)),[l,h,t]}function D0(t,n){t.action=n}function Fm(t){var n=Se(),r=Jt;if(r!==null)return Qm(n,r,t);Se(),n=n.memoizedState,r=Se();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ys(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=It.updateQueue,n===null&&(n=df(),It.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Zo(){return{destroy:void 0,resource:void 0}}function Ym(){return Se().memoizedState}function $o(t,n,r,l){var c=sn();l=l===void 0?null:l,It.flags|=t,c.memoizedState=Ys(1|n,Zo(),r,l)}function dl(t,n,r,l){var c=Se();l=l===void 0?null:l;var h=c.memoizedState.inst;Jt!==null&&l!==null&&of(l,Jt.memoizedState.deps)?c.memoizedState=Ys(n,h,r,l):(It.flags|=t,c.memoizedState=Ys(1|n,h,r,l))}function Xm(t,n){$o(8390656,8,t,n)}function Km(t,n){dl(2048,8,t,n)}function Wm(t,n){return dl(4,2,t,n)}function Zm(t,n){return dl(4,4,t,n)}function $m(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Jm(t,n,r){r=r!=null?r.concat([t]):null,dl(4,4,$m.bind(null,n,t),r)}function vf(){}function tg(t,n){var r=Se();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&of(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function eg(t,n){var r=Se();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&of(n,l[1]))return l[0];if(l=t(),is){cn(!0);try{t()}finally{cn(!1)}}return r.memoizedState=[l,n],l}function Ef(t,n,r){return r===void 0||(Zi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=rp(),It.lanes|=t,rr|=t,r)}function ng(t,n,r,l){return hn(r,n)?r:Gs.current!==null?(t=Ef(t,r,l),hn(t,n)||(je=!0),t):(Zi&42)===0?(je=!0,t.memoizedState=r):(t=rp(),It.lanes|=t,rr|=t,n)}function ig(t,n,r,l,c){var h=rt.p;rt.p=h!==0&&8>h?h:8;var y=q.T,E={};q.T=E,Sf(t,!1,n,r);try{var w=c(),P=q.S;if(P!==null&&P(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Q=R0(w,l);ml(t,n,Q,yn(t))}else ml(t,n,l,yn(t))}catch(X){ml(t,n,{then:function(){},status:"rejected",reason:X},yn())}finally{rt.p=h,q.T=y}}function I0(){}function bf(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=rg(t).queue;ig(t,c,n,lt,r===null?I0:function(){return sg(t),r(l)})}function rg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:lt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function sg(t){var n=rg(t).next.queue;ml(t,n,{},yn())}function Tf(){return Ke(Nl)}function ag(){return Se().memoizedState}function lg(){return Se().memoizedState}function V0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=yn();t=Ki(r);var l=Wi(n,t,r);l!==null&&(_n(l,n,r),ol(l,n,r)),n={cache:Zc()},t.payload=n;return}n=n.return}}function N0(t,n,r){var l=yn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Jo(t)?ug(n,r):(r=Bc(t,n,r,l),r!==null&&(_n(r,t,l),cg(r,n,l)))}function og(t,n,r){var l=yn();ml(t,n,r,l)}function ml(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jo(t))ug(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var y=n.lastRenderedState,E=h(y,r);if(c.hasEagerState=!0,c.eagerState=E,hn(E,y))return jo(t,n,c,0),ie===null&&zo(),!1}catch{}finally{}if(r=Bc(t,n,c,l),r!==null)return _n(r,t,l),cg(r,n,l),!0}return!1}function Sf(t,n,r,l){if(l={lane:2,revertLane:eh(),action:l,hasEagerState:!1,eagerState:null,next:null},Jo(t)){if(n)throw Error(s(479))}else n=Bc(t,r,l,2),n!==null&&_n(n,t,2)}function Jo(t){var n=t.alternate;return t===It||n!==null&&n===It}function ug(t,n){Qs=Yo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function cg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ja(t,r)}}var tu={readContext:Ke,use:Ko,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye},fg={readContext:Ke,use:Ko,useCallback:function(t,n){return sn().memoizedState=[t,n===void 0?null:n],t},useContext:Ke,useEffect:Xm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,$o(4194308,4,$m.bind(null,n,t),r)},useLayoutEffect:function(t,n){return $o(4194308,4,t,n)},useInsertionEffect:function(t,n){$o(4,2,t,n)},useMemo:function(t,n){var r=sn();n=n===void 0?null:n;var l=t();if(is){cn(!0);try{t()}finally{cn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=sn();if(r!==void 0){var c=r(n);if(is){cn(!0);try{r(n)}finally{cn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=N0.bind(null,It,t),[l.memoizedState,t]},useRef:function(t){var n=sn();return t={current:t},n.memoizedState=t},useState:function(t){t=yf(t);var n=t.queue,r=og.bind(null,It,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:vf,useDeferredValue:function(t,n){var r=sn();return Ef(r,t,n)},useTransition:function(){var t=yf(!1);return t=ig.bind(null,It,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=It,c=sn();if(Ft){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),ie===null)throw Error(s(349));(Lt&124)!==0||Nm(l,n,r)}c.memoizedState=r;var h={value:r,getSnapshot:n};return c.queue=h,Xm(Mm.bind(null,l,h,t),[t]),l.flags|=2048,Ys(9,Zo(),Om.bind(null,l,h,r,n),null),r},useId:function(){var t=sn(),n=ie.identifierPrefix;if(Ft){var r=wi,l=Ri;r=(l&~(1<<32-Xe(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=Xo++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=w0++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Tf,useFormState:Hm,useActionState:Hm,useOptimistic:function(t){var n=sn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Sf.bind(null,It,!0,r),r.dispatch=n,[t,n]},useMemoCache:mf,useCacheRefresh:function(){return sn().memoizedState=V0.bind(null,It)}},hg={readContext:Ke,use:Ko,useCallback:tg,useContext:Ke,useEffect:Km,useImperativeHandle:Jm,useInsertionEffect:Wm,useLayoutEffect:Zm,useMemo:eg,useReducer:Wo,useRef:Ym,useState:function(){return Wo(Di)},useDebugValue:vf,useDeferredValue:function(t,n){var r=Se();return ng(r,Jt.memoizedState,t,n)},useTransition:function(){var t=Wo(Di)[0],n=Se().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Vm,useId:ag,useHostTransitionStatus:Tf,useFormState:Gm,useActionState:Gm,useOptimistic:function(t,n){var r=Se();return Um(r,Jt,t,n)},useMemoCache:mf,useCacheRefresh:lg},O0={readContext:Ke,use:Ko,useCallback:tg,useContext:Ke,useEffect:Km,useImperativeHandle:Jm,useInsertionEffect:Wm,useLayoutEffect:Zm,useMemo:eg,useReducer:pf,useRef:Ym,useState:function(){return pf(Di)},useDebugValue:vf,useDeferredValue:function(t,n){var r=Se();return Jt===null?Ef(r,t,n):ng(r,Jt.memoizedState,t,n)},useTransition:function(){var t=pf(Di)[0],n=Se().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Vm,useId:ag,useHostTransitionStatus:Tf,useFormState:Fm,useActionState:Fm,useOptimistic:function(t,n){var r=Se();return Jt!==null?Um(r,Jt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:mf,useCacheRefresh:lg},Xs=null,gl=0;function eu(t){var n=gl;return gl+=1,Xs===null&&(Xs=[]),Sm(Xs,t,n)}function pl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function nu(t,n){throw n.$$typeof===M?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function dg(t){var n=t._init;return n(t._payload)}function mg(t){function n(U,I){if(t){var L=U.deletions;L===null?(U.deletions=[I],U.flags|=16):L.push(I)}}function r(U,I){if(!t)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function l(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function c(U,I){return U=Ai(U,I),U.index=0,U.sibling=null,U}function h(U,I,L){return U.index=L,t?(L=U.alternate,L!==null?(L=L.index,L<I?(U.flags|=67108866,I):L):(U.flags|=67108866,I)):(U.flags|=1048576,I)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,I,L,Y){return I===null||I.tag!==6?(I=Hc(L,U.mode,Y),I.return=U,I):(I=c(I,L),I.return=U,I)}function w(U,I,L,Y){var ft=L.type;return ft===tt?Q(U,I,L.props.children,Y,L.key):I!==null&&(I.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&dg(ft)===I.type)?(I=c(I,L.props),pl(I,L),I.return=U,I):(I=ko(L.type,L.key,L.props,null,U.mode,Y),pl(I,L),I.return=U,I)}function P(U,I,L,Y){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=Gc(L,U.mode,Y),I.return=U,I):(I=c(I,L.children||[]),I.return=U,I)}function Q(U,I,L,Y,ft){return I===null||I.tag!==7?(I=Kr(L,U.mode,Y,ft),I.return=U,I):(I=c(I,L),I.return=U,I)}function X(U,I,L){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Hc(""+I,U.mode,L),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case N:return L=ko(I.type,I.key,I.props,null,U.mode,L),pl(L,I),L.return=U,L;case F:return I=Gc(I,U.mode,L),I.return=U,I;case A:var Y=I._init;return I=Y(I._payload),X(U,I,L)}if(Qt(I)||j(I))return I=Kr(I,U.mode,L,null),I.return=U,I;if(typeof I.then=="function")return X(U,eu(I),L);if(I.$$typeof===mt)return X(U,qo(U,I),L);nu(U,I)}return null}function B(U,I,L,Y){var ft=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ft!==null?null:E(U,I,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case N:return L.key===ft?w(U,I,L,Y):null;case F:return L.key===ft?P(U,I,L,Y):null;case A:return ft=L._init,L=ft(L._payload),B(U,I,L,Y)}if(Qt(L)||j(L))return ft!==null?null:Q(U,I,L,Y,null);if(typeof L.then=="function")return B(U,I,eu(L),Y);if(L.$$typeof===mt)return B(U,I,qo(U,L),Y);nu(U,L)}return null}function H(U,I,L,Y,ft){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(L)||null,E(I,U,""+Y,ft);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case N:return U=U.get(Y.key===null?L:Y.key)||null,w(I,U,Y,ft);case F:return U=U.get(Y.key===null?L:Y.key)||null,P(I,U,Y,ft);case A:var Vt=Y._init;return Y=Vt(Y._payload),H(U,I,L,Y,ft)}if(Qt(Y)||j(Y))return U=U.get(L)||null,Q(I,U,Y,ft,null);if(typeof Y.then=="function")return H(U,I,L,eu(Y),ft);if(Y.$$typeof===mt)return H(U,I,L,qo(I,Y),ft);nu(I,Y)}return null}function Et(U,I,L,Y){for(var ft=null,Vt=null,ht=I,yt=I=0,ke=null;ht!==null&&yt<L.length;yt++){ht.index>yt?(ke=ht,ht=null):ke=ht.sibling;var Gt=B(U,ht,L[yt],Y);if(Gt===null){ht===null&&(ht=ke);break}t&&ht&&Gt.alternate===null&&n(U,ht),I=h(Gt,I,yt),Vt===null?ft=Gt:Vt.sibling=Gt,Vt=Gt,ht=ke}if(yt===L.length)return r(U,ht),Ft&&Zr(U,yt),ft;if(ht===null){for(;yt<L.length;yt++)ht=X(U,L[yt],Y),ht!==null&&(I=h(ht,I,yt),Vt===null?ft=ht:Vt.sibling=ht,Vt=ht);return Ft&&Zr(U,yt),ft}for(ht=l(ht);yt<L.length;yt++)ke=H(ht,U,yt,L[yt],Y),ke!==null&&(t&&ke.alternate!==null&&ht.delete(ke.key===null?yt:ke.key),I=h(ke,I,yt),Vt===null?ft=ke:Vt.sibling=ke,Vt=ke);return t&&ht.forEach(function(dr){return n(U,dr)}),Ft&&Zr(U,yt),ft}function pt(U,I,L,Y){if(L==null)throw Error(s(151));for(var ft=null,Vt=null,ht=I,yt=I=0,ke=null,Gt=L.next();ht!==null&&!Gt.done;yt++,Gt=L.next()){ht.index>yt?(ke=ht,ht=null):ke=ht.sibling;var dr=B(U,ht,Gt.value,Y);if(dr===null){ht===null&&(ht=ke);break}t&&ht&&dr.alternate===null&&n(U,ht),I=h(dr,I,yt),Vt===null?ft=dr:Vt.sibling=dr,Vt=dr,ht=ke}if(Gt.done)return r(U,ht),Ft&&Zr(U,yt),ft;if(ht===null){for(;!Gt.done;yt++,Gt=L.next())Gt=X(U,Gt.value,Y),Gt!==null&&(I=h(Gt,I,yt),Vt===null?ft=Gt:Vt.sibling=Gt,Vt=Gt);return Ft&&Zr(U,yt),ft}for(ht=l(ht);!Gt.done;yt++,Gt=L.next())Gt=H(ht,U,yt,Gt.value,Y),Gt!==null&&(t&&Gt.alternate!==null&&ht.delete(Gt.key===null?yt:Gt.key),I=h(Gt,I,yt),Vt===null?ft=Gt:Vt.sibling=Gt,Vt=Gt);return t&&ht.forEach(function(M1){return n(U,M1)}),Ft&&Zr(U,yt),ft}function ee(U,I,L,Y){if(typeof L=="object"&&L!==null&&L.type===tt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case N:t:{for(var ft=L.key;I!==null;){if(I.key===ft){if(ft=L.type,ft===tt){if(I.tag===7){r(U,I.sibling),Y=c(I,L.props.children),Y.return=U,U=Y;break t}}else if(I.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&dg(ft)===I.type){r(U,I.sibling),Y=c(I,L.props),pl(Y,L),Y.return=U,U=Y;break t}r(U,I);break}else n(U,I);I=I.sibling}L.type===tt?(Y=Kr(L.props.children,U.mode,Y,L.key),Y.return=U,U=Y):(Y=ko(L.type,L.key,L.props,null,U.mode,Y),pl(Y,L),Y.return=U,U=Y)}return y(U);case F:t:{for(ft=L.key;I!==null;){if(I.key===ft)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){r(U,I.sibling),Y=c(I,L.children||[]),Y.return=U,U=Y;break t}else{r(U,I);break}else n(U,I);I=I.sibling}Y=Gc(L,U.mode,Y),Y.return=U,U=Y}return y(U);case A:return ft=L._init,L=ft(L._payload),ee(U,I,L,Y)}if(Qt(L))return Et(U,I,L,Y);if(j(L)){if(ft=j(L),typeof ft!="function")throw Error(s(150));return L=ft.call(L),pt(U,I,L,Y)}if(typeof L.then=="function")return ee(U,I,eu(L),Y);if(L.$$typeof===mt)return ee(U,I,qo(U,L),Y);nu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,I!==null&&I.tag===6?(r(U,I.sibling),Y=c(I,L),Y.return=U,U=Y):(r(U,I),Y=Hc(L,U.mode,Y),Y.return=U,U=Y),y(U)):r(U,I)}return function(U,I,L,Y){try{gl=0;var ft=ee(U,I,L,Y);return Xs=null,ft}catch(ht){if(ht===al||ht===Go)throw ht;var Vt=dn(29,ht,null,U.mode);return Vt.lanes=Y,Vt.return=U,Vt}finally{}}}var Ks=mg(!0),gg=mg(!1),In=$(null),ei=null;function $i(t){var n=t.alternate;et(Ne,Ne.current&1),et(In,t),ei===null&&(n===null||Gs.current!==null||n.memoizedState!==null)&&(ei=t)}function pg(t){if(t.tag===22){if(et(Ne,Ne.current),et(In,t),ei===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ei=t)}}else Ji()}function Ji(){et(Ne,Ne.current),et(In,In.current)}function Ii(t){J(In),ei===t&&(ei=null),J(Ne)}var Ne=$(0);function iu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||dh(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Af(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:T({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Rf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=yn(),c=Ki(l);c.payload=n,r!=null&&(c.callback=r),n=Wi(t,c,l),n!==null&&(_n(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=yn(),c=Ki(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Wi(t,c,l),n!==null&&(_n(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=yn(),l=Ki(r);l.tag=2,n!=null&&(l.callback=n),n=Wi(t,l,r),n!==null&&(_n(n,t,r),ol(n,t,r))}};function yg(t,n,r,l,c,h,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,y):n.prototype&&n.prototype.isPureReactComponent?!$a(r,l)||!$a(c,h):!0}function _g(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Rf.enqueueReplaceState(n,n.state,null)}function rs(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=T({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function vg(t){ru(t)}function Eg(t){console.error(t)}function bg(t){ru(t)}function su(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Tg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function wf(t,n,r){return r=Ki(r),r.tag=3,r.payload={element:null},r.callback=function(){su(t,n)},r}function Sg(t){return t=Ki(t),t.tag=3,t}function Ag(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){Tg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Tg(n,r,l),typeof c!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function M0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&il(n,r,c,!0),r=In.current,r!==null){switch(r.tag){case 13:return ei===null?Wf():r.alternate===null&&ge===0&&(ge=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===tf?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),$f(t,l,c)),!1;case 22:return r.flags|=65536,l===tf?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),$f(t,l,c)),!1}throw Error(s(435,r.tag))}return $f(t,l,c),Wf(),!1}if(Ft)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Yc&&(t=Error(s(422),{cause:l}),nl(wn(t,r)))):(l!==Yc&&(n=Error(s(423),{cause:l}),nl(wn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=wn(l,r),c=wf(t.stateNode,l,c),rf(t,c),ge!==4&&(ge=2)),!1;var h=Error(s(520),{cause:l});if(h=wn(h,r),Sl===null?Sl=[h]:Sl.push(h),ge!==4&&(ge=2),n===null)return!0;l=wn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=wf(r.stateNode,l,t),rf(r,t),!1;case 1:if(n=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(sr===null||!sr.has(h))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Sg(c),Ag(c,t,r,l),rf(r,c),!1}r=r.return}while(r!==null);return!1}var Rg=Error(s(461)),je=!1;function qe(t,n,r,l){n.child=t===null?gg(n,null,r,l):Ks(n,t.child,r,l)}function wg(t,n,r,l,c){r=r.render;var h=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return es(n),l=uf(t,n,r,y,h,c),E=cf(),t!==null&&!je?(ff(t,n,c),Vi(t,n,c)):(Ft&&E&&Qc(n),n.flags|=1,qe(t,n,l,c),n.child)}function xg(t,n,r,l,c){if(t===null){var h=r.type;return typeof h=="function"&&!qc(h)&&h.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=h,Cg(t,n,h,l,c)):(t=ko(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Mf(t,c)){var y=h.memoizedProps;if(r=r.compare,r=r!==null?r:$a,r(y,l)&&t.ref===n.ref)return Vi(t,n,c)}return n.flags|=1,t=Ai(h,l),t.ref=n.ref,t.return=n,n.child=t}function Cg(t,n,r,l,c){if(t!==null){var h=t.memoizedProps;if($a(h,l)&&t.ref===n.ref)if(je=!1,n.pendingProps=l=h,Mf(t,c))(t.flags&131072)!==0&&(je=!0);else return n.lanes=t.lanes,Vi(t,n,c)}return xf(t,n,r,l,c)}function Dg(t,n,r){var l=n.pendingProps,c=l.children,h=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=h!==null?h.baseLanes|r:r,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return Ig(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ho(n,h!==null?h.cachePool:null),h!==null?Cm(n,h):af(),pg(n);else return n.lanes=n.childLanes=536870912,Ig(t,n,h!==null?h.baseLanes|r:r,r)}else h!==null?(Ho(n,h.cachePool),Cm(n,h),Ji(),n.memoizedState=null):(t!==null&&Ho(n,null),af(),Ji());return qe(t,n,c,r),n.child}function Ig(t,n,r,l){var c=Jc();return c=c===null?null:{parent:Ve._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Ho(n,null),af(),pg(n),t!==null&&il(t,n,l,!0),null}function au(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function xf(t,n,r,l,c){return es(n),r=uf(t,n,r,l,void 0,c),l=cf(),t!==null&&!je?(ff(t,n,c),Vi(t,n,c)):(Ft&&l&&Qc(n),n.flags|=1,qe(t,n,r,c),n.child)}function Vg(t,n,r,l,c,h){return es(n),n.updateQueue=null,r=Im(n,l,r,c),Dm(t),l=cf(),t!==null&&!je?(ff(t,n,h),Vi(t,n,h)):(Ft&&l&&Qc(n),n.flags|=1,qe(t,n,r,h),n.child)}function Ng(t,n,r,l,c){if(es(n),n.stateNode===null){var h=Ls,y=r.contextType;typeof y=="object"&&y!==null&&(h=Ke(y)),h=new r(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Rf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},ef(n),y=r.contextType,h.context=typeof y=="object"&&y!==null?Ke(y):Ls,h.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Af(n,r,y,l),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&Rf.enqueueReplaceState(h,h.state,null),cl(n,l,h,c),ul(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,w=rs(r,E);h.props=w;var P=h.context,Q=r.contextType;y=Ls,typeof Q=="object"&&Q!==null&&(y=Ke(Q));var X=r.getDerivedStateFromProps;Q=typeof X=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||P!==y)&&_g(n,h,l,y),Xi=!1;var B=n.memoizedState;h.state=B,cl(n,l,h,c),ul(),P=n.memoizedState,E||B!==P||Xi?(typeof X=="function"&&(Af(n,r,X,l),P=n.memoizedState),(w=Xi||yg(n,r,w,l,B,P,y))?(Q||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),h.props=l,h.state=P,h.context=y,l=w):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,nf(t,n),y=n.memoizedProps,Q=rs(r,y),h.props=Q,X=n.pendingProps,B=h.context,P=r.contextType,w=Ls,typeof P=="object"&&P!==null&&(w=Ke(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==X||B!==w)&&_g(n,h,l,w),Xi=!1,B=n.memoizedState,h.state=B,cl(n,l,h,c),ul();var H=n.memoizedState;y!==X||B!==H||Xi||t!==null&&t.dependencies!==null&&Bo(t.dependencies)?(typeof E=="function"&&(Af(n,r,E,l),H=n.memoizedState),(Q=Xi||yg(n,r,Q,l,B,H,w)||t!==null&&t.dependencies!==null&&Bo(t.dependencies))?(P||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,H,w),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,H,w)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),h.props=l,h.state=H,h.context=w,l=Q):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,au(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=Ks(n,t.child,null,c),n.child=Ks(n,null,r,c)):qe(t,n,r,c),n.memoizedState=h.state,t=n.child):t=Vi(t,n,c),t}function Og(t,n,r,l){return el(),n.flags|=256,qe(t,n,r,l),n.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(t){return{baseLanes:t,cachePool:Em()}}function If(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Vn),t}function Mg(t,n,r){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,y;if((y=h)||(y=t!==null&&t.memoizedState===null?!1:(Ne.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ft){if(c?$i(n):Ji(),Ft){var E=me,w;if(w=E){t:{for(w=E,E=ti;w.nodeType!==8;){if(!E){E=null;break t}if(w=Pn(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(n.memoizedState={dehydrated:E,treeContext:Wr!==null?{id:Ri,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},w=dn(18,null,null,0),w.stateNode=E,w.return=n,n.child=w,rn=n,me=null,w=!0):w=!1}w||Jr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return dh(E)?n.lanes=32:n.lanes=536870912,null;Ii(n)}return E=l.children,l=l.fallback,c?(Ji(),c=n.mode,E=lu({mode:"hidden",children:E},c),l=Kr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Df(r),c.childLanes=If(t,y,r),n.memoizedState=Cf,l):($i(n),Vf(n,E))}if(w=t.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(h)n.flags&256?($i(n),n.flags&=-257,n=Nf(t,n,r)):n.memoizedState!==null?(Ji(),n.child=t.child,n.flags|=128,n=null):(Ji(),c=l.fallback,E=n.mode,l=lu({mode:"visible",children:l.children},E),c=Kr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ks(n,t.child,null,r),l=n.child,l.memoizedState=Df(r),l.childLanes=If(t,y,r),n.memoizedState=Cf,n=c);else if($i(n),dh(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(s(419)),l.stack="",l.digest=y,nl({value:l,source:null,stack:null}),n=Nf(t,n,r)}else if(je||il(t,n,r,!1),y=(r&t.childLanes)!==0,je||y){if(y=ie,y!==null&&(l=r&-r,l=(l&42)!==0?1:Pi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,ks(t,l),_n(y,t,l),Rg;E.data==="$?"||Wf(),n=Nf(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,me=Pn(E.nextSibling),rn=n,Ft=!0,$r=null,ti=!1,t!==null&&(Cn[Dn++]=Ri,Cn[Dn++]=wi,Cn[Dn++]=Wr,Ri=t.id,wi=t.overflow,Wr=n),n=Vf(n,l.children),n.flags|=4096);return n}return c?(Ji(),c=l.fallback,E=n.mode,w=t.child,P=w.sibling,l=Ai(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,P!==null?c=Ai(P,c):(c=Kr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Df(r):(w=E.cachePool,w!==null?(P=Ve._currentValue,w=w.parent!==P?{parent:P,pool:P}:w):w=Em(),E={baseLanes:E.baseLanes|r,cachePool:w}),c.memoizedState=E,c.childLanes=If(t,y,r),n.memoizedState=Cf,l):($i(n),r=t.child,t=r.sibling,r=Ai(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Vf(t,n){return n=lu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function lu(t,n){return t=dn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Nf(t,n,r){return Ks(n,t.child,null,r),t=Vf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function zg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Kc(t.return,n,r)}function Of(t,n,r,l,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=r,h.tailMode=c)}function jg(t,n,r){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(qe(t,n,l.children,r),l=Ne.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zg(t,r,n);else if(t.tag===19)zg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(et(Ne,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&iu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Of(n,!1,c,r,h);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&iu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Of(n,!0,r,null,h);break;case"together":Of(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Vi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),rr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(il(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Ai(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ai(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Mf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Bo(t)))}function z0(t,n,r){switch(n.tag){case 3:Ht(n,n.stateNode.containerInfo),Yi(n,Ve,t.memoizedState.cache),el();break;case 27:case 5:Z(n);break;case 4:Ht(n,n.stateNode.containerInfo);break;case 10:Yi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?($i(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Mg(t,n,r):($i(n),t=Vi(t,n,r),t!==null?t.sibling:null);$i(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(il(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return jg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(Ne,Ne.current),l)break;return null;case 22:case 23:return n.lanes=0,Dg(t,n,r);case 24:Yi(n,Ve,t.memoizedState.cache)}return Vi(t,n,r)}function Ug(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)je=!0;else{if(!Mf(t,r)&&(n.flags&128)===0)return je=!1,z0(t,n,r);je=(t.flags&131072)!==0}else je=!1,Ft&&(n.flags&1048576)!==0&&dm(n,Po,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")qc(l)?(t=rs(l,t),n.tag=1,n=Ng(null,n,l,t,r)):(n.tag=0,n=xf(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===jt){n.tag=11,n=wg(null,n,l,t,r);break t}else if(c===z){n.tag=14,n=xg(null,n,l,t,r);break t}}throw n=Dt(l)||l,Error(s(306,n,""))}}return n;case 0:return xf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=rs(l,n.pendingProps),Ng(t,n,l,c,r);case 3:t:{if(Ht(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,nf(t,n),cl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Yi(n,Ve,l),l!==h.cache&&Wc(n,[Ve],r,!0),ul(),l=y.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Og(t,n,l,r);break t}else if(l!==c){c=wn(Error(s(424)),n),nl(c),n=Og(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(me=Pn(t.firstChild),rn=n,Ft=!0,$r=null,ti=!0,r=gg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(el(),l===c){n=Vi(t,n,r);break t}qe(t,n,l,r)}n=n.child}return n;case 26:return au(t,n),t===null?(r=Bp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ft||(r=n.type,t=n.pendingProps,l=bu(gt.current).createElement(r),l[Ce]=n,l[Ee]=t,Ge(l,r,t),pe(l),n.stateNode=l):n.memoizedState=Bp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Z(n),t===null&&Ft&&(l=n.stateNode=kp(n.type,n.pendingProps,gt.current),rn=n,ti=!0,c=me,or(n.type)?(mh=c,me=Pn(l.firstChild)):me=c),qe(t,n,n.pendingProps.children,r),au(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ft&&((c=l=me)&&(l=u1(l,n.type,n.pendingProps,ti),l!==null?(n.stateNode=l,rn=n,me=Pn(l.firstChild),ti=!1,c=!0):c=!1),c||Jr(n)),Z(n),c=n.type,h=n.pendingProps,y=t!==null?t.memoizedProps:null,l=h.children,ch(c,h)?l=null:y!==null&&ch(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=uf(t,n,x0,null,null,r),Nl._currentValue=c),au(t,n),qe(t,n,l,r),n.child;case 6:return t===null&&Ft&&((t=r=me)&&(r=c1(r,n.pendingProps,ti),r!==null?(n.stateNode=r,rn=n,me=null,t=!0):t=!1),t||Jr(n)),null;case 13:return Mg(t,n,r);case 4:return Ht(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ks(n,null,l,r):qe(t,n,l,r),n.child;case 11:return wg(t,n,n.type,n.pendingProps,r);case 7:return qe(t,n,n.pendingProps,r),n.child;case 8:return qe(t,n,n.pendingProps.children,r),n.child;case 12:return qe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Yi(n,n.type,l.value),qe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,es(n),c=Ke(c),l=l(c),n.flags|=1,qe(t,n,l,r),n.child;case 14:return xg(t,n,n.type,n.pendingProps,r);case 15:return Cg(t,n,n.type,n.pendingProps,r);case 19:return jg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=lu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ai(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Dg(t,n,r);case 24:return es(n),l=Ke(Ve),t===null?(c=Jc(),c===null&&(c=ie,h=Zc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=r),c=h),n.memoizedState={parent:l,cache:c},ef(n),Yi(n,Ve,c)):((t.lanes&r)!==0&&(nf(t,n),cl(n,null,null,r),ul()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Yi(n,Ve,l)):(l=h.cache,Yi(n,Ve,l),l!==c.cache&&Wc(n,[Ve],r,!0))),qe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ni(t){t.flags|=4}function kg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Fp(n)){if(n=In.current,n!==null&&((Lt&4194048)===Lt?ei!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||n!==ei))throw ll=tf,bm;t.flags|=8192}}function ou(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ma():536870912,t.lanes|=n,Js|=n)}function yl(t,n){if(!Ft)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ce(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function j0(t,n,r){var l=n.pendingProps;switch(Fc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(n),null;case 1:return ce(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ci(Ve),R(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tl(n)?Ni(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,pm())),ce(n),null;case 26:return r=n.memoizedState,t===null?(Ni(n),r!==null?(ce(n),kg(n,r)):(ce(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ni(n),ce(n),kg(n,r)):(ce(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ni(n),ce(n),n.flags&=-16777217),null;case 27:at(n),r=gt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ce(n),null}t=it.current,tl(n)?mm(n):(t=kp(c,l,r),n.stateNode=t,Ni(n))}return ce(n),null;case 5:if(at(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ce(n),null}if(t=it.current,tl(n))mm(n);else{switch(c=bu(gt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Ce]=n,t[Ee]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Ge(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ni(n)}}return ce(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=gt.current,tl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=rn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ce]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Vp(t.nodeValue,r)),t||Jr(n)}else t=bu(t).createTextNode(l),t[Ce]=n,n.stateNode=t}return ce(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Ce]=n}else el(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),c=!1}else c=pm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ii(n),n):(Ii(n),null)}if(Ii(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),ou(n,n.updateQueue),ce(n),null;case 4:return R(),t===null&&sh(n.stateNode.containerInfo),ce(n),null;case 10:return Ci(n.type),ce(n),null;case 19:if(J(Ne),c=n.memoizedState,c===null)return ce(n),null;if(l=(n.flags&128)!==0,h=c.rendering,h===null)if(l)yl(c,!1);else{if(ge!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=iu(t),h!==null){for(n.flags|=128,yl(c,!1),t=h.updateQueue,n.updateQueue=t,ou(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)hm(r,t),r=r.sibling;return et(Ne,Ne.current&1|2),n.child}t=t.sibling}c.tail!==null&&En()>fu&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304)}else{if(!l)if(t=iu(h),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,ou(n,t),yl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Ft)return ce(n),null}else 2*En()-c.renderingStartTime>fu&&r!==536870912&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(t=c.last,t!==null?t.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=En(),n.sibling=null,t=Ne.current,et(Ne,l?t&1|2:t&1),n):(ce(n),null);case 22:case 23:return Ii(n),lf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ce(n),n.subtreeFlags&6&&(n.flags|=8192)):ce(n),r=n.updateQueue,r!==null&&ou(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&J(ns),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ci(Ve),ce(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function U0(t,n){switch(Fc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ci(Ve),R(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return at(n),null;case 13:if(Ii(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));el()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return J(Ne),null;case 4:return R(),null;case 10:return Ci(n.type),null;case 22:case 23:return Ii(n),lf(),t!==null&&J(ns),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ci(Ve),null;case 25:return null;default:return null}}function Lg(t,n){switch(Fc(n),n.tag){case 3:Ci(Ve),R();break;case 26:case 27:case 5:at(n);break;case 4:R();break;case 13:Ii(n);break;case 19:J(Ne);break;case 10:Ci(n.type);break;case 22:case 23:Ii(n),lf(),t!==null&&J(ns);break;case 24:Ci(Ve)}}function _l(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var h=r.create,y=r.inst;l=h(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){ne(n,n.return,E)}}function tr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var w=r,P=E;try{P()}catch(Q){ne(c,w,Q)}}}l=l.next}while(l!==h)}}catch(Q){ne(n,n.return,Q)}}function Pg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{xm(n,r)}catch(l){ne(t,t.return,l)}}}function Bg(t,n,r){r.props=rs(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){ne(t,n,l)}}function vl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){ne(t,n,c)}}function ni(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){ne(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){ne(t,n,c)}else r.current=null}function qg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){ne(t,t.return,c)}}function zf(t,n,r){try{var l=t.stateNode;r1(l,t.type,r,n),l[Ee]=n}catch(c){ne(t,t.return,c)}}function Hg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&or(t.type)||t.tag===4}function jf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Hg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&or(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Eu));else if(l!==4&&(l===27&&or(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Uf(t,n,r),t=t.sibling;t!==null;)Uf(t,n,r),t=t.sibling}function uu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&or(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(uu(t,n,r),t=t.sibling;t!==null;)uu(t,n,r),t=t.sibling}function Gg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ge(n,l,r),n[Ce]=t,n[Ee]=r}catch(h){ne(t,t.return,h)}}var Oi=!1,_e=!1,kf=!1,Qg=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function k0(t,n){if(t=t.containerInfo,oh=xu,t=nm(t),zc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break t}var y=0,E=-1,w=-1,P=0,Q=0,X=t,B=null;e:for(;;){for(var H;X!==r||c!==0&&X.nodeType!==3||(E=y+c),X!==h||l!==0&&X.nodeType!==3||(w=y+l),X.nodeType===3&&(y+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===t)break e;if(B===r&&++P===c&&(E=y),B===h&&++Q===l&&(w=y),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}r=E===-1||w===-1?null:{start:E,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(uh={focusedElem:t,selectionRange:r},xu=!1,Ue=n;Ue!==null;)if(n=Ue,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ue=t;else for(;Ue!==null;){switch(n=Ue,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,r=n,c=h.memoizedProps,h=h.memoizedState,l=r.stateNode;try{var Et=rs(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(Et,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(pt){ne(r,r.return,pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)hh(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ue=t;break}Ue=n.return}}function Fg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:er(t,r),l&4&&_l(5,r);break;case 1:if(er(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){ne(r,r.return,y)}else{var c=rs(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){ne(r,r.return,y)}}l&64&&Pg(r),l&512&&vl(r,r.return);break;case 3:if(er(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{xm(t,n)}catch(y){ne(r,r.return,y)}}break;case 27:n===null&&l&4&&Gg(r);case 26:case 5:er(t,r),n===null&&l&4&&qg(r),l&512&&vl(r,r.return);break;case 12:er(t,r);break;case 13:er(t,r),l&4&&Kg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Y0.bind(null,r),f1(t,r))));break;case 22:if(l=r.memoizedState!==null||Oi,!l){n=n!==null&&n.memoizedState!==null||_e,c=Oi;var h=_e;Oi=l,(_e=n)&&!h?nr(t,r,(r.subtreeFlags&8772)!==0):er(t,r),Oi=c,_e=h}break;case 30:break;default:er(t,r)}}function Yg(t){var n=t.alternate;n!==null&&(t.alternate=null,Yg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Hi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ue=null,an=!1;function Mi(t,n,r){for(r=r.child;r!==null;)Xg(t,n,r),r=r.sibling}function Xg(t,n,r){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(de,r)}catch{}switch(r.tag){case 26:_e||ni(r,n),Mi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:_e||ni(r,n);var l=ue,c=an;or(r.type)&&(ue=r.stateNode,an=!1),Mi(t,n,r),Cl(r.stateNode),ue=l,an=c;break;case 5:_e||ni(r,n);case 6:if(l=ue,c=an,ue=null,Mi(t,n,r),ue=l,an=c,ue!==null)if(an)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(r.stateNode)}catch(h){ne(r,n,h)}else try{ue.removeChild(r.stateNode)}catch(h){ne(r,n,h)}break;case 18:ue!==null&&(an?(t=ue,jp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),jl(t)):jp(ue,r.stateNode));break;case 4:l=ue,c=an,ue=r.stateNode.containerInfo,an=!0,Mi(t,n,r),ue=l,an=c;break;case 0:case 11:case 14:case 15:_e||tr(2,r,n),_e||tr(4,r,n),Mi(t,n,r);break;case 1:_e||(ni(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Bg(r,n,l)),Mi(t,n,r);break;case 21:Mi(t,n,r);break;case 22:_e=(l=_e)||r.memoizedState!==null,Mi(t,n,r),_e=l;break;default:Mi(t,n,r)}}function Kg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(r){ne(n,n.return,r)}}function L0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Qg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Qg),n;default:throw Error(s(435,t.tag))}}function Lf(t,n){var r=L0(t);n.forEach(function(l){var c=X0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function mn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],h=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(or(E.type)){ue=E.stateNode,an=!1;break t}break;case 5:ue=E.stateNode,an=!1;break t;case 3:case 4:ue=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(ue===null)throw Error(s(160));Xg(h,y,c),ue=null,an=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Wg(n,t),n=n.sibling}var Ln=null;function Wg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(n,t),gn(t),l&4&&(tr(3,t,t.return),_l(3,t),tr(5,t,t.return));break;case 1:mn(n,t),gn(t),l&512&&(_e||r===null||ni(r,r.return)),l&64&&Oi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Ln;if(mn(n,t),gn(t),l&512&&(_e||r===null||ni(r,r.return)),l&4){var h=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Or]||h[Ce]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),Ge(h,l,r),h[Ce]=t,pe(h),l=h;break t;case"link":var y=Gp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(h=y[E],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}h=c.createElement(l),Ge(h,l,r),c.head.appendChild(h);break;case"meta":if(y=Gp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(h=y[E],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}h=c.createElement(l),Ge(h,l,r),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[Ce]=t,pe(h),l=h}t.stateNode=l}else Qp(c,t.type,t.stateNode);else t.stateNode=Hp(c,l,t.memoizedProps);else h!==l?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,l===null?Qp(c,t.type,t.stateNode):Hp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&zf(t,t.memoizedProps,r.memoizedProps)}break;case 27:mn(n,t),gn(t),l&512&&(_e||r===null||ni(r,r.return)),r!==null&&l&4&&zf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(mn(n,t),gn(t),l&512&&(_e||r===null||ni(r,r.return)),t.flags&32){c=t.stateNode;try{Tn(c,"")}catch(H){ne(t,t.return,H)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,zf(t,c,r!==null?r.memoizedProps:c)),l&1024&&(kf=!0);break;case 6:if(mn(n,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(H){ne(t,t.return,H)}}break;case 3:if(Au=null,c=Ln,Ln=Tu(n.containerInfo),mn(n,t),Ln=c,gn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{jl(n.containerInfo)}catch(H){ne(t,t.return,H)}kf&&(kf=!1,Zg(t));break;case 4:l=Ln,Ln=Tu(t.stateNode.containerInfo),mn(n,t),gn(t),Ln=l;break;case 12:mn(n,t),gn(t);break;case 13:mn(n,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Qf=En()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lf(t,l)));break;case 22:c=t.memoizedState!==null;var w=r!==null&&r.memoizedState!==null,P=Oi,Q=_e;if(Oi=P||c,_e=Q||w,mn(n,t),_e=Q,Oi=P,gn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||w||Oi||_e||ss(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){w=r=n;try{if(h=w.stateNode,c)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=w.stateNode;var X=w.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(H){ne(w,w.return,H)}}}else if(n.tag===6){if(r===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(H){ne(w,w.return,H)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Lf(t,r))));break;case 19:mn(n,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lf(t,l)));break;case 30:break;case 21:break;default:mn(n,t),gn(t)}}function gn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Hg(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,h=jf(t);uu(t,h,c);break;case 5:var y=r.stateNode;r.flags&32&&(Tn(y,""),r.flags&=-33);var E=jf(t);uu(t,E,y);break;case 3:case 4:var w=r.stateNode.containerInfo,P=jf(t);Uf(t,P,w);break;default:throw Error(s(161))}}catch(Q){ne(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Zg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Zg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function er(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Fg(t,n.alternate,n),n=n.sibling}function ss(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:tr(4,n,n.return),ss(n);break;case 1:ni(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Bg(n,n.return,r),ss(n);break;case 27:Cl(n.stateNode);case 26:case 5:ni(n,n.return),ss(n);break;case 22:n.memoizedState===null&&ss(n);break;case 30:ss(n);break;default:ss(n)}t=t.sibling}}function nr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,y=h.flags;switch(h.tag){case 0:case 11:case 15:nr(c,h,r),_l(4,h);break;case 1:if(nr(c,h,r),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){ne(l,l.return,P)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)wm(w[c],E)}catch(P){ne(l,l.return,P)}}r&&y&64&&Pg(h),vl(h,h.return);break;case 27:Gg(h);case 26:case 5:nr(c,h,r),r&&l===null&&y&4&&qg(h),vl(h,h.return);break;case 12:nr(c,h,r);break;case 13:nr(c,h,r),r&&y&4&&Kg(c,h);break;case 22:h.memoizedState===null&&nr(c,h,r),vl(h,h.return);break;case 30:break;default:nr(c,h,r)}n=n.sibling}}function Pf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&rl(r))}function Bf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t))}function ii(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$g(t,n,r,l),n=n.sibling}function $g(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ii(t,n,r,l),c&2048&&_l(9,n);break;case 1:ii(t,n,r,l);break;case 3:ii(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t)));break;case 12:if(c&2048){ii(t,n,r,l),t=n.stateNode;try{var h=n.memoizedProps,y=h.id,E=h.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){ne(n,n.return,w)}}else ii(t,n,r,l);break;case 13:ii(t,n,r,l);break;case 23:break;case 22:h=n.stateNode,y=n.alternate,n.memoizedState!==null?h._visibility&2?ii(t,n,r,l):El(t,n):h._visibility&2?ii(t,n,r,l):(h._visibility|=2,Ws(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Pf(y,n);break;case 24:ii(t,n,r,l),c&2048&&Bf(n.alternate,n);break;default:ii(t,n,r,l)}}function Ws(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,y=n,E=r,w=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Ws(h,y,E,w,c),_l(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Ws(h,y,E,w,c):El(h,y):(Q._visibility|=2,Ws(h,y,E,w,c)),c&&P&2048&&Pf(y.alternate,y);break;case 24:Ws(h,y,E,w,c),c&&P&2048&&Bf(y.alternate,y);break;default:Ws(h,y,E,w,c)}n=n.sibling}}function El(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:El(r,l),c&2048&&Pf(l.alternate,l);break;case 24:El(r,l),c&2048&&Bf(l.alternate,l);break;default:El(r,l)}n=n.sibling}}var bl=8192;function Zs(t){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)Jg(t),t=t.sibling}function Jg(t){switch(t.tag){case 26:Zs(t),t.flags&bl&&t.memoizedState!==null&&A1(Ln,t.memoizedState,t.memoizedProps);break;case 5:Zs(t);break;case 3:case 4:var n=Ln;Ln=Tu(t.stateNode.containerInfo),Zs(t),Ln=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=bl,bl=16777216,Zs(t),bl=n):Zs(t));break;default:Zs(t)}}function tp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ue=l,np(l,t)}tp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ep(t),t=t.sibling}function ep(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&tr(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,cu(t)):Tl(t);break;default:Tl(t)}}function cu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ue=l,np(l,t)}tp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:tr(8,n,n.return),cu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,cu(n));break;default:cu(n)}t=t.sibling}}function np(t,n){for(;Ue!==null;){var r=Ue;switch(r.tag){case 0:case 11:case 15:tr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ue=l;else t:for(r=t;Ue!==null;){l=Ue;var c=l.sibling,h=l.return;if(Yg(l),l===r){Ue=null;break t}if(c!==null){c.return=h,Ue=c;break t}Ue=h}}}var P0={getCacheForType:function(t){var n=Ke(Ve),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},B0=typeof WeakMap=="function"?WeakMap:Map,Wt=0,ie=null,Nt=null,Lt=0,Zt=0,pn=null,ir=!1,$s=!1,qf=!1,zi=0,ge=0,rr=0,as=0,Hf=0,Vn=0,Js=0,Sl=null,ln=null,Gf=!1,Qf=0,fu=1/0,hu=null,sr=null,He=0,ar=null,ta=null,ea=0,Ff=0,Yf=null,ip=null,Al=0,Xf=null;function yn(){if((Wt&2)!==0&&Lt!==0)return Lt&-Lt;if(q.T!==null){var t=qs;return t!==0?t:eh()}return Bi()}function rp(){Vn===0&&(Vn=(Lt&536870912)===0||Ft?Oa():536870912);var t=In.current;return t!==null&&(t.flags|=32),Vn}function _n(t,n,r){(t===ie&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)&&(na(t,0),lr(t,Lt,Vn,!1)),di(t,r),((Wt&2)===0||t!==ie)&&(t===ie&&((Wt&2)===0&&(as|=r),ge===4&&lr(t,Lt,Vn,!1)),ri(t))}function sp(t,n,r){if((Wt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Nr(t,n),c=l?G0(t,n):Zf(t,n,!0),h=l;do{if(c===0){$s&&!l&&lr(t,n,0,!1);break}else{if(r=t.current.alternate,h&&!q0(r)){c=Zf(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Sl;var w=E.current.memoizedState.isDehydrated;if(w&&(na(E,y).flags|=256),y=Zf(E,y,!1),y!==2){if(qf&&!w){E.errorRecoveryDisabledLanes|=h,as|=h,c=4;break t}h=ln,ln=c,h!==null&&(ln===null?ln=h:ln.push.apply(ln,h))}c=y}if(h=!1,c!==2)continue}}if(c===1){na(t,0),lr(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:lr(l,n,Vn,!ir);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Qf+300-En(),10<c)){if(lr(l,n,Vn,!ir),vs(l,0,!0)!==0)break t;l.timeoutHandle=Mp(ap.bind(null,l,r,ln,hu,Gf,n,Vn,as,Js,ir,h,2,-0,0),c);break t}ap(l,r,ln,hu,Gf,n,Vn,as,Js,ir,h,0,-0,0)}}break}while(!0);ri(t)}function ap(t,n,r,l,c,h,y,E,w,P,Q,X,B,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:S1},Jg(n),X=R1(),X!==null)){t.cancelPendingCommit=X(dp.bind(null,t,n,h,r,l,c,y,E,w,Q,1,B,H)),lr(t,h,y,!P);return}dp(t,n,h,r,l,c,y,E,w)}function q0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],h=c.getSnapshot;c=c.value;try{if(!hn(h(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function lr(t,n,r,l){n&=~Hf,n&=~as,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-Xe(c),y=1<<h;l[h]=-1,c&=~y}r!==0&&Hn(t,r,n)}function du(){return(Wt&6)===0?(Rl(0),!1):!0}function Kf(){if(Nt!==null){if(Zt===0)var t=Nt.return;else t=Nt,xi=ts=null,hf(t),Xs=null,gl=0,t=Nt;for(;t!==null;)Lg(t.alternate,t),t=t.return;Nt=null}}function na(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,a1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Kf(),ie=t,Nt=r=Ai(t.current,null),Lt=n,Zt=0,pn=null,ir=!1,$s=Nr(t,n),qf=!1,Js=Vn=Hf=as=rr=ge=0,ln=Sl=null,Gf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Xe(l),h=1<<c;n|=t[c],l&=~h}return zi=n,zo(),r}function lp(t,n){It=null,q.H=tu,n===al||n===Go?(n=Am(),Zt=3):n===bm?(n=Am(),Zt=4):Zt=n===Rg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,Nt===null&&(ge=1,su(t,wn(n,t.current)))}function op(){var t=q.H;return q.H=tu,t===null?tu:t}function up(){var t=q.A;return q.A=P0,t}function Wf(){ge=4,ir||(Lt&4194048)!==Lt&&In.current!==null||($s=!0),(rr&134217727)===0&&(as&134217727)===0||ie===null||lr(ie,Lt,Vn,!1)}function Zf(t,n,r){var l=Wt;Wt|=2;var c=op(),h=up();(ie!==t||Lt!==n)&&(hu=null,na(t,n)),n=!1;var y=ge;t:do try{if(Zt!==0&&Nt!==null){var E=Nt,w=pn;switch(Zt){case 8:Kf(),y=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var P=Zt;if(Zt=0,pn=null,ia(t,E,w,P),r&&$s){y=0;break t}break;default:P=Zt,Zt=0,pn=null,ia(t,E,w,P)}}H0(),y=ge;break}catch(Q){lp(t,Q)}while(!0);return n&&t.shellSuspendCounter++,xi=ts=null,Wt=l,q.H=c,q.A=h,Nt===null&&(ie=null,Lt=0,zo()),y}function H0(){for(;Nt!==null;)cp(Nt)}function G0(t,n){var r=Wt;Wt|=2;var l=op(),c=up();ie!==t||Lt!==n?(hu=null,fu=En()+500,na(t,n)):$s=Nr(t,n);t:do try{if(Zt!==0&&Nt!==null){n=Nt;var h=pn;e:switch(Zt){case 1:Zt=0,pn=null,ia(t,n,h,1);break;case 2:case 9:if(Tm(h)){Zt=0,pn=null,fp(n);break}n=function(){Zt!==2&&Zt!==9||ie!==t||(Zt=7),ri(t)},h.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Tm(h)?(Zt=0,pn=null,fp(n)):(Zt=0,pn=null,ia(t,n,h,7));break;case 5:var y=null;switch(Nt.tag){case 26:y=Nt.memoizedState;case 5:case 27:var E=Nt;if(!y||Fp(y)){Zt=0,pn=null;var w=E.sibling;if(w!==null)Nt=w;else{var P=E.return;P!==null?(Nt=P,mu(P)):Nt=null}break e}}Zt=0,pn=null,ia(t,n,h,5);break;case 6:Zt=0,pn=null,ia(t,n,h,6);break;case 8:Kf(),ge=6;break t;default:throw Error(s(462))}}Q0();break}catch(Q){lp(t,Q)}while(!0);return xi=ts=null,q.H=l,q.A=c,Wt=r,Nt!==null?0:(ie=null,Lt=0,zo(),ge)}function Q0(){for(;Nt!==null&&!Da();)cp(Nt)}function cp(t){var n=Ug(t.alternate,t,zi);t.memoizedProps=t.pendingProps,n===null?mu(t):Nt=n}function fp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Vg(r,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=Vg(r,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:hf(n);default:Lg(r,n),n=Nt=hm(n,zi),n=Ug(r,n,zi)}t.memoizedProps=t.pendingProps,n===null?mu(t):Nt=n}function ia(t,n,r,l){xi=ts=null,hf(n),Xs=null,gl=0;var c=n.return;try{if(M0(t,c,n,r,Lt)){ge=1,su(t,wn(r,t.current)),Nt=null;return}}catch(h){if(c!==null)throw Nt=c,h;ge=1,su(t,wn(r,t.current)),Nt=null;return}n.flags&32768?(Ft||l===1?t=!0:$s||(Lt&536870912)!==0?t=!1:(ir=t=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),hp(n,t)):mu(n)}function mu(t){var n=t;do{if((n.flags&32768)!==0){hp(n,ir);return}t=n.return;var r=j0(n.alternate,n,zi);if(r!==null){Nt=r;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=t}while(n!==null);ge===0&&(ge=5)}function hp(t,n){do{var r=U0(t.alternate,t);if(r!==null){r.flags&=32767,Nt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=r}while(t!==null);ge=6,Nt=null}function dp(t,n,r,l,c,h,y,E,w){t.cancelPendingCommit=null;do gu();while(He!==0);if((Wt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=Pc,za(t,r,h,y,E,w),t===ie&&(Nt=ie=null,Lt=0),ta=n,ar=t,ea=r,Ff=h,Yf=c,ip=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,K0(Cr,function(){return _p(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,c=rt.p,rt.p=2,y=Wt,Wt|=4;try{k0(t,n,r)}finally{Wt=y,rt.p=c,q.T=l}}He=1,mp(),gp(),pp()}}function mp(){if(He===1){He=0;var t=ar,n=ta,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var l=rt.p;rt.p=2;var c=Wt;Wt|=4;try{Wg(n,t);var h=uh,y=nm(t.containerInfo),E=h.focusedElem,w=h.selectionRange;if(y!==E&&E&&E.ownerDocument&&em(E.ownerDocument.documentElement,E)){if(w!==null&&zc(E)){var P=w.start,Q=w.end;if(Q===void 0&&(Q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),Et=E.textContent.length,pt=Math.min(w.start,Et),ee=w.end===void 0?pt:Math.min(w.end,Et);!H.extend&&pt>ee&&(y=ee,ee=pt,pt=y);var U=tm(E,pt),I=tm(E,ee);if(U&&I&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==I.node||H.focusOffset!==I.offset)){var L=X.createRange();L.setStart(U.node,U.offset),H.removeAllRanges(),pt>ee?(H.addRange(L),H.extend(I.node,I.offset)):(L.setEnd(I.node,I.offset),H.addRange(L))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}xu=!!oh,uh=oh=null}finally{Wt=c,rt.p=l,q.T=r}}t.current=n,He=2}}function gp(){if(He===2){He=0;var t=ar,n=ta,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var l=rt.p;rt.p=2;var c=Wt;Wt|=4;try{Fg(t,n.alternate,n)}finally{Wt=c,rt.p=l,q.T=r}}He=3}}function pp(){if(He===4||He===3){He=0,uo();var t=ar,n=ta,r=ea,l=ip;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?He=5:(He=0,ta=ar=null,yp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(sr=null),Es(r),n=n.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(de,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,c=rt.p,rt.p=2,q.T=null;try{for(var h=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];h(E.value,{componentStack:E.stack})}}finally{q.T=n,rt.p=c}}(ea&3)!==0&&gu(),ri(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Xf?Al++:(Al=0,Xf=t):Al=0,Rl(0)}}function yp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,rl(n)))}function gu(t){return mp(),gp(),pp(),_p()}function _p(){if(He!==5)return!1;var t=ar,n=Ff;Ff=0;var r=Es(ea),l=q.T,c=rt.p;try{rt.p=32>r?32:r,q.T=null,r=Yf,Yf=null;var h=ar,y=ea;if(He=0,ta=ar=null,ea=0,(Wt&6)!==0)throw Error(s(331));var E=Wt;if(Wt|=4,ep(h.current),$g(h,h.current,y,r),Wt=E,Rl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(de,h)}catch{}return!0}finally{rt.p=c,q.T=l,yp(t,n)}}function vp(t,n,r){n=wn(r,n),n=wf(t.stateNode,n,2),t=Wi(t,n,2),t!==null&&(di(t,2),ri(t))}function ne(t,n,r){if(t.tag===3)vp(t,t,r);else for(;n!==null;){if(n.tag===3){vp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(sr===null||!sr.has(l))){t=wn(r,t),r=Sg(2),l=Wi(n,r,2),l!==null&&(Ag(r,l,n,t),di(l,2),ri(l));break}}n=n.return}}function $f(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new B0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(qf=!0,c.add(r),t=F0.bind(null,t,n,r),n.then(t,t))}function F0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ie===t&&(Lt&r)===r&&(ge===4||ge===3&&(Lt&62914560)===Lt&&300>En()-Qf?(Wt&2)===0&&na(t,0):Hf|=r,Js===Lt&&(Js=0)),ri(t)}function Ep(t,n){n===0&&(n=Ma()),t=ks(t,n),t!==null&&(di(t,n),ri(t))}function Y0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Ep(t,r)}function X0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Ep(t,r)}function K0(t,n){return le(t,n)}var pu=null,ra=null,Jf=!1,yu=!1,th=!1,ls=0;function ri(t){t!==ra&&t.next===null&&(ra===null?pu=ra=t:ra=ra.next=t),yu=!0,Jf||(Jf=!0,Z0())}function Rl(t,n){if(!th&&yu){th=!0;do for(var r=!1,l=pu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var y=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-Xe(42|t)+1)-1,h&=c&~(y&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,Ap(l,h))}else h=Lt,h=vs(l,l===ie?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Nr(l,h)||(r=!0,Ap(l,h));l=l.next}while(r);th=!1}}function W0(){bp()}function bp(){yu=Jf=!1;var t=0;ls!==0&&(s1()&&(t=ls),ls=0);for(var n=En(),r=null,l=pu;l!==null;){var c=l.next,h=Tp(l,n);h===0?(l.next=null,r===null?pu=c:r.next=c,c===null&&(ra=r)):(r=l,(t!==0||(h&3)!==0)&&(yu=!0)),l=c}Rl(t)}function Tp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var y=31-Xe(h),E=1<<y,w=c[y];w===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Na(E,n)):w<=n&&(t.expiredLanes|=E),h&=~E}if(n=ie,r=Lt,r=vs(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Mn(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Nr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Mn(l),Es(r)){case 2:case 8:r=ys;break;case 32:r=Cr;break;case 268435456:r=_s;break;default:r=Cr}return l=Sp.bind(null,t),r=le(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Mn(l),t.callbackPriority=2,t.callbackNode=null,2}function Sp(t,n){if(He!==0&&He!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(gu()&&t.callbackNode!==r)return null;var l=Lt;return l=vs(t,t===ie?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(sp(t,l,n),Tp(t,En()),t.callbackNode!=null&&t.callbackNode===r?Sp.bind(null,t):null)}function Ap(t,n){if(gu())return null;sp(t,n,!0)}function Z0(){l1(function(){(Wt&6)!==0?le(Ia,W0):bp()})}function eh(){return ls===0&&(ls=Oa()),ls}function Rp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ws(""+t)}function wp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function $0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var h=Rp((c[Ee]||null).action),y=l.submitter;y&&(n=(n=y[Ee]||null)?Rp(n.formAction):y.getAttribute("formAction"),n!==null&&(h=n,y=null));var E=new xs("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ls!==0){var w=y?wp(c,y):new FormData(c);bf(r,{pending:!0,data:w,method:c.method,action:h},null,w)}}else typeof h=="function"&&(E.preventDefault(),w=y?wp(c,y):new FormData(c),bf(r,{pending:!0,data:w,method:c.method,action:h},h,w))},currentTarget:c}]})}}for(var nh=0;nh<Lc.length;nh++){var ih=Lc[nh],J0=ih.toLowerCase(),t1=ih[0].toUpperCase()+ih.slice(1);kn(J0,"on"+t1)}kn(sm,"onAnimationEnd"),kn(am,"onAnimationIteration"),kn(lm,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(y0,"onTransitionRun"),kn(_0,"onTransitionStart"),kn(v0,"onTransitionCancel"),kn(om,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function xp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],w=E.instance,P=E.currentTarget;if(E=E.listener,w!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=P;try{h(c)}catch(Q){ru(Q)}c.currentTarget=null,h=w}else for(y=0;y<l.length;y++){if(E=l[y],w=E.instance,P=E.currentTarget,E=E.listener,w!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=P;try{h(c)}catch(Q){ru(Q)}c.currentTarget=null,h=w}}}}function Ot(t,n){var r=n[Ua];r===void 0&&(r=n[Ua]=new Set);var l=t+"__bubble";r.has(l)||(Cp(n,t,2,!1),r.add(l))}function rh(t,n,r){var l=0;n&&(l|=4),Cp(r,t,l,n)}var _u="_reactListening"+Math.random().toString(36).slice(2);function sh(t){if(!t[_u]){t[_u]=!0,ka.forEach(function(r){r!=="selectionchange"&&(e1.has(r)||rh(r,!1,t),rh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_u]||(n[_u]=!0,rh("selectionchange",!1,n))}}function Cp(t,n,r,l){switch($p(n)){case 2:var c=C1;break;case 8:c=D1;break;default:c=vh}r=c.bind(null,n,r,t),c=void 0,!An||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function ah(t,n,r,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var w=y.tag;if((w===3||w===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=mi(E),y===null)return;if(w=y.tag,w===5||w===6||w===26||w===27){l=h=y;continue t}E=E.parentNode}}l=l.return}Eo(function(){var P=h,Q=Sn(r),X=[];t:{var B=um.get(t);if(B!==void 0){var H=xs,Et=t;switch(t){case"keypress":if(Kn(r)===0)break t;case"keydown":case"keyup":H=Os;break;case"focusin":Et="focus",H=Is;break;case"focusout":Et="blur",H=Is;break;case"beforeblur":case"afterblur":H=Is;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Co;break;case sm:case am:case lm:H=Vs;break;case om:H=Io;break;case"scroll":case"scrollend":H=bo;break;case"wheel":H=Ms;break;case"copy":case"cut":case"paste":H=Ns;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Wa;break;case"toggle":case"beforetoggle":H=No}var pt=(n&4)!==0,ee=!pt&&(t==="scroll"||t==="scrollend"),U=pt?B!==null?B+"Capture":null:B;pt=[];for(var I=P,L;I!==null;){var Y=I;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||U===null||(Y=Pr(I,U),Y!=null&&pt.push(xl(I,Y,L))),ee)break;I=I.return}0<pt.length&&(B=new H(B,Et,null,r,Q),X.push({event:B,listeners:pt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&r!==_i&&(Et=r.relatedTarget||r.fromElement)&&(mi(Et)||Et[bn]))break t;if((H||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(Et=r.relatedTarget||r.toElement,H=P,Et=Et?mi(Et):null,Et!==null&&(ee=f(Et),pt=Et.tag,Et!==ee||pt!==5&&pt!==27&&pt!==6)&&(Et=null)):(H=null,Et=P),H!==Et)){if(pt=Rn,Y="onMouseLeave",U="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(pt=Wa,Y="onPointerLeave",U="onPointerEnter",I="pointer"),ee=H==null?B:Qn(H),L=Et==null?B:Qn(Et),B=new pt(Y,I+"leave",H,r,Q),B.target=ee,B.relatedTarget=L,Y=null,mi(Q)===P&&(pt=new pt(U,I+"enter",Et,r,Q),pt.target=L,pt.relatedTarget=ee,Y=pt),ee=Y,H&&Et)e:{for(pt=H,U=Et,I=0,L=pt;L;L=sa(L))I++;for(L=0,Y=U;Y;Y=sa(Y))L++;for(;0<I-L;)pt=sa(pt),I--;for(;0<L-I;)U=sa(U),L--;for(;I--;){if(pt===U||U!==null&&pt===U.alternate)break e;pt=sa(pt),U=sa(U)}pt=null}else pt=null;H!==null&&Dp(X,B,H,pt,!1),Et!==null&&ee!==null&&Dp(X,ee,Et,pt,!0)}}t:{if(B=P?Qn(P):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var ft=Xd;else if(Ie(B))if(Kd)ft=m0;else{ft=h0;var Vt=f0}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Ha(P.elementType)&&(ft=Xd):ft=d0;if(ft&&(ft=ft(t,P))){Si(X,ft,r,Q);break t}Vt&&Vt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Qi(B,"number",B.value)}switch(Vt=P?Qn(P):window,t){case"focusin":(Ie(Vt)||Vt.contentEditable==="true")&&(zs=Vt,jc=P,Ja=null);break;case"focusout":Ja=jc=zs=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,im(X,r,Q);break;case"selectionchange":if(p0)break;case"keydown":case"keyup":im(X,r,Q)}var ht;if($n)t:{switch(t){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Ut?G(t,r)&&(yt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(yt="onCompositionStart");yt&&(g&&r.locale!=="ko"&&(Ut||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Ut&&(ht=Qa()):(Xn=Q,Fi="value"in Xn?Xn.value:Xn.textContent,Ut=!0)),Vt=vu(P,yt),0<Vt.length&&(yt=new Xa(yt,t,null,r,Q),X.push({event:yt,listeners:Vt}),ht?yt.data=ht:(ht=st(r),ht!==null&&(yt.data=ht)))),(ht=m?De(t,r):kt(t,r))&&(yt=vu(P,"onBeforeInput"),0<yt.length&&(Vt=new Xa("onBeforeInput","beforeinput",null,r,Q),X.push({event:Vt,listeners:yt}),Vt.data=ht)),$0(X,t,P,r,Q)}xp(X,n)})}function xl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function vu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Pr(t,r),c!=null&&l.unshift(xl(t,c,h)),c=Pr(t,n),c!=null&&l.push(xl(t,c,h))),t.tag===3)return l;t=t.return}return[]}function sa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Dp(t,n,r,l,c){for(var h=n._reactName,y=[];r!==null&&r!==l;){var E=r,w=E.alternate,P=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||P===null||(w=P,c?(P=Pr(r,h),P!=null&&y.unshift(xl(r,P,w))):c||(P=Pr(r,h),P!=null&&y.push(xl(r,P,w)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var n1=/\r\n?/g,i1=/\u0000|\uFFFD/g;function Ip(t){return(typeof t=="string"?t:""+t).replace(n1,`
`).replace(i1,"")}function Vp(t,n){return n=Ip(n),Ip(t)===n}function Eu(){}function te(t,n,r,l,c,h){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Tn(t,""+l);break;case"className":Fn(t,"class",l);break;case"tabIndex":Fn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(t,r,l);break;case"style":qa(t,l,h);break;case"data":if(n!=="object"){Fn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ws(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(n!=="input"&&te(t,n,"name",c.name,c,null),te(t,n,"formEncType",c.formEncType,c,null),te(t,n,"formMethod",c.formMethod,c,null),te(t,n,"formTarget",c.formTarget,c,null)):(te(t,n,"encType",c.encType,c,null),te(t,n,"method",c.method,c,null),te(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ws(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Eu);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=ws(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),Gi(t,"popover",l);break;case"xlinkActuate":Pe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Gi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Dc.get(r)||r,Gi(t,r,l))}}function lh(t,n,r,l,c,h){switch(r){case"style":qa(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Eu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bs.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),h=t[Ee]||null,h=h!=null?h[r]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Gi(t,r,l)}}}function Ge(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var l=!1,c=!1,h;for(h in r)if(r.hasOwnProperty(h)){var y=r[h];if(y!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(t,n,h,y,r,null)}}c&&te(t,n,"srcSet",r.srcSet,r,null),l&&te(t,n,"src",r.src,r,null);return;case"input":Ot("invalid",t);var E=h=y=c=null,w=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":y=Q;break;case"checked":w=Q;break;case"defaultChecked":P=Q;break;case"value":h=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:te(t,n,l,Q,r,null)}}Ur(t,h,E,w,P,y,c,!1),Rs(t);return;case"select":Ot("invalid",t),l=y=h=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:te(t,n,c,E,r,null)}n=h,r=y,t.multiple=!!l,n!=null?yi(t,!!l,n,!1):r!=null&&yi(t,!!l,r,!0);return;case"textarea":Ot("invalid",t),h=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:te(t,n,y,E,r,null)}kr(t,l,c,h),Rs(t);return;case"option":for(w in r)if(r.hasOwnProperty(w)&&(l=r[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(t,n,w,l,r,null)}return;case"dialog":Ot("beforetoggle",t),Ot("toggle",t),Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)Ot(wl[l],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(t,n,P,l,r,null)}return;default:if(Ha(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&lh(t,n,Q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&te(t,n,E,l,r,null))}function r1(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,y=null,E=null,w=null,P=null,Q=null;for(H in r){var X=r[H];if(r.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":w=X;default:l.hasOwnProperty(H)||te(t,n,H,null,l,X)}}for(var B in l){var H=l[B];if(X=r[B],l.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":h=H;break;case"name":c=H;break;case"checked":P=H;break;case"defaultChecked":Q=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==X&&te(t,n,B,H,l,X)}}fn(t,y,E,w,P,Q,h,c);return;case"select":H=y=E=B=null;for(h in r)if(w=r[h],r.hasOwnProperty(h)&&w!=null)switch(h){case"value":break;case"multiple":H=w;default:l.hasOwnProperty(h)||te(t,n,h,null,l,w)}for(c in l)if(h=l[c],w=r[c],l.hasOwnProperty(c)&&(h!=null||w!=null))switch(c){case"value":B=h;break;case"defaultValue":E=h;break;case"multiple":y=h;default:h!==w&&te(t,n,c,h,l,w)}n=E,r=y,l=H,B!=null?yi(t,!!r,B,!1):!!l!=!!r&&(n!=null?yi(t,!!r,n,!0):yi(t,!!r,r?[]:"",!1));return;case"textarea":H=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(t,n,E,null,l,c)}for(y in l)if(c=l[y],h=r[y],l.hasOwnProperty(y)&&(c!=null||h!=null))switch(y){case"value":B=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&te(t,n,y,c,l,h)}$t(t,B,H);return;case"option":for(var Et in r)if(B=r[Et],r.hasOwnProperty(Et)&&B!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":t.selected=!1;break;default:te(t,n,Et,null,l,B)}for(w in l)if(B=l[w],H=r[w],l.hasOwnProperty(w)&&B!==H&&(B!=null||H!=null))switch(w){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:te(t,n,w,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)B=r[pt],r.hasOwnProperty(pt)&&B!=null&&!l.hasOwnProperty(pt)&&te(t,n,pt,null,l,B);for(P in l)if(B=l[P],H=r[P],l.hasOwnProperty(P)&&B!==H&&(B!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:te(t,n,P,B,l,H)}return;default:if(Ha(n)){for(var ee in r)B=r[ee],r.hasOwnProperty(ee)&&B!==void 0&&!l.hasOwnProperty(ee)&&lh(t,n,ee,void 0,l,B);for(Q in l)B=l[Q],H=r[Q],!l.hasOwnProperty(Q)||B===H||B===void 0&&H===void 0||lh(t,n,Q,B,l,H);return}}for(var U in r)B=r[U],r.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&te(t,n,U,null,l,B);for(X in l)B=l[X],H=r[X],!l.hasOwnProperty(X)||B===H||B==null&&H==null||te(t,n,X,B,l,H)}var oh=null,uh=null;function bu(t){return t.nodeType===9?t:t.ownerDocument}function Np(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Op(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ch(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fh=null;function s1(){var t=window.event;return t&&t.type==="popstate"?t===fh?!1:(fh=t,!0):(fh=null,!1)}var Mp=typeof setTimeout=="function"?setTimeout:void 0,a1=typeof clearTimeout=="function"?clearTimeout:void 0,zp=typeof Promise=="function"?Promise:void 0,l1=typeof queueMicrotask=="function"?queueMicrotask:typeof zp<"u"?function(t){return zp.resolve(null).then(t).catch(o1)}:Mp;function o1(t){setTimeout(function(){throw t})}function or(t){return t==="head"}function jp(t,n){var r=n,l=0,c=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Cl(y.documentElement),r&2&&Cl(y.body),r&4)for(r=y.head,Cl(r),y=r.firstChild;y;){var E=y.nextSibling,w=y.nodeName;y[Or]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(h),jl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=h}while(r);jl(n)}function hh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":hh(r),Hi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function u1(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Or])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function c1(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Pn(t.nextSibling),t===null))return null;return t}function dh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function f1(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var mh=null;function Up(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function kp(t,n,r){switch(n=bu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Cl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Hi(t)}var Nn=new Map,Lp=new Set;function Tu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ji=rt.d;rt.d={f:h1,r:d1,D:m1,C:g1,L:p1,m:y1,X:v1,S:_1,M:E1};function h1(){var t=ji.f(),n=du();return t||n}function d1(t){var n=Gn(t);n!==null&&n.tag===5&&n.type==="form"?sg(n):ji.r(t)}var aa=typeof document>"u"?null:document;function Pp(t,n,r){var l=aa;if(l&&typeof n=="string"&&n){var c=be(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Lp.has(c)||(Lp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ge(n,"link",t),pe(n),l.head.appendChild(n)))}}function m1(t){ji.D(t),Pp("dns-prefetch",t,null)}function g1(t,n){ji.C(t,n),Pp("preconnect",t,n)}function p1(t,n,r){ji.L(t,n,r);var l=aa;if(l&&t&&n){var c='link[rel="preload"][as="'+be(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+be(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+be(r.imageSizes)+'"]')):c+='[href="'+be(t)+'"]';var h=c;switch(n){case"style":h=la(t);break;case"script":h=oa(t)}Nn.has(h)||(t=T({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Nn.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Dl(h))||n==="script"&&l.querySelector(Il(h))||(n=l.createElement("link"),Ge(n,"link",t),pe(n),l.head.appendChild(n)))}}function y1(t,n){ji.m(t,n);var r=aa;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+be(l)+'"][href="'+be(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=oa(t)}if(!Nn.has(h)&&(t=T({rel:"modulepreload",href:t},n),Nn.set(h,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Il(h)))return}l=r.createElement("link"),Ge(l,"link",t),pe(l),r.head.appendChild(l)}}}function _1(t,n,r){ji.S(t,n,r);var l=aa;if(l&&t){var c=tn(l).hoistableStyles,h=la(t);n=n||"default";var y=c.get(h);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Dl(h)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Nn.get(h))&&gh(t,r);var w=y=l.createElement("link");pe(w),Ge(w,"link",t),w._p=new Promise(function(P,Q){w.onload=P,w.onerror=Q}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Su(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(h,y)}}}function v1(t,n){ji.X(t,n);var r=aa;if(r&&t){var l=tn(r).hoistableScripts,c=oa(t),h=l.get(c);h||(h=r.querySelector(Il(c)),h||(t=T({src:t,async:!0},n),(n=Nn.get(c))&&ph(t,n),h=r.createElement("script"),pe(h),Ge(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function E1(t,n){ji.M(t,n);var r=aa;if(r&&t){var l=tn(r).hoistableScripts,c=oa(t),h=l.get(c);h||(h=r.querySelector(Il(c)),h||(t=T({src:t,async:!0,type:"module"},n),(n=Nn.get(c))&&ph(t,n),h=r.createElement("script"),pe(h),Ge(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Bp(t,n,r,l){var c=(c=gt.current)?Tu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=la(r.href),r=tn(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=la(r.href);var h=tn(c).hoistableStyles,y=h.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,y),(h=c.querySelector(Dl(t)))&&!h._p&&(y.instance=h,y.state.loading=5),Nn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Nn.set(t,r),h||b1(c,t,r,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=oa(r),r=tn(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function la(t){return'href="'+be(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function qp(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function b1(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ge(n,"link",r),pe(n),t.head.appendChild(n))}function oa(t){return'[src="'+be(t)+'"]'}function Il(t){return"script[async]"+t}function Hp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+be(r.href)+'"]');if(l)return n.instance=l,pe(l),l;var c=T({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pe(l),Ge(l,"style",c),Su(l,r.precedence,t),n.instance=l;case"stylesheet":c=la(r.href);var h=t.querySelector(Dl(c));if(h)return n.state.loading|=4,n.instance=h,pe(h),h;l=qp(r),(c=Nn.get(c))&&gh(l,c),h=(t.ownerDocument||t).createElement("link"),pe(h);var y=h;return y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),Ge(h,"link",l),n.state.loading|=4,Su(h,r.precedence,t),n.instance=h;case"script":return h=oa(r.src),(c=t.querySelector(Il(h)))?(n.instance=c,pe(c),c):(l=r,(c=Nn.get(h))&&(l=T({},r),ph(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),pe(c),Ge(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Su(l,r.precedence,t));return n.instance}function Su(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function gh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ph(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Au=null;function Gp(t,n,r){if(Au===null){var l=new Map,c=Au=new Map;c.set(r,l)}else c=Au,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var h=r[c];if(!(h[Or]||h[Ce]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(h):l.set(y,[h])}}return l}function Qp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function T1(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Fp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Vl=null;function S1(){}function A1(t,n,r){if(Vl===null)throw Error(s(475));var l=Vl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=la(r.href),h=t.querySelector(Dl(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ru.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=h,pe(h);return}h=t.ownerDocument||t,r=qp(r),(c=Nn.get(c))&&gh(r,c),h=h.createElement("link"),pe(h);var y=h;y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),Ge(h,"link",r),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Ru.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function R1(){if(Vl===null)throw Error(s(475));var t=Vl;return t.stylesheets&&t.count===0&&yh(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&yh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Ru(){if(this.count--,this.count===0){if(this.stylesheets)yh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wu=null;function yh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wu=new Map,n.forEach(w1,t),wu=null,Ru.call(t))}function w1(t,n){if(!(n.state.loading&4)){var r=wu.get(t);if(r)var l=r.get(null);else{r=new Map,wu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var y=c[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),h=r.get(y)||l,h===l&&r.set(null,c),r.set(y,c),this.count++,l=Ru.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Nl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function x1(t,n,r,l,c,h,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Yp(t,n,r,l,c,h,y,E,w,P,Q,X){return t=new x1(t,n,r,y,E,w,P,X),n=1,h===!0&&(n|=24),h=dn(3,null,null,n),t.current=h,h.stateNode=t,n=Zc(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:r,cache:n},ef(h),t}function Xp(t){return t?(t=Ls,t):Ls}function Kp(t,n,r,l,c,h){c=Xp(c),l.context===null?l.context=c:l.pendingContext=c,l=Ki(n),l.payload={element:r},h=h===void 0?null:h,h!==null&&(l.callback=h),r=Wi(t,l,n),r!==null&&(_n(r,t,n),ol(r,t,n))}function Wp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function _h(t,n){Wp(t,n),(t=t.alternate)&&Wp(t,n)}function Zp(t){if(t.tag===13){var n=ks(t,67108864);n!==null&&_n(n,t,67108864),_h(t,67108864)}}var xu=!0;function C1(t,n,r,l){var c=q.T;q.T=null;var h=rt.p;try{rt.p=2,vh(t,n,r,l)}finally{rt.p=h,q.T=c}}function D1(t,n,r,l){var c=q.T;q.T=null;var h=rt.p;try{rt.p=8,vh(t,n,r,l)}finally{rt.p=h,q.T=c}}function vh(t,n,r,l){if(xu){var c=Eh(l);if(c===null)ah(t,n,l,Cu,r),Jp(t,l);else if(V1(c,t,n,r,l))l.stopPropagation();else if(Jp(t,l),n&4&&-1<I1.indexOf(t)){for(;c!==null;){var h=Gn(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=zn(h.pendingLanes);if(y!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var w=1<<31-Xe(y);E.entanglements[1]|=w,y&=~w}ri(h),(Wt&6)===0&&(fu=En()+500,Rl(0))}}break;case 13:E=ks(h,2),E!==null&&_n(E,h,2),du(),_h(h,2)}if(h=Eh(l),h===null&&ah(t,n,l,Cu,r),h===c)break;c=h}c!==null&&l.stopPropagation()}else ah(t,n,l,null,r)}}function Eh(t){return t=Sn(t),bh(t)}var Cu=null;function bh(t){if(Cu=null,t=mi(t),t!==null){var n=f(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cu=t,null}function $p(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sc()){case Ia:return 2;case ys:return 8;case Cr:case Ac:return 32;case _s:return 268435456;default:return 32}default:return 32}}var Th=!1,ur=null,cr=null,fr=null,Ol=new Map,Ml=new Map,hr=[],I1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jp(t,n){switch(t){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(n.pointerId)}}function zl(t,n,r,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=Gn(n),n!==null&&Zp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function V1(t,n,r,l,c){switch(n){case"focusin":return ur=zl(ur,t,n,r,l,c),!0;case"dragenter":return cr=zl(cr,t,n,r,l,c),!0;case"mouseover":return fr=zl(fr,t,n,r,l,c),!0;case"pointerover":var h=c.pointerId;return Ol.set(h,zl(Ol.get(h)||null,t,n,r,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Ml.set(h,zl(Ml.get(h)||null,t,n,r,l,c)),!0}return!1}function ty(t){var n=mi(t.target);if(n!==null){var r=f(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ho(t.priority,function(){if(r.tag===13){var l=yn();l=Pi(l);var c=ks(r,l);c!==null&&_n(c,r,l),_h(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Du(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Eh(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);_i=l,r.target.dispatchEvent(l),_i=null}else return n=Gn(r),n!==null&&Zp(n),t.blockedOn=r,!1;n.shift()}return!0}function ey(t,n,r){Du(t)&&r.delete(n)}function N1(){Th=!1,ur!==null&&Du(ur)&&(ur=null),cr!==null&&Du(cr)&&(cr=null),fr!==null&&Du(fr)&&(fr=null),Ol.forEach(ey),Ml.forEach(ey)}function Iu(t,n){t.blockedOn===n&&(t.blockedOn=null,Th||(Th=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,N1)))}var Vu=null;function ny(t){Vu!==t&&(Vu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Vu===t&&(Vu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(bh(l||r)===null)continue;break}var h=Gn(r);h!==null&&(t.splice(n,3),n-=3,bf(h,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function jl(t){function n(w){return Iu(w,t)}ur!==null&&Iu(ur,t),cr!==null&&Iu(cr,t),fr!==null&&Iu(fr,t),Ol.forEach(n),Ml.forEach(n);for(var r=0;r<hr.length;r++){var l=hr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<hr.length&&(r=hr[0],r.blockedOn===null);)ty(r),r.blockedOn===null&&hr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],h=r[l+1],y=c[Ee]||null;if(typeof h=="function")y||ny(r);else if(y){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,y=h[Ee]||null)E=y.formAction;else if(bh(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),ny(r)}}}function Sh(t){this._internalRoot=t}Nu.prototype.render=Sh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=yn();Kp(r,l,t,n,null,null)},Nu.prototype.unmount=Sh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Kp(t.current,2,null,t,null,null),du(),n[bn]=null}};function Nu(t){this._internalRoot=t}Nu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Bi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<hr.length&&n!==0&&n<hr[r].priority;r++);hr.splice(r,0,t),r===0&&ty(t)}};var iy=e.version;if(iy!=="19.1.1")throw Error(s(527,iy,"19.1.1"));rt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var O1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{de=Ou.inject(O1),Kt=Ou}catch{}}return kl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=vg,h=Eg,y=bg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Yp(t,1,!1,null,null,r,l,c,h,y,E,null),t[bn]=n.current,sh(t),new Sh(n)},kl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",h=vg,y=Eg,E=bg,w=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Yp(t,1,!0,n,r??null,l,c,h,y,E,w,P),n.context=Xp(null),r=n.current,l=yn(),l=Pi(l),c=Ki(l),c.callback=null,Wi(r,c,l),r=l,n.current.lanes=r,di(n,r),ri(n),t[bn]=n.current,sh(t),new Nu(n)},kl.version="19.1.1",kl}var dy;function G1(){if(dy)return wh.exports;dy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),wh.exports=H1(),wh.exports}var Q1=G1();const F1=()=>{};var my={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Y1=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const f=a[i++];e[s++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=a[i++],d=a[i++],p=a[i++],_=((o&7)<<18|(f&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const f=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return e.join("")},C_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const f=a[o],d=o+1<a.length,p=d?a[o+1]:0,_=o+2<a.length,v=_?a[o+2]:0,T=f>>2,M=(f&3)<<4|p>>4;let N=(p&15)<<2|v>>6,F=v&63;_||(F=64,d||(N=64)),s.push(i[T],i[M],i[N],i[F])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(x_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):Y1(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const f=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const M=o<a.length?i[a.charAt(o)]:64;if(++o,f==null||p==null||v==null||M==null)throw new X1;const N=f<<2|p>>4;if(s.push(N),v!==64){const F=p<<4&240|v>>2;if(s.push(F),M!==64){const tt=v<<6&192|M;s.push(tt)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class X1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K1=function(a){const e=x_(a);return C_.encodeByteArray(e,!0)},Fu=function(a){return K1(a).replace(/\./g,"")},W1=function(a){try{return C_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=()=>Z1().__FIREBASE_DEFAULTS__,J1=()=>{if(typeof process>"u"||typeof my>"u")return;const a=my.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},tE=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&W1(a[1]);return e&&JSON.parse(e)},cd=()=>{try{return F1()||$1()||J1()||tE()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},eE=a=>cd()?.emulatorHosts?.[a],nE=a=>{const e=eE(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},D_=()=>cd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rE(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Fu(JSON.stringify(i)),Fu(JSON.stringify(d)),""].join(".")}const Hl={};function aE(){const a={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?a.emulator.push(e):a.prod.push(e);return a}function lE(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let gy=!1;function oE(a,e){if(typeof window>"u"||typeof document>"u"||!fd(window.location.host)||Hl[a]===e||Hl[a]||gy)return;Hl[a]=e;function i(N){return`__firebase__banner__${N}`}const s="__firebase__banner",f=aE().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,F){N.setAttribute("width","24"),N.setAttribute("id",F),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function v(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{gy=!0,d()},N}function T(N,F){N.setAttribute("id",F),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function M(){const N=lE(s),F=i("text"),tt=document.getElementById(F)||document.createElement("span"),ot=i("learnmore"),nt=document.getElementById(ot)||document.createElement("a"),Rt=i("preprendIcon"),_t=document.getElementById(Rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const mt=N.element;p(mt),T(nt,ot);const jt=v();_(_t,Rt),mt.append(_t,tt,nt,jt),document.body.appendChild(mt)}f?(tt.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",M):M()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cE(){const a=cd()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fE(){return!cE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hE(){try{return typeof indexedDB=="object"}catch{return!1}}function dE(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="FirebaseError";class Sa extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=mE,Object.setPrototypeOf(this,Sa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I_.prototype.create)}}class I_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,f=this.errors[e],d=f?gE(f,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Sa(o,p,s)}}function gE(a,e){return a.replace(pE,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const pE=/\{\$([^}]+)}/g;function Yu(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const f=a[o],d=e[o];if(py(f)&&py(d)){if(!Yu(f,d))return!1}else if(f!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function py(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(a){return a&&a._delegate?a._delegate:a}class Xl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new iE;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vE(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});s.resolve(f)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[f,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(f);s===p&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const f=this.instances.get(s);return f&&e(f,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_E(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _E(a){return a===us?void 0:a}function vE(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new yE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Bt||(Bt={}));const bE={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},TE=Bt.INFO,SE={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},AE=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=SE[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class V_{constructor(e){this.name=e,this._logLevel=TE,this._logHandler=AE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const RE=(a,e)=>e.some(i=>a instanceof i);let yy,_y;function wE(){return yy||(yy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xE(){return _y||(_y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const N_=new WeakMap,Lh=new WeakMap,O_=new WeakMap,Ih=new WeakMap,hd=new WeakMap;function CE(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",f),a.removeEventListener("error",d)},f=()=>{i(gr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",f),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&N_.set(i,a)}).catch(()=>{}),hd.set(e,a),e}function DE(a){if(Lh.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",d),a.removeEventListener("abort",d)},f=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",f),a.addEventListener("error",d),a.addEventListener("abort",d)});Lh.set(a,e)}let Ph={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Lh.get(a);if(e==="objectStoreNames")return a.objectStoreNames||O_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return gr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function IE(a){Ph=a(Ph)}function VE(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Vh(this),e,...i);return O_.set(s,e.sort?e.sort():[e]),gr(s)}:xE().includes(a)?function(...e){return a.apply(Vh(this),e),gr(N_.get(this))}:function(...e){return gr(a.apply(Vh(this),e))}}function NE(a){return typeof a=="function"?VE(a):(a instanceof IDBTransaction&&DE(a),RE(a,wE())?new Proxy(a,Ph):a)}function gr(a){if(a instanceof IDBRequest)return CE(a);if(Ih.has(a))return Ih.get(a);const e=NE(a);return e!==a&&(Ih.set(a,e),hd.set(e,a)),e}const Vh=a=>hd.get(a);function OE(a,e,{blocked:i,upgrade:s,blocking:o,terminated:f}={}){const d=indexedDB.open(a,e),p=gr(d);return s&&d.addEventListener("upgradeneeded",_=>{s(gr(d.result),_.oldVersion,_.newVersion,gr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{f&&_.addEventListener("close",()=>f()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const ME=["get","getKey","getAll","getAllKeys","count"],zE=["put","add","delete","clear"],Nh=new Map;function vy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Nh.get(e))return Nh.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=zE.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ME.includes(i)))return;const f=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&_.done]))[0]};return Nh.set(e,f),f}IE(a=>({...a,get:(e,i,s)=>vy(e,i)||a.get(e,i,s),has:(e,i)=>!!vy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(UE(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function UE(a){return a.getComponent()?.type==="VERSION"}const Bh="@firebase/app",Ey="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new V_("@firebase/app"),kE="@firebase/app-compat",LE="@firebase/analytics-compat",PE="@firebase/analytics",BE="@firebase/app-check-compat",qE="@firebase/app-check",HE="@firebase/auth",GE="@firebase/auth-compat",QE="@firebase/database",FE="@firebase/data-connect",YE="@firebase/database-compat",XE="@firebase/functions",KE="@firebase/functions-compat",WE="@firebase/installations",ZE="@firebase/installations-compat",$E="@firebase/messaging",JE="@firebase/messaging-compat",tb="@firebase/performance",eb="@firebase/performance-compat",nb="@firebase/remote-config",ib="@firebase/remote-config-compat",rb="@firebase/storage",sb="@firebase/storage-compat",ab="@firebase/firestore",lb="@firebase/ai",ob="@firebase/firestore-compat",ub="firebase",cb="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh="[DEFAULT]",fb={[Bh]:"fire-core",[kE]:"fire-core-compat",[PE]:"fire-analytics",[LE]:"fire-analytics-compat",[qE]:"fire-app-check",[BE]:"fire-app-check-compat",[HE]:"fire-auth",[GE]:"fire-auth-compat",[QE]:"fire-rtdb",[FE]:"fire-data-connect",[YE]:"fire-rtdb-compat",[XE]:"fire-fn",[KE]:"fire-fn-compat",[WE]:"fire-iid",[ZE]:"fire-iid-compat",[$E]:"fire-fcm",[JE]:"fire-fcm-compat",[tb]:"fire-perf",[eb]:"fire-perf-compat",[nb]:"fire-rc",[ib]:"fire-rc-compat",[rb]:"fire-gcs",[sb]:"fire-gcs-compat",[ab]:"fire-fst",[ob]:"fire-fst-compat",[lb]:"fire-vertex","fire-js":"fire-js",[ub]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new Map,hb=new Map,Hh=new Map;function by(a,e){try{a.container.addComponent(e)}catch(i){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ku(a){const e=a.name;if(Hh.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;Hh.set(e,a);for(const i of Xu.values())by(i,a);for(const i of hb.values())by(i,a);return!0}function db(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function mb(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new I_("app","Firebase",gb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=cb;function M_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s={name:qh,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw pr.create("bad-app-name",{appName:String(o)});if(i||(i=D_()),!i)throw pr.create("no-options");const f=Xu.get(o);if(f){if(Yu(i,f.options)&&Yu(s,f.config))return f;throw pr.create("duplicate-app",{appName:o})}const d=new EE(o);for(const _ of Hh.values())d.addComponent(_);const p=new pb(i,s,d);return Xu.set(o,p),p}function _b(a=qh){const e=Xu.get(a);if(!e&&a===qh&&D_())return M_();if(!e)throw pr.create("no-app",{appName:a});return e}function da(a,e,i){let s=fb[a]??a;i&&(s+=`-${i}`);const o=s.match(/\s|\//),f=e.match(/\s|\//);if(o||f){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(d.join(" "));return}Ku(new Xl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="firebase-heartbeat-database",Eb=1,Kl="firebase-heartbeat-store";let Oh=null;function z_(){return Oh||(Oh=OE(vb,Eb,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(a=>{throw pr.create("idb-open",{originalErrorMessage:a.message})})),Oh}async function bb(a){try{const i=(await z_()).transaction(Kl),s=await i.objectStore(Kl).get(j_(a));return await i.done,s}catch(e){if(e instanceof Sa)Ui.warn(e.message);else{const i=pr.create("idb-get",{originalErrorMessage:e?.message});Ui.warn(i.message)}}}async function Ty(a,e){try{const s=(await z_()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,j_(a)),await s.done}catch(i){if(i instanceof Sa)Ui.warn(i.message);else{const s=pr.create("idb-set",{originalErrorMessage:i?.message});Ui.warn(s.message)}}}function j_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=1024,Sb=30;class Ab{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new wb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Sy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Sb){const o=xb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Sy(),{heartbeatsToSend:i,unsentEntries:s}=Rb(this._heartbeatsCache.heartbeats),o=Fu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ui.warn(e),""}}}function Sy(){return new Date().toISOString().substring(0,10)}function Rb(a,e=Tb){const i=[];let s=a.slice();for(const o of a){const f=i.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),Ay(i)>e){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ay(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class wb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hE()?dE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await bb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ty(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ty(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ay(a){return Fu(JSON.stringify({version:2,heartbeats:a})).length}function xb(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(a){Ku(new Xl("platform-logger",e=>new jE(e),"PRIVATE")),Ku(new Xl("heartbeat",e=>new Ab(e),"PRIVATE")),da(Bh,Ey,a),da(Bh,Ey,"esm2020"),da("fire-js","")}Cb("");var Db="firebase",Ib="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */da(Db,Ib,"app");var Ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yr,U_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(z,A){function C(){}C.prototype=A.prototype,z.D=A.prototype,z.prototype=new C,z.prototype.constructor=z,z.C=function(V,O,j){for(var x=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)x[Dt-2]=arguments[Dt];return A.prototype[O].apply(V,x)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(z,A,C){C||(C=0);var V=Array(16);if(typeof A=="string")for(var O=0;16>O;++O)V[O]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(O=0;16>O;++O)V[O]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=z.g[0],C=z.g[1],O=z.g[2];var j=z.g[3],x=A+(j^C&(O^j))+V[0]+3614090360&4294967295;A=C+(x<<7&4294967295|x>>>25),x=j+(O^A&(C^O))+V[1]+3905402710&4294967295,j=A+(x<<12&4294967295|x>>>20),x=O+(C^j&(A^C))+V[2]+606105819&4294967295,O=j+(x<<17&4294967295|x>>>15),x=C+(A^O&(j^A))+V[3]+3250441966&4294967295,C=O+(x<<22&4294967295|x>>>10),x=A+(j^C&(O^j))+V[4]+4118548399&4294967295,A=C+(x<<7&4294967295|x>>>25),x=j+(O^A&(C^O))+V[5]+1200080426&4294967295,j=A+(x<<12&4294967295|x>>>20),x=O+(C^j&(A^C))+V[6]+2821735955&4294967295,O=j+(x<<17&4294967295|x>>>15),x=C+(A^O&(j^A))+V[7]+4249261313&4294967295,C=O+(x<<22&4294967295|x>>>10),x=A+(j^C&(O^j))+V[8]+1770035416&4294967295,A=C+(x<<7&4294967295|x>>>25),x=j+(O^A&(C^O))+V[9]+2336552879&4294967295,j=A+(x<<12&4294967295|x>>>20),x=O+(C^j&(A^C))+V[10]+4294925233&4294967295,O=j+(x<<17&4294967295|x>>>15),x=C+(A^O&(j^A))+V[11]+2304563134&4294967295,C=O+(x<<22&4294967295|x>>>10),x=A+(j^C&(O^j))+V[12]+1804603682&4294967295,A=C+(x<<7&4294967295|x>>>25),x=j+(O^A&(C^O))+V[13]+4254626195&4294967295,j=A+(x<<12&4294967295|x>>>20),x=O+(C^j&(A^C))+V[14]+2792965006&4294967295,O=j+(x<<17&4294967295|x>>>15),x=C+(A^O&(j^A))+V[15]+1236535329&4294967295,C=O+(x<<22&4294967295|x>>>10),x=A+(O^j&(C^O))+V[1]+4129170786&4294967295,A=C+(x<<5&4294967295|x>>>27),x=j+(C^O&(A^C))+V[6]+3225465664&4294967295,j=A+(x<<9&4294967295|x>>>23),x=O+(A^C&(j^A))+V[11]+643717713&4294967295,O=j+(x<<14&4294967295|x>>>18),x=C+(j^A&(O^j))+V[0]+3921069994&4294967295,C=O+(x<<20&4294967295|x>>>12),x=A+(O^j&(C^O))+V[5]+3593408605&4294967295,A=C+(x<<5&4294967295|x>>>27),x=j+(C^O&(A^C))+V[10]+38016083&4294967295,j=A+(x<<9&4294967295|x>>>23),x=O+(A^C&(j^A))+V[15]+3634488961&4294967295,O=j+(x<<14&4294967295|x>>>18),x=C+(j^A&(O^j))+V[4]+3889429448&4294967295,C=O+(x<<20&4294967295|x>>>12),x=A+(O^j&(C^O))+V[9]+568446438&4294967295,A=C+(x<<5&4294967295|x>>>27),x=j+(C^O&(A^C))+V[14]+3275163606&4294967295,j=A+(x<<9&4294967295|x>>>23),x=O+(A^C&(j^A))+V[3]+4107603335&4294967295,O=j+(x<<14&4294967295|x>>>18),x=C+(j^A&(O^j))+V[8]+1163531501&4294967295,C=O+(x<<20&4294967295|x>>>12),x=A+(O^j&(C^O))+V[13]+2850285829&4294967295,A=C+(x<<5&4294967295|x>>>27),x=j+(C^O&(A^C))+V[2]+4243563512&4294967295,j=A+(x<<9&4294967295|x>>>23),x=O+(A^C&(j^A))+V[7]+1735328473&4294967295,O=j+(x<<14&4294967295|x>>>18),x=C+(j^A&(O^j))+V[12]+2368359562&4294967295,C=O+(x<<20&4294967295|x>>>12),x=A+(C^O^j)+V[5]+4294588738&4294967295,A=C+(x<<4&4294967295|x>>>28),x=j+(A^C^O)+V[8]+2272392833&4294967295,j=A+(x<<11&4294967295|x>>>21),x=O+(j^A^C)+V[11]+1839030562&4294967295,O=j+(x<<16&4294967295|x>>>16),x=C+(O^j^A)+V[14]+4259657740&4294967295,C=O+(x<<23&4294967295|x>>>9),x=A+(C^O^j)+V[1]+2763975236&4294967295,A=C+(x<<4&4294967295|x>>>28),x=j+(A^C^O)+V[4]+1272893353&4294967295,j=A+(x<<11&4294967295|x>>>21),x=O+(j^A^C)+V[7]+4139469664&4294967295,O=j+(x<<16&4294967295|x>>>16),x=C+(O^j^A)+V[10]+3200236656&4294967295,C=O+(x<<23&4294967295|x>>>9),x=A+(C^O^j)+V[13]+681279174&4294967295,A=C+(x<<4&4294967295|x>>>28),x=j+(A^C^O)+V[0]+3936430074&4294967295,j=A+(x<<11&4294967295|x>>>21),x=O+(j^A^C)+V[3]+3572445317&4294967295,O=j+(x<<16&4294967295|x>>>16),x=C+(O^j^A)+V[6]+76029189&4294967295,C=O+(x<<23&4294967295|x>>>9),x=A+(C^O^j)+V[9]+3654602809&4294967295,A=C+(x<<4&4294967295|x>>>28),x=j+(A^C^O)+V[12]+3873151461&4294967295,j=A+(x<<11&4294967295|x>>>21),x=O+(j^A^C)+V[15]+530742520&4294967295,O=j+(x<<16&4294967295|x>>>16),x=C+(O^j^A)+V[2]+3299628645&4294967295,C=O+(x<<23&4294967295|x>>>9),x=A+(O^(C|~j))+V[0]+4096336452&4294967295,A=C+(x<<6&4294967295|x>>>26),x=j+(C^(A|~O))+V[7]+1126891415&4294967295,j=A+(x<<10&4294967295|x>>>22),x=O+(A^(j|~C))+V[14]+2878612391&4294967295,O=j+(x<<15&4294967295|x>>>17),x=C+(j^(O|~A))+V[5]+4237533241&4294967295,C=O+(x<<21&4294967295|x>>>11),x=A+(O^(C|~j))+V[12]+1700485571&4294967295,A=C+(x<<6&4294967295|x>>>26),x=j+(C^(A|~O))+V[3]+2399980690&4294967295,j=A+(x<<10&4294967295|x>>>22),x=O+(A^(j|~C))+V[10]+4293915773&4294967295,O=j+(x<<15&4294967295|x>>>17),x=C+(j^(O|~A))+V[1]+2240044497&4294967295,C=O+(x<<21&4294967295|x>>>11),x=A+(O^(C|~j))+V[8]+1873313359&4294967295,A=C+(x<<6&4294967295|x>>>26),x=j+(C^(A|~O))+V[15]+4264355552&4294967295,j=A+(x<<10&4294967295|x>>>22),x=O+(A^(j|~C))+V[6]+2734768916&4294967295,O=j+(x<<15&4294967295|x>>>17),x=C+(j^(O|~A))+V[13]+1309151649&4294967295,C=O+(x<<21&4294967295|x>>>11),x=A+(O^(C|~j))+V[4]+4149444226&4294967295,A=C+(x<<6&4294967295|x>>>26),x=j+(C^(A|~O))+V[11]+3174756917&4294967295,j=A+(x<<10&4294967295|x>>>22),x=O+(A^(j|~C))+V[2]+718787259&4294967295,O=j+(x<<15&4294967295|x>>>17),x=C+(j^(O|~A))+V[9]+3951481745&4294967295,z.g[0]=z.g[0]+A&4294967295,z.g[1]=z.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,z.g[2]=z.g[2]+O&4294967295,z.g[3]=z.g[3]+j&4294967295}s.prototype.u=function(z,A){A===void 0&&(A=z.length);for(var C=A-this.blockSize,V=this.B,O=this.h,j=0;j<A;){if(O==0)for(;j<=C;)o(this,z,j),j+=this.blockSize;if(typeof z=="string"){for(;j<A;)if(V[O++]=z.charCodeAt(j++),O==this.blockSize){o(this,V),O=0;break}}else for(;j<A;)if(V[O++]=z[j++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=A},s.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var A=1;A<z.length-8;++A)z[A]=0;var C=8*this.o;for(A=z.length-8;A<z.length;++A)z[A]=C&255,C/=256;for(this.u(z),z=Array(16),A=C=0;4>A;++A)for(var V=0;32>V;V+=8)z[C++]=this.g[A]>>>V&255;return z};function f(z,A){var C=p;return Object.prototype.hasOwnProperty.call(C,z)?C[z]:C[z]=A(z)}function d(z,A){this.h=A;for(var C=[],V=!0,O=z.length-1;0<=O;O--){var j=z[O]|0;V&&j==A||(C[O]=j,V=!1)}this.g=C}var p={};function _(z){return-128<=z&&128>z?f(z,function(A){return new d([A|0],0>A?-1:0)}):new d([z|0],0>z?-1:0)}function v(z){if(isNaN(z)||!isFinite(z))return M;if(0>z)return nt(v(-z));for(var A=[],C=1,V=0;z>=C;V++)A[V]=z/C|0,C*=4294967296;return new d(A,0)}function T(z,A){if(z.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(z.charAt(0)=="-")return nt(T(z.substring(1),A));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=v(Math.pow(A,8)),V=M,O=0;O<z.length;O+=8){var j=Math.min(8,z.length-O),x=parseInt(z.substring(O,O+j),A);8>j?(j=v(Math.pow(A,j)),V=V.j(j).add(v(x))):(V=V.j(C),V=V.add(v(x)))}return V}var M=_(0),N=_(1),F=_(16777216);a=d.prototype,a.m=function(){if(ot(this))return-nt(this).m();for(var z=0,A=1,C=0;C<this.g.length;C++){var V=this.i(C);z+=(0<=V?V:4294967296+V)*A,A*=4294967296}return z},a.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(tt(this))return"0";if(ot(this))return"-"+nt(this).toString(z);for(var A=v(Math.pow(z,6)),C=this,V="";;){var O=jt(C,A).g;C=Rt(C,O.j(A));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(z);if(C=O,tt(C))return j+V;for(;6>j.length;)j="0"+j;V=j+V}},a.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function tt(z){if(z.h!=0)return!1;for(var A=0;A<z.g.length;A++)if(z.g[A]!=0)return!1;return!0}function ot(z){return z.h==-1}a.l=function(z){return z=Rt(this,z),ot(z)?-1:tt(z)?0:1};function nt(z){for(var A=z.g.length,C=[],V=0;V<A;V++)C[V]=~z.g[V];return new d(C,~z.h).add(N)}a.abs=function(){return ot(this)?nt(this):this},a.add=function(z){for(var A=Math.max(this.g.length,z.g.length),C=[],V=0,O=0;O<=A;O++){var j=V+(this.i(O)&65535)+(z.i(O)&65535),x=(j>>>16)+(this.i(O)>>>16)+(z.i(O)>>>16);V=x>>>16,j&=65535,x&=65535,C[O]=x<<16|j}return new d(C,C[C.length-1]&-2147483648?-1:0)};function Rt(z,A){return z.add(nt(A))}a.j=function(z){if(tt(this)||tt(z))return M;if(ot(this))return ot(z)?nt(this).j(nt(z)):nt(nt(this).j(z));if(ot(z))return nt(this.j(nt(z)));if(0>this.l(F)&&0>z.l(F))return v(this.m()*z.m());for(var A=this.g.length+z.g.length,C=[],V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(var O=0;O<z.g.length;O++){var j=this.i(V)>>>16,x=this.i(V)&65535,Dt=z.i(O)>>>16,Qt=z.i(O)&65535;C[2*V+2*O]+=x*Qt,_t(C,2*V+2*O),C[2*V+2*O+1]+=j*Qt,_t(C,2*V+2*O+1),C[2*V+2*O+1]+=x*Dt,_t(C,2*V+2*O+1),C[2*V+2*O+2]+=j*Dt,_t(C,2*V+2*O+2)}for(V=0;V<A;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=A;V<2*A;V++)C[V]=0;return new d(C,0)};function _t(z,A){for(;(z[A]&65535)!=z[A];)z[A+1]+=z[A]>>>16,z[A]&=65535,A++}function mt(z,A){this.g=z,this.h=A}function jt(z,A){if(tt(A))throw Error("division by zero");if(tt(z))return new mt(M,M);if(ot(z))return A=jt(nt(z),A),new mt(nt(A.g),nt(A.h));if(ot(A))return A=jt(z,nt(A)),new mt(nt(A.g),A.h);if(30<z.g.length){if(ot(z)||ot(A))throw Error("slowDivide_ only works with positive integers.");for(var C=N,V=A;0>=V.l(z);)C=bt(C),V=bt(V);var O=qt(C,1),j=qt(V,1);for(V=qt(V,2),C=qt(C,2);!tt(V);){var x=j.add(V);0>=x.l(z)&&(O=O.add(C),j=x),V=qt(V,1),C=qt(C,1)}return A=Rt(z,O.j(A)),new mt(O,A)}for(O=M;0<=z.l(A);){for(C=Math.max(1,Math.floor(z.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),j=v(C),x=j.j(A);ot(x)||0<x.l(z);)C-=V,j=v(C),x=j.j(A);tt(j)&&(j=N),O=O.add(j),z=Rt(z,x)}return new mt(O,z)}a.A=function(z){return jt(this,z).h},a.and=function(z){for(var A=Math.max(this.g.length,z.g.length),C=[],V=0;V<A;V++)C[V]=this.i(V)&z.i(V);return new d(C,this.h&z.h)},a.or=function(z){for(var A=Math.max(this.g.length,z.g.length),C=[],V=0;V<A;V++)C[V]=this.i(V)|z.i(V);return new d(C,this.h|z.h)},a.xor=function(z){for(var A=Math.max(this.g.length,z.g.length),C=[],V=0;V<A;V++)C[V]=this.i(V)^z.i(V);return new d(C,this.h^z.h)};function bt(z){for(var A=z.g.length+1,C=[],V=0;V<A;V++)C[V]=z.i(V)<<1|z.i(V-1)>>>31;return new d(C,z.h)}function qt(z,A){var C=A>>5;A%=32;for(var V=z.g.length-C,O=[],j=0;j<V;j++)O[j]=0<A?z.i(j+C)>>>A|z.i(j+C+1)<<32-A:z.i(j+C);return new d(O,z.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,U_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=T,yr=d}).apply(typeof Ry<"u"?Ry:typeof self<"u"?self:typeof window<"u"?window:{});var Mu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var k_,Ll,L_,Pu,Gh,P_,B_,q_;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,g){return u==Array.prototype||u==Object.prototype||(u[m]=g.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mu=="object"&&Mu];for(var m=0;m<u.length;++m){var g=u[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var g=s;u=u.split(".");for(var b=0;b<u.length-1;b++){var k=u[b];if(!(k in g))break t;g=g[k]}u=u[u.length-1],b=g[u],m=m(b),m!=b&&m!=null&&e(g,u,{configurable:!0,writable:!0,value:m})}}function f(u,m){u instanceof String&&(u+="");var g=0,b=!1,k={next:function(){if(!b&&g<u.length){var G=g++;return{value:m(G,u[G]),done:!1}}return b=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(u){return u||function(){return f(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,g){return u.call.apply(u.bind,arguments)}function M(u,m,g){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,b),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function N(u,m,g){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:M,N.apply(null,arguments)}function F(u,m){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function tt(u,m){function g(){}g.prototype=m.prototype,u.aa=m.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(b,k,G){for(var st=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)st[Ut-2]=arguments[Ut];return m.prototype[k].apply(b,st)}}function ot(u){const m=u.length;if(0<m){const g=Array(m);for(let b=0;b<m;b++)g[b]=u[b];return g}return[]}function nt(u,m){for(let g=1;g<arguments.length;g++){const b=arguments[g];if(_(b)){const k=u.length||0,G=b.length||0;u.length=k+G;for(let st=0;st<G;st++)u[k+st]=b[st]}else u.push(b)}}class Rt{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function _t(u){return/^[\s\xa0]*$/.test(u)}function mt(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function jt(u){return jt[" "](u),u}jt[" "]=function(){};var bt=mt().indexOf("Gecko")!=-1&&!(mt().toLowerCase().indexOf("webkit")!=-1&&mt().indexOf("Edge")==-1)&&!(mt().indexOf("Trident")!=-1||mt().indexOf("MSIE")!=-1)&&mt().indexOf("Edge")==-1;function qt(u,m,g){for(const b in u)m.call(g,u[b],b,u)}function z(u,m){for(const g in u)m.call(void 0,u[g],g,u)}function A(u){const m={};for(const g in u)m[g]=u[g];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let g,b;for(let k=1;k<arguments.length;k++){b=arguments[k];for(g in b)u[g]=b[g];for(let G=0;G<C.length;G++)g=C[G],Object.prototype.hasOwnProperty.call(b,g)&&(u[g]=b[g])}}function O(u){var m=1;u=u.split(":");const g=[];for(;0<m&&u.length;)g.push(u.shift()),m--;return u.length&&g.push(u.join(":")),g}function j(u){p.setTimeout(()=>{throw u},0)}function x(){var u=xt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Dt{constructor(){this.h=this.g=null}add(m,g){const b=Qt.get();b.set(m,g),this.h?this.h.next=b:this.g=b,this.h=b}}var Qt=new Rt(()=>new q,u=>u.reset());class q{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,lt=!1,xt=new Dt,D=()=>{const u=p.Promise.resolve(void 0);rt=()=>{u.then($)}};var $=()=>{for(var u;u=x();){try{u.h.call(u.g)}catch(g){j(g)}var m=Qt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}lt=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var it=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch{}return u}();function Ct(u,m){if(et.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(bt){t:{try{jt(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else g=="mouseover"?m=u.fromElement:g=="mouseout"&&(m=u.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:gt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ct.aa.h.call(this)}}tt(Ct,et);var gt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var se="closure_listenable_"+(1e6*Math.random()|0),Ht=0;function R(u,m,g,b,k){this.listener=u,this.proxy=null,this.src=m,this.type=g,this.capture=!!b,this.ha=k,this.key=++Ht,this.da=this.fa=!1}function Z(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,g,b,k){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var st=le(u,m,b,k);return-1<st?(m=u[st],g||(m.fa=!1)):(m=new R(m,this.src,G,!!b,k),m.fa=g,u.push(m)),m};function At(u,m){var g=m.type;if(g in u.g){var b=u.g[g],k=Array.prototype.indexOf.call(b,m,void 0),G;(G=0<=k)&&Array.prototype.splice.call(b,k,1),G&&(Z(m),u.g[g].length==0&&(delete u.g[g],u.h--))}}function le(u,m,g,b){for(var k=0;k<u.length;++k){var G=u[k];if(!G.da&&G.listener==m&&G.capture==!!g&&G.ha==b)return k}return-1}var Mn="closure_lm_"+(1e6*Math.random()|0),Da={};function uo(u,m,g,b,k){if(Array.isArray(m)){for(var G=0;G<m.length;G++)uo(u,m[G],g,b,k);return null}return g=co(g),u&&u[se]?u.K(m,g,v(b)?!!b.capture:!1,k):En(u,m,g,!1,b,k)}function En(u,m,g,b,k,G){if(!m)throw Error("Invalid event type");var st=v(k)?!!k.capture:!!k,Ut=_s(u);if(Ut||(u[Mn]=Ut=new at(u)),g=Ut.add(m,g,b,st,G),g.proxy)return g;if(b=Sc(),g.proxy=b,b.src=u,b.listener=g,u.addEventListener)it||(k=st),k===void 0&&(k=!1),u.addEventListener(m.toString(),b,k);else if(u.attachEvent)u.attachEvent(Cr(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Sc(){function u(g){return m.call(u.src,u.listener,g)}const m=Ac;return u}function Ia(u,m,g,b,k){if(Array.isArray(m))for(var G=0;G<m.length;G++)Ia(u,m[G],g,b,k);else b=v(b)?!!b.capture:!!b,g=co(g),u&&u[se]?(u=u.i,m=String(m).toString(),m in u.g&&(G=u.g[m],g=le(G,g,b,k),-1<g&&(Z(G[g]),Array.prototype.splice.call(G,g,1),G.length==0&&(delete u.g[m],u.h--)))):u&&(u=_s(u))&&(m=u.g[m.toString()],u=-1,m&&(u=le(m,g,b,k)),(g=-1<u?m[u]:null)&&ys(g))}function ys(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[se])At(m.i,u);else{var g=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(g,b,u.capture):m.detachEvent?m.detachEvent(Cr(g),b):m.addListener&&m.removeListener&&m.removeListener(b),(g=_s(m))?(At(g,u),g.h==0&&(g.src=null,m[Mn]=null)):Z(u)}}}function Cr(u){return u in Da?Da[u]:Da[u]="on"+u}function Ac(u,m){if(u.da)u=!0;else{m=new Ct(m,this);var g=u.listener,b=u.ha||u.src;u.fa&&ys(u),u=g.call(b,m)}return u}function _s(u){return u=u[Mn],u instanceof at?u:null}var Va="__closure_events_fn_"+(1e9*Math.random()>>>0);function co(u){return typeof u=="function"?u:(u[Va]||(u[Va]=function(m){return u.handleEvent(m)}),u[Va])}function de(){J.call(this),this.i=new at(this),this.M=this,this.F=null}tt(de,J),de.prototype[se]=!0,de.prototype.removeEventListener=function(u,m,g,b){Ia(this,u,m,g,b)};function Kt(u,m){var g,b=u.F;if(b)for(g=[];b;b=b.F)g.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new et(m,u);else if(m instanceof et)m.target=m.target||u;else{var k=m;m=new et(b,u),V(m,k)}if(k=!0,g)for(var G=g.length-1;0<=G;G--){var st=m.g=g[G];k=cn(st,b,!0,m)&&k}if(st=m.g=u,k=cn(st,b,!0,m)&&k,k=cn(st,b,!1,m)&&k,g)for(G=0;G<g.length;G++)st=m.g=g[G],k=cn(st,b,!1,m)&&k}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var g=u.g[m],b=0;b<g.length;b++)Z(g[b]);delete u.g[m],u.h--}}this.F=null},de.prototype.K=function(u,m,g,b){return this.i.add(String(u),m,!1,g,b)},de.prototype.L=function(u,m,g,b){return this.i.add(String(u),m,!0,g,b)};function cn(u,m,g,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,G=0;G<m.length;++G){var st=m[G];if(st&&!st.da&&st.capture==g){var Ut=st.listener,De=st.ha||st.src;st.fa&&At(u.i,st),k=Ut.call(De,b)!==!1&&k}}return k&&!b.defaultPrevented}function Xe(u,m,g){if(typeof u=="function")g&&(u=N(u,g));else if(u&&typeof u.handleEvent=="function")u=N(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function fo(u){u.g=Xe(()=>{u.g=null,u.i&&(u.i=!1,fo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Rc extends J{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:fo(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(u){J.call(this),this.h=u,this.g={}}tt(Dr,J);var Ir=[];function Vr(u){qt(u.g,function(m,g){this.g.hasOwnProperty(g)&&ys(m)},u),u.g={}}Dr.prototype.N=function(){Dr.aa.N.call(this),Vr(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=p.JSON.stringify,vs=p.JSON.parse,Nr=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function Na(){}Na.prototype.h=null;function Oa(u){return u.h||(u.h=u.i())}function Ma(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function di(){et.call(this,"d")}tt(di,et);function za(){et.call(this,"c")}tt(za,et);var Hn={},ja=null;function Pi(){return ja=ja||new de}Hn.La="serverreachability";function Es(u){et.call(this,Hn.La,u)}tt(Es,et);function Bi(u){const m=Pi();Kt(m,new Es(m))}Hn.STAT_EVENT="statevent";function ho(u,m){et.call(this,Hn.STAT_EVENT,u),this.stat=m}tt(ho,et);function oe(u){const m=Pi();Kt(m,new ho(m,u))}Hn.Ma="timingevent";function Ce(u,m){et.call(this,Hn.Ma,u),this.size=m}tt(Ce,et);function Ee(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function bn(){this.g=!0}bn.prototype.xa=function(){this.g=!1};function Ua(u,m,g,b,k,G){u.info(function(){if(u.g)if(G)for(var st="",Ut=G.split("&"),De=0;De<Ut.length;De++){var kt=Ut[De].split("=");if(1<kt.length){var ze=kt[0];kt=kt[1];var Ie=ze.split("_");st=2<=Ie.length&&Ie[1]=="type"?st+(ze+"="+kt+"&"):st+(ze+"=redacted&")}}else st=null;else st=G;return"XMLHTTP REQ ("+b+") [attempt "+k+"]: "+m+`
`+g+`
`+st})}function wc(u,m,g,b,k,G,st){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+k+"]: "+m+`
`+g+`
`+G+" "+st})}function qi(u,m,g,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Or(u,g)+(b?" "+b:"")})}function mo(u,m){u.info(function(){return"TIMEOUT: "+m})}bn.prototype.info=function(){};function Or(u,m){if(!u.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var b=g[u];if(!(2>b.length)){var k=b[1];if(Array.isArray(k)&&!(1>k.length)){var G=k[0];if(G!="noop"&&G!="stop"&&G!="close")for(var st=1;st<k.length;st++)k[st]=""}}}}return zn(g)}catch{return m}}var Hi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gn;function Qn(){}tt(Qn,Na),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},Gn=new Qn;function tn(u,m,g,b){this.j=u,this.i=m,this.l=g,this.R=b||1,this.U=new Dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var ka={},bs={};function jn(u,m,g){u.L=1,u.v=kr(fn(m)),u.m=g,u.P=!0,gi(u,null)}function gi(u,m){u.F=Date.now(),Mr(u),u.A=fn(u.v);var g=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),Ga(g.i,"t",b),u.C=0,g=u.j.J,u.h=new pe,u.g=Io(u.j,g?m:null,!u.m),0<u.O&&(u.M=new Rc(N(u.Y,u,u.g),u.O)),m=u.U,g=u.g,b=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Ir[0]=k.toString()),k=Ir);for(var G=0;G<k.length;G++){var st=uo(g,k[G],b||m.handleEvent,!1,m.h||m);if(!st)break;m.g[st.key]=st}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Bi(),Ua(u.i,u.u,u.A,u.l,u.R,u.m)}tn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Rn(u)==3?m.j():this.Y(u)},tn.prototype.Y=function(u){try{if(u==this.g)t:{const Ie=Rn(this.g);var m=this.g.Ba();const Si=this.g.Z();if(!(3>Ie)&&(Ie!=3||this.g&&(this.h.h||this.g.oa()||To(this.g)))){this.J||Ie!=4||m==7||(m==8||0>=Si?Bi(3):Bi(2)),Gi(this);var g=this.g.Z();this.X=g;e:if(go(this)){var b=To(this.g);u="";var k=b.length,G=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),Fn(this);var st="";break e}this.h.i=new p.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(b[m],{stream:!(G&&m==k-1)});b.length=0,this.h.g+=u,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=g==200,wc(this.i,this.u,this.A,this.l,this.R,Ie,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,De=this.g;if((Ut=De.g?De.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_t(Ut)){var kt=Ut;break e}}kt=null}if(g=kt)qi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zr(this,g);else{this.o=!1,this.s=3,oe(12),Pe(this),Fn(this);break t}}if(this.P){g=!0;let Be;for(;!this.J&&this.C<st.length;)if(Be=po(this,st),Be==bs){Ie==4&&(this.s=4,oe(14),g=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Be==ka){this.s=4,oe(15),qi(this.i,this.l,st,"[Invalid Chunk]"),g=!1;break}else qi(this.i,this.l,Be,null),zr(this,Be);if(go(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||st.length!=0||this.h.h||(this.s=1,oe(16),g=!1),this.o=this.o&&g,!g)qi(this.i,this.l,st,"[Invalid Chunked Response]"),Pe(this),Fn(this);else if(0<st.length&&!this.W){this.W=!0;var ze=this.j;ze.g==this&&ze.ba&&!ze.M&&(ze.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),Fr(ze),ze.M=!0,oe(11))}}else qi(this.i,this.l,st,null),zr(this,st);Ie==4&&Pe(this),this.o&&!this.J&&(Ie==4?xo(this.j,this):(this.o=!1,Mr(this)))}else Vc(this.g),g==400&&0<st.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),Pe(this),Fn(this)}}}catch{}finally{}};function go(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function po(u,m){var g=u.C,b=m.indexOf(`
`,g);return b==-1?bs:(g=Number(m.substring(g,b)),isNaN(g)?ka:(b+=1,b+g>m.length?bs:(m=m.slice(b,b+g),u.C=b+g,m)))}tn.prototype.cancel=function(){this.J=!0,Pe(this)};function Mr(u){u.S=Date.now()+u.I,yo(u,u.I)}function yo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ee(N(u.ba,u),m)}function Gi(u){u.B&&(p.clearTimeout(u.B),u.B=null)}tn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(mo(this.i,this.A),this.L!=2&&(Bi(),oe(17)),Pe(this),this.s=2,Fn(this)):yo(this,this.S-u)};function Fn(u){u.j.G==0||u.J||xo(u.j,u)}function Pe(u){Gi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Vr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function zr(u,m){try{var g=u.j;if(g.G!=0&&(g.g==u||La(g.h,u))){if(!u.K&&La(g.h,u)&&g.G==3){try{var b=g.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var k=b;if(k[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Os(g),Vs(g);else break t;Ka(g),oe(18)}}else g.za=k[1],0<g.za-g.T&&37500>k[2]&&g.F&&g.v==0&&!g.C&&(g.C=Ee(N(g.Za,g),6e3));if(1>=Ss(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ti(g,11)}else if((u.K||g.g==u)&&Os(g),!_t(m))for(k=g.Da.g.parse(m),m=0;m<k.length;m++){let kt=k[m];if(g.T=kt[0],kt=kt[1],g.G==2)if(kt[0]=="c"){g.K=kt[1],g.ia=kt[2];const ze=kt[3];ze!=null&&(g.la=ze,g.j.info("VER="+g.la));const Ie=kt[4];Ie!=null&&(g.Aa=Ie,g.j.info("SVER="+g.Aa));const Si=kt[5];Si!=null&&typeof Si=="number"&&0<Si&&(b=1.5*Si,g.L=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;const Be=u.g;if(Be){const Jn=Be.g?Be.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var G=b.h;G.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(As(G,G.h),G.h=null))}if(b.D){const Za=Be.g?Be.g.getResponseHeader("X-HTTP-Session-Id"):null;Za&&(b.ya=Za,$t(b.I,b.D,Za))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),b=g;var st=u;if(b.qa=Do(b,b.J?b.ia:null,b.W),st.K){en(b.h,st);var Ut=st,De=b.L;De&&(Ut.I=De),Ut.B&&(Gi(Ut),Mr(Ut)),b.g=st}else Ro(b);0<g.i.length&&Ns(g)}else kt[0]!="stop"&&kt[0]!="close"||Ti(g,7);else g.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Ti(g,7):Ya(g):kt[0]!="noop"&&g.l&&g.l.ta(kt),g.v=0)}}Bi(4)}catch{}}var _o=class{constructor(u,m){this.g=u,this.map=m}};function pi(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ts(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ss(u){return u.h?1:u.g?u.g.size:0}function La(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function As(u,m){u.g?u.g.add(m):u.h=m}function en(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}pi.prototype.cancel=function(){if(this.i=Pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Pa(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const g of u.g.values())m=m.concat(g.D);return m}return ot(u.i)}function xc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],g=u.length,b=0;b<g;b++)m.push(u[b]);return m}m=[],g=0;for(b in u)m[g++]=u[b];return m}function Rs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var g=0;g<u;g++)m.push(g);return m}m=[],g=0;for(const b in u)m[g++]=b;return m}}}function Ba(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var g=Rs(u),b=xc(u),k=b.length,G=0;G<k;G++)m.call(void 0,b[G],g&&g[G],u)}var jr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cc(u,m){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var b=u[g].indexOf("="),k=null;if(0<=b){var G=u[g].substring(0,b);k=u[g].substring(b+1)}else G=u[g];m(G,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function be(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof be){this.h=u.h,Ur(this,u.j),this.o=u.o,this.g=u.g,Qi(this,u.s),this.l=u.l;var m=u.i,g=new _i;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),yi(this,g),this.m=u.m}else u&&(m=String(u).match(jr))?(this.h=!1,Ur(this,m[1]||"",!0),this.o=Tn(m[2]||""),this.g=Tn(m[3]||"",!0),Qi(this,m[4]),this.l=Tn(m[5]||"",!0),yi(this,m[6]||"",!0),this.m=Tn(m[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}be.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Lr(m,qa,!0),":");var g=this.g;return(g||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Lr(m,qa,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Lr(g,g.charAt(0)=="/"?Dc:Ha,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Lr(g,ws)),u.join("")};function fn(u){return new be(u)}function Ur(u,m,g){u.j=g?Tn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Qi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function yi(u,m,g){m instanceof _i?(u.i=m,Eo(u.i,u.h)):(g||(m=Lr(m,Ic)),u.i=new _i(m,u.h))}function $t(u,m,g){u.i.set(m,g)}function kr(u){return $t(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Tn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Lr(u,m,g){return typeof u=="string"?(u=encodeURI(u).replace(m,vo),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function vo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qa=/[#\/\?@]/g,Ha=/[#\?:]/g,Dc=/[#\?]/g,Ic=/[#\?@]/g,ws=/#/g;function _i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Cc(u.i,function(m,g){u.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}a=_i.prototype,a.add=function(u,m){Sn(this),this.i=null,u=Yn(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(m),this.h+=1,this};function vi(u,m){Sn(u),m=Yn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ei(u,m){return Sn(u),m=Yn(u,m),u.g.has(m)}a.forEach=function(u,m){Sn(this),this.g.forEach(function(g,b){g.forEach(function(k){u.call(m,k,b,this)},this)},this)},a.na=function(){Sn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let b=0;b<m.length;b++){const k=u[b];for(let G=0;G<k.length;G++)g.push(m[b])}return g},a.V=function(u){Sn(this);let m=[];if(typeof u=="string")Ei(this,u)&&(m=m.concat(this.g.get(Yn(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)m=m.concat(u[g])}return m},a.set=function(u,m){return Sn(this),this.i=null,u=Yn(this,u),Ei(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ga(u,m,g){vi(u,m),0<g.length&&(u.i=null,u.g.set(Yn(u,m),ot(g)),u.h+=g.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var b=m[g];const G=encodeURIComponent(String(b)),st=this.V(b);for(b=0;b<st.length;b++){var k=G;st[b]!==""&&(k+="="+encodeURIComponent(String(st[b]))),u.push(k)}}return this.i=u.join("&")};function Yn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Eo(u,m){m&&!u.j&&(Sn(u),u.i=null,u.g.forEach(function(g,b){var k=b.toLowerCase();b!=k&&(vi(this,b),Ga(this,k,g))},u)),u.j=m}function Pr(u,m){const g=new bn;if(p.Image){const b=new Image;b.onload=F(An,g,"TestLoadImage: loaded",!0,m,b),b.onerror=F(An,g,"TestLoadImage: error",!1,m,b),b.onabort=F(An,g,"TestLoadImage: abort",!1,m,b),b.ontimeout=F(An,g,"TestLoadImage: timeout",!1,m,b),p.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Un(u,m){const g=new bn,b=new AbortController,k=setTimeout(()=>{b.abort(),An(g,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(G=>{clearTimeout(k),G.ok?An(g,"TestPingServer: ok",!0,m):An(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),An(g,"TestPingServer: error",!1,m)})}function An(u,m,g,b,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),b(g)}catch{}}function Br(){this.g=new Nr}function Xn(u,m,g){const b=g||"";try{Ba(u,function(k,G){let st=k;v(k)&&(st=zn(k)),m.push(b+G+"="+encodeURIComponent(st))})}catch(k){throw m.push(b+"type="+encodeURIComponent("_badmap")),k}}function Fi(u){this.l=u.Ub||null,this.j=u.eb||!1}tt(Fi,Na),Fi.prototype.g=function(){return new bi(this.l,this.j)},Fi.prototype.i=function(u){return function(){return u}}({});function bi(u,m){de.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}tt(bi,de),a=bi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Wn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qa(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qa(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Kn(this):Wn(this),this.readyState==3&&Qa(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Kn(this))},a.Qa=function(u){this.g&&(this.response=u,Kn(this))},a.ga=function(){this.g&&Kn(this)};function Kn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Wn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=m.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Fa(u){let m="";return qt(u,function(g,b){m+=b,m+=":",m+=g,m+=`\r
`}),m}function Me(u,m,g){t:{for(b in g){var b=!1;break t}b=!0}b||(g=Fa(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):$t(u,m,g))}function Yt(u){de.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}tt(Yt,de);var xs=/^https?$/i,qr=["POST","PUT"];a=Yt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gn.g(),this.v=this.o?Oa(this.o):Oa(Gn),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){bo(this,G);return}if(u=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var k in b)g.set(k,b[k]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())g.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(G=>G.toLowerCase()=="content-type"),k=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(qr,m,void 0))||b||k||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,st]of g)this.g.setRequestHeader(G,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hr(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){bo(this,G)}};function bo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Cs(u),Zn(u)}function Cs(u){u.A||(u.A=!0,Kt(u,"complete"),Kt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Kt(this,"complete"),Kt(this,"abort"),Zn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),Yt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Ds(this):this.bb())},a.bb=function(){Ds(this)};function Ds(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Rn(u)!=4||u.Z()!=2)){if(u.u&&Rn(u)==4)Xe(u.Ea,0,u);else if(Kt(u,"readystatechange"),Rn(u)==4){u.h=!1;try{const st=u.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var b;if(b=st===0){var k=String(u.D).match(jr)[1]||null;!k&&p.self&&p.self.location&&(k=p.self.location.protocol.slice(0,-1)),b=!xs.test(k?k.toLowerCase():"")}g=b}if(g)Kt(u,"complete"),Kt(u,"success");else{u.m=6;try{var G=2<Rn(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",Cs(u)}}finally{Zn(u)}}}}function Zn(u,m){if(u.g){Hr(u);const g=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Kt(u,"ready");try{g.onreadystatechange=b}catch{}}}function Hr(u){u.I&&(p.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function Rn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),vs(m)}};function To(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vc(u){const m={};u=(u.g&&2<=Rn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(_t(u[b]))continue;var g=O(u[b]);const k=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const G=m[k]||[];m[k]=G,G.push(g)}z(m,function(b){return b.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(u,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||m}function Is(u){this.Aa=0,this.i=[],this.j=new bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gr("baseRetryDelayMs",5e3,u),this.cb=Gr("retryDelaySeedMs",1e4,u),this.Wa=Gr("forwardChannelMaxRetries",2,u),this.wa=Gr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new pi(u&&u.concurrentRequestLimit),this.Da=new Br,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Is.prototype,a.la=8,a.G=1,a.connect=function(u,m,g,b){oe(0),this.W=u,this.H=m||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.I=Do(this,null,this.W),Ns(this)};function Ya(u){if(So(u),u.G==3){var m=u.U++,g=fn(u.I);if($t(g,"SID",u.K),$t(g,"RID",m),$t(g,"TYPE","terminate"),Qr(u,g),m=new tn(u,u.j,m),m.L=2,m.v=kr(fn(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=Io(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Mr(m)}Co(u)}function Vs(u){u.g&&(Fr(u),u.g.cancel(),u.g=null)}function So(u){Vs(u),u.u&&(p.clearTimeout(u.u),u.u=null),Os(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function Ns(u){if(!Ts(u.h)&&!u.s){u.s=!0;var m=u.Ga;rt||D(),lt||(rt(),lt=!0),xt.add(m,u),u.B=0}}function Nc(u,m){return Ss(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ee(N(u.Ga,u,m),Wa(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new tn(this,this.j,u);let G=this.o;if(this.S&&(G?(G=A(G),V(G,this.S)):G=this.S),this.m!==null||this.O||(k.H=G,G=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=Ao(this,k,m),g=fn(this.I),$t(g,"RID",u),$t(g,"CVER",22),this.D&&$t(g,"X-HTTP-Session-Id",this.D),Qr(this,g),G&&(this.O?m="headers="+encodeURIComponent(String(Fa(G)))+"&"+m:this.m&&Me(g,this.m,G)),As(this.h,k),this.Ua&&$t(g,"TYPE","init"),this.P?($t(g,"$req",m),$t(g,"SID","null"),k.T=!0,jn(k,g,null)):jn(k,g,m),this.G=2}}else this.G==3&&(u?Xa(this,u):this.i.length==0||Ts(this.h)||Xa(this))};function Xa(u,m){var g;m?g=m.l:g=u.U++;const b=fn(u.I);$t(b,"SID",u.K),$t(b,"RID",g),$t(b,"AID",u.T),Qr(u,b),u.m&&u.o&&Me(b,u.m,u.o),g=new tn(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ao(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),As(u.h,g),jn(g,b,m)}function Qr(u,m){u.H&&qt(u.H,function(g,b){$t(m,b,g)}),u.l&&Ba({},function(g,b){$t(m,b,g)})}function Ao(u,m,g){g=Math.min(u.i.length,g);var b=u.l?N(u.l.Na,u.l,u):null;t:{var k=u.i;let G=-1;for(;;){const st=["count="+g];G==-1?0<g?(G=k[0].g,st.push("ofs="+G)):G=0:st.push("ofs="+G);let Ut=!0;for(let De=0;De<g;De++){let kt=k[De].g;const ze=k[De].map;if(kt-=G,0>kt)G=Math.max(0,k[De].g-100),Ut=!1;else try{Xn(ze,st,"req"+kt+"_")}catch{b&&b(ze)}}if(Ut){b=st.join("&");break t}}}return u=u.i.splice(0,g),m.D=u,b}function Ro(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;rt||D(),lt||(rt(),lt=!0),xt.add(m,u),u.v=0}}function Ka(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ee(N(u.Fa,u),Wa(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,wo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ee(N(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),Vs(this),wo(this))};function Fr(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function wo(u){u.g=new tn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=fn(u.qa);$t(m,"RID","rpc"),$t(m,"SID",u.K),$t(m,"AID",u.T),$t(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&$t(m,"TO",u.ja),$t(m,"TYPE","xmlhttp"),Qr(u,m),u.m&&u.o&&Me(m,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=kr(fn(m)),g.m=null,g.P=!0,gi(g,u)}a.Za=function(){this.C!=null&&(this.C=null,Vs(this),Ka(this),oe(19))};function Os(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function xo(u,m){var g=null;if(u.g==m){Os(u),Fr(u),u.g=null;var b=2}else if(La(u.h,m))g=m.D,en(u.h,m),b=1;else return;if(u.G!=0){if(m.o)if(b==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;b=Pi(),Kt(b,new Ce(b,g)),Ns(u)}else Ro(u);else if(k=m.s,k==3||k==0&&0<m.X||!(b==1&&Nc(u,m)||b==2&&Ka(u)))switch(g&&0<g.length&&(m=u.h,m.i=m.i.concat(g)),k){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function Wa(u,m){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var g=N(u.fb,u),b=u.Xa;const k=!b;b=new be(b||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ur(b,"https"),kr(b),k?Pr(b.toString(),g):Un(b.toString(),g)}else oe(2);u.G=0,u.l&&u.l.sa(m),Co(u),So(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function Co(u){if(u.G=0,u.ka=[],u.l){const m=Pa(u.h);(m.length!=0||u.i.length!=0)&&(nt(u.ka,m),nt(u.ka,u.i),u.h.i.length=0,ot(u.i),u.i.length=0),u.l.ra()}}function Do(u,m,g){var b=g instanceof be?fn(g):new be(g);if(b.g!="")m&&(b.g=m+"."+b.g),Qi(b,b.s);else{var k=p.location;b=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var G=new be(null);b&&Ur(G,b),m&&(G.g=m),k&&Qi(G,k),g&&(G.l=g),b=G}return g=u.D,m=u.ya,g&&m&&$t(b,g,m),$t(b,"VER",u.la),Qr(u,b),b}function Io(u,m,g){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Yt(new Fi({eb:g})):new Yt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vo(){}a=Vo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ms(){}Ms.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){de.call(this),this.g=new Is(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!_t(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!_t(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $n(this)}tt(nn,de),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Ya(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=zn(u),u=g);m.i.push(new _o(m.Ya++,u)),m.G==3&&Ns(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Ya(this.g),delete this.g,nn.aa.N.call(this)};function No(u){di.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const g in m){u=g;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}tt(No,di);function Oo(){za.call(this),this.status=1}tt(Oo,za);function $n(u){this.g=u}tt($n,Vo),$n.prototype.ua=function(){Kt(this.g,"a")},$n.prototype.ta=function(u){Kt(this.g,new No(u))},$n.prototype.sa=function(u){Kt(this.g,new Oo)},$n.prototype.ra=function(){Kt(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,q_=function(){return new Ms},B_=function(){return Pi()},P_=Hn,Gh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hi.NO_ERROR=0,Hi.TIMEOUT=8,Hi.HTTP_ERROR=6,Pu=Hi,mi.COMPLETE="complete",L_=mi,Ma.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",de.prototype.listen=de.prototype.K,Ll=Ma,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,k_=Yt}).apply(typeof Mu<"u"?Mu:typeof self<"u"?self:typeof window<"u"?window:{});const wy="@firebase/firestore",xy="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new V_("@firebase/firestore");function ua(){return ds.logLevel}function ut(a,...e){if(ds.logLevel<=Bt.DEBUG){const i=e.map(dd);ds.debug(`Firestore (${Aa}): ${a}`,...i)}}function ki(a,...e){if(ds.logLevel<=Bt.ERROR){const i=e.map(dd);ds.error(`Firestore (${Aa}): ${a}`,...i)}}function pa(a,...e){if(ds.logLevel<=Bt.WARN){const i=e.map(dd);ds.warn(`Firestore (${Aa}): ${a}`,...i)}}function dd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,H_(a,s,i)}function H_(a,e,i){let s=`FIRESTORE (${Aa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw ki(s),new Error(s)}function Xt(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||H_(e,o,s)}function St(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Sa{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i($e.UNAUTHENTICATED))}shutdown(){}}class Nb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Ob{constructor(e){this.t=e,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Xt(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let f=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new fs,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=f;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},p=_=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new fs)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xt(typeof s.accessToken=="string",31837,{l:s}),new G_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xt(e===null||typeof e=="string",2055,{h:e}),new $e(e)}}class Mb{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zb{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new Mb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i($e.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Xt(this.o===void 0,3512);const s=f=>{f.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>s(f))};const o=f=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(f=>o(f)),setTimeout(()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?o(f):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Cy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Cy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Ub(40);for(let f=0;f<o.length;++f)s.length<20&&o[f]<i&&(s+=e.charAt(o[f]%62))}return s}}function Mt(a,e){return a<e?-1:a>e?1:0}function Qh(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const o=a.charAt(s),f=e.charAt(s);if(o!==f)return Mh(o)===Mh(f)?Mt(o,f):Mh(o)?1:-1}return Mt(a.length,e.length)}const kb=55296,Lb=57343;function Mh(a){const e=a.charCodeAt(0);return e>=kb&&e<=Lb}function ya(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="__name__";class si{constructor(e,i,s){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&vt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return si.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const f=si.compareSegments(e.get(o),i.get(o));if(f!==0)return f}return Mt(e.length,i.length)}static compareSegments(e,i){const s=si.isNumericId(e),o=si.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?si.extractNumericId(e).compare(si.extractNumericId(i)):Qh(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yr.fromString(e.substring(4,e.length-2))}}class re extends si{construct(e,i,s){return new re(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ct(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new re(i)}static emptyPath(){return new re([])}}const Pb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends si{construct(e,i,s){return new Fe(e,i,s)}static isValidIdentifier(e){return Pb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dy}static keyField(){return new Fe([Dy])}static fromServerFormat(e){const i=[];let s="",o=0;const f=()=>{if(s.length===0)throw new ct(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ct(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(f(),o++)}if(f(),d)throw new ct(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fe(i)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(re.fromString(e))}static fromName(e){return new dt(re.fromString(e).popFirst(5))}static empty(){return new dt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return re.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new re(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(a,e,i){if(!i)throw new ct(K.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Bb(a,e,i,s){if(e===!0&&s===!0)throw new ct(K.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Iy(a){if(!dt.isDocumentKey(a))throw new ct(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Vy(a){if(dt.isDocumentKey(a))throw new ct(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function F_(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function oc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":vt(12329,{type:typeof a})}function _r(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ct(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=oc(a);throw new ct(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(a,e){const i={typeString:a};return e&&(i.value=e),i}function no(a,e){if(!F_(a))throw new ct(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,f="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(f!==void 0&&d!==f.value){i=`Expected '${s}' field to equal '${f.value}'`;break}}if(i)throw new ct(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=-62135596800,Oy=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(e){return ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Oy);return new ae(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ct(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ny)throw new ct(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Oy}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(no(e,ae._jsonSchema))return new ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ny;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:we("string",ae._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new ae(0,0))}static max(){return new Tt(new ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function qb(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new ae(i+1,0):new ae(i,s));return new Er(o,dt.empty(),e)}function Hb(a){return new Er(a.readTime,a.key,Wl)}class Er{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Er(Tt.min(),dt.empty(),Wl)}static max(){return new Er(Tt.max(),dt.empty(),Wl)}}function Gb(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=dt.comparator(a.documentKey,e.documentKey),i!==0?i:Mt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(a){if(a.code!==K.FAILED_PRECONDITION||a.message!==Qb)throw a;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,o)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):W.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):W.reject(i)}static resolve(e){return new W((i,s)=>{i(e)})}static reject(e){return new W((i,s)=>{s(e)})}static waitFor(e){return new W((i,s)=>{let o=0,f=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++f,d&&f===o&&i()},_=>s(_))}),d=!0,f===o&&i()})}static or(e){let i=W.resolve(!1);for(const s of e)i=i.next(o=>o?W.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,f)=>{s.push(i.call(this,o,f))}),this.waitFor(s)}static mapArray(e,i){return new W((s,o)=>{const f=e.length,d=new Array(f);let p=0;for(let _=0;_<f;_++){const v=_;i(e[v]).next(T=>{d[v]=T,++p,p===f&&s(d)},T=>o(T))}})}static doWhile(e,i){return new W((s,o)=>{const f=()=>{e()===!0?i().next(()=>{f()},o):s()};f()})}}function Yb(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wa(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=-1;function cc(a){return a==null}function Wu(a){return a===0&&1/a==-1/0}function Xb(a){return typeof a=="number"&&Number.isInteger(a)&&!Wu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="";function Kb(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=My(e)),e=Wb(a.get(i),e);return My(e)}function Wb(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const f=a.charAt(o);switch(f){case"\0":i+="";break;case Y_:i+="";break;default:i+=f}}return i}function My(a){return a+Y_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function wr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function X_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e,i){this.comparator=e,this.root=i||Qe.EMPTY}insert(e,i){return new he(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(e){return new he(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zu(this.root,e,this.comparator,!0)}}class zu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?s(e.key,i):1,i&&o&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qe{constructor(e,i,s,o,f){this.key=e,this.value=i,this.color=s??Qe.RED,this.left=o??Qe.EMPTY,this.right=f??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,f){return new Qe(e??this.key,i??this.value,s??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const f=s(e,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(e,i,s),null):f===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,s,o,f){return this}insert(e,i,s){return new Qe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.comparator=e,this.data=new he(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new jy(this.data.getIterator())}getIteratorFrom(e){return new jy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Oe(this.comparator);return i.data=e,i}}class jy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Fe.comparator)}static empty(){return new vn([])}unionWith(e){let i=new Oe(Fe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new vn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ya(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new K_("Invalid base64 string: "+f):f}}(e);return new Ye(i)}static fromUint8Array(e){const i=function(o){let f="";for(let d=0;d<o.length;++d)f+=String.fromCharCode(o[d]);return f}(e);return new Ye(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const Zb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(a){if(Xt(!!a,39018),typeof a=="string"){let e=0;const i=Zb.exec(a);if(Xt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ve(a.seconds),nanos:ve(a.nanos)}}function ve(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Tr(a){return typeof a=="string"?Ye.fromBase64String(a):Ye.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="server_timestamp",Z_="__type__",$_="__previous_value__",J_="__local_write_time__";function pd(a){return(a?.mapValue?.fields||{})[Z_]?.stringValue===W_}function fc(a){const e=a.mapValue.fields[$_];return pd(e)?fc(e):e}function Zl(a){const e=br(a.mapValue.fields[J_].timestampValue);return new ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,i,s,o,f,d,p,_,v,T){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=T}}const Zu="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||Zu}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===Zu}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="__type__",Jb="__max__",ju={mapValue:{}},ev="__vector__",$u="value";function Sr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?pd(a)?4:eT(a)?9007199254740991:tT(a)?10:11:vt(28295,{value:a})}function fi(a,e){if(a===e)return!0;const i=Sr(a);if(i!==Sr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Zl(a).isEqual(Zl(e));case 3:return function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const d=br(o.timestampValue),p=br(f.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,f){return Tr(o.bytesValue).isEqual(Tr(f.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,f){return ve(o.geoPointValue.latitude)===ve(f.geoPointValue.latitude)&&ve(o.geoPointValue.longitude)===ve(f.geoPointValue.longitude)}(a,e);case 2:return function(o,f){if("integerValue"in o&&"integerValue"in f)return ve(o.integerValue)===ve(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const d=ve(o.doubleValue),p=ve(f.doubleValue);return d===p?Wu(d)===Wu(p):isNaN(d)&&isNaN(p)}return!1}(a,e);case 9:return ya(a.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:case 11:return function(o,f){const d=o.mapValue.fields||{},p=f.mapValue.fields||{};if(zy(d)!==zy(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!fi(d[_],p[_])))return!1;return!0}(a,e);default:return vt(52216,{left:a})}}function Jl(a,e){return(a.values||[]).find(i=>fi(i,e))!==void 0}function _a(a,e){if(a===e)return 0;const i=Sr(a),s=Sr(e);if(i!==s)return Mt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(a.booleanValue,e.booleanValue);case 2:return function(f,d){const p=ve(f.integerValue||f.doubleValue),_=ve(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1}(a,e);case 3:return Uy(a.timestampValue,e.timestampValue);case 4:return Uy(Zl(a),Zl(e));case 5:return Qh(a.stringValue,e.stringValue);case 6:return function(f,d){const p=Tr(f),_=Tr(d);return p.compareTo(_)}(a.bytesValue,e.bytesValue);case 7:return function(f,d){const p=f.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const T=Mt(p[v],_[v]);if(T!==0)return T}return Mt(p.length,_.length)}(a.referenceValue,e.referenceValue);case 8:return function(f,d){const p=Mt(ve(f.latitude),ve(d.latitude));return p!==0?p:Mt(ve(f.longitude),ve(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return ky(a.arrayValue,e.arrayValue);case 10:return function(f,d){const p=f.fields||{},_=d.fields||{},v=p[$u]?.arrayValue,T=_[$u]?.arrayValue,M=Mt(v?.values?.length||0,T?.values?.length||0);return M!==0?M:ky(v,T)}(a.mapValue,e.mapValue);case 11:return function(f,d){if(f===ju.mapValue&&d===ju.mapValue)return 0;if(f===ju.mapValue)return 1;if(d===ju.mapValue)return-1;const p=f.fields||{},_=Object.keys(p),v=d.fields||{},T=Object.keys(v);_.sort(),T.sort();for(let M=0;M<_.length&&M<T.length;++M){const N=Qh(_[M],T[M]);if(N!==0)return N;const F=_a(p[_[M]],v[T[M]]);if(F!==0)return F}return Mt(_.length,T.length)}(a.mapValue,e.mapValue);default:throw vt(23264,{he:i})}}function Uy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Mt(a,e);const i=br(a),s=br(e),o=Mt(i.seconds,s.seconds);return o!==0?o:Mt(i.nanos,s.nanos)}function ky(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const f=_a(i[o],s[o]);if(f)return f}return Mt(i.length,s.length)}function va(a){return Fh(a)}function Fh(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=br(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Tr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return dt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const f of i.values||[])o?o=!1:s+=",",s+=Fh(f);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",f=!0;for(const d of s)f?f=!1:o+=",",o+=`${d}:${Fh(i.fields[d])}`;return o+"}"}(a.mapValue):vt(61005,{value:a})}function Bu(a){switch(Sr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fc(a);return e?16+Bu(e):16;case 5:return 2*a.stringValue.length;case 6:return Tr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,f)=>o+Bu(f),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return wr(s.fields,(f,d)=>{o+=f.length+Bu(d)}),o}(a.mapValue);default:throw vt(13486,{value:a})}}function Ly(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Yh(a){return!!a&&"integerValue"in a}function yd(a){return!!a&&"arrayValue"in a}function Py(a){return!!a&&"nullValue"in a}function By(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function qu(a){return!!a&&"mapValue"in a}function tT(a){return(a?.mapValue?.fields||{})[tv]?.stringValue===ev}function Gl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return wr(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Gl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gl(a.arrayValue.values[i]);return e}return{...a}}function eT(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Jb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!qu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(i)}setAll(e){let i=Fe.emptyPath(),s={},o=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=p.popLast()}d?s[p.lastSegment()]=Gl(d):o.push(p.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,s,o)}delete(e){const i=this.field(e.popLast());qu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];qu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){wr(i,(o,f)=>e[o]=f);for(const o of s)delete e[o]}clone(){return new un(Gl(this.value))}}function nv(a){const e=[];return wr(a.fields,(i,s)=>{const o=new Fe([i]);if(qu(s)){const f=nv(s.mapValue).fields;if(f.length===0)e.push(o);else for(const d of f)e.push(o.child(d))}else e.push(o)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,i,s,o,f,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=f,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Je(e,0,Tt.min(),Tt.min(),Tt.min(),un.empty(),0)}static newFoundDocument(e,i,s,o){return new Je(e,1,i,Tt.min(),s,o,0)}static newNoDocument(e,i){return new Je(e,2,i,Tt.min(),Tt.min(),un.empty(),0)}static newUnknownDocument(e,i){return new Je(e,3,i,Tt.min(),Tt.min(),un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,i){this.position=e,this.inclusive=i}}function qy(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const f=e[o],d=a.position[o];if(f.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),i.key):s=_a(d,i.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function Hy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!fi(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i="asc"){this.field=e,this.dir=i}}function nT(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{}class Re extends iv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new rT(e,i,s):i==="array-contains"?new lT(e,s):i==="in"?new oT(e,s):i==="not-in"?new uT(e,s):i==="array-contains-any"?new cT(e,s):new Re(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new sT(e,s):new aT(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(_a(i,this.value)):i!==null&&Sr(this.value)===Sr(i)&&this.matchesComparison(_a(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends iv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new qn(e,i)}matches(e){return rv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rv(a){return a.op==="and"}function sv(a){return iT(a)&&rv(a)}function iT(a){for(const e of a.filters)if(e instanceof qn)return!1;return!0}function Xh(a){if(a instanceof Re)return a.field.canonicalString()+a.op.toString()+va(a.value);if(sv(a))return a.filters.map(e=>Xh(e)).join(",");{const e=a.filters.map(i=>Xh(i)).join(",");return`${a.op}(${e})`}}function av(a,e){return a instanceof Re?function(s,o){return o instanceof Re&&s.op===o.op&&s.field.isEqual(o.field)&&fi(s.value,o.value)}(a,e):a instanceof qn?function(s,o){return o instanceof qn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((f,d,p)=>f&&av(d,o.filters[p]),!0):!1}(a,e):void vt(19439)}function lv(a){return a instanceof Re?function(i){return`${i.field.canonicalString()} ${i.op} ${va(i.value)}`}(a):a instanceof qn?function(i){return i.op.toString()+" {"+i.getFilters().map(lv).join(" ,")+"}"}(a):"Filter"}class rT extends Re{constructor(e,i,s){super(e,i,s),this.key=dt.fromName(s.referenceValue)}matches(e){const i=dt.comparator(e.key,this.key);return this.matchesComparison(i)}}class sT extends Re{constructor(e,i){super(e,"in",i),this.keys=ov("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class aT extends Re{constructor(e,i){super(e,"not-in",i),this.keys=ov("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function ov(a,e){return(e.arrayValue?.values||[]).map(i=>dt.fromName(i.referenceValue))}class lT extends Re{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return yd(i)&&Jl(i.arrayValue,this.value)}}class oT extends Re{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Jl(this.value.arrayValue,i)}}class uT extends Re{constructor(e,i){super(e,"not-in",i)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Jl(this.value.arrayValue,i)}}class cT extends Re{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!yd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Jl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,i=null,s=[],o=[],f=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=f,this.startAt=d,this.endAt=p,this.Te=null}}function Gy(a,e=null,i=[],s=[],o=null,f=null,d=null){return new fT(a,e,i,s,o,f,d)}function _d(a){const e=St(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Xh(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(f){return f.field.canonicalString()+f.dir}(s)).join(","),cc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>va(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>va(s)).join(",")),e.Te=i}return e.Te}function vd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!nT(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!av(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Hy(a.startAt,e.startAt)&&Hy(a.endAt,e.endAt)}function Kh(a){return dt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,i=null,s=[],o=[],f=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=f,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hT(a,e,i,s,o,f,d,p){return new io(a,e,i,s,o,f,d,p)}function Ed(a){return new io(a)}function Qy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function uv(a){return a.collectionGroup!==null}function Ql(a){const e=St(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const f of e.explicitOrderBy)e.Ie.push(f),i.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Oe(Fe.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(p=p.add(v.field))})}),p})(e).forEach(f=>{i.has(f.canonicalString())||f.isKeyField()||e.Ie.push(new tc(f,s))}),i.has(Fe.keyField().canonicalString())||e.Ie.push(new tc(Fe.keyField(),s))}return e.Ie}function ai(a){const e=St(a);return e.Ee||(e.Ee=dT(e,Ql(a))),e.Ee}function dT(a,e){if(a.limitType==="F")return Gy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const f=o.dir==="desc"?"asc":"desc";return new tc(o.field,f)});const i=a.endAt?new Ju(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Ju(a.startAt.position,a.startAt.inclusive):null;return Gy(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function Wh(a,e){const i=a.filters.concat([e]);return new io(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Zh(a,e,i){return new io(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function hc(a,e){return vd(ai(a),ai(e))&&a.limitType===e.limitType}function cv(a){return`${_d(ai(a))}|lt:${a.limitType}`}function ca(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>lv(o)).join(", ")}]`),cc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>va(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>va(o)).join(",")),`Target(${s})`}(ai(a))}; limitType=${a.limitType})`}function dc(a,e){return e.isFoundDocument()&&function(s,o){const f=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):dt.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(a,e)&&function(s,o){for(const f of Ql(s))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const f of s.filters)if(!f.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,p,_){const v=qy(d,p,_);return d.inclusive?v<=0:v<0}(s.startAt,Ql(s),o)||s.endAt&&!function(d,p,_){const v=qy(d,p,_);return d.inclusive?v>=0:v>0}(s.endAt,Ql(s),o))}(a,e)}function mT(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function fv(a){return(e,i)=>{let s=!1;for(const o of Ql(a)){const f=gT(o,e,i);if(f!==0)return f;s=s||o.field.isKeyField()}return 0}}function gT(a,e,i){const s=a.field.isKeyField()?dt.comparator(e.key,i.key):function(f,d,p){const _=d.data.field(f),v=p.data.field(f);return _!==null&&v!==null?_a(_,v):vt(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,f]of s)if(this.equalsFn(o,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],e))return void(o[f]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){wr(this.inner,(i,s)=>{for(const[o,f]of s)e(o,f)})}isEmpty(){return X_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=new he(dt.comparator);function Li(){return pT}const hv=new he(dt.comparator);function Pl(...a){let e=hv;for(const i of a)e=e.insert(i.key,i);return e}function dv(a){let e=hv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function cs(){return Fl()}function mv(){return Fl()}function Fl(){return new gs(a=>a.toString(),(a,e)=>a.isEqual(e))}const yT=new he(dt.comparator),_T=new Oe(dt.comparator);function zt(...a){let e=_T;for(const i of a)e=e.add(i);return e}const vT=new Oe(Mt);function ET(){return vT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wu(e)?"-0":e}}function gv(a){return{integerValue:""+a}}function bT(a,e){return Xb(e)?gv(e):bd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(){this._=void 0}}function TT(a,e,i){return a instanceof ec?function(o,f){const d={fields:{[Z_]:{stringValue:W_},[J_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&pd(f)&&(f=fc(f)),f&&(d.fields[$_]=f),{mapValue:d}}(i,e):a instanceof to?yv(a,e):a instanceof eo?_v(a,e):function(o,f){const d=pv(o,f),p=Fy(d)+Fy(o.Ae);return Yh(d)&&Yh(o.Ae)?gv(p):bd(o.serializer,p)}(a,e)}function ST(a,e,i){return a instanceof to?yv(a,e):a instanceof eo?_v(a,e):i}function pv(a,e){return a instanceof nc?function(s){return Yh(s)||function(f){return!!f&&"doubleValue"in f}(s)}(e)?e:{integerValue:0}:null}class ec extends mc{}class to extends mc{constructor(e){super(),this.elements=e}}function yv(a,e){const i=vv(e);for(const s of a.elements)i.some(o=>fi(o,s))||i.push(s);return{arrayValue:{values:i}}}class eo extends mc{constructor(e){super(),this.elements=e}}function _v(a,e){let i=vv(e);for(const s of a.elements)i=i.filter(o=>!fi(o,s));return{arrayValue:{values:i}}}class nc extends mc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Fy(a){return ve(a.integerValue||a.doubleValue)}function vv(a){return yd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function AT(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof to&&o instanceof to||s instanceof eo&&o instanceof eo?ya(s.elements,o.elements,fi):s instanceof nc&&o instanceof nc?fi(s.Ae,o.Ae):s instanceof ec&&o instanceof ec}(a.transform,e.transform)}class RT{constructor(e,i){this.version=e,this.transformResults=i}}class Bn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class gc{}function Ev(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Td(a.key,Bn.none()):new ro(a.key,a.data,Bn.none());{const i=a.data,s=un.empty();let o=new Oe(Fe.comparator);for(let f of e.fields)if(!o.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?s.delete(f):s.set(f,d),o=o.add(f)}return new xr(a.key,s,new vn(o.toArray()),Bn.none())}}function wT(a,e,i){a instanceof ro?function(o,f,d){const p=o.value.clone(),_=Xy(o.fieldTransforms,f,d.transformResults);p.setAll(_),f.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,e,i):a instanceof xr?function(o,f,d){if(!Hu(o.precondition,f))return void f.convertToUnknownDocument(d.version);const p=Xy(o.fieldTransforms,f,d.transformResults),_=f.data;_.setAll(bv(o)),_.setAll(p),f.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(a,e,i):function(o,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Yl(a,e,i,s){return a instanceof ro?function(f,d,p,_){if(!Hu(f.precondition,d))return p;const v=f.value.clone(),T=Ky(f.fieldTransforms,_,d);return v.setAll(T),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(a,e,i,s):a instanceof xr?function(f,d,p,_){if(!Hu(f.precondition,d))return p;const v=Ky(f.fieldTransforms,_,d),T=d.data;return T.setAll(bv(f)),T.setAll(v),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(M=>M.field))}(a,e,i,s):function(f,d,p){return Hu(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(a,e,i)}function xT(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),f=pv(s.transform,o||null);f!=null&&(i===null&&(i=un.empty()),i.set(s.field,f))}return i||null}function Yy(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ya(s,o,(f,d)=>AT(f,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class ro extends gc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xr extends gc{constructor(e,i,s,o,f=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function bv(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function Xy(a,e,i){const s=new Map;Xt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const f=a[o],d=f.transform,p=e.data.field(f.field);s.set(f.field,ST(d,p,i[o]))}return s}function Ky(a,e,i){const s=new Map;for(const o of a){const f=o.transform,d=i.data.field(o.field);s.set(o.field,TT(f,d,e))}return s}class Td extends gc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CT extends gc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(e.key)&&wT(f,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Yl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Yl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=mv();return this.mutations.forEach(o=>{const f=e.get(o.key),d=f.overlayedDocument;let p=this.applyToLocalView(d,f.mutatedFields);p=i.has(o.key)?null:p;const _=Ev(d,p);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),zt())}isEqual(e){return this.batchId===e.batchId&&ya(this.mutations,e.mutations,(i,s)=>Yy(i,s))&&ya(this.baseMutations,e.baseMutations,(i,s)=>Yy(i,s))}}class Sd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Xt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return yT}();const f=e.mutations;for(let d=0;d<f.length;d++)o=o.insert(f[d].key,s[d].version);return new Sd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,Pt;function NT(a){switch(a){case K.OK:return vt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return vt(15467,{code:a})}}function Tv(a){if(a===void 0)return ki("GRPC error has no .code"),K.UNKNOWN;switch(a){case Ae.OK:return K.OK;case Ae.CANCELLED:return K.CANCELLED;case Ae.UNKNOWN:return K.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return K.INTERNAL;case Ae.UNAVAILABLE:return K.UNAVAILABLE;case Ae.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ae.NOT_FOUND:return K.NOT_FOUND;case Ae.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ae.ABORTED:return K.ABORTED;case Ae.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ae.DATA_LOSS:return K.DATA_LOSS;default:return vt(39323,{code:a})}}(Pt=Ae||(Ae={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=new yr([4294967295,4294967295],0);function Wy(a){const e=OT().encode(a),i=new U_;return i.update(e),new Uint8Array(i.digest())}function Zy(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new yr([i,s],0),new yr([o,f],0)]}class Ad{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(s<0)throw new Bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=yr.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(yr.fromNumber(s)));return o.compare(MT)===1&&(o=new yr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Wy(e),[s,o]=Zy(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(s,o,f);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new Ad(f,o,i);return s.forEach(p=>d.insert(p)),d}insert(e){if(this.ge===0)return;const i=Wy(e),[s,o]=Zy(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(s,o,f);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i,s,o,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,so.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new pc(Tt.min(),o,new he(Mt),Li(),zt())}}class so{constructor(e,i,s,o,f){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new so(s,i,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class Sv{constructor(e,i){this.targetId=e,this.Ce=i}}class Av{constructor(e,i,s=Ye.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class $y{constructor(){this.ve=0,this.Fe=Jy(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=zt(),i=zt(),s=zt();return this.Fe.forEach((o,f)=>{switch(f){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:f})}}),new so(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=Jy()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zT{constructor(e){this.Ge=e,this.ze=new Map,this.je=Li(),this.Je=Uu(),this.He=Uu(),this.Ye=new he(Mt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:vt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((s,o)=>{this.rt(o)&&i(o)})}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const f=o.target;if(Kh(f))if(s===0){const d=new dt(f.path);this.et(i,d,Je.newNoDocument(d,Tt.min()))}else Xt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:f=0}=i;let d,p;try{d=Tr(s).toUint8Array()}catch(_){if(_ instanceof K_)return pa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Ad(d,o,f)}catch(_){return pa(_ instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach(f=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(p)||(this.et(i,f,null),o++)}),o}Tt(e){const i=new Map;this.ze.forEach((f,d)=>{const p=this.ot(d);if(p){if(f.current&&Kh(p.target)){const _=new dt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Je.newNoDocument(_,e))}f.Be&&(i.set(d,f.ke()),f.qe())}});let s=zt();this.He.forEach((f,d)=>{let p=!0;d.forEachWhile(_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(f))}),this.je.forEach((f,d)=>d.setReadTime(e));const o=new pc(e,i,this.Ye,this.je,s);return this.je=Li(),this.Je=Uu(),this.He=Uu(),this.Ye=new he(Mt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new $y,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Oe(Mt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Oe(Mt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $y),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Uu(){return new he(dt.comparator)}function Jy(){return new he(dt.comparator)}const jT={asc:"ASCENDING",desc:"DESCENDING"},UT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kT={and:"AND",or:"OR"};class LT{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function $h(a,e){return a.useProto3Json||cc(e)?e:{value:e}}function ic(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function PT(a,e){return ic(a,e.toTimestamp())}function li(a){return Xt(!!a,49232),Tt.fromTimestamp(function(i){const s=br(i);return new ae(s.seconds,s.nanos)}(a))}function Rd(a,e){return Jh(a,e).canonicalString()}function Jh(a,e){const i=function(o){return new re(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function wv(a){const e=re.fromString(a);return Xt(Vv(e),10190,{key:e.toString()}),e}function td(a,e){return Rd(a.databaseId,e.path)}function zh(a,e){const i=wv(e);if(i.get(1)!==a.databaseId.projectId)throw new ct(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ct(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new dt(Cv(i))}function xv(a,e){return Rd(a.databaseId,e)}function BT(a){const e=wv(a);return e.length===4?re.emptyPath():Cv(e)}function ed(a){return new re(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Cv(a){return Xt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function t_(a,e,i){return{name:td(a,e),fields:i.value.mapValue.fields}}function qT(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:vt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],f=function(v,T){return v.useProto3Json?(Xt(T===void 0||typeof T=="string",58123),Ye.fromBase64String(T||"")):(Xt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ye.fromUint8Array(T||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(v){const T=v.code===void 0?K.UNKNOWN:Tv(v.code);return new ct(T,v.message||"")}(d);i=new Av(s,o,f,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=zh(a,s.document.name),f=li(s.document.updateTime),d=s.document.createTime?li(s.document.createTime):Tt.min(),p=new un({mapValue:{fields:s.document.fields}}),_=Je.newFoundDocument(o,f,d,p),v=s.targetIds||[],T=s.removedTargetIds||[];i=new Gu(v,T,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=zh(a,s.document),f=s.readTime?li(s.readTime):Tt.min(),d=Je.newNoDocument(o,f),p=s.removedTargetIds||[];i=new Gu([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=zh(a,s.document),f=s.removedTargetIds||[];i=new Gu([],f,o,null)}else{if(!("filter"in e))return vt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:f}=s,d=new VT(o,f),p=s.targetId;i=new Sv(p,d)}}return i}function HT(a,e){let i;if(e instanceof ro)i={update:t_(a,e.key,e.value)};else if(e instanceof Td)i={delete:td(a,e.key)};else if(e instanceof xr)i={update:t_(a,e.key,e.data),updateMask:$T(e.fieldMask)};else{if(!(e instanceof CT))return vt(16599,{Vt:e.type});i={verify:td(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(f,d){const p=d.transform;if(p instanceof ec)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof to)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof eo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof nc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,f){return f.updateTime!==void 0?{updateTime:PT(o,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:vt(27497)}(a,e.precondition)),i}function GT(a,e){return a&&a.length>0?(Xt(e!==void 0,14353),a.map(i=>function(o,f){let d=o.updateTime?li(o.updateTime):li(f);return d.isEqual(Tt.min())&&(d=li(f)),new RT(d,o.transformResults||[])}(i,e))):[]}function QT(a,e){return{documents:[xv(a,e.path)]}}function FT(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=xv(a,o);const f=function(v){if(v.length!==0)return Iv(qn.create(v,"and"))}(e.filters);f&&(i.structuredQuery.where=f);const d=function(v){if(v.length!==0)return v.map(T=>function(N){return{field:fa(N.field),direction:KT(N.dir)}}(T))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=$h(a,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ft:i,parent:o}}function YT(a){let e=BT(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Xt(s===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let f=[];i.where&&(f=function(M){const N=Dv(M);return N instanceof qn&&sv(N)?N.getFilters():[N]}(i.where));let d=[];i.orderBy&&(d=function(M){return M.map(N=>function(tt){return new tc(ha(tt.field),function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(tt.direction))}(N))}(i.orderBy));let p=null;i.limit&&(p=function(M){let N;return N=typeof M=="object"?M.value:M,cc(N)?null:N}(i.limit));let _=null;i.startAt&&(_=function(M){const N=!!M.before,F=M.values||[];return new Ju(F,N)}(i.startAt));let v=null;return i.endAt&&(v=function(M){const N=!M.before,F=M.values||[];return new Ju(F,N)}(i.endAt)),hT(e,o,d,f,p,"F",_,v)}function XT(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Dv(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ha(i.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ha(i.unaryFilter.field);return Re.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=ha(i.unaryFilter.field);return Re.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ha(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}}(a):a.fieldFilter!==void 0?function(i){return Re.create(ha(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return qn.create(i.compositeFilter.filters.map(s=>Dv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}}(i.compositeFilter.op))}(a):vt(30097,{filter:a})}function KT(a){return jT[a]}function WT(a){return UT[a]}function ZT(a){return kT[a]}function fa(a){return{fieldPath:a.canonicalString()}}function ha(a){return Fe.fromServerFormat(a.fieldPath)}function Iv(a){return a instanceof Re?function(i){if(i.op==="=="){if(By(i.value))return{unaryFilter:{field:fa(i.field),op:"IS_NAN"}};if(Py(i.value))return{unaryFilter:{field:fa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(By(i.value))return{unaryFilter:{field:fa(i.field),op:"IS_NOT_NAN"}};if(Py(i.value))return{unaryFilter:{field:fa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fa(i.field),op:WT(i.op),value:i.value}}}(a):a instanceof qn?function(i){const s=i.getFilters().map(o=>Iv(o));return s.length===1?s[0]:{compositeFilter:{op:ZT(i.op),filters:s}}}(a):vt(54877,{filter:a})}function $T(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Vv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,i,s,o,f=Tt.min(),d=Tt.min(),p=Ye.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.yt=e}}function tS(a){const e=YT({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Zh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.Cn=new nS}addToCollectionParentIndex(e,i){return this.Cn.add(i),W.resolve()}getCollectionParents(e,i){return W.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return W.resolve()}deleteFieldIndex(e,i){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,i){return W.resolve()}getDocumentsMatchingTarget(e,i){return W.resolve(null)}getIndexType(e,i){return W.resolve(0)}getFieldIndexes(e,i){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,i){return W.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,i){return W.resolve(Er.min())}updateCollectionGroup(e,i,s){return W.resolve()}updateIndexEntries(e,i){return W.resolve()}}class nS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Oe(re.comparator),f=!o.has(s);return this.index[i]=o.add(s),f}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Oe(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nv=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(Nv,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ea(0)}static cr(){return new Ea(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="LruGarbageCollector",iS=1048576;function i_([a,e],[i,s]){const o=Mt(a,i);return o===0?Mt(e,s):o}class rS{constructor(e){this.Ir=e,this.buffer=new Oe(i_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();i_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class sS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ut(n_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){wa(i)?ut(n_,"Ignoring IndexedDB error during garbage collection: ",i):await Ra(i)}await this.Vr(3e5)})}}class aS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return W.resolve(uc.ce);const s=new rS(i);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(e_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e_):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,f,d,p,_,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),o=this.params.maximumSequenceNumbersToCollect):o=M,d=Date.now(),this.nthSequenceNumber(e,o))).next(M=>(s=M,p=Date.now(),this.removeTargets(e,s,i))).next(M=>(f=M,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(M=>(v=Date.now(),ua()<=Bt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${f} targets in `+(_-p)+`ms
	Removed ${M} documents in `+(v-_)+`ms
Total Duration: ${v-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:f,documentsRemoved:M})))}}function lS(a,e){return new aS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.changes=new gs(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Je.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?W.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Yl(s.mutation,o,vn.empty(),ae.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,zt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=zt()){const o=cs();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(f=>{let d=Pl();return f.forEach((p,_)=>{d=d.insert(p,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=cs();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,zt()))}populateOverlays(e,i,s){const o=[];return s.forEach(f=>{i.has(f)||o.push(f)}),this.documentOverlayCache.getOverlays(e,o).next(f=>{f.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,s,o){let f=Li();const d=Fl(),p=function(){return Fl()}();return i.forEach((_,v)=>{const T=s.get(v.key);o.has(v.key)&&(T===void 0||T.mutation instanceof xr)?f=f.insert(v.key,v):T!==void 0?(d.set(v.key,T.mutation.getFieldMask()),Yl(T.mutation,v,T.mutation.getFieldMask(),ae.now())):d.set(v.key,vn.empty())}),this.recalculateAndSaveOverlays(e,f).next(_=>(_.forEach((v,T)=>d.set(v,T)),i.forEach((v,T)=>p.set(v,new uS(T,d.get(v)??null))),p))}recalculateAndSaveOverlays(e,i){const s=Fl();let o=new he((d,p)=>d-p),f=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let T=s.get(_)||vn.empty();T=p.applyToLocalView(v,T),s.set(_,T);const M=(o.get(p.batchId)||zt()).add(_);o=o.insert(p.batchId,M)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,T=_.value,M=mv();T.forEach(N=>{if(!f.has(N)){const F=Ev(i.get(N),s.get(N));F!==null&&M.set(N,F),f=f.add(N)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,M))}return W.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):uv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(f=>{const d=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-f.size):W.resolve(cs());let p=Wl,_=f;return d.next(v=>W.forEach(v,(T,M)=>(p<M.largestBatchId&&(p=M.largestBatchId),f.get(T)?W.resolve():this.remoteDocumentCache.getEntry(e,T).next(N=>{_=_.insert(T,N)}))).next(()=>this.populateOverlays(e,v,f)).next(()=>this.computeViews(e,_,v,zt())).next(T=>({batchId:p,changes:dv(T)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new dt(i)).next(s=>{let o=Pl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const f=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(e,f).next(p=>W.forEach(p,_=>{const v=function(M,N){return new io(N,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt)}(i,_.child(f));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(T=>{T.forEach((M,N)=>{d=d.insert(M,N)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,f,o))).next(d=>{f.forEach((_,v)=>{const T=v.getKey();d.get(T)===null&&(d=d.insert(T,Je.newInvalidDocument(T)))});let p=Pl();return d.forEach((_,v)=>{const T=f.get(_);T!==void 0&&Yl(T.mutation,v,vn.empty(),ae.now()),dc(i,v)&&(p=p.insert(_,v))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return W.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:li(o.createTime)}}(i)),W.resolve()}getNamedQuery(e,i){return W.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(o){return{name:o.name,query:tS(o.bundledQuery),readTime:li(o.readTime)}}(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.overlays=new he(dt.comparator),this.qr=new Map}getOverlay(e,i){return W.resolve(this.overlays.get(i))}getOverlays(e,i){const s=cs();return W.forEach(i,o=>this.getOverlay(e,o).next(f=>{f!==null&&s.set(o,f)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,f)=>{this.St(e,i,f)}),W.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(f=>this.overlays=this.overlays.remove(f)),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(e,i,s){const o=cs(),f=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===f&&_.largestBatchId>s&&o.set(_.getKey(),_)}return W.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let f=new he((v,T)=>v-T);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let T=f.get(v.largestBatchId);T===null&&(T=cs(),f=f.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const p=cs(),_=f.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,T)=>p.set(v,T)),!(p.size()>=o)););return W.resolve(p)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new IT(i,s));let f=this.qr.get(i);f===void 0&&(f=zt(),this.qr.set(i,f)),this.qr.set(i,f.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(){this.Qr=new Oe(Le.$r),this.Ur=new Oe(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Le(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Gr(new Le(e,i))}zr(e,i){e.forEach(s=>this.removeReference(s,i))}jr(e){const i=new dt(new re([])),s=new Le(i,e),o=new Le(i,e+1),f=[];return this.Ur.forEachInRange([s,o],d=>{this.Gr(d),f.push(d.key)}),f}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new dt(new re([])),s=new Le(i,e),o=new Le(i,e+1);let f=zt();return this.Ur.forEachInRange([s,o],d=>{f=f.add(d.key)}),f}containsKey(e){const i=new Le(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Le{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return dt.comparator(e.key,i.key)||Mt(e.Yr,i.Yr)}static Kr(e,i){return Mt(e.Yr,i.Yr)||dt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(Le.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const f=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new DT(f,i,s,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Le(p.key,f)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,i){return W.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),f=o<0?0:o;return W.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?gd:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),f=[];return this.Zr.forEachInRange([s,o],d=>{const p=this.Xr(d.Yr);f.push(p)}),W.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Oe(Mt);return i.forEach(o=>{const f=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([f,d],p=>{s=s.add(p.Yr)})}),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let f=s;dt.isDocumentKey(f)||(f=f.child(""));const d=new Le(new dt(f),0);let p=new Oe(Mt);return this.Zr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Yr)),!0)},d),W.resolve(this.ti(p))}ti(e){const i=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Xt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(i.mutations,o=>{const f=new Le(o.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,i){const s=new Le(i,0),o=this.Zr.firstAfterOrEqual(s);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.ri=e,this.docs=function(){return new he(dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),f=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return W.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(e,i){let s=Li();return i.forEach(o=>{const f=this.docs.get(o);s=s.insert(o,f?f.document.mutableCopy():Je.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let f=Li();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:T}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||Gb(Hb(T),s)<=0||(o.has(T.key)||dc(i,T))&&(f=f.insert(T.key,T.mutableCopy()))}return W.resolve(f)}getAllFromCollectionGroup(e,i,s,o){vt(9500)}ii(e,i){return W.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new pS(this)}getSize(e){return W.resolve(this.size)}}class pS extends oS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),W.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.persistence=e,this.si=new gs(i=>_d(i),vd),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new wd,this.targetCount=0,this.ai=Ea.ur()}forEachTarget(e,i){return this.si.forEach((s,o)=>i(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),W.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ea(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,W.resolve()}updateTargetData(e,i){return this.Pr(i),W.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,i,s){let o=0;const f=[];return this.si.forEach((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),f.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),W.waitFor(f).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return W.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),W.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,f=[];return o&&i.forEach(d=>{f.push(o.markPotentiallyOrphaned(e,d))}),W.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),W.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return W.resolve(s)}containsKey(e,i){return W.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,i){this.ui={},this.overlays={},this.ci=new uc(0),this.li=!1,this.li=!0,this.hi=new dS,this.referenceDelegate=e(this),this.Pi=new yS(this),this.indexManager=new eS,this.remoteDocumentCache=function(o){return new gS(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new JT(i),this.Ii=new fS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new hS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new mS(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ut("MemoryPersistence","Starting transaction:",e);const o=new _S(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(f=>this.referenceDelegate.di(o).next(()=>f)).toPromise().then(f=>(o.raiseOnCommittedEvent(),f))}Ai(e,i){return W.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,i)))}}class _S extends Fb{constructor(e){super(),this.currentSequenceNumber=e}}class xd{constructor(e){this.persistence=e,this.Ri=new wd,this.Vi=null}static mi(e){return new xd(e)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),W.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),W.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(f=>this.fi.add(f.toString()))}).next(()=>s.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,s=>{const o=dt.fromPath(s);return this.gi(e,o).next(f=>{f||i.removeEntry(o,Tt.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class rc{constructor(e,i){this.persistence=e,this.pi=new gs(s=>Kb(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=lS(this,i)}static mi(e,i){return new rc(e,i)}Ei(){}di(e){return W.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}wr(e){let i=0;return this.pr(e,s=>{i++}).next(()=>i)}pr(e,i){return W.forEach(this.pi,(s,o)=>this.br(e,s,o).next(f=>f?W.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),f=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,i).next(p=>{p||(s++,f.removeEntry(d,Tt.min()))})).next(()=>f.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Bu(e.data.value)),i}br(e,i,s){return W.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=zt(),o=zt();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new Cd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return fE()?8:Yb(uE())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const f={result:null};return this.ys(e,i).next(d=>{f.result=d}).next(()=>{if(!f.result)return this.ws(e,i,o,s).next(d=>{f.result=d})}).next(()=>{if(f.result)return;const d=new vS;return this.Ss(e,i,d).next(p=>{if(f.result=p,this.Vs)return this.bs(e,i,d,p.size)})}).next(()=>f.result)}bs(e,i,s,o){return s.documentReadCount<this.fs?(ua()<=Bt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",ca(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(ua()<=Bt.DEBUG&&ut("QueryEngine","Query:",ca(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ua()<=Bt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",ca(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(i))):W.resolve())}ys(e,i){if(Qy(i))return W.resolve(null);let s=ai(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Zh(i,null,"F"),s=ai(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(f=>{const d=zt(...f);return this.ps.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,s).next(_=>{const v=this.Ds(i,p);return this.Cs(i,v,d,_.readTime)?this.ys(e,Zh(i,null,"F")):this.vs(e,v,i,_)}))})))}ws(e,i,s,o){return Qy(i)||o.isEqual(Tt.min())?W.resolve(null):this.ps.getDocuments(e,s).next(f=>{const d=this.Ds(i,f);return this.Cs(i,d,s,o)?W.resolve(null):(ua()<=Bt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ca(i)),this.vs(e,d,i,qb(o,Wl)).next(p=>p))})}Ds(e,i){let s=new Oe(fv(e));return i.forEach((o,f)=>{dc(e,f)&&(s=s.add(f))}),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}Ss(e,i,s){return ua()<=Bt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",ca(i)),this.ps.getDocumentsMatchingQuery(e,i,Er.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(f=>(i.forEach(d=>{f=f.insert(d.key,d)}),f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="LocalStore",bS=3e8;class TS{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new he(Mt),this.xs=new gs(f=>_d(f),vd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function SS(a,e,i,s){return new TS(a,e,i,s)}async function Mv(a,e){const i=St(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(f=>(o=f,i.Bs(e),i.mutationQueue.getAllMutationBatches(s))).next(f=>{const d=[],p=[];let _=zt();for(const v of o){d.push(v.batchId);for(const T of v.mutations)_=_.add(T.key)}for(const v of f){p.push(v.batchId);for(const T of v.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(s,_).next(v=>({Ls:v,removedBatchIds:d,addedBatchIds:p}))})})}function AS(a,e){const i=St(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),f=i.Ns.newChangeBuffer({trackRemovals:!0});return function(p,_,v,T){const M=v.batch,N=M.keys();let F=W.resolve();return N.forEach(tt=>{F=F.next(()=>T.getEntry(_,tt)).next(ot=>{const nt=v.docVersions.get(tt);Xt(nt!==null,48541),ot.version.compareTo(nt)<0&&(M.applyToRemoteDocument(ot,v),ot.isValidDocument()&&(ot.setReadTime(v.commitVersion),T.addEntry(ot)))})}),F.next(()=>p.mutationQueue.removeMutationBatch(_,M))}(i,s,e,f).next(()=>f.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let _=zt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function zv(a){const e=St(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function RS(a,e){const i=St(a),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach((T,M)=>{const N=o.get(M);if(!N)return;p.push(i.Pi.removeMatchingKeys(f,T.removedDocuments,M).next(()=>i.Pi.addMatchingKeys(f,T.addedDocuments,M)));let F=N.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(M)!==null?F=F.withResumeToken(Ye.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(T.resumeToken,s)),o=o.insert(M,F),function(ot,nt,Rt){return ot.resumeToken.approximateByteSize()===0||nt.snapshotVersion.toMicroseconds()-ot.snapshotVersion.toMicroseconds()>=bS?!0:Rt.addedDocuments.size+Rt.modifiedDocuments.size+Rt.removedDocuments.size>0}(N,F,T)&&p.push(i.Pi.updateTargetData(f,F))});let _=Li(),v=zt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(f,T))}),p.push(wS(f,d,e.documentUpdates).next(T=>{_=T.ks,v=T.qs})),!s.isEqual(Tt.min())){const T=i.Pi.getLastRemoteSnapshotVersion(f).next(M=>i.Pi.setTargetsMetadata(f,f.currentSequenceNumber,s));p.push(T)}return W.waitFor(p).next(()=>d.apply(f)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,_,v)).next(()=>_)}).then(f=>(i.Ms=o,f))}function wS(a,e,i){let s=zt(),o=zt();return i.forEach(f=>s=s.add(f)),e.getEntries(a,s).next(f=>{let d=Li();return i.forEach((p,_)=>{const v=f.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(Tt.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):ut(Dd,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)}),{ks:d,qs:o}})}function xS(a,e){const i=St(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=gd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function CS(a,e){const i=St(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Pi.getTargetData(s,e).next(f=>f?(o=f,W.resolve(o)):i.Pi.allocateTargetId(s).next(d=>(o=new mr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s})}async function nd(a,e,i){const s=St(a),o=s.Ms.get(e),f=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",f,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!wa(d))throw d;ut(Dd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function r_(a,e,i){const s=St(a);let o=Tt.min(),f=zt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,T){const M=St(_),N=M.xs.get(T);return N!==void 0?W.resolve(M.Ms.get(N)):M.Pi.getTargetData(v,T)}(s,d,ai(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next(_=>{f=_})}).next(()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:Tt.min(),i?f:zt())).next(p=>(DS(s,mT(e),p),{documents:p,Qs:f})))}function DS(a,e,i){let s=a.Os.get(e)||Tt.min();i.forEach((o,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),a.Os.set(e,s)}class s_{constructor(){this.activeTargetIds=ET()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IS{constructor(){this.Mo=new s_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new s_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="ConnectivityMonitor";class l_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(a_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ut(a_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku=null;function id(){return ku===null?ku=function(){return 268435456+Math.round(2147483648*Math.random())}():ku++,"0x"+ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="RestConnection",NS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Zu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,f){const d=id(),p=this.zo(e,i.toUriEncodedString());ut(jh,`Sending RPC '${e}' ${d}:`,p,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,f);const{host:v}=new URL(p),T=fd(v);return this.Jo(e,p,_,s,T).then(M=>(ut(jh,`Received RPC '${e}' ${d}: `,M),M),M=>{throw pa(jh,`RPC '${e}' ${d} failed with error: `,M,"url: ",p,"request:",s),M})}Ho(e,i,s,o,f,d){return this.Go(e,i,s,o,f)}jo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Aa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,f)=>e[f]=o),s&&s.headers.forEach((o,f)=>e[f]=o)}zo(e,i){const s=NS[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class zS extends OS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,f){const d=id();return new Promise((p,_)=>{const v=new k_;v.setWithCredentials(!0),v.listenOnce(L_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Pu.NO_ERROR:const M=v.getResponseJson();ut(Ze,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(M)),p(M);break;case Pu.TIMEOUT:ut(Ze,`RPC '${e}' ${d} timed out`),_(new ct(K.DEADLINE_EXCEEDED,"Request time out"));break;case Pu.HTTP_ERROR:const N=v.getStatus();if(ut(Ze,`RPC '${e}' ${d} failed with status:`,N,"response text:",v.getResponseText()),N>0){let F=v.getResponseJson();Array.isArray(F)&&(F=F[0]);const tt=F?.error;if(tt&&tt.status&&tt.message){const ot=function(Rt){const _t=Rt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(_t)>=0?_t:K.UNKNOWN}(tt.status);_(new ct(ot,tt.message))}else _(new ct(K.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new ct(K.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ut(Ze,`RPC '${e}' ${d} completed.`)}});const T=JSON.stringify(o);ut(Ze,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",T,s,15)})}T_(e,i,s){const o=id(),f=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=q_(),p=B_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const T=f.join("");ut(Ze,`Creating RPC '${e}' stream ${o}: ${T}`,_);const M=d.createWebChannel(T,_);this.I_(M);let N=!1,F=!1;const tt=new MS({Yo:nt=>{F?ut(Ze,`Not sending because RPC '${e}' stream ${o} is closed:`,nt):(N||(ut(Ze,`Opening RPC '${e}' stream ${o} transport.`),M.open(),N=!0),ut(Ze,`RPC '${e}' stream ${o} sending:`,nt),M.send(nt))},Zo:()=>M.close()}),ot=(nt,Rt,_t)=>{nt.listen(Rt,mt=>{try{_t(mt)}catch(jt){setTimeout(()=>{throw jt},0)}})};return ot(M,Ll.EventType.OPEN,()=>{F||(ut(Ze,`RPC '${e}' stream ${o} transport opened.`),tt.o_())}),ot(M,Ll.EventType.CLOSE,()=>{F||(F=!0,ut(Ze,`RPC '${e}' stream ${o} transport closed`),tt.a_(),this.E_(M))}),ot(M,Ll.EventType.ERROR,nt=>{F||(F=!0,pa(Ze,`RPC '${e}' stream ${o} transport errored. Name:`,nt.name,"Message:",nt.message),tt.a_(new ct(K.UNAVAILABLE,"The operation could not be completed")))}),ot(M,Ll.EventType.MESSAGE,nt=>{if(!F){const Rt=nt.data[0];Xt(!!Rt,16349);const _t=Rt,mt=_t?.error||_t[0]?.error;if(mt){ut(Ze,`RPC '${e}' stream ${o} received error:`,mt);const jt=mt.status;let bt=function(A){const C=Ae[A];if(C!==void 0)return Tv(C)}(jt),qt=mt.message;bt===void 0&&(bt=K.INTERNAL,qt="Unknown error status: "+jt+" with message "+mt.message),F=!0,tt.a_(new ct(bt,qt)),M.close()}else ut(Ze,`RPC '${e}' stream ${o} received:`,Rt),tt.u_(Rt)}}),ot(p,P_.STAT_EVENT,nt=>{nt.stat===Gh.PROXY?ut(Ze,`RPC '${e}' stream ${o} detected buffering proxy`):nt.stat===Gh.NOPROXY&&ut(Ze,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{tt.__()},0),tt}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function Uh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(a){return new LT(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,i,s=1e3,o=1.5,f=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=f,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="PersistentStream";class Uv{constructor(e,i,s,o,f,d,p,_){this.Mi=e,this.S_=s,this.b_=o,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(ki(i.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===i&&this.G_(s,o)},s=>{e(()=>{const o=new ct(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ut(o_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(ut(o_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jS extends Uv{constructor(e,i,s,o,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=qT(this.serializer,e),s=function(f){if(!("targetChange"in f))return Tt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?li(d.readTime):Tt.min()}(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=ed(this.serializer),i.addTarget=function(f,d){let p;const _=d.target;if(p=Kh(_)?{documents:QT(f,_)}:{query:FT(f,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Rv(f,d.resumeToken);const v=$h(f,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=ic(f,d.snapshotVersion.toTimestamp());const v=$h(f,d.expectedCount);v!==null&&(p.expectedCount=v)}return p}(this.serializer,e);const s=XT(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=ed(this.serializer),i.removeTarget=e,this.q_(i)}}class US extends Uv{constructor(e,i,s,o,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=f}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=GT(e.writeResults,e.commitTime),s=li(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=ed(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>HT(this.serializer,s))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{}class LS extends kS{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.Go(e,Jh(i,s),o,f,d)).catch(f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(K.UNKNOWN,f.toString())})}Ho(e,i,s,o,f){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Ho(e,Jh(i,s),o,d,p,f)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(K.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class PS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ki(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="RemoteStore";class BS{constructor(e,i,s,o,f){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=f,this.Aa.Oo(d=>{s.enqueueAndForget(async()=>{ps(this)&&(ut(ms,"Restarting streams for network reachability change."),await async function(_){const v=St(_);v.Ea.add(4),await ao(v),v.Ra.set("Unknown"),v.Ea.delete(4),await _c(v)}(this))})}),this.Ra=new PS(s,o)}}async function _c(a){if(ps(a))for(const e of a.da)await e(!0)}async function ao(a){for(const e of a.da)await e(!1)}function kv(a,e){const i=St(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Od(i)?Nd(i):xa(i).O_()&&Vd(i,e))}function Id(a,e){const i=St(a),s=xa(i);i.Ia.delete(e),s.O_()&&Lv(i,e),i.Ia.size===0&&(s.O_()?s.L_():ps(i)&&i.Ra.set("Unknown"))}function Vd(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}xa(a).Y_(e)}function Lv(a,e){a.Va.Ue(e),xa(a).Z_(e)}function Nd(a){a.Va=new zT({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),xa(a).start(),a.Ra.ua()}function Od(a){return ps(a)&&!xa(a).x_()&&a.Ia.size>0}function ps(a){return St(a).Ea.size===0}function Pv(a){a.Va=void 0}async function qS(a){a.Ra.set("Online")}async function HS(a){a.Ia.forEach((e,i)=>{Vd(a,e)})}async function GS(a,e){Pv(a),Od(a)?(a.Ra.ha(e),Nd(a)):a.Ra.set("Unknown")}async function QS(a,e,i){if(a.Ra.set("Online"),e instanceof Av&&e.state===2&&e.cause)try{await async function(o,f){const d=f.cause;for(const p of f.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))}(a,e)}catch(s){ut(ms,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await sc(a,s)}else if(e instanceof Gu?a.Va.Ze(e):e instanceof Sv?a.Va.st(e):a.Va.tt(e),!i.isEqual(Tt.min()))try{const s=await zv(a.localStore);i.compareTo(s)>=0&&await function(f,d){const p=f.Va.Tt(d);return p.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const T=f.Ia.get(v);T&&f.Ia.set(v,T.withResumeToken(_.resumeToken,d))}}),p.targetMismatches.forEach((_,v)=>{const T=f.Ia.get(_);if(!T)return;f.Ia.set(_,T.withResumeToken(Ye.EMPTY_BYTE_STRING,T.snapshotVersion)),Lv(f,_);const M=new mr(T.target,_,v,T.sequenceNumber);Vd(f,M)}),f.remoteSyncer.applyRemoteEvent(p)}(a,i)}catch(s){ut(ms,"Failed to raise snapshot:",s),await sc(a,s)}}async function sc(a,e,i){if(!wa(e))throw e;a.Ea.add(1),await ao(a),a.Ra.set("Offline"),i||(i=()=>zv(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{ut(ms,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await _c(a)})}function Bv(a,e){return e().catch(i=>sc(a,i,e))}async function vc(a){const e=St(a),i=Ar(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gd;for(;FS(e);)try{const o=await xS(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,YS(e,o)}catch(o){await sc(e,o)}qv(e)&&Hv(e)}function FS(a){return ps(a)&&a.Ta.length<10}function YS(a,e){a.Ta.push(e);const i=Ar(a);i.O_()&&i.X_&&i.ea(e.mutations)}function qv(a){return ps(a)&&!Ar(a).x_()&&a.Ta.length>0}function Hv(a){Ar(a).start()}async function XS(a){Ar(a).ra()}async function KS(a){const e=Ar(a);for(const i of a.Ta)e.ea(i.mutations)}async function WS(a,e,i){const s=a.Ta.shift(),o=Sd.from(s,e,i);await Bv(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await vc(a)}async function ZS(a,e){e&&Ar(a).X_&&await async function(s,o){if(function(d){return NT(d)&&d!==K.ABORTED}(o.code)){const f=s.Ta.shift();Ar(s).B_(),await Bv(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,o)),await vc(s)}}(a,e),qv(a)&&Hv(a)}async function u_(a,e){const i=St(a);i.asyncQueue.verifyOperationInProgress(),ut(ms,"RemoteStore received new credentials");const s=ps(i);i.Ea.add(3),await ao(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await _c(i)}async function $S(a,e){const i=St(a);e?(i.Ea.delete(2),await _c(i)):e||(i.Ea.add(2),await ao(i),i.Ra.set("Unknown"))}function xa(a){return a.ma||(a.ma=function(i,s,o){const f=St(i);return f.sa(),new jS(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)}(a.datastore,a.asyncQueue,{Xo:qS.bind(null,a),t_:HS.bind(null,a),r_:GS.bind(null,a),H_:QS.bind(null,a)}),a.da.push(async e=>{e?(a.ma.B_(),Od(a)?Nd(a):a.Ra.set("Unknown")):(await a.ma.stop(),Pv(a))})),a.ma}function Ar(a){return a.fa||(a.fa=function(i,s,o){const f=St(i);return f.sa(),new US(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)}(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:XS.bind(null,a),r_:ZS.bind(null,a),ta:KS.bind(null,a),na:WS.bind(null,a)}),a.da.push(async e=>{e?(a.fa.B_(),await vc(a)):(await a.fa.stop(),a.Ta.length>0&&(ut(ms,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))})),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,i,s,o,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=f,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,f){const d=Date.now()+s,p=new Md(e,i,d,o,f);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zd(a,e){if(ki("AsyncQueue",`${e}: ${a}`),wa(a))return new ct(K.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{static emptySet(e){return new ma(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||dt.comparator(i.key,s.key):(i,s)=>dt.comparator(i.key,s.key),this.keyedMap=Pl(),this.sortedSet=new he(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ma)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=s.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ma;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.ga=new he(dt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):vt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,s)=>{e.push(s)}),e}}class ba{constructor(e,i,s,o,f,d,p,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,o,f){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new ba(e,i,ma.emptySet(i),d,s,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class tA{constructor(){this.queries=f_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=St(i),f=o.queries;o.queries=f_(),f.forEach((d,p)=>{for(const _ of p.Sa)_.onError(s)})})(this,new ct(K.ABORTED,"Firestore shutting down"))}}function f_(){return new gs(a=>cv(a),hc)}async function eA(a,e){const i=St(a);let s=3;const o=e.query;let f=i.queries.get(o);f?!f.ba()&&e.Da()&&(s=2):(f=new JS,s=e.Da()?0:1);try{switch(s){case 0:f.wa=await i.onListen(o,!0);break;case 1:f.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=zd(d,`Initialization of query '${ca(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,f),f.Sa.push(e),e.va(i.onlineState),f.wa&&e.Fa(f.wa)&&jd(i)}async function nA(a,e){const i=St(a),s=e.query;let o=3;const f=i.queries.get(s);if(f){const d=f.Sa.indexOf(e);d>=0&&(f.Sa.splice(d,1),f.Sa.length===0?o=e.Da()?0:1:!f.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function iA(a,e){const i=St(a);let s=!1;for(const o of e){const f=o.query,d=i.queries.get(f);if(d){for(const p of d.Sa)p.Fa(o)&&(s=!0);d.wa=o}}s&&jd(i)}function rA(a,e,i){const s=St(a),o=s.queries.get(e);if(o)for(const f of o.Sa)f.onError(i);s.queries.delete(e)}function jd(a){a.Ca.forEach(e=>{e.next()})}var rd,h_;(h_=rd||(rd={})).Ma="default",h_.Cache="cache";class sA{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ba(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=ba.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e){this.key=e}}class Qv{constructor(e){this.key=e}}class aA{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=fv(e),this.tu=new ma(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new c_,o=i?i.tu:this.tu;let f=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,M)=>{const N=o.get(T),F=dc(this.query,M)?M:null,tt=!!N&&this.mutatedKeys.has(N.key),ot=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let nt=!1;N&&F?N.data.isEqual(F.data)?tt!==ot&&(s.track({type:3,doc:F}),nt=!0):this.su(N,F)||(s.track({type:2,doc:F}),nt=!0,(_&&this.eu(F,_)>0||v&&this.eu(F,v)<0)&&(p=!0)):!N&&F?(s.track({type:0,doc:F}),nt=!0):N&&!F&&(s.track({type:1,doc:N}),nt=!0,(_||v)&&(p=!0)),nt&&(F?(d=d.add(F),f=ot?f.add(T):f.delete(T)):(d=d.delete(T),f=f.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),f=f.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:p,mutatedKeys:f}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const f=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((T,M)=>function(F,tt){const ot=nt=>{switch(nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:nt})}};return ot(F)-ot(tt)}(T.type,M.type)||this.eu(T.doc,M.doc)),this.ou(s),o=o??!1;const p=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new ba(this.query,e.tu,f,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=zt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const i=[];return e.forEach(s=>{this.Xa.has(s)||i.push(new Qv(s))}),this.Xa.forEach(s=>{e.has(s)||i.push(new Gv(s))}),i}cu(e){this.Ya=e.Qs,this.Xa=zt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return ba.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ud="SyncEngine";class lA{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class oA{constructor(e){this.key=e,this.hu=!1}}class uA{constructor(e,i,s,o,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new gs(p=>cv(p),hc),this.Iu=new Map,this.Eu=new Set,this.du=new he(dt.comparator),this.Au=new Map,this.Ru=new wd,this.Vu={},this.mu=new Map,this.fu=Ea.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cA(a,e,i=!0){const s=Zv(a);let o;const f=s.Tu.get(e);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.lu()):o=await Fv(s,e,i,!0),o}async function fA(a,e){const i=Zv(a);await Fv(i,e,!0,!1)}async function Fv(a,e,i,s){const o=await CS(a.localStore,ai(e)),f=o.targetId,d=a.sharedClientState.addLocalQueryTarget(f,i);let p;return s&&(p=await hA(a,e,f,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&kv(a.remoteStore,o),p}async function hA(a,e,i,s,o){a.pu=(M,N,F)=>async function(ot,nt,Rt,_t){let mt=nt.view.ru(Rt);mt.Cs&&(mt=await r_(ot.localStore,nt.query,!1).then(({documents:z})=>nt.view.ru(z,mt)));const jt=_t&&_t.targetChanges.get(nt.targetId),bt=_t&&_t.targetMismatches.get(nt.targetId)!=null,qt=nt.view.applyChanges(mt,ot.isPrimaryClient,jt,bt);return m_(ot,nt.targetId,qt.au),qt.snapshot}(a,M,N,F);const f=await r_(a.localStore,e,!0),d=new aA(e,f.Qs),p=d.ru(f.documents),_=so.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),v=d.applyChanges(p,a.isPrimaryClient,_);m_(a,i,v.au);const T=new lA(e,i,d);return a.Tu.set(e,T),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),v.snapshot}async function dA(a,e,i){const s=St(a),o=s.Tu.get(e),f=s.Iu.get(o.targetId);if(f.length>1)return s.Iu.set(o.targetId,f.filter(d=>!hc(d,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await nd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Id(s.remoteStore,o.targetId),sd(s,o.targetId)}).catch(Ra)):(sd(s,o.targetId),await nd(s.localStore,o.targetId,!0))}async function mA(a,e){const i=St(a),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Id(i.remoteStore,s.targetId))}async function gA(a,e,i){const s=TA(a);try{const o=await function(d,p){const _=St(d),v=ae.now(),T=p.reduce((F,tt)=>F.add(tt.key),zt());let M,N;return _.persistence.runTransaction("Locally write mutations","readwrite",F=>{let tt=Li(),ot=zt();return _.Ns.getEntries(F,T).next(nt=>{tt=nt,tt.forEach((Rt,_t)=>{_t.isValidDocument()||(ot=ot.add(Rt))})}).next(()=>_.localDocuments.getOverlayedDocuments(F,tt)).next(nt=>{M=nt;const Rt=[];for(const _t of p){const mt=xT(_t,M.get(_t.key).overlayedDocument);mt!=null&&Rt.push(new xr(_t.key,mt,nv(mt.value.mapValue),Bn.exists(!0)))}return _.mutationQueue.addMutationBatch(F,v,Rt,p)}).next(nt=>{N=nt;const Rt=nt.applyToLocalDocumentSet(M,ot);return _.documentOverlayCache.saveOverlays(F,nt.batchId,Rt)})}).then(()=>({batchId:N.batchId,changes:dv(M)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,p,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new he(Mt)),v=v.insert(p,_),d.Vu[d.currentUser.toKey()]=v}(s,o.batchId,i),await lo(s,o.changes),await vc(s.remoteStore)}catch(o){const f=zd(o,"Failed to persist write");i.reject(f)}}async function Yv(a,e){const i=St(a);try{const s=await RS(i.localStore,e);e.targetChanges.forEach((o,f)=>{const d=i.Au.get(f);d&&(Xt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Xt(d.hu,14607):o.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))}),await lo(i,s,e)}catch(s){await Ra(s)}}function d_(a,e,i){const s=St(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach((f,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)}),function(d,p){const _=St(d);_.onlineState=p;let v=!1;_.queries.forEach((T,M)=>{for(const N of M.Sa)N.va(p)&&(v=!0)}),v&&jd(_)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function pA(a,e,i){const s=St(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),f=o&&o.key;if(f){let d=new he(dt.comparator);d=d.insert(f,Je.newNoDocument(f,Tt.min()));const p=zt().add(f),_=new pc(Tt.min(),new Map,new he(Mt),d,p);await Yv(s,_),s.du=s.du.remove(f),s.Au.delete(e),kd(s)}else await nd(s.localStore,e,!1).then(()=>sd(s,e,i)).catch(Ra)}async function yA(a,e){const i=St(a),s=e.batch.batchId;try{const o=await AS(i.localStore,e);Kv(i,s,null),Xv(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await lo(i,o)}catch(o){await Ra(o)}}async function _A(a,e,i){const s=St(a);try{const o=await function(d,p){const _=St(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let T;return _.mutationQueue.lookupMutationBatch(v,p).next(M=>(Xt(M!==null,37113),T=M.keys(),_.mutationQueue.removeMutationBatch(v,M))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,T,p)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T)).next(()=>_.localDocuments.getDocuments(v,T))})}(s.localStore,e);Kv(s,e,i),Xv(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await lo(s,o)}catch(o){await Ra(o)}}function Xv(a,e){(a.mu.get(e)||[]).forEach(i=>{i.resolve()}),a.mu.delete(e)}function Kv(a,e,i){const s=St(a);let o=s.Vu[s.currentUser.toKey()];if(o){const f=o.get(e);f&&(i?f.reject(i):f.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function sd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach(s=>{a.Ru.containsKey(s)||Wv(a,s)})}function Wv(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Id(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),kd(a))}function m_(a,e,i){for(const s of i)s instanceof Gv?(a.Ru.addReference(s.key,e),vA(a,s)):s instanceof Qv?(ut(Ud,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||Wv(a,s.key)):vt(19791,{wu:s})}function vA(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(ut(Ud,"New document in limbo: "+i),a.Eu.add(s),kd(a))}function kd(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new dt(re.fromString(e)),s=a.fu.next();a.Au.set(s,new oA(i)),a.du=a.du.insert(i,s),kv(a.remoteStore,new mr(ai(Ed(i.path)),s,"TargetPurposeLimboResolution",uc.ce))}}async function lo(a,e,i){const s=St(a),o=[],f=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach((p,_)=>{d.push(s.pu(_,e,i).then(v=>{if((v||i)&&s.isPrimaryClient){const T=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(v){o.push(v);const T=Cd.As(_.targetId,v);f.push(T)}}))}),await Promise.all(d),s.Pu.H_(o),await async function(_,v){const T=St(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>W.forEach(v,N=>W.forEach(N.Es,F=>T.persistence.referenceDelegate.addReference(M,N.targetId,F)).next(()=>W.forEach(N.ds,F=>T.persistence.referenceDelegate.removeReference(M,N.targetId,F)))))}catch(M){if(!wa(M))throw M;ut(Dd,"Failed to update sequence numbers: "+M)}for(const M of v){const N=M.targetId;if(!M.fromCache){const F=T.Ms.get(N),tt=F.snapshotVersion,ot=F.withLastLimboFreeSnapshotVersion(tt);T.Ms=T.Ms.insert(N,ot)}}}(s.localStore,f))}async function EA(a,e){const i=St(a);if(!i.currentUser.isEqual(e)){ut(Ud,"User change. New user:",e.toKey());const s=await Mv(i.localStore,e);i.currentUser=e,function(f,d){f.mu.forEach(p=>{p.forEach(_=>{_.reject(new ct(K.CANCELLED,d))})}),f.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await lo(i,s.Ls)}}function bA(a,e){const i=St(a),s=i.Au.get(e);if(s&&s.hu)return zt().add(s.key);{let o=zt();const f=i.Iu.get(e);if(!f)return o;for(const d of f){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function Zv(a){const e=St(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pA.bind(null,e),e.Pu.H_=iA.bind(null,e.eventManager),e.Pu.yu=rA.bind(null,e.eventManager),e}function TA(a){const e=St(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_A.bind(null,e),e}class ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return SS(this.persistence,new ES,e.initialUser,this.serializer)}Cu(e){return new Ov(xd.mi,this.serializer)}Du(e){return new IS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ac.provider={build:()=>new ac};class SA extends ac{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Xt(this.persistence.referenceDelegate instanceof rc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new sS(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new Ov(s=>rc.mi(s,i),this.serializer)}}class ad{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>d_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=EA.bind(null,this.syncEngine),await $S(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tA}()}createDatastore(e){const i=yc(e.databaseInfo.databaseId),s=function(f){return new zS(f)}(e.databaseInfo);return function(f,d,p,_){return new LS(f,d,p,_)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,f,d,p){return new BS(s,o,f,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>d_(this.syncEngine,i,0),function(){return l_.v()?new l_:new VS}())}createSyncEngine(e,i){return function(o,f,d,p,_,v,T){const M=new uA(o,f,d,p,_,v);return T&&(M.gu=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const s=St(i);ut(ms,"RemoteStore shutting down."),s.Ea.add(5),await ao(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ad.provider={build:()=>new ad};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="FirestoreClient";class RA{constructor(e,i,s,o,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=md.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,async d=>{ut(Rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ut(Rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=zd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function kh(a,e){a.asyncQueue.verifyOperationInProgress(),ut(Rr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Mv(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function g_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await wA(a);ut(Rr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>u_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>u_(e.remoteStore,o)),a._onlineComponents=e}async function wA(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ut(Rr,"Using user provided OfflineComponentProvider");try{await kh(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;pa("Error using user provided cache. Falling back to memory cache: "+i),await kh(a,new ac)}}else ut(Rr,"Using default OfflineComponentProvider"),await kh(a,new SA(void 0));return a._offlineComponents}async function $v(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ut(Rr,"Using user provided OnlineComponentProvider"),await g_(a,a._uninitializedComponentsProvider._online)):(ut(Rr,"Using default OnlineComponentProvider"),await g_(a,new ad))),a._onlineComponents}function xA(a){return $v(a).then(e=>e.syncEngine)}async function p_(a){const e=await $v(a),i=e.eventManager;return i.onListen=cA.bind(null,e.syncEngine),i.onUnlisten=dA.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=fA.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=mA.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="firestore.googleapis.com",__=!0;class v_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ct(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t0,this.ssl=__}else this.host=e.host,this.ssl=e.ssl??__;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Nv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iS)throw new ct(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jv(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ec{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ct(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Vb;switch(s.type){case"firstParty":return new zb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=y_.get(i);s&&(ut("ComponentProvider","Removing Datastore"),y_.delete(i),s.terminate())}(this),Promise.resolve()}}function CA(a,e,i,s={}){a=_r(a,Ec);const o=fd(e),f=a._getSettings(),d={...f,emulatorOptions:a._getEmulatorOptions()},p=`${e}:${i}`;o&&(rE(`https://${p}`),oE("Firestore",!0)),f.host!==t0&&f.host!==p&&pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...f,host:p,ssl:o,emulatorOptions:s};if(!Yu(_,d)&&(a._setSettings(_),s.mockUserToken)){let v,T;if(typeof s.mockUserToken=="string")v=s.mockUserToken,T=$e.MOCK_USER;else{v=sE(s.mockUserToken,a._app?.options.projectId);const M=s.mockUserToken.sub||s.mockUserToken.user_id;if(!M)throw new ct(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new $e(M)}a._authCredentials=new Nb(new G_(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ca(this.firestore,e,this._query)}}class xe{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xe(this.firestore,e,this._key)}toJSON(){return{type:xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(no(i,xe._jsonSchema))return new xe(e,s||null,new dt(re.fromString(i.referencePath)))}}xe._jsonSchemaVersion="firestore/documentReference/1.0",xe._jsonSchema={type:we("string",xe._jsonSchemaVersion),referencePath:we("string")};class vr extends Ca{constructor(e,i,s){super(e,i,Ed(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xe(this.firestore,null,new dt(e))}withConverter(e){return new vr(this.firestore,e,this._path)}}function E_(a,e,...i){if(a=ci(a),Q_("collection","path",e),a instanceof Ec){const s=re.fromString(e,...i);return Vy(s),new vr(a,null,s)}{if(!(a instanceof xe||a instanceof vr))throw new ct(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(re.fromString(e,...i));return Vy(s),new vr(a.firestore,null,s)}}function ld(a,e,...i){if(a=ci(a),arguments.length===1&&(e=md.newId()),Q_("doc","path",e),a instanceof Ec){const s=re.fromString(e,...i);return Iy(s),new xe(a,null,new dt(s))}{if(!(a instanceof xe||a instanceof vr))throw new ct(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(re.fromString(e,...i));return Iy(s),new xe(a.firestore,a instanceof vr?a.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="AsyncQueue";class T_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jv(this,"async_queue_retry"),this._c=()=>{const s=Uh();s&&ut(b_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Uh();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Uh();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new fs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wa(e))throw e;ut(b_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,ki("INTERNAL UNHANDLED ERROR: ",S_(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Md.createAndSchedule(this,e,i,s,f=>this.hc(f));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:S_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function S_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(a){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const f of s)if(f in o&&typeof o[f]=="function")return!0;return!1}(a,["next","error","complete"])}class Ta extends Ec{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new T_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T_(e),this._firestoreClient=void 0,await e}}}function DA(a,e){const i=typeof a=="object"?a:_b(),s=typeof a=="string"?a:Zu,o=db(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const f=nE("firestore");f&&CA(o,...f)}return o}function e0(a){if(a._terminated)throw new ct(K.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||IA(a),a._firestoreClient}function IA(a){const e=a._freezeSettings(),i=function(o,f,d,p){return new $b(o,f,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Jv(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new RA(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&function(o){const f=o?._online.build();return{_offline:o?._offline.build(f),_online:f}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Ye.fromBase64String(e))}catch(i){throw new ct(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new On(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(no(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:we("string",On._jsonSchemaVersion),bytes:we("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ct(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ct(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ct(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:oi._jsonSchemaVersion}}static fromJSON(e){if(no(e,oi._jsonSchema))return new oi(e.latitude,e.longitude)}}oi._jsonSchemaVersion="firestore/geoPoint/1.0",oi._jsonSchema={type:we("string",oi._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==o[f])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(no(e,ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new ui(e.vectorValues);throw new ct(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ui._jsonSchemaVersion="firestore/vectorValue/1.0",ui._jsonSchema={type:we("string",ui._jsonSchemaVersion),vectorValues:we("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=/^__.*__$/;class NA{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,i,this.fieldTransforms):new ro(e,this.data,i,this.fieldTransforms)}}class n0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new xr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function i0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:a})}}class Pd{constructor(e,i,s,o,f,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,f===void 0&&this.Rc(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Pd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(i0(this.Ac)&&VA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class OA{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||yc(e)}Cc(e,i,s,o=!1){return new Pd({Ac:e,methodName:i,Dc:s,path:Fe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bd(a){const e=a._freezeSettings(),i=yc(a._databaseId);return new OA(a._databaseId,!!e.ignoreUndefinedProperties,i)}function MA(a,e,i,s,o,f={}){const d=a.Cc(f.merge||f.mergeFields?2:0,e,i,o);qd("Data must be an object, but it was:",d,s);const p=r0(s,d);let _,v;if(f.merge)_=new vn(d.fieldMask),v=d.fieldTransforms;else if(f.mergeFields){const T=[];for(const M of f.mergeFields){const N=od(e,M,i);if(!d.contains(N))throw new ct(K.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);a0(T,N)||T.push(N)}_=new vn(T),v=d.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,v=d.fieldTransforms;return new NA(new un(p),_,v)}class Tc extends Ld{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tc}}function zA(a,e,i,s){const o=a.Cc(1,e,i);qd("Data must be an object, but it was:",o,s);const f=[],d=un.empty();wr(s,(_,v)=>{const T=Hd(e,_,i);v=ci(v);const M=o.yc(T);if(v instanceof Tc)f.push(T);else{const N=oo(v,M);N!=null&&(f.push(T),d.set(T,N))}});const p=new vn(f);return new n0(d,p,o.fieldTransforms)}function jA(a,e,i,s,o,f){const d=a.Cc(1,e,i),p=[od(e,s,i)],_=[o];if(f.length%2!=0)throw new ct(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<f.length;N+=2)p.push(od(e,f[N])),_.push(f[N+1]);const v=[],T=un.empty();for(let N=p.length-1;N>=0;--N)if(!a0(v,p[N])){const F=p[N];let tt=_[N];tt=ci(tt);const ot=d.yc(F);if(tt instanceof Tc)v.push(F);else{const nt=oo(tt,ot);nt!=null&&(v.push(F),T.set(F,nt))}}const M=new vn(v);return new n0(T,M,d.fieldTransforms)}function UA(a,e,i,s=!1){return oo(i,a.Cc(s?4:3,e))}function oo(a,e){if(s0(a=ci(a)))return qd("Unsupported field value:",e,a),r0(a,e);if(a instanceof Ld)return function(s,o){if(!i0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(o);f&&o.fieldTransforms.push(f)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const f=[];let d=0;for(const p of s){let _=oo(p,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),f.push(_),d++}return{arrayValue:{values:f}}}(a,e)}return function(s,o){if((s=ci(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return bT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const f=ae.fromDate(s);return{timestampValue:ic(o.serializer,f)}}if(s instanceof ae){const f=new ae(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ic(o.serializer,f)}}if(s instanceof oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:Rv(o.serializer,s._byteString)};if(s instanceof xe){const f=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(f))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Rd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ui)return function(d,p){return{mapValue:{fields:{[tv]:{stringValue:ev},[$u]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return bd(p.serializer,v)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${oc(s)}`)}(a,e)}function r0(a,e){const i={};return X_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wr(a,(s,o)=>{const f=oo(o,e.mc(s));f!=null&&(i[s]=f)}),{mapValue:{fields:i}}}function s0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ae||a instanceof oi||a instanceof On||a instanceof xe||a instanceof Ld||a instanceof ui)}function qd(a,e,i){if(!s0(i)||!F_(i)){const s=oc(i);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function od(a,e,i){if((e=ci(e))instanceof bc)return e._internalPath;if(typeof e=="string")return Hd(a,e);throw lc("Field path arguments must be of type string or ",a,!1,void 0,i)}const kA=new RegExp("[~\\*/\\[\\]]");function Hd(a,e,i){if(e.search(kA)>=0)throw lc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new bc(...e.split("."))._internalPath}catch{throw lc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function lc(a,e,i,s,o){const f=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(f||d)&&(_+=" (found",f&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new ct(K.INVALID_ARGUMENT,p+a+_)}function a0(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,i,s,o,f){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(o0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LA extends l0{data(){return super.data()}}function o0(a,e){return typeof e=="string"?Hd(a,e):e instanceof bc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ct(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gd{}class BA extends Gd{}function qA(a,e,...i){let s=[];e instanceof Gd&&s.push(e),s=s.concat(i),function(f){const d=f.filter(_=>_ instanceof Fd).length,p=f.filter(_=>_ instanceof Qd).length;if(d>1||d>0&&p>0)throw new ct(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)a=o._apply(a);return a}class Qd extends BA{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Qd(e,i,s)}_apply(e){const i=this._parse(e);return u0(e._query,i),new Ca(e.firestore,e.converter,Wh(e._query,i))}_parse(e){const i=Bd(e.firestore);return function(f,d,p,_,v,T,M){let N;if(v.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ct(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){w_(M,T);const tt=[];for(const ot of M)tt.push(R_(_,f,ot));N={arrayValue:{values:tt}}}else N=R_(_,f,M)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||w_(M,T),N=UA(p,d,M,T==="in"||T==="not-in");return Re.create(v,T,N)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Fd extends Gd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Fd(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:qn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,f){let d=o;const p=f.getFlattenedFilters();for(const _ of p)u0(d,_),d=Wh(d,_)}(e._query,i),new Ca(e.firestore,e.converter,Wh(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function R_(a,e,i){if(typeof(i=ci(i))=="string"){if(i==="")throw new ct(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uv(e)&&i.indexOf("/")!==-1)throw new ct(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(re.fromString(i));if(!dt.isDocumentKey(s))throw new ct(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ly(a,new dt(s))}if(i instanceof xe)return Ly(a,i._key);throw new ct(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oc(i)}.`)}function w_(a,e){if(!Array.isArray(a)||a.length===0)throw new ct(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function u0(a,e){const i=function(o,f){for(const d of o)for(const p of d.getFlattenedFilters())if(f.indexOf(p.op)>=0)return p.op;return null}(a.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new ct(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ct(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class HA{convertValue(e,i="none"){switch(Sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return wr(e,(o,f)=>{s[o]=this.convertValue(f,i)}),s}convertVectorValue(e){const i=e.fields?.[$u].arrayValue?.values?.map(s=>ve(s.doubleValue));return new ui(i)}convertGeoPoint(e){return new oi(ve(e.latitude),ve(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=fc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=br(e);return new ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=re.fromString(e);Xt(Vv(s),9688,{name:e});const o=new $l(s.get(1),s.get(3)),f=new dt(s.popFirst(5));return o.isEqual(i)||ki(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(a,e,i){let s;return s=a?a.toFirestore(e):e,s}class ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hs extends l0{constructor(e,i,s,o,f,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(o0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=hs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",hs._jsonSchema={type:we("string",hs._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class Qu extends hs{data(e={}){return super.data(e)}}class ga{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Qu(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,f){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const _=new Qu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ql(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>f||p.type!==3).map(p=>{const _=new Qu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ql(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,T=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:QA(p.type),doc:_,oldIndex:v,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ga._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=md.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(f=>{f._document!==null&&(i.push(f._document),s.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),o.push(f.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QA(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:a})}}ga._jsonSchemaVersion="firestore/querySnapshot/1.0",ga._jsonSchema={type:we("string",ga._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class c0 extends HA{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new xe(this.firestore,null,i)}}function FA(a,e,i,...s){a=_r(a,xe);const o=_r(a.firestore,Ta),f=Bd(o);let d;return d=typeof(e=ci(e))=="string"||e instanceof bc?jA(f,"updateDoc",a._key,e,i,s):zA(f,"updateDoc",a._key,e),Yd(o,[d.toMutation(a._key,Bn.exists(!0))])}function YA(a){return Yd(_r(a.firestore,Ta),[new Td(a._key,Bn.none())])}function XA(a,e){const i=_r(a.firestore,Ta),s=ld(a),o=GA(a.converter,e);return Yd(i,[MA(Bd(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,Bn.exists(!1))]).then(()=>s)}function KA(a,...e){a=ci(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||A_(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(A_(e[s])){const _=e[s];e[s]=_.next?.bind(_),e[s+1]=_.error?.bind(_),e[s+2]=_.complete?.bind(_)}let f,d,p;if(a instanceof xe)d=_r(a.firestore,Ta),p=Ed(a._key.path),f={next:_=>{e[s]&&e[s](WA(d,a,_))},error:e[s+1],complete:e[s+2]};else{const _=_r(a,Ca);d=_r(_.firestore,Ta),p=_._query;const v=new c0(d);f={next:T=>{e[s]&&e[s](new ga(d,v,_,T))},error:e[s+1],complete:e[s+2]},PA(a._query)}return function(v,T,M,N){const F=new AA(N),tt=new sA(T,F,M);return v.asyncQueue.enqueueAndForget(async()=>eA(await p_(v),tt)),()=>{F.Nu(),v.asyncQueue.enqueueAndForget(async()=>nA(await p_(v),tt))}}(e0(d),p,o,f)}function Yd(a,e){return function(s,o){const f=new fs;return s.asyncQueue.enqueueAndForget(async()=>gA(await xA(s),o,f)),f.promise}(e0(a),e)}function WA(a,e,i){const s=i.docs.get(e._key),o=new c0(a);return new hs(a,o,e._key,s,new ql(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Aa=o})(yb),Ku(new Xl("firestore",(s,{instanceIdentifier:o,options:f})=>{const d=s.getProvider("app").getImmediate(),p=new Ta(new Ob(s.getProvider("auth-internal")),new jb(d,s.getProvider("app-check-internal")),function(v,T){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ct(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(v.options.projectId,T)}(d,o),d);return f={useFetchStreams:i,...f},p._setSettings(f),p},"PUBLIC").setMultipleInstances(!0)),da(wy,xy,e),da(wy,xy,"esm2020")})();const ZA={apiKey:"AIzaSyCj6edi2ZrsSv0mpbGh5gGDEIxmUSzFo6g",authDomain:"inventory-4614f.firebaseapp.com",projectId:"inventory-4614f",storageBucket:"inventory-4614f.firebasestorage.app",messagingSenderId:"252486694632",appId:"1:252486694632:web:2e3c7b5f66df1e76157b5d",measurementId:"G-0GBQJD9Q23"},$A=M_(ZA),Lu=DA($A);function JA(){const a=R=>/[\u0590-\u05FF]/.test(R),[e,i]=fe.useState(typeof window<"u"&&window.innerWidth<900);fe.useEffect(()=>{const R=()=>{i(window.innerWidth<900)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]);const s=R=>{if(!R)return e?"1.1rem":"1.3rem";const Z=R.length;return e?Z>35?"0.65rem":Z>25?"0.75rem":Z>20?"0.85rem":Z>15?"0.95rem":Z>10?"1.05rem":"1.1rem":Z>45?"0.75rem":Z>35?"0.85rem":Z>25?"0.95rem":Z>18?"1.1rem":Z>12?"1.2rem":"1.3rem"},[o,f]=fe.useState([]),[d,p]=fe.useState([]),[_,v]=fe.useState([]),[T,M]=fe.useState([]),[N,F]=fe.useState([]),[tt,ot]=fe.useState([]),[nt,Rt]=fe.useState("office"),[_t,mt]=fe.useState(""),[jt,bt]=fe.useState(""),[qt,z]=fe.useState("refill"),[A,C]=fe.useState("10"),[V,O]=fe.useState(null),[j,x]=fe.useState(""),[Dt,Qt]=fe.useState(""),[q,rt]=fe.useState("refill"),[lt,xt]=fe.useState("10"),[D,$]=fe.useState("office"),[J,et]=fe.useState("add"),it=10;fe.useEffect(()=>{const R=qA(E_(Lu,"inventory"));return KA(R,at=>{const At=at.docs.map(le=>({...le.data(),id:le.id}));f(At.filter(le=>le.site==="office")),p(At.filter(le=>le.site==="innsbruck")),v(At.filter(le=>le.site==="ci")),M(At.filter(le=>le.site==="gate")),F(At.filter(le=>le.site==="ctx")),ot(At.filter(le=>le.site==="celler"))})},[]);const Ct=async()=>{if(!_t||!jt||isNaN(jt)||!A||isNaN(A))return;const R={name:_t,amount:Number(jt),type:qt,site:nt,lowStockThreshold:Number(A)};await XA(E_(Lu,"inventory"),R),mt(""),bt(""),z("refill"),C("10")},gt=async(R,Z)=>{const At=(Z==="office"?o:Z==="innsbruck"?d:Z==="ci"?_:Z==="gate"?T:Z==="ctx"?N:tt).find((le,Mn)=>Mn===R);At&&At.id&&await YA(ld(Lu,"inventory",At.id))},se=(R,Z)=>{O(R),$(Z);const At=(Z==="office"?o:Z==="innsbruck"?d:Z==="ci"?_:Z==="gate"?T:Z==="ctx"?N:tt).find((le,Mn)=>Mn===R);x(At.name),Qt(At.amount),rt(At.type),xt(At.lowStockThreshold||10)},Ht=async()=>{if(!j||!Dt||isNaN(Dt)||!lt||isNaN(lt))return;const Z=(D==="office"?o:D==="innsbruck"?d:D==="ci"?_:D==="gate"?T:D==="ctx"?N:tt).find((at,At)=>At===V);Z&&Z.id&&await FA(ld(Lu,"inventory",Z.id),{name:j,amount:Number(Dt),type:q,site:D,lowStockThreshold:Number(lt)}),O(null),x(""),Qt(""),rt("refill"),xt("10"),$("office")};return S.jsxs("div",{className:"inventory-app",style:{display:e?"block":"grid",gridTemplateColumns:e?"1fr":"auto 1fr 1fr 1fr 1fr 1fr 1fr",gap:e?"0":"1rem",height:"100dvh",width:"100vw",fontFamily:"Segoe UI, Arial, sans-serif",fontSize:"1.3rem",background:"linear-gradient(90deg, #f8fafc 0%, #e0e7ef 100%)",boxSizing:"border-box",overflow:"auto",margin:0,padding:e?"0":"1rem"},children:[e&&S.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"0.5rem",background:"#fff",boxShadow:"0 2px 8px #e0e7ef",padding:"1rem 0",position:"sticky",top:0,zIndex:10,overflowX:"auto",whiteSpace:"nowrap"},children:[S.jsx("button",{onClick:()=>et("add"),style:{fontWeight:J==="add"?"bold":"normal",background:J==="add"?"#2563eb":"#f1f5f9",color:J==="add"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.7rem 1rem",fontSize:"1rem",cursor:"pointer",minWidth:"fit-content"},children:"Add"}),S.jsx("button",{onClick:()=>et("office"),style:{fontWeight:J==="office"?"bold":"normal",background:J==="office"?"#2563eb":"#f1f5f9",color:J==="office"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.7rem 1rem",fontSize:"1rem",cursor:"pointer",minWidth:"fit-content"},children:"Office"}),S.jsx("button",{onClick:()=>et("innsbruck"),style:{fontWeight:J==="innsbruck"?"bold":"normal",background:J==="innsbruck"?"#2563eb":"#f1f5f9",color:J==="innsbruck"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.7rem 1rem",fontSize:"1rem",cursor:"pointer",minWidth:"fit-content"},children:"Innsbruck"}),S.jsx("button",{onClick:()=>et("ci"),style:{fontWeight:J==="ci"?"bold":"normal",background:J==="ci"?"#2563eb":"#f1f5f9",color:J==="ci"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.7rem 1rem",fontSize:"1rem",cursor:"pointer",minWidth:"fit-content"},children:"C/I"}),S.jsx("button",{onClick:()=>et("gate"),style:{fontWeight:J==="gate"?"bold":"normal",background:J==="gate"?"#2563eb":"#f1f5f9",color:J==="gate"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.7rem 1rem",fontSize:"1rem",cursor:"pointer",minWidth:"fit-content"},children:"GATE"}),S.jsx("button",{onClick:()=>et("ctx"),style:{fontWeight:J==="ctx"?"bold":"normal",background:J==="ctx"?"#2563eb":"#f1f5f9",color:J==="ctx"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.7rem 1rem",fontSize:"1rem",cursor:"pointer",minWidth:"fit-content"},children:"CTX"}),S.jsx("button",{onClick:()=>et("celler"),style:{fontWeight:J==="celler"?"bold":"normal",background:J==="celler"?"#2563eb":"#f1f5f9",color:J==="celler"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.7rem 1rem",fontSize:"1rem",cursor:"pointer",minWidth:"fit-content"},children:"CELLER"})]}),(!e||J==="add")&&S.jsxs("div",{style:{gridColumn:"1",flex:e?"none":"unset",minWidth:"0",padding:"2rem 1.5rem",background:"#fff",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:"2px 0 10px #e0e7ef",borderRadius:e?"0":"1rem",height:e?"auto":"100%",overflowY:"auto",boxSizing:"border-box"},children:[S.jsx("h2",{style:{fontSize:"1.8rem",marginBottom:"1.5rem",color:"#2d3748"},children:"Add Item"}),S.jsxs("div",{className:"add-item",style:{display:"flex",flexDirection:"column",gap:"1.2rem",width:"100%",maxWidth:"300px",minWidth:"0",background:"#f1f5f9",padding:"1.5rem",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",margin:"1rem auto",boxSizing:"border-box",alignItems:"stretch",justifyContent:"center"},children:[S.jsxs("select",{value:nt,onChange:R=>Rt(R.target.value),style:{fontSize:"1.2rem",padding:"0.7rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"},children:[S.jsx("option",{value:"office",children:"Office"}),S.jsx("option",{value:"innsbruck",children:"Innsbruck"}),S.jsx("option",{value:"ci",children:"C/I"}),S.jsx("option",{value:"gate",children:"GATE"}),S.jsx("option",{value:"ctx",children:"CTX"}),S.jsx("option",{value:"celler",children:"CELLER"})]}),S.jsx("input",{type:"text",placeholder:"Item name",value:_t,onChange:R=>mt(R.target.value),style:{fontSize:"1.2rem",padding:"0.7rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"}}),S.jsx("input",{type:"number",placeholder:"Amount",value:jt,onChange:R=>bt(R.target.value),style:{fontSize:"1.2rem",padding:"0.7rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"}}),S.jsx("input",{type:"number",placeholder:"Low stock threshold (e.g., 10)",value:A,onChange:R=>C(R.target.value),style:{fontSize:"1.2rem",padding:"0.7rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"}}),S.jsxs("select",{value:qt,onChange:R=>z(R.target.value),style:{fontSize:"1.2rem",padding:"0.7rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%"},children:[S.jsx("option",{value:"refill",children:"Supplies"}),S.jsx("option",{value:"stable",children:"Equipment"})]}),S.jsx("button",{onClick:Ct,style:{fontSize:"1.2rem",padding:"0.7rem",borderRadius:"0.5rem",background:"#2563eb",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",marginTop:"1rem"},children:"Add Item"})]})]}),(!e||J==="office")&&S.jsxs("div",{style:{gridColumn:e?"1":"2",flex:e?"none":"unset",background:"#fff",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1.5rem",minWidth:e?"0":"250px",height:e?"auto":"100%",overflowY:"auto",marginTop:e?"2rem":"0"},children:[S.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"1.2rem",color:"#2563eb"},children:"Office"}),S.jsxs("ul",{className:"item-list",style:{listStyle:"none",padding:0},children:[o.length===0&&S.jsx("p",{style:{color:"#64748b"},children:"No items yet."}),[...o].map((R,Z)=>({item:R,originalIdx:Z})).sort((R,Z)=>{const at=R.item.type==="refill"&&R.item.amount<(R.item.lowStockThreshold||it),At=Z.item.type==="refill"&&Z.item.amount<(Z.item.lowStockThreshold||it);return at&&!At?-1:!at&&At?1:(R.item.type==="refill"?-1:1)-(Z.item.type==="refill"?-1:1)}).map(({item:R,originalIdx:Z})=>S.jsx("li",{style:{margin:"0 auto 1.5rem auto",background:R.type==="refill"&&R.amount<(R.lowStockThreshold||it)?"#fee2e2":"#f1f5f9",borderRadius:"0.8rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1rem",maxWidth:"500px",width:"100%",minWidth:"0",overflowX:"hidden",boxSizing:"border-box",display:"flex",flexDirection:"column",gap:"0.6rem",border:R.type==="refill"&&R.amount<(R.lowStockThreshold||it)?"2px solid #ef4444":"none"},children:V===Z&&D==="office"?S.jsx(os.Fragment,{children:S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem"},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Name:"}),S.jsx("input",{type:"text",value:j,onChange:at=>x(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]}),S.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",gap:"1rem"},children:[S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem",flex:1},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Amount:"}),S.jsx("input",{type:"number",value:Dt,onChange:at=>Qt(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem",flex:1},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Low Stock:"}),S.jsx("input",{type:"number",value:lt,onChange:at=>xt(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem"},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Type:"}),S.jsxs("select",{value:q,onChange:at=>rt(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"},children:[S.jsx("option",{value:"refill",children:"Supplies"}),S.jsx("option",{value:"stable",children:"Equipment"})]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",gap:"1rem",alignItems:e?"stretch":"center",justifyContent:"space-between"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:e?"center":"flex-start"},children:[S.jsx("span",{style:{fontSize:"1rem",color:q==="refill"&&Dt<lt?"#ef4444":"#22c55e",fontWeight:"bold"},children:q==="refill"?"Supplies":"Equipment"}),q==="refill"&&Dt<lt&&S.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1rem"},children:"⚠️ Low stock!"})]}),S.jsxs("div",{style:{display:"flex",gap:"0.8rem",justifyContent:e?"stretch":"flex-end"},children:[S.jsx("button",{onClick:Ht,style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#22c55e",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Save"}),S.jsx("button",{onClick:()=>O(null),style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Cancel"})]})]})]})}):S.jsxs(os.Fragment,{children:[S.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center",justifyContent:"space-between"},children:[S.jsx("span",{style:{fontWeight:"bold",fontSize:s(R.name),color:"#334155",wordBreak:"break-word",maxWidth:a(R.name)?"75%":"65%",whiteSpace:R.name.length>25?"normal":"nowrap",overflow:"hidden",textOverflow:R.name.length>25?"clip":"ellipsis",direction:a(R.name)?"rtl":"ltr",textAlign:a(R.name)?"right":"left",lineHeight:R.name.length>25?"1.2":"1.4",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:R.name.length>35?3:2,maxHeight:R.name.length>35?"2.8rem":"2.4rem"},title:R.name,children:R.name}),S.jsxs("span",{style:{fontSize:"1.2rem",color:"#64748b",minWidth:"60px",textAlign:"right"},children:["Amount: ",R.amount]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center",justifyContent:"space-between",flexWrap:"nowrap"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[S.jsx("span",{style:{fontSize:"1.1rem",color:R.type==="refill"?R.amount<(R.lowStockThreshold||it)?"#ef4444":"#22c55e":"#2563eb",fontWeight:"bold"},children:R.type==="refill"?"Supplies":"Equipment"}),R.type==="refill"&&R.amount<(R.lowStockThreshold||it)&&S.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1.1rem"},children:"⚠️ Low stock!"})]}),S.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[S.jsx("button",{onClick:()=>se(Z,"office"),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#2563eb",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Edit"}),S.jsx("button",{onClick:()=>gt(Z,"office"),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Delete"})]})]})]})},Z))]})]}),(!e||J==="innsbruck")&&S.jsxs("div",{style:{gridColumn:e?"1":"3",flex:e?"none":"unset",background:"#fff",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1.5rem",minWidth:e?"0":"250px",height:e?"auto":"100%",overflowY:"auto",marginTop:e?"2rem":"0"},children:[S.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"1.2rem",color:"#2563eb"},children:"Innsbruck"}),S.jsxs("ul",{className:"item-list",style:{listStyle:"none",padding:0},children:[d.length===0&&S.jsx("p",{style:{color:"#64748b"},children:"No items yet."}),[...d].map((R,Z)=>({item:R,originalIdx:Z})).sort((R,Z)=>{const at=R.item.type==="refill"&&R.item.amount<(R.item.lowStockThreshold||it),At=Z.item.type==="refill"&&Z.item.amount<(Z.item.lowStockThreshold||it);return at&&!At?-1:!at&&At?1:(R.item.type==="refill"?-1:1)-(Z.item.type==="refill"?-1:1)}).map(({item:R,originalIdx:Z})=>S.jsx("li",{style:{margin:"0 auto 2rem auto",background:R.type==="refill"&&R.amount<(R.lowStockThreshold||it)?"#fee2e2":"#f1f5f9",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1.2rem",maxWidth:"600px",width:"100%",minWidth:"0",overflowX:"hidden",boxSizing:"border-box",display:"flex",flexDirection:"column",gap:"0.7rem",border:R.type==="refill"&&R.amount<(R.lowStockThreshold||it)?"2px solid #ef4444":"none"},children:V===Z&&D==="innsbruck"?S.jsx(os.Fragment,{children:S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem"},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Name:"}),S.jsx("input",{type:"text",value:j,onChange:at=>x(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]}),S.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",gap:"1rem"},children:[S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem",flex:1},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Amount:"}),S.jsx("input",{type:"number",value:Dt,onChange:at=>Qt(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem",flex:1},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Low Stock:"}),S.jsx("input",{type:"number",value:lt,onChange:at=>xt(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem"},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Type:"}),S.jsxs("select",{value:q,onChange:at=>rt(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"},children:[S.jsx("option",{value:"refill",children:"Supplies"}),S.jsx("option",{value:"stable",children:"Equipment"})]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",gap:"1rem",alignItems:e?"stretch":"center",justifyContent:"space-between"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:e?"center":"flex-start"},children:[S.jsx("span",{style:{fontSize:"1rem",color:q==="refill"?Dt<lt?"#ef4444":"#22c55e":"#2563eb",fontWeight:"bold"},children:q==="refill"?"Supplies":"Equipment"}),q==="refill"&&Dt<lt&&S.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1rem"},children:"⚠️ Low stock!"})]}),S.jsxs("div",{style:{display:"flex",gap:"0.8rem",justifyContent:e?"stretch":"flex-end"},children:[S.jsx("button",{onClick:Ht,style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#22c55e",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Save"}),S.jsx("button",{onClick:()=>O(null),style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Cancel"})]})]})]})}):S.jsxs(S.Fragment,{children:[S.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center",justifyContent:"space-between"},children:[S.jsx("span",{style:{fontWeight:"bold",fontSize:s(R.name),color:"#334155",wordBreak:"break-word",maxWidth:a(R.name)?"75%":"65%",whiteSpace:R.name.length>25?"normal":"nowrap",overflow:"hidden",textOverflow:R.name.length>25?"clip":"ellipsis",direction:a(R.name)?"rtl":"ltr",textAlign:a(R.name)?"right":"left",lineHeight:R.name.length>25?"1.2":"1.4",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:R.name.length>35?3:2,maxHeight:R.name.length>35?"2.8rem":"2.4rem"},title:R.name,children:R.name}),S.jsxs("span",{style:{fontSize:"1.2rem",color:"#64748b",minWidth:"60px",textAlign:"right"},children:["Amount: ",R.amount]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center",justifyContent:"space-between",flexWrap:"nowrap"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[S.jsx("span",{style:{fontSize:"1.1rem",color:R.type==="refill"?R.amount<(R.lowStockThreshold||it)?"#ef4444":"#22c55e":"#2563eb",fontWeight:"bold"},children:R.type==="refill"?"Supplies":"Equipment"}),R.type==="refill"&&R.amount<(R.lowStockThreshold||it)&&S.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1.1rem"},children:"⚠️ Low stock!"})]}),S.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[S.jsx("button",{onClick:()=>se(Z,"innsbruck"),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#2563eb",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Edit"}),S.jsx("button",{onClick:()=>gt(Z,"innsbruck"),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Delete"})]})]})]})},Z))]})]}),(!e||J==="ci")&&S.jsxs("div",{style:{gridColumn:e?"1":"4",flex:e?"none":"unset",background:"#fff",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1.5rem",minWidth:e?"0":"250px",height:e?"auto":"100%",overflowY:"auto",marginTop:e?"2rem":"0"},children:[S.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"1.2rem",color:"#2563eb"},children:"C/I"}),S.jsxs("ul",{className:"item-list",style:{listStyle:"none",padding:0},children:[_.length===0&&S.jsx("p",{style:{color:"#64748b"},children:"No items yet."}),[..._].map((R,Z)=>({item:R,originalIdx:Z})).sort((R,Z)=>{const at=R.item.type==="refill"&&R.item.amount<(R.item.lowStockThreshold||it),At=Z.item.type==="refill"&&Z.item.amount<(Z.item.lowStockThreshold||it);return at&&!At?-1:!at&&At?1:(R.item.type==="refill"?-1:1)-(Z.item.type==="refill"?-1:1)}).map(({item:R,originalIdx:Z})=>S.jsx("li",{style:{margin:"0 auto 1.5rem auto",background:R.type==="refill"&&R.amount<(R.lowStockThreshold||it)?"#fee2e2":"#f1f5f9",borderRadius:"0.8rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1rem",maxWidth:"500px",width:"100%",minWidth:"0",overflowX:"hidden",boxSizing:"border-box",display:"flex",flexDirection:"column",gap:"0.6rem",border:R.type==="refill"&&R.amount<(R.lowStockThreshold||it)?"2px solid #ef4444":"none"},children:V===Z&&D==="ci"?S.jsx(os.Fragment,{children:S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem"},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Name:"}),S.jsx("input",{type:"text",value:j,onChange:at=>x(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]}),S.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",gap:"1rem"},children:[S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem",flex:1},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Amount:"}),S.jsx("input",{type:"number",value:Dt,onChange:at=>Qt(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem",flex:1},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Low Stock:"}),S.jsx("input",{type:"number",value:lt,onChange:at=>xt(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem"},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Type:"}),S.jsxs("select",{value:q,onChange:at=>rt(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"},children:[S.jsx("option",{value:"refill",children:"Supplies"}),S.jsx("option",{value:"stable",children:"Equipment"})]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",gap:"1rem",alignItems:e?"stretch":"center",justifyContent:"space-between"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:e?"center":"flex-start"},children:[S.jsx("span",{style:{fontSize:"1rem",color:q==="refill"?Dt<lt?"#ef4444":"#22c55e":"#2563eb",fontWeight:"bold"},children:q==="refill"?"Supplies":"Equipment"}),q==="refill"&&Dt<lt&&S.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1rem"},children:"⚠️ Low stock!"})]}),S.jsxs("div",{style:{display:"flex",gap:"0.8rem",justifyContent:e?"stretch":"flex-end"},children:[S.jsx("button",{onClick:Ht,style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#22c55e",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Save"}),S.jsx("button",{onClick:()=>O(null),style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Cancel"})]})]})]})}):S.jsxs(S.Fragment,{children:[S.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center",justifyContent:"space-between"},children:[S.jsx("span",{style:{fontWeight:"bold",fontSize:s(R.name),color:"#334155",wordBreak:"break-word",maxWidth:a(R.name)?"75%":"65%",whiteSpace:R.name.length>25?"normal":"nowrap",overflow:"hidden",textOverflow:R.name.length>25?"clip":"ellipsis",direction:a(R.name)?"rtl":"ltr",textAlign:a(R.name)?"right":"left",lineHeight:R.name.length>25?"1.2":"1.4",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:R.name.length>35?3:2,maxHeight:R.name.length>35?"2.8rem":"2.4rem"},title:R.name,children:R.name}),S.jsxs("span",{style:{fontSize:"1.2rem",color:"#64748b",minWidth:"60px",textAlign:"right"},children:["Amount: ",R.amount]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center",justifyContent:"space-between",flexWrap:"nowrap"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[S.jsx("span",{style:{fontSize:"1.1rem",color:R.type==="refill"?R.amount<(R.lowStockThreshold||it)?"#ef4444":"#22c55e":"#2563eb",fontWeight:"bold"},children:R.type==="refill"?"Supplies":"Equipment"}),R.type==="refill"&&R.amount<(R.lowStockThreshold||it)&&S.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1.1rem"},children:"⚠️ Low stock!"})]}),S.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[S.jsx("button",{onClick:()=>se(Z,"ci"),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#2563eb",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Edit"}),S.jsx("button",{onClick:()=>gt(Z,"ci"),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Delete"})]})]})]})},Z))]})]}),(!e||J==="gate")&&S.jsxs("div",{style:{gridColumn:e?"1":"5",flex:e?"none":"unset",background:"#fff",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1.5rem",minWidth:e?"0":"250px",height:e?"auto":"100%",overflowY:"auto",marginTop:e?"2rem":"0"},children:[S.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"1.2rem",color:"#2563eb"},children:"GATE"}),S.jsxs("ul",{className:"item-list",style:{listStyle:"none",padding:0},children:[T.length===0&&S.jsx("p",{style:{color:"#64748b"},children:"No items yet."}),[...T].map((R,Z)=>({item:R,originalIdx:Z})).sort((R,Z)=>{const at=R.item.type==="refill"&&R.item.amount<(R.item.lowStockThreshold||it),At=Z.item.type==="refill"&&Z.item.amount<(Z.item.lowStockThreshold||it);return at&&!At?-1:!at&&At?1:(R.item.type==="refill"?-1:1)-(Z.item.type==="refill"?-1:1)}).map(({item:R,originalIdx:Z})=>S.jsx("li",{style:{margin:"0 auto 1.5rem auto",background:R.type==="refill"&&R.amount<(R.lowStockThreshold||it)?"#fee2e2":"#f1f5f9",borderRadius:"0.8rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1rem",maxWidth:"500px",width:"100%",minWidth:"0",overflowX:"hidden",boxSizing:"border-box",display:"flex",flexDirection:"column",gap:"0.6rem",border:R.type==="refill"&&R.amount<(R.lowStockThreshold||it)?"2px solid #ef4444":"none"},children:V===Z&&D==="gate"?S.jsx(os.Fragment,{children:S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem"},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Name:"}),S.jsx("input",{type:"text",value:j,onChange:at=>x(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]}),S.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",gap:"1rem"},children:[S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem",flex:1},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Amount:"}),S.jsx("input",{type:"number",value:Dt,onChange:at=>Qt(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem",flex:1},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Low Stock:"}),S.jsx("input",{type:"number",value:lt,onChange:at=>xt(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem"},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Type:"}),S.jsxs("select",{value:q,onChange:at=>rt(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"},children:[S.jsx("option",{value:"refill",children:"Supplies"}),S.jsx("option",{value:"stable",children:"Equipment"})]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",gap:"1rem",alignItems:e?"stretch":"center",justifyContent:"space-between"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:e?"center":"flex-start"},children:[S.jsx("span",{style:{fontSize:"1rem",color:q==="refill"?Dt<lt?"#ef4444":"#22c55e":"#2563eb",fontWeight:"bold"},children:q==="refill"?"Supplies":"Equipment"}),q==="refill"&&Dt<lt&&S.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1rem"},children:"⚠️ Low stock!"})]}),S.jsxs("div",{style:{display:"flex",gap:"0.8rem",justifyContent:e?"stretch":"flex-end"},children:[S.jsx("button",{onClick:Ht,style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#22c55e",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Save"}),S.jsx("button",{onClick:()=>O(null),style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Cancel"})]})]})]})}):S.jsxs(S.Fragment,{children:[S.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center",justifyContent:"space-between"},children:[S.jsx("span",{style:{fontWeight:"bold",fontSize:s(R.name),color:"#334155",wordBreak:"break-word",maxWidth:a(R.name)?"75%":"65%",whiteSpace:R.name.length>25?"normal":"nowrap",overflow:"hidden",textOverflow:R.name.length>25?"clip":"ellipsis",direction:a(R.name)?"rtl":"ltr",textAlign:a(R.name)?"right":"left",lineHeight:R.name.length>25?"1.2":"1.4",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:R.name.length>35?3:2,maxHeight:R.name.length>35?"2.8rem":"2.4rem"},title:R.name,children:R.name}),S.jsxs("span",{style:{fontSize:"1.2rem",color:"#64748b",minWidth:"60px",textAlign:"right"},children:["Amount: ",R.amount]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center",justifyContent:"space-between",flexWrap:"nowrap"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[S.jsx("span",{style:{fontSize:"1.1rem",color:R.type==="refill"?R.amount<(R.lowStockThreshold||it)?"#ef4444":"#22c55e":"#2563eb",fontWeight:"bold"},children:R.type==="refill"?"Supplies":"Equipment"}),R.type==="refill"&&R.amount<(R.lowStockThreshold||it)&&S.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1.1rem"},children:"⚠️ Low stock!"})]}),S.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[S.jsx("button",{onClick:()=>se(Z,"gate"),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#2563eb",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Edit"}),S.jsx("button",{onClick:()=>gt(Z,"gate"),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Delete"})]})]})]})},Z))]})]}),(!e||J==="ctx")&&S.jsxs("div",{style:{gridColumn:e?"1":"6",flex:e?"none":"unset",background:"#fff",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1.5rem",minWidth:e?"0":"250px",height:e?"auto":"100%",overflowY:"auto",marginTop:e?"2rem":"0"},children:[S.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"1.2rem",color:"#2563eb"},children:"CTX"}),S.jsxs("ul",{className:"item-list",style:{listStyle:"none",padding:0},children:[N.length===0&&S.jsx("p",{style:{color:"#64748b"},children:"No items yet."}),[...N].map((R,Z)=>({item:R,originalIdx:Z})).sort((R,Z)=>{const at=R.item.type==="refill"&&R.item.amount<(R.item.lowStockThreshold||it),At=Z.item.type==="refill"&&Z.item.amount<(Z.item.lowStockThreshold||it);return at&&!At?-1:!at&&At?1:(R.item.type==="refill"?-1:1)-(Z.item.type==="refill"?-1:1)}).map(({item:R,originalIdx:Z})=>S.jsx("li",{style:{margin:"0 auto 1.5rem auto",background:R.type==="refill"&&R.amount<(R.lowStockThreshold||it)?"#fee2e2":"#f1f5f9",borderRadius:"0.8rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1rem",maxWidth:"500px",width:"100%",minWidth:"0",overflowX:"hidden",boxSizing:"border-box",display:"flex",flexDirection:"column",gap:"0.6rem",border:R.type==="refill"&&R.amount<(R.lowStockThreshold||it)?"2px solid #ef4444":"none"},children:V===Z&&D==="ctx"?S.jsx(os.Fragment,{children:S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem"},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Name:"}),S.jsx("input",{type:"text",value:j,onChange:at=>x(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]}),S.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",gap:"1rem"},children:[S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem",flex:1},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Amount:"}),S.jsx("input",{type:"number",value:Dt,onChange:at=>Qt(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem",flex:1},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Low Stock:"}),S.jsx("input",{type:"number",value:lt,onChange:at=>xt(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem"},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Type:"}),S.jsxs("select",{value:q,onChange:at=>rt(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"},children:[S.jsx("option",{value:"refill",children:"Supplies"}),S.jsx("option",{value:"stable",children:"Equipment"})]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",gap:"1rem",alignItems:e?"stretch":"center",justifyContent:"space-between"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:e?"center":"flex-start"},children:[S.jsx("span",{style:{fontSize:"1rem",color:q==="refill"?Dt<lt?"#ef4444":"#22c55e":"#2563eb",fontWeight:"bold"},children:q==="refill"?"Supplies":"Equipment"}),q==="refill"&&Dt<lt&&S.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1rem"},children:"⚠️ Low stock!"})]}),S.jsxs("div",{style:{display:"flex",gap:"0.8rem",justifyContent:e?"stretch":"flex-end"},children:[S.jsx("button",{onClick:Ht,style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#22c55e",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Save"}),S.jsx("button",{onClick:()=>O(null),style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Cancel"})]})]})]})}):S.jsxs(S.Fragment,{children:[S.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center",justifyContent:"space-between"},children:[S.jsx("span",{style:{fontWeight:"bold",fontSize:s(R.name),color:"#334155",wordBreak:"break-word",maxWidth:a(R.name)?"75%":"65%",whiteSpace:R.name.length>25?"normal":"nowrap",overflow:"hidden",textOverflow:R.name.length>25?"clip":"ellipsis",direction:a(R.name)?"rtl":"ltr",textAlign:a(R.name)?"right":"left",lineHeight:R.name.length>25?"1.2":"1.4",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:R.name.length>35?3:2,maxHeight:R.name.length>35?"2.8rem":"2.4rem"},title:R.name,children:R.name}),S.jsxs("span",{style:{fontSize:"1.2rem",color:"#64748b",minWidth:"60px",textAlign:"right"},children:["Amount: ",R.amount]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center",justifyContent:"space-between",flexWrap:"nowrap"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[S.jsx("span",{style:{fontSize:"1.1rem",color:R.type==="refill"?R.amount<(R.lowStockThreshold||it)?"#ef4444":"#22c55e":"#2563eb",fontWeight:"bold"},children:R.type==="refill"?"Supplies":"Equipment"}),R.type==="refill"&&R.amount<(R.lowStockThreshold||it)&&S.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1.1rem"},children:"⚠️ Low stock!"})]}),S.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[S.jsx("button",{onClick:()=>se(Z,"ctx"),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#2563eb",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Edit"}),S.jsx("button",{onClick:()=>gt(Z,"ctx"),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Delete"})]})]})]})},Z))]})]}),(!e||J==="celler")&&S.jsxs("div",{style:{gridColumn:e?"1":"7",flex:e?"none":"unset",background:"#fff",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1.5rem",minWidth:e?"0":"250px",height:e?"auto":"100%",overflowY:"auto",marginTop:e?"2rem":"0"},children:[S.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"1.2rem",color:"#2563eb"},children:"CELLER"}),S.jsxs("ul",{className:"item-list",style:{listStyle:"none",padding:0},children:[tt.length===0&&S.jsx("p",{style:{color:"#64748b"},children:"No items yet."}),[...tt].map((R,Z)=>({item:R,originalIdx:Z})).sort((R,Z)=>{const at=R.item.type==="refill"&&R.item.amount<(R.item.lowStockThreshold||it),At=Z.item.type==="refill"&&Z.item.amount<(Z.item.lowStockThreshold||it);return at&&!At?-1:!at&&At?1:(R.item.type==="refill"?-1:1)-(Z.item.type==="refill"?-1:1)}).map(({item:R,originalIdx:Z})=>S.jsx("li",{style:{margin:"0 auto 1.5rem auto",background:R.type==="refill"&&R.amount<(R.lowStockThreshold||it)?"#fee2e2":"#f1f5f9",borderRadius:"0.8rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1rem",maxWidth:"500px",width:"100%",minWidth:"0",overflowX:"hidden",boxSizing:"border-box",display:"flex",flexDirection:"column",gap:"0.6rem",border:R.type==="refill"&&R.amount<(R.lowStockThreshold||it)?"2px solid #ef4444":"none"},children:V===Z&&D==="celler"?S.jsx(os.Fragment,{children:S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem"},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Name:"}),S.jsx("input",{type:"text",value:j,onChange:at=>x(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]}),S.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",gap:"1rem"},children:[S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem",flex:1},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Amount:"}),S.jsx("input",{type:"number",value:Dt,onChange:at=>Qt(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem",flex:1},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Low Stock:"}),S.jsx("input",{type:"number",value:lt,onChange:at=>xt(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"}})]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem"},children:[S.jsx("label",{style:{fontSize:"0.9rem",color:"#64748b",fontWeight:"bold"},children:"Type:"}),S.jsxs("select",{value:q,onChange:at=>rt(at.target.value),style:{fontSize:"1.1rem",padding:"0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",width:"100%",boxSizing:"border-box"},children:[S.jsx("option",{value:"refill",children:"Supplies"}),S.jsx("option",{value:"stable",children:"Equipment"})]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:e?"column":"row",gap:"1rem",alignItems:e?"stretch":"center",justifyContent:"space-between"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:e?"center":"flex-start"},children:[S.jsx("span",{style:{fontSize:"1rem",color:q==="refill"?Dt<lt?"#ef4444":"#22c55e":"#2563eb",fontWeight:"bold"},children:q==="refill"?"Supplies":"Equipment"}),q==="refill"&&Dt<lt&&S.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1rem"},children:"⚠️ Low stock!"})]}),S.jsxs("div",{style:{display:"flex",gap:"0.8rem",justifyContent:e?"stretch":"flex-end"},children:[S.jsx("button",{onClick:Ht,style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#22c55e",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Save"}),S.jsx("button",{onClick:()=>O(null),style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Cancel"})]})]})]})}):S.jsxs(S.Fragment,{children:[S.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center",justifyContent:"space-between"},children:[S.jsx("span",{style:{fontWeight:"bold",fontSize:s(R.name),color:"#334155",wordBreak:"break-word",maxWidth:a(R.name)?"75%":"65%",whiteSpace:R.name.length>25?"normal":"nowrap",overflow:"hidden",textOverflow:R.name.length>25?"clip":"ellipsis",direction:a(R.name)?"rtl":"ltr",textAlign:a(R.name)?"right":"left",lineHeight:R.name.length>25?"1.2":"1.4",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:R.name.length>35?3:2,maxHeight:R.name.length>35?"2.8rem":"2.4rem"},title:R.name,children:R.name}),S.jsxs("span",{style:{fontSize:"1.2rem",color:"#64748b",minWidth:"60px",textAlign:"right"},children:["Amount: ",R.amount]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem",alignItems:"center",justifyContent:"space-between",flexWrap:"nowrap"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[S.jsx("span",{style:{fontSize:"1.1rem",color:R.type==="refill"?R.amount<(R.lowStockThreshold||it)?"#ef4444":"#22c55e":"#2563eb",fontWeight:"bold"},children:R.type==="refill"?"Supplies":"Equipment"}),R.type==="refill"&&R.amount<(R.lowStockThreshold||it)&&S.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1.1rem"},children:"⚠️ Low stock!"})]}),S.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[S.jsx("button",{onClick:()=>se(Z,"celler"),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#2563eb",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Edit"}),S.jsx("button",{onClick:()=>gt(Z,"celler"),style:{fontSize:"1.1rem",padding:"0.5rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Delete"})]})]})]})},Z))]})]})]})}Q1.createRoot(document.getElementById("root")).render(S.jsx(fe.StrictMode,{children:S.jsx(JA,{})}));
