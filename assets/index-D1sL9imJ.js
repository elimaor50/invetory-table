(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();function HE(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ch={exports:{}},Kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function GE(){if(sy)return Kl;sy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var p in o)p!=="key"&&(f[p]=o[p])}else f=o;return o=f.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:f}}return Kl.Fragment=e,Kl.jsx=i,Kl.jsxs=i,Kl}var ly;function QE(){return ly||(ly=1,Ch.exports=GE()),Ch.exports}var $=QE(),Dh={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function FE(){if(oy)return Dt;oy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.iterator;function I(C){return C===null||typeof C!="object"?null:(C=x&&C[x]||C["@@iterator"],typeof C=="function"?C:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,rt={};function tt(C,Z,it){this.props=C,this.context=Z,this.refs=rt,this.updater=it||Q}tt.prototype.isReactComponent={},tt.prototype.setState=function(C,Z){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Z,"setState")},tt.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function It(){}It.prototype=tt.prototype;function Tt(C,Z,it){this.props=C,this.context=Z,this.refs=rt,this.updater=it||Q}var ut=Tt.prototype=new It;ut.constructor=Tt,J(ut,tt.prototype),ut.isPureReactComponent=!0;var Ht=Array.isArray,At={H:null,A:null,T:null,S:null,V:null},Gt=Object.prototype.hasOwnProperty;function N(C,Z,it,W,ht,Ct){return it=Ct.ref,{$$typeof:s,type:C,key:Z,ref:it!==void 0?it:null,props:Ct}}function A(C,Z){return N(C.type,Z,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function V(C){var Z={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(it){return Z[it]})}var O=/\/+/g;function U(C,Z){return typeof C=="object"&&C!==null&&C.key!=null?V(""+C.key):Z.toString(36)}function R(){}function xe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(Z){C.status==="pending"&&(C.status="fulfilled",C.value=Z)},function(Z){C.status==="pending"&&(C.status="rejected",C.reason=Z)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ie(C,Z,it,W,ht){var Ct=typeof C;(Ct==="undefined"||Ct==="boolean")&&(C=null);var pt=!1;if(C===null)pt=!0;else switch(Ct){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(C.$$typeof){case s:case e:pt=!0;break;case S:return pt=C._init,ie(pt(C._payload),Z,it,W,ht)}}if(pt)return ht=ht(C),pt=W===""?"."+U(C,0):W,Ht(ht)?(it="",pt!=null&&(it=pt.replace(O,"$&/")+"/"),ie(ht,Z,it,"",function(en){return en})):ht!=null&&(w(ht)&&(ht=A(ht,it+(ht.key==null||C&&C.key===ht.key?"":(""+ht.key).replace(O,"$&/")+"/")+pt)),Z.push(ht)),1;pt=0;var ce=W===""?".":W+":";if(Ht(C))for(var Yt=0;Yt<C.length;Yt++)W=C[Yt],Ct=ce+U(W,Yt),pt+=ie(W,Z,it,Ct,ht);else if(Yt=I(C),typeof Yt=="function")for(C=Yt.call(C),Yt=0;!(W=C.next()).done;)W=W.value,Ct=ce+U(W,Yt++),pt+=ie(W,Z,it,Ct,ht);else if(Ct==="object"){if(typeof C.then=="function")return ie(xe(C),Z,it,W,ht);throw Z=String(C),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return pt}function H(C,Z,it){if(C==null)return C;var W=[],ht=0;return ie(C,W,"","",function(Ct){return Z.call(it,Ct,ht++)}),W}function nt(C){if(C._status===-1){var Z=C._result;Z=Z(),Z.then(function(it){(C._status===0||C._status===-1)&&(C._status=1,C._result=it)},function(it){(C._status===0||C._status===-1)&&(C._status=2,C._result=it)}),C._status===-1&&(C._status=0,C._result=Z)}if(C._status===1)return C._result.default;throw C._result}var ft=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function zt(){}return Dt.Children={map:H,forEach:function(C,Z,it){H(C,function(){Z.apply(this,arguments)},it)},count:function(C){var Z=0;return H(C,function(){Z++}),Z},toArray:function(C){return H(C,function(Z){return Z})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Dt.Component=tt,Dt.Fragment=i,Dt.Profiler=o,Dt.PureComponent=Tt,Dt.StrictMode=a,Dt.Suspense=v,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=At,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return At.H.useMemoCache(C)}},Dt.cache=function(C){return function(){return C.apply(null,arguments)}},Dt.cloneElement=function(C,Z,it){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=J({},C.props),ht=C.key,Ct=void 0;if(Z!=null)for(pt in Z.ref!==void 0&&(Ct=void 0),Z.key!==void 0&&(ht=""+Z.key),Z)!Gt.call(Z,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&Z.ref===void 0||(W[pt]=Z[pt]);var pt=arguments.length-2;if(pt===1)W.children=it;else if(1<pt){for(var ce=Array(pt),Yt=0;Yt<pt;Yt++)ce[Yt]=arguments[Yt+2];W.children=ce}return N(C.type,ht,void 0,void 0,Ct,W)},Dt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},Dt.createElement=function(C,Z,it){var W,ht={},Ct=null;if(Z!=null)for(W in Z.key!==void 0&&(Ct=""+Z.key),Z)Gt.call(Z,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ht[W]=Z[W]);var pt=arguments.length-2;if(pt===1)ht.children=it;else if(1<pt){for(var ce=Array(pt),Yt=0;Yt<pt;Yt++)ce[Yt]=arguments[Yt+2];ht.children=ce}if(C&&C.defaultProps)for(W in pt=C.defaultProps,pt)ht[W]===void 0&&(ht[W]=pt[W]);return N(C,Ct,void 0,void 0,null,ht)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(C){return{$$typeof:p,render:C}},Dt.isValidElement=w,Dt.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:nt}},Dt.memo=function(C,Z){return{$$typeof:_,type:C,compare:Z===void 0?null:Z}},Dt.startTransition=function(C){var Z=At.T,it={};At.T=it;try{var W=C(),ht=At.S;ht!==null&&ht(it,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(zt,ft)}catch(Ct){ft(Ct)}finally{At.T=Z}},Dt.unstable_useCacheRefresh=function(){return At.H.useCacheRefresh()},Dt.use=function(C){return At.H.use(C)},Dt.useActionState=function(C,Z,it){return At.H.useActionState(C,Z,it)},Dt.useCallback=function(C,Z){return At.H.useCallback(C,Z)},Dt.useContext=function(C){return At.H.useContext(C)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(C,Z){return At.H.useDeferredValue(C,Z)},Dt.useEffect=function(C,Z,it){var W=At.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,Z)},Dt.useId=function(){return At.H.useId()},Dt.useImperativeHandle=function(C,Z,it){return At.H.useImperativeHandle(C,Z,it)},Dt.useInsertionEffect=function(C,Z){return At.H.useInsertionEffect(C,Z)},Dt.useLayoutEffect=function(C,Z){return At.H.useLayoutEffect(C,Z)},Dt.useMemo=function(C,Z){return At.H.useMemo(C,Z)},Dt.useOptimistic=function(C,Z){return At.H.useOptimistic(C,Z)},Dt.useReducer=function(C,Z,it){return At.H.useReducer(C,Z,it)},Dt.useRef=function(C){return At.H.useRef(C)},Dt.useState=function(C){return At.H.useState(C)},Dt.useSyncExternalStore=function(C,Z,it){return At.H.useSyncExternalStore(C,Z,it)},Dt.useTransition=function(){return At.H.useTransition()},Dt.version="19.1.1",Dt}var uy;function dd(){return uy||(uy=1,Dh.exports=FE()),Dh.exports}var Rt=dd();const YE=HE(Rt);var Ih={exports:{}},Zl={},xh={exports:{}},Vh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function XE(){return cy||(cy=1,function(s){function e(H,nt){var ft=H.length;H.push(nt);t:for(;0<ft;){var zt=ft-1>>>1,C=H[zt];if(0<o(C,nt))H[zt]=nt,H[ft]=C,ft=zt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var nt=H[0],ft=H.pop();if(ft!==nt){H[0]=ft;t:for(var zt=0,C=H.length,Z=C>>>1;zt<Z;){var it=2*(zt+1)-1,W=H[it],ht=it+1,Ct=H[ht];if(0>o(W,ft))ht<C&&0>o(Ct,W)?(H[zt]=Ct,H[ht]=ft,zt=ht):(H[zt]=W,H[it]=ft,zt=it);else if(ht<C&&0>o(Ct,ft))H[zt]=Ct,H[ht]=ft,zt=ht;else break t}}return nt}function o(H,nt){var ft=H.sortIndex-nt.sortIndex;return ft!==0?ft:H.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],S=1,x=null,I=3,Q=!1,J=!1,rt=!1,tt=!1,It=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function Ht(H){for(var nt=i(_);nt!==null;){if(nt.callback===null)a(_);else if(nt.startTime<=H)a(_),nt.sortIndex=nt.expirationTime,e(v,nt);else break;nt=i(_)}}function At(H){if(rt=!1,Ht(H),!J)if(i(v)!==null)J=!0,Gt||(Gt=!0,U());else{var nt=i(_);nt!==null&&ie(At,nt.startTime-H)}}var Gt=!1,N=-1,A=5,w=-1;function V(){return tt?!0:!(s.unstable_now()-w<A)}function O(){if(tt=!1,Gt){var H=s.unstable_now();w=H;var nt=!0;try{t:{J=!1,rt&&(rt=!1,Tt(N),N=-1),Q=!0;var ft=I;try{e:{for(Ht(H),x=i(v);x!==null&&!(x.expirationTime>H&&V());){var zt=x.callback;if(typeof zt=="function"){x.callback=null,I=x.priorityLevel;var C=zt(x.expirationTime<=H);if(H=s.unstable_now(),typeof C=="function"){x.callback=C,Ht(H),nt=!0;break e}x===i(v)&&a(v),Ht(H)}else a(v);x=i(v)}if(x!==null)nt=!0;else{var Z=i(_);Z!==null&&ie(At,Z.startTime-H),nt=!1}}break t}finally{x=null,I=ft,Q=!1}nt=void 0}}finally{nt?U():Gt=!1}}}var U;if(typeof ut=="function")U=function(){ut(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,xe=R.port2;R.port1.onmessage=O,U=function(){xe.postMessage(null)}}else U=function(){It(O,0)};function ie(H,nt){N=It(function(){H(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(H){switch(I){case 1:case 2:case 3:var nt=3;break;default:nt=I}var ft=I;I=nt;try{return H()}finally{I=ft}},s.unstable_requestPaint=function(){tt=!0},s.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ft=I;I=H;try{return nt()}finally{I=ft}},s.unstable_scheduleCallback=function(H,nt,ft){var zt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?zt+ft:zt):ft=zt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ft+C,H={id:S++,callback:nt,priorityLevel:H,startTime:ft,expirationTime:C,sortIndex:-1},ft>zt?(H.sortIndex=ft,e(_,H),i(v)===null&&H===i(_)&&(rt?(Tt(N),N=-1):rt=!0,ie(At,ft-zt))):(H.sortIndex=C,e(v,H),J||Q||(J=!0,Gt||(Gt=!0,U()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var nt=I;return function(){var ft=I;I=nt;try{return H.apply(this,arguments)}finally{I=ft}}}}(Vh)),Vh}var fy;function KE(){return fy||(fy=1,xh.exports=XE()),xh.exports}var Nh={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function ZE(){if(hy)return rn;hy=1;var s=dd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(v,_,S){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:v,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,rn.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return f(v,_,null,S)},rn.flushSync=function(v){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=S,a.d.f()}},rn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},rn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},rn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,x=p(S,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:I,fetchPriority:Q}):S==="script"&&a.d.X(v,{crossOrigin:x,integrity:I,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},rn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=p(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},rn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,x=p(S,_.crossOrigin);a.d.L(v,S,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},rn.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=p(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},rn.requestFormReset=function(v){a.d.r(v)},rn.unstable_batchedUpdates=function(v,_){return v(_)},rn.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},rn.version="19.1.1",rn}var dy;function $E(){if(dy)return Nh.exports;dy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Nh.exports=ZE(),Nh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function JE(){if(my)return Zl;my=1;var s=KE(),e=dd(),i=$E();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(f(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===r)return p(c),t;if(h===l)return p(c),n;h=h.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=h;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=h;break}if(E===l){y=!0,l=c,r=h;break}E=E.sibling}if(!y){for(E=h.child;E;){if(E===r){y=!0,r=h,l=c;break}if(E===l){y=!0,l=h,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),rt=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),It=Symbol.for("react.provider"),Tt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),Ht=Symbol.for("react.forward_ref"),At=Symbol.for("react.suspense"),Gt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case tt:return"Profiler";case rt:return"StrictMode";case At:return"Suspense";case Gt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case ut:return(t.displayName||"Context")+".Provider";case Tt:return(t._context.displayName||"Context")+".Consumer";case Ht:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:xe(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return xe(t(n))}catch{}}return null}var ie=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},zt=[],C=-1;function Z(t){return{current:t}}function it(t){0>C||(t.current=zt[C],zt[C]=null,C--)}function W(t,n){C++,zt[C]=t.current,t.current=n}var ht=Z(null),Ct=Z(null),pt=Z(null),ce=Z(null);function Yt(t,n){switch(W(pt,n),W(Ct,t),W(ht,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Mp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Mp(n),t=Up(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(ht),W(ht,t)}function en(){it(ht),it(Ct),it(pt)}function On(t){t.memoizedState!==null&&W(ce,t);var n=ht.current,r=Up(n,t.type);n!==r&&(W(Ct,t),W(ht,r))}function on(t){Ct.current===t&&(it(ht),it(Ct)),ce.current===t&&(it(ce),Gl._currentValue=ft)}var $n=Object.prototype.hasOwnProperty,Jn=s.unstable_scheduleCallback,li=s.unstable_cancelCallback,le=s.unstable_shouldYield,sr=s.unstable_requestPaint,Ve=s.unstable_now,Xs=s.unstable_getCurrentPriorityLevel,Vi=s.unstable_ImmediatePriority,Mn=s.unstable_UserBlockingPriority,Wn=s.unstable_NormalPriority,za=s.unstable_LowPriority,Ni=s.unstable_IdlePriority,$r=s.log,lr=s.unstable_setDisableYieldValue,oe=null,Lt=null;function Ne(t){if(typeof $r=="function"&&lr(t),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(oe,t)}catch{}}var Oe=Math.clz32?Math.clz32:En,La=Math.log,Ks=Math.LN2;function En(t){return t>>>=0,t===0?32:31-(La(t)/Ks|0)|0}var oi=256,Un=4194304;function un(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function or(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?c=un(l):(y&=E,y!==0?c=un(y):r||(r=E&~t,r!==0&&(c=un(r))))):(E=l&~h,E!==0?c=un(E):y!==0?c=un(y):r||(r=l&~t,r!==0&&(c=un(r)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,r=n&-n,h>=r||h===32&&(r&4194048)!==0)?n:c}function ti(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Pa(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ka(){var t=oi;return oi<<=1,(oi&4194048)===0&&(oi=256),t}function ui(){var t=Un;return Un<<=1,(Un&62914560)===0&&(Un=4194304),t}function Tn(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function cn(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Jr(t,n,r,l,c,h){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-Oe(r),X=1<<G;E[G]=0,b[G]=-1;var k=P[G];if(k!==null)for(P[G]=null,G=0;G<k.length;G++){var B=k[G];B!==null&&(B.lane&=-536870913)}r&=~X}l!==0&&zn(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(y&~n))}function zn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Oe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function ur(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Oe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function ci(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function cr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Sn(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:ty(t.type))}function Ba(t,n){var r=nt.p;try{return nt.p=t,n()}finally{nt.p=r}}var re=Math.random().toString(36).slice(2),Ee="__reactFiber$"+re,me="__reactProps$"+re,mn="__reactContainer$"+re,Wr="__reactEvents$"+re,Zs="__reactListeners$"+re,j="__reactHandles$"+re,ct="__reactResources$"+re,ot="__reactMarker$"+re;function yt(t){delete t[Ee],delete t[me],delete t[Wr],delete t[Zs],delete t[j]}function St(t){var n=t[Ee];if(n)return n;for(var r=t.parentNode;r;){if(n=r[mn]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=kp(t);t!==null;){if(r=t[Ee])return r;t=kp(t)}return n}t=r,r=t.parentNode}return null}function ge(t){if(t=t[Ee]||t[mn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Me(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ue(t){var n=t[ct];return n||(n=t[ct]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function pe(t){t[ot]=!0}var ja=new Set,ta={};function An(t,n){ei(t,n),ei(t+"Capture",n)}function ei(t,n){for(ta[t]=n,t=0;t<n.length;t++)ja.add(n[t])}var Oi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mi={},Ui={};function So(t){return $n.call(Ui,t)?!0:$n.call(Mi,t)?!1:Oi.test(t)?Ui[t]=!0:(Mi[t]=!0,!1)}function fr(t,n,r){if(So(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function fi(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ye(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var ea,Ao;function zi(t){if(ea===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ea=n&&n[1]||"",Ao=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+t+Ao}var qa=!1;function Ha(t,n){if(!t||qa)return"";qa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(B){var k=B}Reflect.construct(t,[],X)}else{try{X.call()}catch(B){k=B}t.call(X.prototype)}}else{try{throw Error()}catch(B){k=B}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),y=h[0],E=h[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{qa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?zi(r):""}function $s(t){switch(t.tag){case 26:case 27:case 5:return zi(t.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return Ha(t.type,!1);case 11:return Ha(t.type.render,!1);case 1:return Ha(t.type,!0);case 31:return zi("Activity");default:return""}}function Ga(t){try{var n="";do n+=$s(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function fn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Js(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xc(t){var n=Js(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,h=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,h.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qa(t){t._valueTracker||(t._valueTracker=xc(t))}function Ws(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Js(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function na(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vc=/[\n"\\]/g;function be(t){return t.replace(Vc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function bn(t,n,r,l,c,h,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+fn(n)):t.value!==""+fn(n)&&(t.value=""+fn(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?hr(t,y,fn(n)):r!=null?hr(t,y,fn(r)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+fn(E):t.removeAttribute("name")}function ia(t,n,r,l,c,h,y,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;r=r!=null?""+fn(r):"",n=n!=null?""+fn(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function hr(t,n,r){n==="number"&&na(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Li(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+fn(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Jt(t,n,r){if(n!=null&&(n=""+fn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+fn(r):""}function ra(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ie(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=fn(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function Ln(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var aa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bo(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||aa.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function tl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&bo(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&bo(t,h,n[h])}function el(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(t){return Oc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Pi=null;function Pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ki=null,Bi=null;function nl(t){var n=ge(t);if(n&&(t=n.stateNode)){var r=t[me]||null;t:switch(t=n.stateNode,n.type){case"input":if(bn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+be(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[me]||null;if(!c)throw Error(a(90));bn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ws(l)}break t;case"textarea":Jt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Li(t,!!r.multiple,n,!1)}}}var hi=!1;function Ro(t,n,r){if(hi)return t(n,r);hi=!0;try{var l=t(n);return l}finally{if(hi=!1,(ki!==null||Bi!==null)&&(_u(),ki&&(n=ki,t=Bi,Bi=ki=null,nl(n),t)))for(n=0;n<t.length;n++)nl(t[n])}}function sa(t,n){var r=t.stateNode;if(r===null)return null;var l=r[me]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kn=!1;if(ni)try{var la={};Object.defineProperty(la,"passive",{get:function(){kn=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{kn=!1}var di=null,dr=null,ji=null;function il(){if(ji)return ji;var t,n=dr,r=n.length,l,c="value"in di?di.value:di.textContent,h=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[h-l];l++);return ji=c.slice(t,1<l?1-l:void 0)}function mi(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function gi(){return!0}function rl(){return!1}function je(t){function n(r,l,c,h,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?gi:rl,this.isPropagationStopped=rl,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),n}var Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=je(Xt),oa=S({},Xt,{view:0,detail:0}),wo=je(oa),Xa,Ka,pi,ua=S({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pi&&(pi&&t.type==="mousemove"?(Xa=t.screenX-pi.screenX,Ka=t.screenY-pi.screenY):Ka=Xa=0,pi=t),Xa)},movementY:function(t){return"movementY"in t?t.movementY:Ka}}),Bn=je(ua),Co=S({},ua,{dataTransfer:0}),Mc=je(Co),ca=S({},oa,{relatedTarget:0}),Za=je(ca),al=S({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0}),$a=je(al),Do=S({},Xt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ja=je(Do),Uc=S({},Xt,{data:0}),sl=je(Uc),fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Io={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ll(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=xo[t])?!!n[t]:!1}function ha(){return ll}var Vo=S({},oa,{key:function(t){if(t.key){var n=fa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=mi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Io[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(t){return t.type==="keypress"?mi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wa=je(Vo),No=S({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ol=je(No),qi=S({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),Oo=je(qi),Mo=S({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uo=je(Mo),zo=S({},ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ts=je(zo),hn=S({},Xt,{newState:0,oldState:0}),Lo=je(hn),Po=[9,13,27,32],yi=ni&&"CompositionEvent"in window,u=null;ni&&"documentMode"in document&&(u=document.documentMode);var m=ni&&"TextEvent"in window&&!u,g=ni&&(!yi||u&&8<u&&11>=u),T=" ",z=!1;function q(t,n){switch(t){case"keyup":return Po.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pt=!1;function ze(t,n){switch(t){case"compositionend":return et(n);case"keypress":return n.which!==32?null:(z=!0,T);case"textInput":return t=n.data,t===T&&z?null:t;default:return null}}function kt(t,n){if(Pt)return t==="compositionend"||!yi&&q(t,n)?(t=il(),ji=dr=di=null,Pt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var qe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Le(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!qe[t.type]:n==="textarea"}function Hi(t,n,r,l){ki?Bi?Bi.push(l):Bi=[l]:ki=l,n=bu(n,"onChange"),0<n.length&&(r=new Ya("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Xe=null,_i=null;function ul(t){Ip(t,0)}function ko(t){var n=Me(t);if(Ws(n))return t}function Zd(t,n){if(t==="change")return n}var $d=!1;if(ni){var zc;if(ni){var Lc="oninput"in document;if(!Lc){var Jd=document.createElement("div");Jd.setAttribute("oninput","return;"),Lc=typeof Jd.oninput=="function"}zc=Lc}else zc=!1;$d=zc&&(!document.documentMode||9<document.documentMode)}function Wd(){Xe&&(Xe.detachEvent("onpropertychange",tm),_i=Xe=null)}function tm(t){if(t.propertyName==="value"&&ko(_i)){var n=[];Hi(n,_i,t,Pn(t)),Ro(ul,n)}}function vv(t,n,r){t==="focusin"?(Wd(),Xe=n,_i=r,Xe.attachEvent("onpropertychange",tm)):t==="focusout"&&Wd()}function Ev(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ko(_i)}function Tv(t,n){if(t==="click")return ko(n)}function Sv(t,n){if(t==="input"||t==="change")return ko(n)}function Av(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Rn=typeof Object.is=="function"?Object.is:Av;function cl(t,n){if(Rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!$n.call(n,c)||!Rn(t[c],n[c]))return!1}return!0}function em(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nm(t,n){var r=em(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=em(r)}}function im(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?im(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function rm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=na(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=na(t.document)}return n}function Pc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var bv=ni&&"documentMode"in document&&11>=document.documentMode,es=null,kc=null,fl=null,Bc=!1;function am(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bc||es==null||es!==na(l)||(l=es,"selectionStart"in l&&Pc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&cl(fl,l)||(fl=l,l=bu(kc,"onSelect"),0<l.length&&(n=new Ya("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=es)))}function da(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ns={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},jc={},sm={};ni&&(sm=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function ma(t){if(jc[t])return jc[t];if(!ns[t])return t;var n=ns[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in sm)return jc[t]=n[r];return t}var lm=ma("animationend"),om=ma("animationiteration"),um=ma("animationstart"),Rv=ma("transitionrun"),wv=ma("transitionstart"),Cv=ma("transitioncancel"),cm=ma("transitionend"),fm=new Map,qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qc.push("scrollEnd");function ii(t,n){fm.set(t,n),An(n,[t])}var hm=new WeakMap;function jn(t,n){if(typeof t=="object"&&t!==null){var r=hm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ga(n)},hm.set(t,n),n)}return{value:t,source:n,stack:Ga(n)}}var qn=[],is=0,Hc=0;function Bo(){for(var t=is,n=Hc=is=0;n<t;){var r=qn[n];qn[n++]=null;var l=qn[n];qn[n++]=null;var c=qn[n];qn[n++]=null;var h=qn[n];if(qn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}h!==0&&dm(r,c,h)}}function jo(t,n,r,l){qn[is++]=t,qn[is++]=n,qn[is++]=r,qn[is++]=l,Hc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gc(t,n,r,l){return jo(t,n,r,l),qo(t)}function rs(t,n){return jo(t,null,null,n),qo(t)}function dm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,h=t.return;h!==null;)h.childLanes|=r,l=h.alternate,l!==null&&(l.childLanes|=r),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-Oe(r),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),h):null}function qo(t){if(50<zl)throw zl=0,$f=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var as={};function Dv(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,n,r,l){return new Dv(t,n,r,l)}function Qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gi(t,n){var r=t.alternate;return r===null?(r=wn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function mm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ho(t,n,r,l,c,h){var y=0;if(l=t,typeof t=="function")Qc(t)&&(y=1);else if(typeof t=="string")y=xE(t,r,ht.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=wn(31,r,n,c),t.elementType=w,t.lanes=h,t;case J:return ga(r.children,c,h,n);case rt:y=8,c|=24;break;case tt:return t=wn(12,r,n,c|2),t.elementType=tt,t.lanes=h,t;case At:return t=wn(13,r,n,c),t.elementType=At,t.lanes=h,t;case Gt:return t=wn(19,r,n,c),t.elementType=Gt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case It:case ut:y=10;break t;case Tt:y=9;break t;case Ht:y=11;break t;case N:y=14;break t;case A:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=wn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function ga(t,n,r,l){return t=wn(7,t,l,n),t.lanes=r,t}function Fc(t,n,r){return t=wn(6,t,null,n),t.lanes=r,t}function Yc(t,n,r){return n=wn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ss=[],ls=0,Go=null,Qo=0,Hn=[],Gn=0,pa=null,Qi=1,Fi="";function ya(t,n){ss[ls++]=Qo,ss[ls++]=Go,Go=t,Qo=n}function gm(t,n,r){Hn[Gn++]=Qi,Hn[Gn++]=Fi,Hn[Gn++]=pa,pa=t;var l=Qi;t=Fi;var c=32-Oe(l)-1;l&=~(1<<c),r+=1;var h=32-Oe(n)+c;if(30<h){var y=c-c%5;h=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Qi=1<<32-Oe(n)+c|r<<c|l,Fi=h+t}else Qi=1<<h|r<<c|l,Fi=t}function Xc(t){t.return!==null&&(ya(t,1),gm(t,1,0))}function Kc(t){for(;t===Go;)Go=ss[--ls],ss[ls]=null,Qo=ss[--ls],ss[ls]=null;for(;t===pa;)pa=Hn[--Gn],Hn[Gn]=null,Fi=Hn[--Gn],Hn[Gn]=null,Qi=Hn[--Gn],Hn[Gn]=null}var dn=null,ye=null,Ft=!1,_a=null,vi=!1,Zc=Error(a(519));function va(t){var n=Error(a(418,""));throw ml(jn(n,t)),Zc}function pm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ee]=t,n[me]=l,r){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(r=0;r<Pl.length;r++)Ot(Pl[r],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),ia(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Qa(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),ra(n,l.value,l.defaultValue,l.children),Qa(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Op(n.textContent,r)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=Ru),n=!0):n=!1,n||va(t)}function ym(t){for(dn=t.return;dn;)switch(dn.tag){case 5:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:dn=dn.return}}function hl(t){if(t!==dn)return!1;if(!Ft)return ym(t),Ft=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||dh(t.type,t.memoizedProps)),r=!r),r&&ye&&va(t),ym(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ye=ai(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ye=null}}else n===27?(n=ye,Ir(t.type)?(t=yh,yh=null,ye=t):ye=n):ye=dn?ai(t.stateNode.nextSibling):null;return!0}function dl(){ye=dn=null,Ft=!1}function _m(){var t=_a;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),_a=null),t}function ml(t){_a===null?_a=[t]:_a.push(t)}var $c=Z(null),Ea=null,Yi=null;function mr(t,n,r){W($c,n._currentValue),n._currentValue=r}function Xi(t){t._currentValue=$c.current,it($c)}function Jc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Wc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var y=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){h.lanes|=r,E=h.alternate,E!==null&&(E.lanes|=r),Jc(h.return,r,t),l||(y=null);break t}h=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,h=y.alternate,h!==null&&(h.lanes|=r),Jc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function gl(t,n,r,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;Rn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===ce.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Gl):t=[Gl])}c=c.return}t!==null&&Wc(n,t,r,l),n.flags|=262144}function Fo(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ta(t){Ea=t,Yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return vm(Ea,t)}function Yo(t,n){return Ea===null&&Ta(t),vm(t,n)}function vm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Yi===null){if(t===null)throw Error(a(308));Yi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Yi=Yi.next=n;return r}var Iv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},xv=s.unstable_scheduleCallback,Vv=s.unstable_NormalPriority,Pe={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new Iv,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&xv(Vv,function(){t.controller.abort()})}var yl=null,ef=0,os=0,us=null;function Nv(t,n){if(yl===null){var r=yl=[];ef=0,os=rh(),us={status:"pending",value:void 0,then:function(l){r.push(l)}}}return ef++,n.then(Em,Em),n}function Em(){if(--ef===0&&yl!==null){us!==null&&(us.status="fulfilled");var t=yl;yl=null,os=0,us=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Ov(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Tm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Nv(t,n),Tm!==null&&Tm(t,n)};var Sa=Z(null);function nf(){var t=Sa.current;return t!==null?t:ae.pooledCache}function Xo(t,n){n===null?W(Sa,Sa.current):W(Sa,n.pool)}function Sm(){var t=nf();return t===null?null:{parent:Pe._currentValue,pool:t}}var _l=Error(a(460)),Am=Error(a(474)),Ko=Error(a(542)),rf={then:function(){}};function bm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zo(){}function Rm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Zo,Zo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Cm(t),t;default:if(typeof n.status=="string")n.then(Zo,Zo);else{if(t=ae,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Cm(t),t}throw vl=n,_l}}var vl=null;function wm(){if(vl===null)throw Error(a(459));var t=vl;return vl=null,t}function Cm(t){if(t===_l||t===Ko)throw Error(a(483))}var gr=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function pr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Zt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=qo(t),dm(t,null,r),n}return jo(t,l,n,r),qo(t)}function El(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ur(t,r)}}function lf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?c=h=y:h=h.next=y,r=r.next}while(r!==null);h===null?c=h=n:h=h.next=n}else c=h=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var of=!1;function Tl(){if(of){var t=us;if(t!==null)throw t}}function Sl(t,n,r,l){of=!1;var c=t.updateQueue;gr=!1;var h=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?h=P:y.next=P,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=b))}if(h!==null){var X=c.baseState;y=0,G=P=b=null,E=h;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(Bt&k)===k:(l&k)===k){k!==0&&k===os&&(of=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Et=t,gt=E;k=n;var ee=r;switch(gt.tag){case 1:if(Et=gt.payload,typeof Et=="function"){X=Et.call(ee,X,k);break t}X=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=gt.payload,k=typeof Et=="function"?Et.call(ee,X,k):Et,k==null)break t;X=S({},X,k);break t;case 2:gr=!0}}k=E.callback,k!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=B,b=X):G=G.next=B,y|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);G===null&&(b=X),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=G,h===null&&(c.shared.lanes=0),Rr|=y,t.lanes=y,t.memoizedState=X}}function Dm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Im(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Dm(r[t],n)}var cs=Z(null),$o=Z(0);function xm(t,n){t=er,W($o,t),W(cs,n),er=t|n.baseLanes}function uf(){W($o,er),W(cs,cs.current)}function cf(){er=$o.current,it(cs),it($o)}var _r=0,xt=null,Wt=null,Re=null,Jo=!1,fs=!1,Aa=!1,Wo=0,Al=0,hs=null,Mv=0;function Te(){throw Error(a(321))}function ff(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Rn(t[r],n[r]))return!1;return!0}function hf(t,n,r,l,c,h){return _r=h,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?dg:mg,Aa=!1,h=r(l,c),Aa=!1,fs&&(h=Nm(n,r,l,c)),Vm(t),h}function Vm(t){H.H=au;var n=Wt!==null&&Wt.next!==null;if(_r=0,Re=Wt=xt=null,Jo=!1,Al=0,hs=null,n)throw Error(a(300));t===null||He||(t=t.dependencies,t!==null&&Fo(t)&&(He=!0))}function Nm(t,n,r,l){xt=t;var c=0;do{if(fs&&(hs=null),Al=0,fs=!1,25<=c)throw Error(a(301));if(c+=1,Re=Wt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}H.H=jv,h=n(r,l)}while(fs);return h}function Uv(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?bl(n):n,t=t.useState()[0],(Wt!==null?Wt.memoizedState:null)!==t&&(xt.flags|=1024),n}function df(){var t=Wo!==0;return Wo=0,t}function mf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function gf(t){if(Jo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Jo=!1}_r=0,Re=Wt=xt=null,fs=!1,Al=Wo=0,hs=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?xt.memoizedState=Re=t:Re=Re.next=t,Re}function we(){if(Wt===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var n=Re===null?xt.memoizedState:Re.next;if(n!==null)Re=n,Wt=t;else{if(t===null)throw xt.alternate===null?Error(a(467)):Error(a(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Re===null?xt.memoizedState=Re=t:Re=Re.next=t}return Re}function pf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(t){var n=Al;return Al+=1,hs===null&&(hs=[]),t=Rm(hs,t,n),n=xt,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?dg:mg),t}function tu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===ut)return nn(t)}throw Error(a(438,String(t)))}function yf(t){var n=null,r=xt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=xt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=pf(),xt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function Ki(t,n){return typeof n=="function"?n(t):n}function eu(t){var n=we();return _f(n,Wt,t)}function _f(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var y=c.next;c.next=h.next,h.next=y}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=y=null,b=null,P=n,G=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(Bt&X)===X:(_r&X)===X){var k=P.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===os&&(G=!0);else if((_r&k)===k){P=P.next,k===os&&(G=!0);continue}else X={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=X,y=h):b=b.next=X,xt.lanes|=k,Rr|=k;X=P.action,Aa&&r(h,X),h=P.hasEagerState?P.eagerState:r(h,X)}else k={lane:X,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=k,y=h):b=b.next=k,xt.lanes|=X,Rr|=X;P=P.next}while(P!==null&&P!==n);if(b===null?y=h:b.next=E,!Rn(h,t.memoizedState)&&(He=!0,G&&(r=us,r!==null)))throw r;t.memoizedState=h,t.baseState=y,t.baseQueue=b,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function vf(t){var n=we(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,h=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do h=t(h,y.action),y=y.next;while(y!==c);Rn(h,n.memoizedState)||(He=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),r.lastRenderedState=h}return[h,l]}function Om(t,n,r){var l=xt,c=we(),h=Ft;if(h){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!Rn((Wt||c).memoizedState,r);y&&(c.memoizedState=r,He=!0),c=c.queue;var E=zm.bind(null,l,c,t);if(Rl(2048,8,E,[t]),c.getSnapshot!==n||y||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,ds(9,nu(),Um.bind(null,l,c,r,n),null),ae===null)throw Error(a(349));h||(_r&124)!==0||Mm(l,n,r)}return r}function Mm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=xt.updateQueue,n===null?(n=pf(),xt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Um(t,n,r,l){n.value=r,n.getSnapshot=l,Lm(n)&&Pm(t)}function zm(t,n,r){return r(function(){Lm(n)&&Pm(t)})}function Lm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Rn(t,r)}catch{return!0}}function Pm(t){var n=rs(t,2);n!==null&&Vn(n,t,2)}function Ef(t){var n=gn();if(typeof t=="function"){var r=t;if(t=r(),Aa){Ne(!0);try{r()}finally{Ne(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},n}function km(t,n,r,l){return t.baseState=r,_f(t,Wt,typeof l=="function"?l:Ki)}function zv(t,n,r,l,c){if(ru(t))throw Error(a(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};H.T!==null?r(!0):h.isTransition=!1,l(h),r=n.pending,r===null?(h.next=n.pending=h,Bm(n,h)):(h.next=r.next,n.pending=r.next=h)}}function Bm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=H.T,y={};H.T=y;try{var E=r(c,l),b=H.S;b!==null&&b(y,E),jm(t,n,E)}catch(P){Tf(t,n,P)}finally{H.T=h}}else try{h=r(c,l),jm(t,n,h)}catch(P){Tf(t,n,P)}}function jm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){qm(t,n,l)},function(l){return Tf(t,n,l)}):qm(t,n,r)}function qm(t,n,r){n.status="fulfilled",n.value=r,Hm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Bm(t,r)))}function Tf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Hm(n),n=n.next;while(n!==l)}t.action=null}function Hm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Gm(t,n){return n}function Qm(t,n){if(Ft){var r=ae.formState;if(r!==null){t:{var l=xt;if(Ft){if(ye){e:{for(var c=ye,h=vi;c.nodeType!==8;){if(!h){c=null;break e}if(c=ai(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){ye=ai(c.nextSibling),l=c.data==="F!";break t}}va(l)}l=!1}l&&(n=r[0])}}return r=gn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gm,lastRenderedState:n},r.queue=l,r=cg.bind(null,xt,l),l.dispatch=r,l=Ef(!1),h=wf.bind(null,xt,!1,l.queue),l=gn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=zv.bind(null,xt,c,h,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Fm(t){var n=we();return Ym(n,Wt,t)}function Ym(t,n,r){if(n=_f(t,n,Gm)[0],t=eu(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=bl(n)}catch(y){throw y===_l?Ko:y}else l=n;n=we();var c=n.queue,h=c.dispatch;return r!==n.memoizedState&&(xt.flags|=2048,ds(9,nu(),Lv.bind(null,c,r),null)),[l,h,t]}function Lv(t,n){t.action=n}function Xm(t){var n=we(),r=Wt;if(r!==null)return Ym(n,r,t);we(),n=n.memoizedState,r=we();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function ds(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=xt.updateQueue,n===null&&(n=pf(),xt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function nu(){return{destroy:void 0,resource:void 0}}function Km(){return we().memoizedState}function iu(t,n,r,l){var c=gn();l=l===void 0?null:l,xt.flags|=t,c.memoizedState=ds(1|n,nu(),r,l)}function Rl(t,n,r,l){var c=we();l=l===void 0?null:l;var h=c.memoizedState.inst;Wt!==null&&l!==null&&ff(l,Wt.memoizedState.deps)?c.memoizedState=ds(n,h,r,l):(xt.flags|=t,c.memoizedState=ds(1|n,h,r,l))}function Zm(t,n){iu(8390656,8,t,n)}function $m(t,n){Rl(2048,8,t,n)}function Jm(t,n){return Rl(4,2,t,n)}function Wm(t,n){return Rl(4,4,t,n)}function tg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function eg(t,n,r){r=r!=null?r.concat([t]):null,Rl(4,4,tg.bind(null,n,t),r)}function Sf(){}function ng(t,n){var r=we();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&ff(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function ig(t,n){var r=we();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&ff(n,l[1]))return l[0];if(l=t(),Aa){Ne(!0);try{t()}finally{Ne(!1)}}return r.memoizedState=[l,n],l}function Af(t,n,r){return r===void 0||(_r&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=sp(),xt.lanes|=t,Rr|=t,r)}function rg(t,n,r,l){return Rn(r,n)?r:cs.current!==null?(t=Af(t,r,l),Rn(t,n)||(He=!0),t):(_r&42)===0?(He=!0,t.memoizedState=r):(t=sp(),xt.lanes|=t,Rr|=t,n)}function ag(t,n,r,l,c){var h=nt.p;nt.p=h!==0&&8>h?h:8;var y=H.T,E={};H.T=E,wf(t,!1,n,r);try{var b=c(),P=H.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=Ov(b,l);wl(t,n,G,xn(t))}else wl(t,n,l,xn(t))}catch(X){wl(t,n,{then:function(){},status:"rejected",reason:X},xn())}finally{nt.p=h,H.T=y}}function Pv(){}function bf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=sg(t).queue;ag(t,c,n,ft,r===null?Pv:function(){return lg(t),r(l)})}function sg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ft},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function lg(t){var n=sg(t).next.queue;wl(t,n,{},xn())}function Rf(){return nn(Gl)}function og(){return we().memoizedState}function ug(){return we().memoizedState}function kv(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=xn();t=pr(r);var l=yr(n,t,r);l!==null&&(Vn(l,n,r),El(l,n,r)),n={cache:tf()},t.payload=n;return}n=n.return}}function Bv(t,n,r){var l=xn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ru(t)?fg(n,r):(r=Gc(t,n,r,l),r!==null&&(Vn(r,t,l),hg(r,n,l)))}function cg(t,n,r){var l=xn();wl(t,n,r,l)}function wl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ru(t))fg(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var y=n.lastRenderedState,E=h(y,r);if(c.hasEagerState=!0,c.eagerState=E,Rn(E,y))return jo(t,n,c,0),ae===null&&Bo(),!1}catch{}finally{}if(r=Gc(t,n,c,l),r!==null)return Vn(r,t,l),hg(r,n,l),!0}return!1}function wf(t,n,r,l){if(l={lane:2,revertLane:rh(),action:l,hasEagerState:!1,eagerState:null,next:null},ru(t)){if(n)throw Error(a(479))}else n=Gc(t,r,l,2),n!==null&&Vn(n,t,2)}function ru(t){var n=t.alternate;return t===xt||n!==null&&n===xt}function fg(t,n){fs=Jo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function hg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ur(t,r)}}var au={readContext:nn,use:tu,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te},dg={readContext:nn,use:tu,useCallback:function(t,n){return gn().memoizedState=[t,n===void 0?null:n],t},useContext:nn,useEffect:Zm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,iu(4194308,4,tg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return iu(4194308,4,t,n)},useInsertionEffect:function(t,n){iu(4,2,t,n)},useMemo:function(t,n){var r=gn();n=n===void 0?null:n;var l=t();if(Aa){Ne(!0);try{t()}finally{Ne(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=gn();if(r!==void 0){var c=r(n);if(Aa){Ne(!0);try{r(n)}finally{Ne(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=Bv.bind(null,xt,t),[l.memoizedState,t]},useRef:function(t){var n=gn();return t={current:t},n.memoizedState=t},useState:function(t){t=Ef(t);var n=t.queue,r=cg.bind(null,xt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Sf,useDeferredValue:function(t,n){var r=gn();return Af(r,t,n)},useTransition:function(){var t=Ef(!1);return t=ag.bind(null,xt,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=xt,c=gn();if(Ft){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ae===null)throw Error(a(349));(Bt&124)!==0||Mm(l,n,r)}c.memoizedState=r;var h={value:r,getSnapshot:n};return c.queue=h,Zm(zm.bind(null,l,h,t),[t]),l.flags|=2048,ds(9,nu(),Um.bind(null,l,h,r,n),null),r},useId:function(){var t=gn(),n=ae.identifierPrefix;if(Ft){var r=Fi,l=Qi;r=(l&~(1<<32-Oe(l)-1)).toString(32)+r,n=""+n+"R"+r,r=Wo++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=Mv++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Rf,useFormState:Qm,useActionState:Qm,useOptimistic:function(t){var n=gn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=wf.bind(null,xt,!0,r),r.dispatch=n,[t,n]},useMemoCache:yf,useCacheRefresh:function(){return gn().memoizedState=kv.bind(null,xt)}},mg={readContext:nn,use:tu,useCallback:ng,useContext:nn,useEffect:$m,useImperativeHandle:eg,useInsertionEffect:Jm,useLayoutEffect:Wm,useMemo:ig,useReducer:eu,useRef:Km,useState:function(){return eu(Ki)},useDebugValue:Sf,useDeferredValue:function(t,n){var r=we();return rg(r,Wt.memoizedState,t,n)},useTransition:function(){var t=eu(Ki)[0],n=we().memoizedState;return[typeof t=="boolean"?t:bl(t),n]},useSyncExternalStore:Om,useId:og,useHostTransitionStatus:Rf,useFormState:Fm,useActionState:Fm,useOptimistic:function(t,n){var r=we();return km(r,Wt,t,n)},useMemoCache:yf,useCacheRefresh:ug},jv={readContext:nn,use:tu,useCallback:ng,useContext:nn,useEffect:$m,useImperativeHandle:eg,useInsertionEffect:Jm,useLayoutEffect:Wm,useMemo:ig,useReducer:vf,useRef:Km,useState:function(){return vf(Ki)},useDebugValue:Sf,useDeferredValue:function(t,n){var r=we();return Wt===null?Af(r,t,n):rg(r,Wt.memoizedState,t,n)},useTransition:function(){var t=vf(Ki)[0],n=we().memoizedState;return[typeof t=="boolean"?t:bl(t),n]},useSyncExternalStore:Om,useId:og,useHostTransitionStatus:Rf,useFormState:Xm,useActionState:Xm,useOptimistic:function(t,n){var r=we();return Wt!==null?km(r,Wt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:yf,useCacheRefresh:ug},ms=null,Cl=0;function su(t){var n=Cl;return Cl+=1,ms===null&&(ms=[]),Rm(ms,t,n)}function Dl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function lu(t,n){throw n.$$typeof===x?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function gg(t){var n=t._init;return n(t._payload)}function pg(t){function n(M,D){if(t){var L=M.deletions;L===null?(M.deletions=[D],M.flags|=16):L.push(D)}}function r(M,D){if(!t)return null;for(;D!==null;)n(M,D),D=D.sibling;return null}function l(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function c(M,D){return M=Gi(M,D),M.index=0,M.sibling=null,M}function h(M,D,L){return M.index=L,t?(L=M.alternate,L!==null?(L=L.index,L<D?(M.flags|=67108866,D):L):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function y(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,D,L,F){return D===null||D.tag!==6?(D=Fc(L,M.mode,F),D.return=M,D):(D=c(D,L),D.return=M,D)}function b(M,D,L,F){var lt=L.type;return lt===J?G(M,D,L.props.children,F,L.key):D!==null&&(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===A&&gg(lt)===D.type)?(D=c(D,L.props),Dl(D,L),D.return=M,D):(D=Ho(L.type,L.key,L.props,null,M.mode,F),Dl(D,L),D.return=M,D)}function P(M,D,L,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Yc(L,M.mode,F),D.return=M,D):(D=c(D,L.children||[]),D.return=M,D)}function G(M,D,L,F,lt){return D===null||D.tag!==7?(D=ga(L,M.mode,F,lt),D.return=M,D):(D=c(D,L),D.return=M,D)}function X(M,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Fc(""+D,M.mode,L),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case I:return L=Ho(D.type,D.key,D.props,null,M.mode,L),Dl(L,D),L.return=M,L;case Q:return D=Yc(D,M.mode,L),D.return=M,D;case A:var F=D._init;return D=F(D._payload),X(M,D,L)}if(ie(D)||U(D))return D=ga(D,M.mode,L,null),D.return=M,D;if(typeof D.then=="function")return X(M,su(D),L);if(D.$$typeof===ut)return X(M,Yo(M,D),L);lu(M,D)}return null}function k(M,D,L,F){var lt=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:E(M,D,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return L.key===lt?b(M,D,L,F):null;case Q:return L.key===lt?P(M,D,L,F):null;case A:return lt=L._init,L=lt(L._payload),k(M,D,L,F)}if(ie(L)||U(L))return lt!==null?null:G(M,D,L,F,null);if(typeof L.then=="function")return k(M,D,su(L),F);if(L.$$typeof===ut)return k(M,D,Yo(M,L),F);lu(M,L)}return null}function B(M,D,L,F,lt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return M=M.get(L)||null,E(D,M,""+F,lt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case I:return M=M.get(F.key===null?L:F.key)||null,b(D,M,F,lt);case Q:return M=M.get(F.key===null?L:F.key)||null,P(D,M,F,lt);case A:var Vt=F._init;return F=Vt(F._payload),B(M,D,L,F,lt)}if(ie(F)||U(F))return M=M.get(L)||null,G(D,M,F,lt,null);if(typeof F.then=="function")return B(M,D,L,su(F),lt);if(F.$$typeof===ut)return B(M,D,L,Yo(D,F),lt);lu(D,F)}return null}function Et(M,D,L,F){for(var lt=null,Vt=null,dt=D,_t=D=0,Qe=null;dt!==null&&_t<L.length;_t++){dt.index>_t?(Qe=dt,dt=null):Qe=dt.sibling;var Qt=k(M,dt,L[_t],F);if(Qt===null){dt===null&&(dt=Qe);break}t&&dt&&Qt.alternate===null&&n(M,dt),D=h(Qt,D,_t),Vt===null?lt=Qt:Vt.sibling=Qt,Vt=Qt,dt=Qe}if(_t===L.length)return r(M,dt),Ft&&ya(M,_t),lt;if(dt===null){for(;_t<L.length;_t++)dt=X(M,L[_t],F),dt!==null&&(D=h(dt,D,_t),Vt===null?lt=dt:Vt.sibling=dt,Vt=dt);return Ft&&ya(M,_t),lt}for(dt=l(dt);_t<L.length;_t++)Qe=B(dt,M,_t,L[_t],F),Qe!==null&&(t&&Qe.alternate!==null&&dt.delete(Qe.key===null?_t:Qe.key),D=h(Qe,D,_t),Vt===null?lt=Qe:Vt.sibling=Qe,Vt=Qe);return t&&dt.forEach(function(Mr){return n(M,Mr)}),Ft&&ya(M,_t),lt}function gt(M,D,L,F){if(L==null)throw Error(a(151));for(var lt=null,Vt=null,dt=D,_t=D=0,Qe=null,Qt=L.next();dt!==null&&!Qt.done;_t++,Qt=L.next()){dt.index>_t?(Qe=dt,dt=null):Qe=dt.sibling;var Mr=k(M,dt,Qt.value,F);if(Mr===null){dt===null&&(dt=Qe);break}t&&dt&&Mr.alternate===null&&n(M,dt),D=h(Mr,D,_t),Vt===null?lt=Mr:Vt.sibling=Mr,Vt=Mr,dt=Qe}if(Qt.done)return r(M,dt),Ft&&ya(M,_t),lt;if(dt===null){for(;!Qt.done;_t++,Qt=L.next())Qt=X(M,Qt.value,F),Qt!==null&&(D=h(Qt,D,_t),Vt===null?lt=Qt:Vt.sibling=Qt,Vt=Qt);return Ft&&ya(M,_t),lt}for(dt=l(dt);!Qt.done;_t++,Qt=L.next())Qt=B(dt,M,_t,Qt.value,F),Qt!==null&&(t&&Qt.alternate!==null&&dt.delete(Qt.key===null?_t:Qt.key),D=h(Qt,D,_t),Vt===null?lt=Qt:Vt.sibling=Qt,Vt=Qt);return t&&dt.forEach(function(qE){return n(M,qE)}),Ft&&ya(M,_t),lt}function ee(M,D,L,F){if(typeof L=="object"&&L!==null&&L.type===J&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case I:t:{for(var lt=L.key;D!==null;){if(D.key===lt){if(lt=L.type,lt===J){if(D.tag===7){r(M,D.sibling),F=c(D,L.props.children),F.return=M,M=F;break t}}else if(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===A&&gg(lt)===D.type){r(M,D.sibling),F=c(D,L.props),Dl(F,L),F.return=M,M=F;break t}r(M,D);break}else n(M,D);D=D.sibling}L.type===J?(F=ga(L.props.children,M.mode,F,L.key),F.return=M,M=F):(F=Ho(L.type,L.key,L.props,null,M.mode,F),Dl(F,L),F.return=M,M=F)}return y(M);case Q:t:{for(lt=L.key;D!==null;){if(D.key===lt)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){r(M,D.sibling),F=c(D,L.children||[]),F.return=M,M=F;break t}else{r(M,D);break}else n(M,D);D=D.sibling}F=Yc(L,M.mode,F),F.return=M,M=F}return y(M);case A:return lt=L._init,L=lt(L._payload),ee(M,D,L,F)}if(ie(L))return Et(M,D,L,F);if(U(L)){if(lt=U(L),typeof lt!="function")throw Error(a(150));return L=lt.call(L),gt(M,D,L,F)}if(typeof L.then=="function")return ee(M,D,su(L),F);if(L.$$typeof===ut)return ee(M,D,Yo(M,L),F);lu(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(r(M,D.sibling),F=c(D,L),F.return=M,M=F):(r(M,D),F=Fc(L,M.mode,F),F.return=M,M=F),y(M)):r(M,D)}return function(M,D,L,F){try{Cl=0;var lt=ee(M,D,L,F);return ms=null,lt}catch(dt){if(dt===_l||dt===Ko)throw dt;var Vt=wn(29,dt,null,M.mode);return Vt.lanes=F,Vt.return=M,Vt}finally{}}}var gs=pg(!0),yg=pg(!1),Qn=Z(null),Ei=null;function vr(t){var n=t.alternate;W(ke,ke.current&1),W(Qn,t),Ei===null&&(n===null||cs.current!==null||n.memoizedState!==null)&&(Ei=t)}function _g(t){if(t.tag===22){if(W(ke,ke.current),W(Qn,t),Ei===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Ei=t)}}else Er()}function Er(){W(ke,ke.current),W(Qn,Qn.current)}function Zi(t){it(Qn),Ei===t&&(Ei=null),it(ke)}var ke=Z(0);function ou(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||ph(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Cf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:S({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Df={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=xn(),c=pr(l);c.payload=n,r!=null&&(c.callback=r),n=yr(t,c,l),n!==null&&(Vn(n,t,l),El(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=xn(),c=pr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=yr(t,c,l),n!==null&&(Vn(n,t,l),El(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=xn(),l=pr(r);l.tag=2,n!=null&&(l.callback=n),n=yr(t,l,r),n!==null&&(Vn(n,t,r),El(n,t,r))}};function vg(t,n,r,l,c,h,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,y):n.prototype&&n.prototype.isPureReactComponent?!cl(r,l)||!cl(c,h):!0}function Eg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Df.enqueueReplaceState(n,n.state,null)}function ba(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=S({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Tg(t){uu(t)}function Sg(t){console.error(t)}function Ag(t){uu(t)}function cu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function bg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function If(t,n,r){return r=pr(r),r.tag=3,r.payload={element:null},r.callback=function(){cu(t,n)},r}function Rg(t){return t=pr(t),t.tag=3,t}function wg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){bg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){bg(n,r,l),typeof c!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function qv(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&gl(n,r,c,!0),r=Qn.current,r!==null){switch(r.tag){case 13:return Ei===null?Wf():r.alternate===null&&_e===0&&(_e=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===rf?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),eh(t,l,c)),!1;case 22:return r.flags|=65536,l===rf?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),eh(t,l,c)),!1}throw Error(a(435,r.tag))}return eh(t,l,c),Wf(),!1}if(Ft)return n=Qn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Zc&&(t=Error(a(422),{cause:l}),ml(jn(t,r)))):(l!==Zc&&(n=Error(a(423),{cause:l}),ml(jn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=jn(l,r),c=If(t.stateNode,l,c),lf(t,c),_e!==4&&(_e=2)),!1;var h=Error(a(520),{cause:l});if(h=jn(h,r),Ul===null?Ul=[h]:Ul.push(h),_e!==4&&(_e=2),n===null)return!0;l=jn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=If(r.stateNode,l,t),lf(r,t),!1;case 1:if(n=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(wr===null||!wr.has(h))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Rg(c),wg(c,t,r,l),lf(r,c),!1}r=r.return}while(r!==null);return!1}var Cg=Error(a(461)),He=!1;function Ke(t,n,r,l){n.child=t===null?yg(n,null,r,l):gs(n,t.child,r,l)}function Dg(t,n,r,l,c){r=r.render;var h=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Ta(n),l=hf(t,n,r,y,h,c),E=df(),t!==null&&!He?(mf(t,n,c),$i(t,n,c)):(Ft&&E&&Xc(n),n.flags|=1,Ke(t,n,l,c),n.child)}function Ig(t,n,r,l,c){if(t===null){var h=r.type;return typeof h=="function"&&!Qc(h)&&h.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=h,xg(t,n,h,l,c)):(t=Ho(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Lf(t,c)){var y=h.memoizedProps;if(r=r.compare,r=r!==null?r:cl,r(y,l)&&t.ref===n.ref)return $i(t,n,c)}return n.flags|=1,t=Gi(h,l),t.ref=n.ref,t.return=n,n.child=t}function xg(t,n,r,l,c){if(t!==null){var h=t.memoizedProps;if(cl(h,l)&&t.ref===n.ref)if(He=!1,n.pendingProps=l=h,Lf(t,c))(t.flags&131072)!==0&&(He=!0);else return n.lanes=t.lanes,$i(t,n,c)}return xf(t,n,r,l,c)}function Vg(t,n,r){var l=n.pendingProps,c=l.children,h=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=h!==null?h.baseLanes|r:r,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return Ng(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xo(n,h!==null?h.cachePool:null),h!==null?xm(n,h):uf(),_g(n);else return n.lanes=n.childLanes=536870912,Ng(t,n,h!==null?h.baseLanes|r:r,r)}else h!==null?(Xo(n,h.cachePool),xm(n,h),Er(),n.memoizedState=null):(t!==null&&Xo(n,null),uf(),Er());return Ke(t,n,c,r),n.child}function Ng(t,n,r,l){var c=nf();return c=c===null?null:{parent:Pe._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Xo(n,null),uf(),_g(n),t!==null&&gl(t,n,l,!0),null}function fu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function xf(t,n,r,l,c){return Ta(n),r=hf(t,n,r,l,void 0,c),l=df(),t!==null&&!He?(mf(t,n,c),$i(t,n,c)):(Ft&&l&&Xc(n),n.flags|=1,Ke(t,n,r,c),n.child)}function Og(t,n,r,l,c,h){return Ta(n),n.updateQueue=null,r=Nm(n,l,r,c),Vm(t),l=df(),t!==null&&!He?(mf(t,n,h),$i(t,n,h)):(Ft&&l&&Xc(n),n.flags|=1,Ke(t,n,r,h),n.child)}function Mg(t,n,r,l,c){if(Ta(n),n.stateNode===null){var h=as,y=r.contextType;typeof y=="object"&&y!==null&&(h=nn(y)),h=new r(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Df,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},af(n),y=r.contextType,h.context=typeof y=="object"&&y!==null?nn(y):as,h.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Cf(n,r,y,l),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&Df.enqueueReplaceState(h,h.state,null),Sl(n,l,h,c),Tl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,b=ba(r,E);h.props=b;var P=h.context,G=r.contextType;y=as,typeof G=="object"&&G!==null&&(y=nn(G));var X=r.getDerivedStateFromProps;G=typeof X=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||P!==y)&&Eg(n,h,l,y),gr=!1;var k=n.memoizedState;h.state=k,Sl(n,l,h,c),Tl(),P=n.memoizedState,E||k!==P||gr?(typeof X=="function"&&(Cf(n,r,X,l),P=n.memoizedState),(b=gr||vg(n,r,b,l,k,P,y))?(G||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),h.props=l,h.state=P,h.context=y,l=b):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,sf(t,n),y=n.memoizedProps,G=ba(r,y),h.props=G,X=n.pendingProps,k=h.context,P=r.contextType,b=as,typeof P=="object"&&P!==null&&(b=nn(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==X||k!==b)&&Eg(n,h,l,b),gr=!1,k=n.memoizedState,h.state=k,Sl(n,l,h,c),Tl();var B=n.memoizedState;y!==X||k!==B||gr||t!==null&&t.dependencies!==null&&Fo(t.dependencies)?(typeof E=="function"&&(Cf(n,r,E,l),B=n.memoizedState),(G=gr||vg(n,r,G,l,k,B,b)||t!==null&&t.dependencies!==null&&Fo(t.dependencies))?(P||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,B,b),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,B,b)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=b,l=G):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,fu(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=gs(n,t.child,null,c),n.child=gs(n,null,r,c)):Ke(t,n,r,c),n.memoizedState=h.state,t=n.child):t=$i(t,n,c),t}function Ug(t,n,r,l){return dl(),n.flags|=256,Ke(t,n,r,l),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(t){return{baseLanes:t,cachePool:Sm()}}function Of(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Fn),t}function zg(t,n,r){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,y;if((y=h)||(y=t!==null&&t.memoizedState===null?!1:(ke.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ft){if(c?vr(n):Er(),Ft){var E=ye,b;if(b=E){t:{for(b=E,E=vi;b.nodeType!==8;){if(!E){E=null;break t}if(b=ai(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:pa!==null?{id:Qi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},b=wn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,dn=n,ye=null,b=!0):b=!1}b||va(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ph(E)?n.lanes=32:n.lanes=536870912,null;Zi(n)}return E=l.children,l=l.fallback,c?(Er(),c=n.mode,E=hu({mode:"hidden",children:E},c),l=ga(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Nf(r),c.childLanes=Of(t,y,r),n.memoizedState=Vf,l):(vr(n),Mf(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(h)n.flags&256?(vr(n),n.flags&=-257,n=Uf(t,n,r)):n.memoizedState!==null?(Er(),n.child=t.child,n.flags|=128,n=null):(Er(),c=l.fallback,E=n.mode,l=hu({mode:"visible",children:l.children},E),c=ga(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,gs(n,t.child,null,r),l=n.child,l.memoizedState=Nf(r),l.childLanes=Of(t,y,r),n.memoizedState=Vf,n=c);else if(vr(n),ph(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(a(419)),l.stack="",l.digest=y,ml({value:l,source:null,stack:null}),n=Uf(t,n,r)}else if(He||gl(t,n,r,!1),y=(r&t.childLanes)!==0,He||y){if(y=ae,y!==null&&(l=r&-r,l=(l&42)!==0?1:ci(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,rs(t,l),Vn(y,t,l),Cg;E.data==="$?"||Wf(),n=Uf(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ye=ai(E.nextSibling),dn=n,Ft=!0,_a=null,vi=!1,t!==null&&(Hn[Gn++]=Qi,Hn[Gn++]=Fi,Hn[Gn++]=pa,Qi=t.id,Fi=t.overflow,pa=n),n=Mf(n,l.children),n.flags|=4096);return n}return c?(Er(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=Gi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=Gi(P,c):(c=ga(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Nf(r):(b=E.cachePool,b!==null?(P=Pe._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=Sm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=Of(t,y,r),n.memoizedState=Vf,l):(vr(n),r=t.child,t=r.sibling,r=Gi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Mf(t,n){return n=hu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function hu(t,n){return t=wn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Uf(t,n,r){return gs(n,t.child,null,r),t=Mf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Lg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Jc(t.return,n,r)}function zf(t,n,r,l,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=r,h.tailMode=c)}function Pg(t,n,r){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(Ke(t,n,l.children,r),l=ke.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lg(t,r,n);else if(t.tag===19)Lg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(ke,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&ou(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),zf(n,!1,c,r,h);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&ou(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}zf(n,!0,r,null,h);break;case"together":zf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function $i(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Rr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(gl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Gi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Gi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Lf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Fo(t)))}function Hv(t,n,r){switch(n.tag){case 3:Yt(n,n.stateNode.containerInfo),mr(n,Pe,t.memoizedState.cache),dl();break;case 27:case 5:On(n);break;case 4:Yt(n,n.stateNode.containerInfo);break;case 10:mr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(vr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?zg(t,n,r):(vr(n),t=$i(t,n,r),t!==null?t.sibling:null);vr(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(gl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Pg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(ke,ke.current),l)break;return null;case 22:case 23:return n.lanes=0,Vg(t,n,r);case 24:mr(n,Pe,t.memoizedState.cache)}return $i(t,n,r)}function kg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)He=!0;else{if(!Lf(t,r)&&(n.flags&128)===0)return He=!1,Hv(t,n,r);He=(t.flags&131072)!==0}else He=!1,Ft&&(n.flags&1048576)!==0&&gm(n,Qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Qc(l)?(t=ba(l,t),n.tag=1,n=Mg(null,n,l,t,r)):(n.tag=0,n=xf(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Ht){n.tag=11,n=Dg(null,n,l,t,r);break t}else if(c===N){n.tag=14,n=Ig(null,n,l,t,r);break t}}throw n=xe(l)||l,Error(a(306,n,""))}}return n;case 0:return xf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ba(l,n.pendingProps),Mg(t,n,l,c,r);case 3:t:{if(Yt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,sf(t,n),Sl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,mr(n,Pe,l),l!==h.cache&&Wc(n,[Pe],r,!0),Tl(),l=y.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Ug(t,n,l,r);break t}else if(l!==c){c=jn(Error(a(424)),n),ml(c),n=Ug(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ye=ai(t.firstChild),dn=n,Ft=!0,_a=null,vi=!0,r=yg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(dl(),l===c){n=$i(t,n,r);break t}Ke(t,n,l,r)}n=n.child}return n;case 26:return fu(t,n),t===null?(r=Hp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ft||(r=n.type,t=n.pendingProps,l=wu(pt.current).createElement(r),l[Ee]=n,l[me]=t,$e(l,r,t),pe(l),n.stateNode=l):n.memoizedState=Hp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return On(n),t===null&&Ft&&(l=n.stateNode=Bp(n.type,n.pendingProps,pt.current),dn=n,vi=!0,c=ye,Ir(n.type)?(yh=c,ye=ai(l.firstChild)):ye=c),Ke(t,n,n.pendingProps.children,r),fu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ft&&((c=l=ye)&&(l=yE(l,n.type,n.pendingProps,vi),l!==null?(n.stateNode=l,dn=n,ye=ai(l.firstChild),vi=!1,c=!0):c=!1),c||va(n)),On(n),c=n.type,h=n.pendingProps,y=t!==null?t.memoizedProps:null,l=h.children,dh(c,h)?l=null:y!==null&&dh(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=hf(t,n,Uv,null,null,r),Gl._currentValue=c),fu(t,n),Ke(t,n,l,r),n.child;case 6:return t===null&&Ft&&((t=r=ye)&&(r=_E(r,n.pendingProps,vi),r!==null?(n.stateNode=r,dn=n,ye=null,t=!0):t=!1),t||va(n)),null;case 13:return zg(t,n,r);case 4:return Yt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=gs(n,null,l,r):Ke(t,n,l,r),n.child;case 11:return Dg(t,n,n.type,n.pendingProps,r);case 7:return Ke(t,n,n.pendingProps,r),n.child;case 8:return Ke(t,n,n.pendingProps.children,r),n.child;case 12:return Ke(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,mr(n,n.type,l.value),Ke(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Ta(n),c=nn(c),l=l(c),n.flags|=1,Ke(t,n,l,r),n.child;case 14:return Ig(t,n,n.type,n.pendingProps,r);case 15:return xg(t,n,n.type,n.pendingProps,r);case 19:return Pg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=hu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Gi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Vg(t,n,r);case 24:return Ta(n),l=nn(Pe),t===null?(c=nf(),c===null&&(c=ae,h=tf(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=r),c=h),n.memoizedState={parent:l,cache:c},af(n),mr(n,Pe,c)):((t.lanes&r)!==0&&(sf(t,n),Sl(n,null,null,r),Tl()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),mr(n,Pe,l)):(l=h.cache,mr(n,Pe,l),l!==c.cache&&Wc(n,[Pe],r,!0))),Ke(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ji(t){t.flags|=4}function Bg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xp(n)){if(n=Qn.current,n!==null&&((Bt&4194048)===Bt?Ei!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||n!==Ei))throw vl=rf,Am;t.flags|=8192}}function du(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ui():536870912,t.lanes|=n,vs|=n)}function Il(t,n){if(!Ft)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function he(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function Gv(t,n,r){var l=n.pendingProps;switch(Kc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(n),null;case 1:return he(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Xi(Pe),en(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hl(n)?Ji(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,_m())),he(n),null;case 26:return r=n.memoizedState,t===null?(Ji(n),r!==null?(he(n),Bg(n,r)):(he(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ji(n),he(n),Bg(n,r)):(he(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ji(n),he(n),n.flags&=-16777217),null;case 27:on(n),r=pt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ji(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return he(n),null}t=ht.current,hl(n)?pm(n):(t=Bp(c,l,r),n.stateNode=t,Ji(n))}return he(n),null;case 5:if(on(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ji(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return he(n),null}if(t=ht.current,hl(n))pm(n);else{switch(c=wu(pt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Ee]=n,t[me]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch($e(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ji(n)}}return he(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ji(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=pt.current,hl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=dn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ee]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Op(t.nodeValue,r)),t||va(n)}else t=wu(t).createTextNode(l),t[Ee]=n,n.stateNode=t}return he(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=hl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Ee]=n}else dl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),c=!1}else c=_m(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Zi(n),n):(Zi(n),null)}if(Zi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),du(n,n.updateQueue),he(n),null;case 4:return en(),t===null&&oh(n.stateNode.containerInfo),he(n),null;case 10:return Xi(n.type),he(n),null;case 19:if(it(ke),c=n.memoizedState,c===null)return he(n),null;if(l=(n.flags&128)!==0,h=c.rendering,h===null)if(l)Il(c,!1);else{if(_e!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=ou(t),h!==null){for(n.flags|=128,Il(c,!1),t=h.updateQueue,n.updateQueue=t,du(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)mm(r,t),r=r.sibling;return W(ke,ke.current&1|2),n.child}t=t.sibling}c.tail!==null&&Ve()>pu&&(n.flags|=128,l=!0,Il(c,!1),n.lanes=4194304)}else{if(!l)if(t=ou(h),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,du(n,t),Il(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Ft)return he(n),null}else 2*Ve()-c.renderingStartTime>pu&&r!==536870912&&(n.flags|=128,l=!0,Il(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(t=c.last,t!==null?t.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Ve(),n.sibling=null,t=ke.current,W(ke,l?t&1|2:t&1),n):(he(n),null);case 22:case 23:return Zi(n),cf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(he(n),n.subtreeFlags&6&&(n.flags|=8192)):he(n),r=n.updateQueue,r!==null&&du(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&it(Sa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Xi(Pe),he(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Qv(t,n){switch(Kc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Xi(Pe),en(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return on(n),null;case 13:if(Zi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));dl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return it(ke),null;case 4:return en(),null;case 10:return Xi(n.type),null;case 22:case 23:return Zi(n),cf(),t!==null&&it(Sa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Xi(Pe),null;case 25:return null;default:return null}}function jg(t,n){switch(Kc(n),n.tag){case 3:Xi(Pe),en();break;case 26:case 27:case 5:on(n);break;case 4:en();break;case 13:Zi(n);break;case 19:it(ke);break;case 10:Xi(n.type);break;case 22:case 23:Zi(n),cf(),t!==null&&it(Sa);break;case 24:Xi(Pe)}}function xl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var h=r.create,y=r.inst;l=h(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){ne(n,n.return,E)}}function Tr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,P=E;try{P()}catch(G){ne(c,b,G)}}}l=l.next}while(l!==h)}}catch(G){ne(n,n.return,G)}}function qg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Im(n,r)}catch(l){ne(t,t.return,l)}}}function Hg(t,n,r){r.props=ba(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){ne(t,n,l)}}function Vl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){ne(t,n,c)}}function Ti(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){ne(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){ne(t,n,c)}else r.current=null}function Gg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){ne(t,t.return,c)}}function Pf(t,n,r){try{var l=t.stateNode;hE(l,t.type,r,n),l[me]=n}catch(c){ne(t,t.return,c)}}function Qg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ir(t.type)||t.tag===4}function kf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Qg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ir(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ru));else if(l!==4&&(l===27&&Ir(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Bf(t,n,r),t=t.sibling;t!==null;)Bf(t,n,r),t=t.sibling}function mu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Ir(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(mu(t,n,r),t=t.sibling;t!==null;)mu(t,n,r),t=t.sibling}function Fg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);$e(n,l,r),n[Ee]=t,n[me]=r}catch(h){ne(t,t.return,h)}}var Wi=!1,Se=!1,jf=!1,Yg=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Fv(t,n){if(t=t.containerInfo,fh=Nu,t=rm(t),Pc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,P=0,G=0,X=t,k=null;e:for(;;){for(var B;X!==r||c!==0&&X.nodeType!==3||(E=y+c),X!==h||l!==0&&X.nodeType!==3||(b=y+l),X.nodeType===3&&(y+=X.nodeValue.length),(B=X.firstChild)!==null;)k=X,X=B;for(;;){if(X===t)break e;if(k===r&&++P===c&&(E=y),k===h&&++G===l&&(b=y),(B=X.nextSibling)!==null)break;X=k,k=X.parentNode}X=B}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(hh={focusedElem:t,selectionRange:r},Nu=!1,Ge=n;Ge!==null;)if(n=Ge,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ge=t;else for(;Ge!==null;){switch(n=Ge,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,r=n,c=h.memoizedProps,h=h.memoizedState,l=r.stateNode;try{var Et=ba(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(Et,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){ne(r,r.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)gh(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ge=t;break}Ge=n.return}}function Xg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Sr(t,r),l&4&&xl(5,r);break;case 1:if(Sr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){ne(r,r.return,y)}else{var c=ba(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){ne(r,r.return,y)}}l&64&&qg(r),l&512&&Vl(r,r.return);break;case 3:if(Sr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Im(t,n)}catch(y){ne(r,r.return,y)}}break;case 27:n===null&&l&4&&Fg(r);case 26:case 5:Sr(t,r),n===null&&l&4&&Gg(r),l&512&&Vl(r,r.return);break;case 12:Sr(t,r);break;case 13:Sr(t,r),l&4&&$g(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=eE.bind(null,r),vE(t,r))));break;case 22:if(l=r.memoizedState!==null||Wi,!l){n=n!==null&&n.memoizedState!==null||Se,c=Wi;var h=Se;Wi=l,(Se=n)&&!h?Ar(t,r,(r.subtreeFlags&8772)!==0):Sr(t,r),Wi=c,Se=h}break;case 30:break;default:Sr(t,r)}}function Kg(t){var n=t.alternate;n!==null&&(t.alternate=null,Kg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&yt(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var fe=null,pn=!1;function tr(t,n,r){for(r=r.child;r!==null;)Zg(t,n,r),r=r.sibling}function Zg(t,n,r){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(oe,r)}catch{}switch(r.tag){case 26:Se||Ti(r,n),tr(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Se||Ti(r,n);var l=fe,c=pn;Ir(r.type)&&(fe=r.stateNode,pn=!1),tr(t,n,r),Bl(r.stateNode),fe=l,pn=c;break;case 5:Se||Ti(r,n);case 6:if(l=fe,c=pn,fe=null,tr(t,n,r),fe=l,pn=c,fe!==null)if(pn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(r.stateNode)}catch(h){ne(r,n,h)}else try{fe.removeChild(r.stateNode)}catch(h){ne(r,n,h)}break;case 18:fe!==null&&(pn?(t=fe,Pp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Xl(t)):Pp(fe,r.stateNode));break;case 4:l=fe,c=pn,fe=r.stateNode.containerInfo,pn=!0,tr(t,n,r),fe=l,pn=c;break;case 0:case 11:case 14:case 15:Se||Tr(2,r,n),Se||Tr(4,r,n),tr(t,n,r);break;case 1:Se||(Ti(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Hg(r,n,l)),tr(t,n,r);break;case 21:tr(t,n,r);break;case 22:Se=(l=Se)||r.memoizedState!==null,tr(t,n,r),Se=l;break;default:tr(t,n,r)}}function $g(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xl(t)}catch(r){ne(n,n.return,r)}}function Yv(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Yg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Yg),n;default:throw Error(a(435,t.tag))}}function qf(t,n){var r=Yv(t);n.forEach(function(l){var c=nE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function Cn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],h=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Ir(E.type)){fe=E.stateNode,pn=!1;break t}break;case 5:fe=E.stateNode,pn=!1;break t;case 3:case 4:fe=E.stateNode.containerInfo,pn=!0;break t}E=E.return}if(fe===null)throw Error(a(160));Zg(h,y,c),fe=null,pn=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Jg(n,t),n=n.sibling}var ri=null;function Jg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(n,t),Dn(t),l&4&&(Tr(3,t,t.return),xl(3,t),Tr(5,t,t.return));break;case 1:Cn(n,t),Dn(t),l&512&&(Se||r===null||Ti(r,r.return)),l&64&&Wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=ri;if(Cn(n,t),Dn(t),l&512&&(Se||r===null||Ti(r,r.return)),l&4){var h=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[ot]||h[Ee]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),$e(h,l,r),h[Ee]=t,pe(h),l=h;break t;case"link":var y=Fp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(h=y[E],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}h=c.createElement(l),$e(h,l,r),c.head.appendChild(h);break;case"meta":if(y=Fp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(h=y[E],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}h=c.createElement(l),$e(h,l,r),c.head.appendChild(h);break;default:throw Error(a(468,l))}h[Ee]=t,pe(h),l=h}t.stateNode=l}else Yp(c,t.type,t.stateNode);else t.stateNode=Qp(c,l,t.memoizedProps);else h!==l?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,l===null?Yp(c,t.type,t.stateNode):Qp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Pf(t,t.memoizedProps,r.memoizedProps)}break;case 27:Cn(n,t),Dn(t),l&512&&(Se||r===null||Ti(r,r.return)),r!==null&&l&4&&Pf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Cn(n,t),Dn(t),l&512&&(Se||r===null||Ti(r,r.return)),t.flags&32){c=t.stateNode;try{Ln(c,"")}catch(B){ne(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Pf(t,c,r!==null?r.memoizedProps:c)),l&1024&&(jf=!0);break;case 6:if(Cn(n,t),Dn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(B){ne(t,t.return,B)}}break;case 3:if(Iu=null,c=ri,ri=Cu(n.containerInfo),Cn(n,t),ri=c,Dn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Xl(n.containerInfo)}catch(B){ne(t,t.return,B)}jf&&(jf=!1,Wg(t));break;case 4:l=ri,ri=Cu(t.stateNode.containerInfo),Cn(n,t),Dn(t),ri=l;break;case 12:Cn(n,t),Dn(t);break;case 13:Cn(n,t),Dn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Xf=Ve()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qf(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,P=Wi,G=Se;if(Wi=P||c,Se=G||b,Cn(n,t),Se=G,Wi=P,Dn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Wi||Se||Ra(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(h=b.stateNode,c)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var X=b.memoizedProps.style,k=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(B){ne(b,b.return,B)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(B){ne(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,qf(t,r))));break;case 19:Cn(n,t),Dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qf(t,l)));break;case 30:break;case 21:break;default:Cn(n,t),Dn(t)}}function Dn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Qg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,h=kf(t);mu(t,h,c);break;case 5:var y=r.stateNode;r.flags&32&&(Ln(y,""),r.flags&=-33);var E=kf(t);mu(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,P=kf(t);Bf(t,P,b);break;default:throw Error(a(161))}}catch(G){ne(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Wg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Wg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Sr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xg(t,n.alternate,n),n=n.sibling}function Ra(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Tr(4,n,n.return),Ra(n);break;case 1:Ti(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Hg(n,n.return,r),Ra(n);break;case 27:Bl(n.stateNode);case 26:case 5:Ti(n,n.return),Ra(n);break;case 22:n.memoizedState===null&&Ra(n);break;case 30:Ra(n);break;default:Ra(n)}t=t.sibling}}function Ar(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,y=h.flags;switch(h.tag){case 0:case 11:case 15:Ar(c,h,r),xl(4,h);break;case 1:if(Ar(c,h,r),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){ne(l,l.return,P)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Dm(b[c],E)}catch(P){ne(l,l.return,P)}}r&&y&64&&qg(h),Vl(h,h.return);break;case 27:Fg(h);case 26:case 5:Ar(c,h,r),r&&l===null&&y&4&&Gg(h),Vl(h,h.return);break;case 12:Ar(c,h,r);break;case 13:Ar(c,h,r),r&&y&4&&$g(c,h);break;case 22:h.memoizedState===null&&Ar(c,h,r),Vl(h,h.return);break;case 30:break;default:Ar(c,h,r)}n=n.sibling}}function Hf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&pl(r))}function Gf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&pl(t))}function Si(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)tp(t,n,r,l),n=n.sibling}function tp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Si(t,n,r,l),c&2048&&xl(9,n);break;case 1:Si(t,n,r,l);break;case 3:Si(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&pl(t)));break;case 12:if(c&2048){Si(t,n,r,l),t=n.stateNode;try{var h=n.memoizedProps,y=h.id,E=h.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){ne(n,n.return,b)}}else Si(t,n,r,l);break;case 13:Si(t,n,r,l);break;case 23:break;case 22:h=n.stateNode,y=n.alternate,n.memoizedState!==null?h._visibility&2?Si(t,n,r,l):Nl(t,n):h._visibility&2?Si(t,n,r,l):(h._visibility|=2,ps(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Hf(y,n);break;case 24:Si(t,n,r,l),c&2048&&Gf(n.alternate,n);break;default:Si(t,n,r,l)}}function ps(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,y=n,E=r,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:ps(h,y,E,b,c),xl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?ps(h,y,E,b,c):Nl(h,y):(G._visibility|=2,ps(h,y,E,b,c)),c&&P&2048&&Hf(y.alternate,y);break;case 24:ps(h,y,E,b,c),c&&P&2048&&Gf(y.alternate,y);break;default:ps(h,y,E,b,c)}n=n.sibling}}function Nl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Nl(r,l),c&2048&&Hf(l.alternate,l);break;case 24:Nl(r,l),c&2048&&Gf(l.alternate,l);break;default:Nl(r,l)}n=n.sibling}}var Ol=8192;function ys(t){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)ep(t),t=t.sibling}function ep(t){switch(t.tag){case 26:ys(t),t.flags&Ol&&t.memoizedState!==null&&NE(ri,t.memoizedState,t.memoizedProps);break;case 5:ys(t);break;case 3:case 4:var n=ri;ri=Cu(t.stateNode.containerInfo),ys(t),ri=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Ol,Ol=16777216,ys(t),Ol=n):ys(t));break;default:ys(t)}}function np(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ml(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ge=l,rp(l,t)}np(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ip(t),t=t.sibling}function ip(t){switch(t.tag){case 0:case 11:case 15:Ml(t),t.flags&2048&&Tr(9,t,t.return);break;case 3:Ml(t);break;case 12:Ml(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,gu(t)):Ml(t);break;default:Ml(t)}}function gu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ge=l,rp(l,t)}np(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Tr(8,n,n.return),gu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,gu(n));break;default:gu(n)}t=t.sibling}}function rp(t,n){for(;Ge!==null;){var r=Ge;switch(r.tag){case 0:case 11:case 15:Tr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ge=l;else t:for(r=t;Ge!==null;){l=Ge;var c=l.sibling,h=l.return;if(Kg(l),l===r){Ge=null;break t}if(c!==null){c.return=h,Ge=c;break t}Ge=h}}}var Xv={getCacheForType:function(t){var n=nn(Pe),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},Kv=typeof WeakMap=="function"?WeakMap:Map,Zt=0,ae=null,Nt=null,Bt=0,$t=0,In=null,br=!1,_s=!1,Qf=!1,er=0,_e=0,Rr=0,wa=0,Ff=0,Fn=0,vs=0,Ul=null,yn=null,Yf=!1,Xf=0,pu=1/0,yu=null,wr=null,Ze=0,Cr=null,Es=null,Ts=0,Kf=0,Zf=null,ap=null,zl=0,$f=null;function xn(){if((Zt&2)!==0&&Bt!==0)return Bt&-Bt;if(H.T!==null){var t=os;return t!==0?t:rh()}return Sn()}function sp(){Fn===0&&(Fn=(Bt&536870912)===0||Ft?ka():536870912);var t=Qn.current;return t!==null&&(t.flags|=32),Fn}function Vn(t,n,r){(t===ae&&($t===2||$t===9)||t.cancelPendingCommit!==null)&&(Ss(t,0),Dr(t,Bt,Fn,!1)),cn(t,r),((Zt&2)===0||t!==ae)&&(t===ae&&((Zt&2)===0&&(wa|=r),_e===4&&Dr(t,Bt,Fn,!1)),Ai(t))}function lp(t,n,r){if((Zt&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||ti(t,n),c=l?Jv(t,n):th(t,n,!0),h=l;do{if(c===0){_s&&!l&&Dr(t,n,0,!1);break}else{if(r=t.current.alternate,h&&!Zv(r)){c=th(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Ul;var b=E.current.memoizedState.isDehydrated;if(b&&(Ss(E,y).flags|=256),y=th(E,y,!1),y!==2){if(Qf&&!b){E.errorRecoveryDisabledLanes|=h,wa|=h,c=4;break t}h=yn,yn=c,h!==null&&(yn===null?yn=h:yn.push.apply(yn,h))}c=y}if(h=!1,c!==2)continue}}if(c===1){Ss(t,0),Dr(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Dr(l,n,Fn,!br);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Xf+300-Ve(),10<c)){if(Dr(l,n,Fn,!br),or(l,0,!0)!==0)break t;l.timeoutHandle=zp(op.bind(null,l,r,yn,yu,Yf,n,Fn,wa,vs,br,h,2,-0,0),c);break t}op(l,r,yn,yu,Yf,n,Fn,wa,vs,br,h,0,-0,0)}}break}while(!0);Ai(t)}function op(t,n,r,l,c,h,y,E,b,P,G,X,k,B){if(t.timeoutHandle=-1,X=n.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Hl={stylesheets:null,count:0,unsuspend:VE},ep(n),X=OE(),X!==null)){t.cancelPendingCommit=X(gp.bind(null,t,n,h,r,l,c,y,E,b,G,1,k,B)),Dr(t,h,y,!P);return}gp(t,n,h,r,l,c,y,E,b)}function Zv(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],h=c.getSnapshot;c=c.value;try{if(!Rn(h(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Dr(t,n,r,l){n&=~Ff,n&=~wa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-Oe(c),y=1<<h;l[h]=-1,c&=~y}r!==0&&zn(t,r,n)}function _u(){return(Zt&6)===0?(Ll(0),!1):!0}function Jf(){if(Nt!==null){if($t===0)var t=Nt.return;else t=Nt,Yi=Ea=null,gf(t),ms=null,Cl=0,t=Nt;for(;t!==null;)jg(t.alternate,t),t=t.return;Nt=null}}function Ss(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,mE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Jf(),ae=t,Nt=r=Gi(t.current,null),Bt=n,$t=0,In=null,br=!1,_s=ti(t,n),Qf=!1,vs=Fn=Ff=wa=Rr=_e=0,yn=Ul=null,Yf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Oe(l),h=1<<c;n|=t[c],l&=~h}return er=n,Bo(),r}function up(t,n){xt=null,H.H=au,n===_l||n===Ko?(n=wm(),$t=3):n===Am?(n=wm(),$t=4):$t=n===Cg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,In=n,Nt===null&&(_e=1,cu(t,jn(n,t.current)))}function cp(){var t=H.H;return H.H=au,t===null?au:t}function fp(){var t=H.A;return H.A=Xv,t}function Wf(){_e=4,br||(Bt&4194048)!==Bt&&Qn.current!==null||(_s=!0),(Rr&134217727)===0&&(wa&134217727)===0||ae===null||Dr(ae,Bt,Fn,!1)}function th(t,n,r){var l=Zt;Zt|=2;var c=cp(),h=fp();(ae!==t||Bt!==n)&&(yu=null,Ss(t,n)),n=!1;var y=_e;t:do try{if($t!==0&&Nt!==null){var E=Nt,b=In;switch($t){case 8:Jf(),y=6;break t;case 3:case 2:case 9:case 6:Qn.current===null&&(n=!0);var P=$t;if($t=0,In=null,As(t,E,b,P),r&&_s){y=0;break t}break;default:P=$t,$t=0,In=null,As(t,E,b,P)}}$v(),y=_e;break}catch(G){up(t,G)}while(!0);return n&&t.shellSuspendCounter++,Yi=Ea=null,Zt=l,H.H=c,H.A=h,Nt===null&&(ae=null,Bt=0,Bo()),y}function $v(){for(;Nt!==null;)hp(Nt)}function Jv(t,n){var r=Zt;Zt|=2;var l=cp(),c=fp();ae!==t||Bt!==n?(yu=null,pu=Ve()+500,Ss(t,n)):_s=ti(t,n);t:do try{if($t!==0&&Nt!==null){n=Nt;var h=In;e:switch($t){case 1:$t=0,In=null,As(t,n,h,1);break;case 2:case 9:if(bm(h)){$t=0,In=null,dp(n);break}n=function(){$t!==2&&$t!==9||ae!==t||($t=7),Ai(t)},h.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:bm(h)?($t=0,In=null,dp(n)):($t=0,In=null,As(t,n,h,7));break;case 5:var y=null;switch(Nt.tag){case 26:y=Nt.memoizedState;case 5:case 27:var E=Nt;if(!y||Xp(y)){$t=0,In=null;var b=E.sibling;if(b!==null)Nt=b;else{var P=E.return;P!==null?(Nt=P,vu(P)):Nt=null}break e}}$t=0,In=null,As(t,n,h,5);break;case 6:$t=0,In=null,As(t,n,h,6);break;case 8:Jf(),_e=6;break t;default:throw Error(a(462))}}Wv();break}catch(G){up(t,G)}while(!0);return Yi=Ea=null,H.H=l,H.A=c,Zt=r,Nt!==null?0:(ae=null,Bt=0,Bo(),_e)}function Wv(){for(;Nt!==null&&!le();)hp(Nt)}function hp(t){var n=kg(t.alternate,t,er);t.memoizedProps=t.pendingProps,n===null?vu(t):Nt=n}function dp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Og(r,n,n.pendingProps,n.type,void 0,Bt);break;case 11:n=Og(r,n,n.pendingProps,n.type.render,n.ref,Bt);break;case 5:gf(n);default:jg(r,n),n=Nt=mm(n,er),n=kg(r,n,er)}t.memoizedProps=t.pendingProps,n===null?vu(t):Nt=n}function As(t,n,r,l){Yi=Ea=null,gf(n),ms=null,Cl=0;var c=n.return;try{if(qv(t,c,n,r,Bt)){_e=1,cu(t,jn(r,t.current)),Nt=null;return}}catch(h){if(c!==null)throw Nt=c,h;_e=1,cu(t,jn(r,t.current)),Nt=null;return}n.flags&32768?(Ft||l===1?t=!0:_s||(Bt&536870912)!==0?t=!1:(br=t=!0,(l===2||l===9||l===3||l===6)&&(l=Qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),mp(n,t)):vu(n)}function vu(t){var n=t;do{if((n.flags&32768)!==0){mp(n,br);return}t=n.return;var r=Gv(n.alternate,n,er);if(r!==null){Nt=r;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=t}while(n!==null);_e===0&&(_e=5)}function mp(t,n){do{var r=Qv(t.alternate,t);if(r!==null){r.flags&=32767,Nt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=r}while(t!==null);_e=6,Nt=null}function gp(t,n,r,l,c,h,y,E,b){t.cancelPendingCommit=null;do Eu();while(Ze!==0);if((Zt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=Hc,Jr(t,r,h,y,E,b),t===ae&&(Nt=ae=null,Bt=0),Es=n,Cr=t,Ts=r,Kf=h,Zf=c,ap=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,iE(Wn,function(){return Ep(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=nt.p,nt.p=2,y=Zt,Zt|=4;try{Fv(t,n,r)}finally{Zt=y,nt.p=c,H.T=l}}Ze=1,pp(),yp(),_p()}}function pp(){if(Ze===1){Ze=0;var t=Cr,n=Es,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=nt.p;nt.p=2;var c=Zt;Zt|=4;try{Jg(n,t);var h=hh,y=rm(t.containerInfo),E=h.focusedElem,b=h.selectionRange;if(y!==E&&E&&E.ownerDocument&&im(E.ownerDocument.documentElement,E)){if(b!==null&&Pc(E)){var P=b.start,G=b.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,k=X&&X.defaultView||window;if(k.getSelection){var B=k.getSelection(),Et=E.textContent.length,gt=Math.min(b.start,Et),ee=b.end===void 0?gt:Math.min(b.end,Et);!B.extend&&gt>ee&&(y=ee,ee=gt,gt=y);var M=nm(E,gt),D=nm(E,ee);if(M&&D&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var L=X.createRange();L.setStart(M.node,M.offset),B.removeAllRanges(),gt>ee?(B.addRange(L),B.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),B.addRange(L))}}}}for(X=[],B=E;B=B.parentNode;)B.nodeType===1&&X.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var F=X[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Nu=!!fh,hh=fh=null}finally{Zt=c,nt.p=l,H.T=r}}t.current=n,Ze=2}}function yp(){if(Ze===2){Ze=0;var t=Cr,n=Es,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=nt.p;nt.p=2;var c=Zt;Zt|=4;try{Xg(t,n.alternate,n)}finally{Zt=c,nt.p=l,H.T=r}}Ze=3}}function _p(){if(Ze===4||Ze===3){Ze=0,sr();var t=Cr,n=Es,r=Ts,l=ap;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ze=5:(Ze=0,Es=Cr=null,vp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(wr=null),cr(r),n=n.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(oe,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=nt.p,nt.p=2,H.T=null;try{for(var h=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];h(E.value,{componentStack:E.stack})}}finally{H.T=n,nt.p=c}}(Ts&3)!==0&&Eu(),Ai(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===$f?zl++:(zl=0,$f=t):zl=0,Ll(0)}}function vp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,pl(n)))}function Eu(t){return pp(),yp(),_p(),Ep()}function Ep(){if(Ze!==5)return!1;var t=Cr,n=Kf;Kf=0;var r=cr(Ts),l=H.T,c=nt.p;try{nt.p=32>r?32:r,H.T=null,r=Zf,Zf=null;var h=Cr,y=Ts;if(Ze=0,Es=Cr=null,Ts=0,(Zt&6)!==0)throw Error(a(331));var E=Zt;if(Zt|=4,ip(h.current),tp(h,h.current,y,r),Zt=E,Ll(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(oe,h)}catch{}return!0}finally{nt.p=c,H.T=l,vp(t,n)}}function Tp(t,n,r){n=jn(r,n),n=If(t.stateNode,n,2),t=yr(t,n,2),t!==null&&(cn(t,2),Ai(t))}function ne(t,n,r){if(t.tag===3)Tp(t,t,r);else for(;n!==null;){if(n.tag===3){Tp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wr===null||!wr.has(l))){t=jn(r,t),r=Rg(2),l=yr(n,r,2),l!==null&&(wg(r,l,n,t),cn(l,2),Ai(l));break}}n=n.return}}function eh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new Kv;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Qf=!0,c.add(r),t=tE.bind(null,t,n,r),n.then(t,t))}function tE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ae===t&&(Bt&r)===r&&(_e===4||_e===3&&(Bt&62914560)===Bt&&300>Ve()-Xf?(Zt&2)===0&&Ss(t,0):Ff|=r,vs===Bt&&(vs=0)),Ai(t)}function Sp(t,n){n===0&&(n=ui()),t=rs(t,n),t!==null&&(cn(t,n),Ai(t))}function eE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Sp(t,r)}function nE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Sp(t,r)}function iE(t,n){return Jn(t,n)}var Tu=null,bs=null,nh=!1,Su=!1,ih=!1,Ca=0;function Ai(t){t!==bs&&t.next===null&&(bs===null?Tu=bs=t:bs=bs.next=t),Su=!0,nh||(nh=!0,aE())}function Ll(t,n){if(!ih&&Su){ih=!0;do for(var r=!1,l=Tu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var y=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-Oe(42|t)+1)-1,h&=c&~(y&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,wp(l,h))}else h=Bt,h=or(l,l===ae?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||ti(l,h)||(r=!0,wp(l,h));l=l.next}while(r);ih=!1}}function rE(){Ap()}function Ap(){Su=nh=!1;var t=0;Ca!==0&&(dE()&&(t=Ca),Ca=0);for(var n=Ve(),r=null,l=Tu;l!==null;){var c=l.next,h=bp(l,n);h===0?(l.next=null,r===null?Tu=c:r.next=c,c===null&&(bs=r)):(r=l,(t!==0||(h&3)!==0)&&(Su=!0)),l=c}Ll(t)}function bp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var y=31-Oe(h),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Pa(E,n)):b<=n&&(t.expiredLanes|=E),h&=~E}if(n=ae,r=Bt,r=or(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&($t===2||$t===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&li(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ti(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&li(l),cr(r)){case 2:case 8:r=Mn;break;case 32:r=Wn;break;case 268435456:r=Ni;break;default:r=Wn}return l=Rp.bind(null,t),r=Jn(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&li(l),t.callbackPriority=2,t.callbackNode=null,2}function Rp(t,n){if(Ze!==0&&Ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Eu()&&t.callbackNode!==r)return null;var l=Bt;return l=or(t,t===ae?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(lp(t,l,n),bp(t,Ve()),t.callbackNode!=null&&t.callbackNode===r?Rp.bind(null,t):null)}function wp(t,n){if(Eu())return null;lp(t,n,!0)}function aE(){gE(function(){(Zt&6)!==0?Jn(Vi,rE):Ap()})}function rh(){return Ca===0&&(Ca=ka()),Ca}function Cp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fa(""+t)}function Dp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function sE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var h=Cp((c[me]||null).action),y=l.submitter;y&&(n=(n=y[me]||null)?Cp(n.formAction):y.getAttribute("formAction"),n!==null&&(h=n,y=null));var E=new Ya("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ca!==0){var b=y?Dp(c,y):new FormData(c);bf(r,{pending:!0,data:b,method:c.method,action:h},null,b)}}else typeof h=="function"&&(E.preventDefault(),b=y?Dp(c,y):new FormData(c),bf(r,{pending:!0,data:b,method:c.method,action:h},h,b))},currentTarget:c}]})}}for(var ah=0;ah<qc.length;ah++){var sh=qc[ah],lE=sh.toLowerCase(),oE=sh[0].toUpperCase()+sh.slice(1);ii(lE,"on"+oE)}ii(lm,"onAnimationEnd"),ii(om,"onAnimationIteration"),ii(um,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(Rv,"onTransitionRun"),ii(wv,"onTransitionStart"),ii(Cv,"onTransitionCancel"),ii(cm,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),An("onBeforeInput",["compositionend","keypress","textInput","paste"]),An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function Ip(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=P;try{h(c)}catch(G){uu(G)}c.currentTarget=null,h=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=P;try{h(c)}catch(G){uu(G)}c.currentTarget=null,h=b}}}}function Ot(t,n){var r=n[Wr];r===void 0&&(r=n[Wr]=new Set);var l=t+"__bubble";r.has(l)||(xp(n,t,2,!1),r.add(l))}function lh(t,n,r){var l=0;n&&(l|=4),xp(r,t,l,n)}var Au="_reactListening"+Math.random().toString(36).slice(2);function oh(t){if(!t[Au]){t[Au]=!0,ja.forEach(function(r){r!=="selectionchange"&&(uE.has(r)||lh(r,!1,t),lh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Au]||(n[Au]=!0,lh("selectionchange",!1,n))}}function xp(t,n,r,l){switch(ty(n)){case 2:var c=zE;break;case 8:c=LE;break;default:c=Sh}r=c.bind(null,n,r,t),c=void 0,!kn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function uh(t,n,r,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=St(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=h=y;continue t}E=E.parentNode}}l=l.return}Ro(function(){var P=h,G=Pn(r),X=[];t:{var k=fm.get(t);if(k!==void 0){var B=Ya,Et=t;switch(t){case"keypress":if(mi(r)===0)break t;case"keydown":case"keyup":B=Wa;break;case"focusin":Et="focus",B=Za;break;case"focusout":Et="blur",B=Za;break;case"beforeblur":case"afterblur":B=Za;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Oo;break;case lm:case om:case um:B=$a;break;case cm:B=Uo;break;case"scroll":case"scrollend":B=wo;break;case"wheel":B=ts;break;case"copy":case"cut":case"paste":B=Ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=ol;break;case"toggle":case"beforetoggle":B=Lo}var gt=(n&4)!==0,ee=!gt&&(t==="scroll"||t==="scrollend"),M=gt?k!==null?k+"Capture":null:k;gt=[];for(var D=P,L;D!==null;){var F=D;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||M===null||(F=sa(D,M),F!=null&&gt.push(kl(D,F,L))),ee)break;D=D.return}0<gt.length&&(k=new B(k,Et,null,r,G),X.push({event:k,listeners:gt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",k&&r!==Pi&&(Et=r.relatedTarget||r.fromElement)&&(St(Et)||Et[mn]))break t;if((B||k)&&(k=G.window===G?G:(k=G.ownerDocument)?k.defaultView||k.parentWindow:window,B?(Et=r.relatedTarget||r.toElement,B=P,Et=Et?St(Et):null,Et!==null&&(ee=f(Et),gt=Et.tag,Et!==ee||gt!==5&&gt!==27&&gt!==6)&&(Et=null)):(B=null,Et=P),B!==Et)){if(gt=Bn,F="onMouseLeave",M="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(gt=ol,F="onPointerLeave",M="onPointerEnter",D="pointer"),ee=B==null?k:Me(B),L=Et==null?k:Me(Et),k=new gt(F,D+"leave",B,r,G),k.target=ee,k.relatedTarget=L,F=null,St(G)===P&&(gt=new gt(M,D+"enter",Et,r,G),gt.target=L,gt.relatedTarget=ee,F=gt),ee=F,B&&Et)e:{for(gt=B,M=Et,D=0,L=gt;L;L=Rs(L))D++;for(L=0,F=M;F;F=Rs(F))L++;for(;0<D-L;)gt=Rs(gt),D--;for(;0<L-D;)M=Rs(M),L--;for(;D--;){if(gt===M||M!==null&&gt===M.alternate)break e;gt=Rs(gt),M=Rs(M)}gt=null}else gt=null;B!==null&&Vp(X,k,B,gt,!1),Et!==null&&ee!==null&&Vp(X,ee,Et,gt,!0)}}t:{if(k=P?Me(P):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var lt=Zd;else if(Le(k))if($d)lt=Sv;else{lt=Ev;var Vt=vv}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?P&&el(P.elementType)&&(lt=Zd):lt=Tv;if(lt&&(lt=lt(t,P))){Hi(X,lt,r,G);break t}Vt&&Vt(t,k,P),t==="focusout"&&P&&k.type==="number"&&P.memoizedProps.value!=null&&hr(k,"number",k.value)}switch(Vt=P?Me(P):window,t){case"focusin":(Le(Vt)||Vt.contentEditable==="true")&&(es=Vt,kc=P,fl=null);break;case"focusout":fl=kc=es=null;break;case"mousedown":Bc=!0;break;case"contextmenu":case"mouseup":case"dragend":Bc=!1,am(X,r,G);break;case"selectionchange":if(bv)break;case"keydown":case"keyup":am(X,r,G)}var dt;if(yi)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Pt?q(t,r)&&(_t="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_t="onCompositionStart");_t&&(g&&r.locale!=="ko"&&(Pt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Pt&&(dt=il()):(di=G,dr="value"in di?di.value:di.textContent,Pt=!0)),Vt=bu(P,_t),0<Vt.length&&(_t=new sl(_t,t,null,r,G),X.push({event:_t,listeners:Vt}),dt?_t.data=dt:(dt=et(r),dt!==null&&(_t.data=dt)))),(dt=m?ze(t,r):kt(t,r))&&(_t=bu(P,"onBeforeInput"),0<_t.length&&(Vt=new sl("onBeforeInput","beforeinput",null,r,G),X.push({event:Vt,listeners:_t}),Vt.data=dt)),sE(X,t,P,r,G)}Ip(X,n)})}function kl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function bu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=sa(t,r),c!=null&&l.unshift(kl(t,c,h)),c=sa(t,n),c!=null&&l.push(kl(t,c,h))),t.tag===3)return l;t=t.return}return[]}function Rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vp(t,n,r,l,c){for(var h=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=sa(r,h),P!=null&&y.unshift(kl(r,P,b))):c||(P=sa(r,h),P!=null&&y.push(kl(r,P,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var cE=/\r\n?/g,fE=/\u0000|\uFFFD/g;function Np(t){return(typeof t=="string"?t:""+t).replace(cE,`
`).replace(fE,"")}function Op(t,n){return n=Np(n),Np(t)===n}function Ru(){}function te(t,n,r,l,c,h){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Ln(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Ln(t,""+l);break;case"className":fi(t,"class",l);break;case"tabIndex":fi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fi(t,r,l);break;case"style":tl(t,l,h);break;case"data":if(n!=="object"){fi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Fa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(n!=="input"&&te(t,n,"name",c.name,c,null),te(t,n,"formEncType",c.formEncType,c,null),te(t,n,"formMethod",c.formMethod,c,null),te(t,n,"formTarget",c.formTarget,c,null)):(te(t,n,"encType",c.encType,c,null),te(t,n,"method",c.method,c,null),te(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Fa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Ru);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Fa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),fr(t,"popover",l);break;case"xlinkActuate":Ye(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ye(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ye(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ye(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ye(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ye(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ye(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ye(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ye(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Nc.get(r)||r,fr(t,r,l))}}function ch(t,n,r,l,c,h){switch(r){case"style":tl(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Ln(t,l):(typeof l=="number"||typeof l=="bigint")&&Ln(t,""+l);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ru);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ta.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),h=t[me]||null,h=h!=null?h[r]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):fr(t,r,l)}}}function $e(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var l=!1,c=!1,h;for(h in r)if(r.hasOwnProperty(h)){var y=r[h];if(y!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(t,n,h,y,r,null)}}c&&te(t,n,"srcSet",r.srcSet,r,null),l&&te(t,n,"src",r.src,r,null);return;case"input":Ot("invalid",t);var E=h=y=c=null,b=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":P=G;break;case"value":h=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:te(t,n,l,G,r,null)}}ia(t,h,E,b,P,y,c,!1),Qa(t);return;case"select":Ot("invalid",t),l=y=h=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:te(t,n,c,E,r,null)}n=h,r=y,t.multiple=!!l,n!=null?Li(t,!!l,n,!1):r!=null&&Li(t,!!l,r,!0);return;case"textarea":Ot("invalid",t),h=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:te(t,n,y,E,r,null)}ra(t,l,c,h),Qa(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(t,n,b,l,r,null)}return;case"dialog":Ot("beforetoggle",t),Ot("toggle",t),Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(l=0;l<Pl.length;l++)Ot(Pl[l],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(t,n,P,l,r,null)}return;default:if(el(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&ch(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&te(t,n,E,l,r,null))}function hE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,y=null,E=null,b=null,P=null,G=null;for(B in r){var X=r[B];if(r.hasOwnProperty(B)&&X!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=X;default:l.hasOwnProperty(B)||te(t,n,B,null,l,X)}}for(var k in l){var B=l[k];if(X=r[k],l.hasOwnProperty(k)&&(B!=null||X!=null))switch(k){case"type":h=B;break;case"name":c=B;break;case"checked":P=B;break;case"defaultChecked":G=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==X&&te(t,n,k,B,l,X)}}bn(t,y,E,b,P,G,h,c);return;case"select":B=y=E=k=null;for(h in r)if(b=r[h],r.hasOwnProperty(h)&&b!=null)switch(h){case"value":break;case"multiple":B=b;default:l.hasOwnProperty(h)||te(t,n,h,null,l,b)}for(c in l)if(h=l[c],b=r[c],l.hasOwnProperty(c)&&(h!=null||b!=null))switch(c){case"value":k=h;break;case"defaultValue":E=h;break;case"multiple":y=h;default:h!==b&&te(t,n,c,h,l,b)}n=E,r=y,l=B,k!=null?Li(t,!!r,k,!1):!!l!=!!r&&(n!=null?Li(t,!!r,n,!0):Li(t,!!r,r?[]:"",!1));return;case"textarea":B=k=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(t,n,E,null,l,c)}for(y in l)if(c=l[y],h=r[y],l.hasOwnProperty(y)&&(c!=null||h!=null))switch(y){case"value":k=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==h&&te(t,n,y,c,l,h)}Jt(t,k,B);return;case"option":for(var Et in r)if(k=r[Et],r.hasOwnProperty(Et)&&k!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":t.selected=!1;break;default:te(t,n,Et,null,l,k)}for(b in l)if(k=l[b],B=r[b],l.hasOwnProperty(b)&&k!==B&&(k!=null||B!=null))switch(b){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:te(t,n,b,k,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)k=r[gt],r.hasOwnProperty(gt)&&k!=null&&!l.hasOwnProperty(gt)&&te(t,n,gt,null,l,k);for(P in l)if(k=l[P],B=r[P],l.hasOwnProperty(P)&&k!==B&&(k!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:te(t,n,P,k,l,B)}return;default:if(el(n)){for(var ee in r)k=r[ee],r.hasOwnProperty(ee)&&k!==void 0&&!l.hasOwnProperty(ee)&&ch(t,n,ee,void 0,l,k);for(G in l)k=l[G],B=r[G],!l.hasOwnProperty(G)||k===B||k===void 0&&B===void 0||ch(t,n,G,k,l,B);return}}for(var M in r)k=r[M],r.hasOwnProperty(M)&&k!=null&&!l.hasOwnProperty(M)&&te(t,n,M,null,l,k);for(X in l)k=l[X],B=r[X],!l.hasOwnProperty(X)||k===B||k==null&&B==null||te(t,n,X,k,l,B)}var fh=null,hh=null;function wu(t){return t.nodeType===9?t:t.ownerDocument}function Mp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Up(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function dh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var mh=null;function dE(){var t=window.event;return t&&t.type==="popstate"?t===mh?!1:(mh=t,!0):(mh=null,!1)}var zp=typeof setTimeout=="function"?setTimeout:void 0,mE=typeof clearTimeout=="function"?clearTimeout:void 0,Lp=typeof Promise=="function"?Promise:void 0,gE=typeof queueMicrotask=="function"?queueMicrotask:typeof Lp<"u"?function(t){return Lp.resolve(null).then(t).catch(pE)}:zp;function pE(t){setTimeout(function(){throw t})}function Ir(t){return t==="head"}function Pp(t,n){var r=n,l=0,c=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Bl(y.documentElement),r&2&&Bl(y.body),r&4)for(r=y.head,Bl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[ot]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(h),Xl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=h}while(r);Xl(n)}function gh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":gh(r),yt(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function yE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ot])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=ai(t.nextSibling),t===null)break}return null}function _E(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ai(t.nextSibling),t===null))return null;return t}function ph(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function vE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ai(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var yh=null;function kp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Bp(t,n,r){switch(n=wu(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Bl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);yt(t)}var Yn=new Map,jp=new Set;function Cu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var nr=nt.d;nt.d={f:EE,r:TE,D:SE,C:AE,L:bE,m:RE,X:CE,S:wE,M:DE};function EE(){var t=nr.f(),n=_u();return t||n}function TE(t){var n=ge(t);n!==null&&n.tag===5&&n.type==="form"?lg(n):nr.r(t)}var ws=typeof document>"u"?null:document;function qp(t,n,r){var l=ws;if(l&&typeof n=="string"&&n){var c=be(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),jp.has(c)||(jp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),$e(n,"link",t),pe(n),l.head.appendChild(n)))}}function SE(t){nr.D(t),qp("dns-prefetch",t,null)}function AE(t,n){nr.C(t,n),qp("preconnect",t,n)}function bE(t,n,r){nr.L(t,n,r);var l=ws;if(l&&t&&n){var c='link[rel="preload"][as="'+be(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+be(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+be(r.imageSizes)+'"]')):c+='[href="'+be(t)+'"]';var h=c;switch(n){case"style":h=Cs(t);break;case"script":h=Ds(t)}Yn.has(h)||(t=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Yn.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(jl(h))||n==="script"&&l.querySelector(ql(h))||(n=l.createElement("link"),$e(n,"link",t),pe(n),l.head.appendChild(n)))}}function RE(t,n){nr.m(t,n);var r=ws;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+be(l)+'"][href="'+be(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Ds(t)}if(!Yn.has(h)&&(t=S({rel:"modulepreload",href:t},n),Yn.set(h,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ql(h)))return}l=r.createElement("link"),$e(l,"link",t),pe(l),r.head.appendChild(l)}}}function wE(t,n,r){nr.S(t,n,r);var l=ws;if(l&&t){var c=Ue(l).hoistableStyles,h=Cs(t);n=n||"default";var y=c.get(h);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(jl(h)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Yn.get(h))&&_h(t,r);var b=y=l.createElement("link");pe(b),$e(b,"link",t),b._p=new Promise(function(P,G){b.onload=P,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Du(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(h,y)}}}function CE(t,n){nr.X(t,n);var r=ws;if(r&&t){var l=Ue(r).hoistableScripts,c=Ds(t),h=l.get(c);h||(h=r.querySelector(ql(c)),h||(t=S({src:t,async:!0},n),(n=Yn.get(c))&&vh(t,n),h=r.createElement("script"),pe(h),$e(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function DE(t,n){nr.M(t,n);var r=ws;if(r&&t){var l=Ue(r).hoistableScripts,c=Ds(t),h=l.get(c);h||(h=r.querySelector(ql(c)),h||(t=S({src:t,async:!0,type:"module"},n),(n=Yn.get(c))&&vh(t,n),h=r.createElement("script"),pe(h),$e(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Hp(t,n,r,l){var c=(c=pt.current)?Cu(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Cs(r.href),r=Ue(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Cs(r.href);var h=Ue(c).hoistableStyles,y=h.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,y),(h=c.querySelector(jl(t)))&&!h._p&&(y.instance=h,y.state.loading=5),Yn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Yn.set(t,r),h||IE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ds(r),r=Ue(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Cs(t){return'href="'+be(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function Gp(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function IE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),$e(n,"link",r),pe(n),t.head.appendChild(n))}function Ds(t){return'[src="'+be(t)+'"]'}function ql(t){return"script[async]"+t}function Qp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+be(r.href)+'"]');if(l)return n.instance=l,pe(l),l;var c=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pe(l),$e(l,"style",c),Du(l,r.precedence,t),n.instance=l;case"stylesheet":c=Cs(r.href);var h=t.querySelector(jl(c));if(h)return n.state.loading|=4,n.instance=h,pe(h),h;l=Gp(r),(c=Yn.get(c))&&_h(l,c),h=(t.ownerDocument||t).createElement("link"),pe(h);var y=h;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),$e(h,"link",l),n.state.loading|=4,Du(h,r.precedence,t),n.instance=h;case"script":return h=Ds(r.src),(c=t.querySelector(ql(h)))?(n.instance=c,pe(c),c):(l=r,(c=Yn.get(h))&&(l=S({},r),vh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),pe(c),$e(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Du(l,r.precedence,t));return n.instance}function Du(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function _h(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function vh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Iu=null;function Fp(t,n,r){if(Iu===null){var l=new Map,c=Iu=new Map;c.set(r,l)}else c=Iu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var h=r[c];if(!(h[ot]||h[Ee]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(h):l.set(y,[h])}}return l}function Yp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function xE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Xp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Hl=null;function VE(){}function NE(t,n,r){if(Hl===null)throw Error(a(475));var l=Hl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Cs(r.href),h=t.querySelector(jl(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=xu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=h,pe(h);return}h=t.ownerDocument||t,r=Gp(r),(c=Yn.get(c))&&_h(r,c),h=h.createElement("link"),pe(h);var y=h;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),$e(h,"link",r),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=xu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function OE(){if(Hl===null)throw Error(a(475));var t=Hl;return t.stylesheets&&t.count===0&&Eh(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Eh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function xu(){if(this.count--,this.count===0){if(this.stylesheets)Eh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vu=null;function Eh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vu=new Map,n.forEach(ME,t),Vu=null,xu.call(t))}function ME(t,n){if(!(n.state.loading&4)){var r=Vu.get(t);if(r)var l=r.get(null);else{r=new Map,Vu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var y=c[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),h=r.get(y)||l,h===l&&r.set(null,c),r.set(y,c),this.count++,l=xu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Gl={$$typeof:ut,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function UE(t,n,r,l,c,h,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tn(0),this.hiddenUpdates=Tn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Kp(t,n,r,l,c,h,y,E,b,P,G,X){return t=new UE(t,n,r,y,E,b,P,X),n=1,h===!0&&(n|=24),h=wn(3,null,null,n),t.current=h,h.stateNode=t,n=tf(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:r,cache:n},af(h),t}function Zp(t){return t?(t=as,t):as}function $p(t,n,r,l,c,h){c=Zp(c),l.context===null?l.context=c:l.pendingContext=c,l=pr(n),l.payload={element:r},h=h===void 0?null:h,h!==null&&(l.callback=h),r=yr(t,l,n),r!==null&&(Vn(r,t,n),El(r,t,n))}function Jp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Th(t,n){Jp(t,n),(t=t.alternate)&&Jp(t,n)}function Wp(t){if(t.tag===13){var n=rs(t,67108864);n!==null&&Vn(n,t,67108864),Th(t,67108864)}}var Nu=!0;function zE(t,n,r,l){var c=H.T;H.T=null;var h=nt.p;try{nt.p=2,Sh(t,n,r,l)}finally{nt.p=h,H.T=c}}function LE(t,n,r,l){var c=H.T;H.T=null;var h=nt.p;try{nt.p=8,Sh(t,n,r,l)}finally{nt.p=h,H.T=c}}function Sh(t,n,r,l){if(Nu){var c=Ah(l);if(c===null)uh(t,n,l,Ou,r),ey(t,l);else if(kE(c,t,n,r,l))l.stopPropagation();else if(ey(t,l),n&4&&-1<PE.indexOf(t)){for(;c!==null;){var h=ge(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=un(h.pendingLanes);if(y!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Oe(y);E.entanglements[1]|=b,y&=~b}Ai(h),(Zt&6)===0&&(pu=Ve()+500,Ll(0))}}break;case 13:E=rs(h,2),E!==null&&Vn(E,h,2),_u(),Th(h,2)}if(h=Ah(l),h===null&&uh(t,n,l,Ou,r),h===c)break;c=h}c!==null&&l.stopPropagation()}else uh(t,n,l,null,r)}}function Ah(t){return t=Pn(t),bh(t)}var Ou=null;function bh(t){if(Ou=null,t=St(t),t!==null){var n=f(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ou=t,null}function ty(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xs()){case Vi:return 2;case Mn:return 8;case Wn:case za:return 32;case Ni:return 268435456;default:return 32}default:return 32}}var Rh=!1,xr=null,Vr=null,Nr=null,Ql=new Map,Fl=new Map,Or=[],PE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ey(t,n){switch(t){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":Ql.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(n.pointerId)}}function Yl(t,n,r,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=ge(n),n!==null&&Wp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function kE(t,n,r,l,c){switch(n){case"focusin":return xr=Yl(xr,t,n,r,l,c),!0;case"dragenter":return Vr=Yl(Vr,t,n,r,l,c),!0;case"mouseover":return Nr=Yl(Nr,t,n,r,l,c),!0;case"pointerover":var h=c.pointerId;return Ql.set(h,Yl(Ql.get(h)||null,t,n,r,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Fl.set(h,Yl(Fl.get(h)||null,t,n,r,l,c)),!0}return!1}function ny(t){var n=St(t.target);if(n!==null){var r=f(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Ba(t.priority,function(){if(r.tag===13){var l=xn();l=ci(l);var c=rs(r,l);c!==null&&Vn(c,r,l),Th(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Ah(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Pi=l,r.target.dispatchEvent(l),Pi=null}else return n=ge(r),n!==null&&Wp(n),t.blockedOn=r,!1;n.shift()}return!0}function iy(t,n,r){Mu(t)&&r.delete(n)}function BE(){Rh=!1,xr!==null&&Mu(xr)&&(xr=null),Vr!==null&&Mu(Vr)&&(Vr=null),Nr!==null&&Mu(Nr)&&(Nr=null),Ql.forEach(iy),Fl.forEach(iy)}function Uu(t,n){t.blockedOn===n&&(t.blockedOn=null,Rh||(Rh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,BE)))}var zu=null;function ry(t){zu!==t&&(zu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){zu===t&&(zu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(bh(l||r)===null)continue;break}var h=ge(r);h!==null&&(t.splice(n,3),n-=3,bf(h,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Xl(t){function n(b){return Uu(b,t)}xr!==null&&Uu(xr,t),Vr!==null&&Uu(Vr,t),Nr!==null&&Uu(Nr,t),Ql.forEach(n),Fl.forEach(n);for(var r=0;r<Or.length;r++){var l=Or[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Or.length&&(r=Or[0],r.blockedOn===null);)ny(r),r.blockedOn===null&&Or.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],h=r[l+1],y=c[me]||null;if(typeof h=="function")y||ry(r);else if(y){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,y=h[me]||null)E=y.formAction;else if(bh(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),ry(r)}}}function wh(t){this._internalRoot=t}Lu.prototype.render=wh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=xn();$p(r,l,t,n,null,null)},Lu.prototype.unmount=wh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;$p(t.current,2,null,t,null,null),_u(),n[mn]=null}};function Lu(t){this._internalRoot=t}Lu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Sn();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Or.length&&n!==0&&n<Or[r].priority;r++);Or.splice(r,0,t),r===0&&ny(t)}};var ay=e.version;if(ay!=="19.1.1")throw Error(a(527,ay,"19.1.1"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var jE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{oe=Pu.inject(jE),Lt=Pu}catch{}}return Zl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=Tg,h=Sg,y=Ag,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Kp(t,1,!1,null,null,r,l,c,h,y,E,null),t[mn]=n.current,oh(t),new wh(n)},Zl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",h=Tg,y=Sg,E=Ag,b=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Kp(t,1,!0,n,r??null,l,c,h,y,E,b,P),n.context=Zp(null),r=n.current,l=xn(),l=ci(l),c=pr(l),c.callback=null,yr(r,c,l),r=l,n.current.lanes=r,cn(n,r),Ai(n),t[mn]=n.current,oh(t),new Lu(n)},Zl.version="19.1.1",Zl}var gy;function WE(){if(gy)return Ih.exports;gy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ih.exports=JE(),Ih.exports}var t1=WE();const e1=()=>{};var py={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},n1=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const f=s[i++];e[a++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=s[i++],d=s[i++],p=s[i++],v=((o&7)<<18|(f&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const f=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return e.join("")},x_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const f=s[o],d=o+1<s.length,p=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,S=f>>2,x=(f&3)<<4|p>>4;let I=(p&15)<<2|_>>6,Q=_&63;v||(Q=64,d||(I=64)),a.push(i[S],i[x],i[I],i[Q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(I_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):n1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const f=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const x=o<s.length?i[s.charAt(o)]:64;if(++o,f==null||p==null||_==null||x==null)throw new i1;const I=f<<2|p>>4;if(a.push(I),_!==64){const Q=p<<4&240|_>>2;if(a.push(Q),x!==64){const J=_<<6&192|x;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class i1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r1=function(s){const e=I_(s);return x_.encodeByteArray(e,!0)},Zu=function(s){return r1(s).replace(/\./g,"")},a1=function(s){try{return x_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=()=>s1().__FIREBASE_DEFAULTS__,o1=()=>{if(typeof process>"u"||typeof py>"u")return;const s=py.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},u1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&a1(s[1]);return e&&JSON.parse(e)},md=()=>{try{return e1()||l1()||o1()||u1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},c1=s=>md()?.emulatorHosts?.[s],f1=s=>{const e=c1(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},V_=()=>md()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d1(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,f=s.sub||s.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Zu(JSON.stringify(i)),Zu(JSON.stringify(d)),""].join(".")}const eo={};function g1(){const s={prod:[],emulator:[]};for(const e of Object.keys(eo))eo[e]?s.emulator.push(e):s.prod.push(e);return s}function p1(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let yy=!1;function y1(s,e){if(typeof window>"u"||typeof document>"u"||!gd(window.location.host)||eo[s]===e||eo[s]||yy)return;eo[s]=e;function i(I){return`__firebase__banner__${I}`}const a="__firebase__banner",f=g1().prod.length>0;function d(){const I=document.getElementById(a);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function v(I,Q){I.setAttribute("width","24"),I.setAttribute("id",Q),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{yy=!0,d()},I}function S(I,Q){I.setAttribute("id",Q),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function x(){const I=p1(a),Q=i("text"),J=document.getElementById(Q)||document.createElement("span"),rt=i("learnmore"),tt=document.getElementById(rt)||document.createElement("a"),It=i("preprendIcon"),Tt=document.getElementById(It)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ut=I.element;p(ut),S(tt,rt);const Ht=_();v(Tt,It),ut.append(Tt,J,tt,Ht),document.body.appendChild(ut)}f?(J.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v1(){const s=md()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E1(){return!v1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T1(){try{return typeof indexedDB=="object"}catch{return!1}}function S1(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="FirebaseError";class qs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=A1,Object.setPrototypeOf(this,qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N_.prototype.create)}}class N_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,f=this.errors[e],d=f?b1(f,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new qs(o,p,a)}}function b1(s,e){return s.replace(R1,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const R1=/\{\$([^}]+)}/g;function $u(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const f=s[o],d=e[o];if(_y(f)&&_y(d)){if(!$u(f,d))return!1}else if(f!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function _y(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(s){return s&&s._delegate?s._delegate:s}class so{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new h1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(D1(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});a.resolve(f)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[f,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(f);a===p&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const f=this.instances.get(a);return f&&e(f,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:C1(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C1(s){return s===Da?void 0:s}function D1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new w1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(qt||(qt={}));const x1={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},V1=qt.INFO,N1={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},O1=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=N1[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class O_{constructor(e){this.name=e,this._logLevel=V1,this._logHandler=O1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?x1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}const M1=(s,e)=>e.some(i=>s instanceof i);let vy,Ey;function U1(){return vy||(vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z1(){return Ey||(Ey=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M_=new WeakMap,Hh=new WeakMap,U_=new WeakMap,Oh=new WeakMap,pd=new WeakMap;function L1(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",f),s.removeEventListener("error",d)},f=()=>{i(Lr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",f),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&M_.set(i,s)}).catch(()=>{}),pd.set(e,s),e}function P1(s){if(Hh.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",d),s.removeEventListener("abort",d)},f=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",f),s.addEventListener("error",d),s.addEventListener("abort",d)});Hh.set(s,e)}let Gh={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Hh.get(s);if(e==="objectStoreNames")return s.objectStoreNames||U_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Lr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function k1(s){Gh=s(Gh)}function B1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Mh(this),e,...i);return U_.set(a,e.sort?e.sort():[e]),Lr(a)}:z1().includes(s)?function(...e){return s.apply(Mh(this),e),Lr(M_.get(this))}:function(...e){return Lr(s.apply(Mh(this),e))}}function j1(s){return typeof s=="function"?B1(s):(s instanceof IDBTransaction&&P1(s),M1(s,U1())?new Proxy(s,Gh):s)}function Lr(s){if(s instanceof IDBRequest)return L1(s);if(Oh.has(s))return Oh.get(s);const e=j1(s);return e!==s&&(Oh.set(s,e),pd.set(e,s)),e}const Mh=s=>pd.get(s);function q1(s,e,{blocked:i,upgrade:a,blocking:o,terminated:f}={}){const d=indexedDB.open(s,e),p=Lr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Lr(d.result),v.oldVersion,v.newVersion,Lr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{f&&v.addEventListener("close",()=>f()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const H1=["get","getKey","getAll","getAllKeys","count"],G1=["put","add","delete","clear"],Uh=new Map;function Ty(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Uh.get(e))return Uh.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=G1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||H1.includes(i)))return;const f=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&v.done]))[0]};return Uh.set(e,f),f}k1(s=>({...s,get:(e,i,a)=>Ty(e,i)||s.get(e,i,a),has:(e,i)=>!!Ty(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(F1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function F1(s){return s.getComponent()?.type==="VERSION"}const Qh="@firebase/app",Sy="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new O_("@firebase/app"),Y1="@firebase/app-compat",X1="@firebase/analytics-compat",K1="@firebase/analytics",Z1="@firebase/app-check-compat",$1="@firebase/app-check",J1="@firebase/auth",W1="@firebase/auth-compat",tT="@firebase/database",eT="@firebase/data-connect",nT="@firebase/database-compat",iT="@firebase/functions",rT="@firebase/functions-compat",aT="@firebase/installations",sT="@firebase/installations-compat",lT="@firebase/messaging",oT="@firebase/messaging-compat",uT="@firebase/performance",cT="@firebase/performance-compat",fT="@firebase/remote-config",hT="@firebase/remote-config-compat",dT="@firebase/storage",mT="@firebase/storage-compat",gT="@firebase/firestore",pT="@firebase/ai",yT="@firebase/firestore-compat",_T="firebase",vT="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh="[DEFAULT]",ET={[Qh]:"fire-core",[Y1]:"fire-core-compat",[K1]:"fire-analytics",[X1]:"fire-analytics-compat",[$1]:"fire-app-check",[Z1]:"fire-app-check-compat",[J1]:"fire-auth",[W1]:"fire-auth-compat",[tT]:"fire-rtdb",[eT]:"fire-data-connect",[nT]:"fire-rtdb-compat",[iT]:"fire-fn",[rT]:"fire-fn-compat",[aT]:"fire-iid",[sT]:"fire-iid-compat",[lT]:"fire-fcm",[oT]:"fire-fcm-compat",[uT]:"fire-perf",[cT]:"fire-perf-compat",[fT]:"fire-rc",[hT]:"fire-rc-compat",[dT]:"fire-gcs",[mT]:"fire-gcs-compat",[gT]:"fire-fst",[yT]:"fire-fst-compat",[pT]:"fire-vertex","fire-js":"fire-js",[_T]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,TT=new Map,Yh=new Map;function Ay(s,e){try{s.container.addComponent(e)}catch(i){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Wu(s){const e=s.name;if(Yh.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;Yh.set(e,s);for(const i of Ju.values())Ay(i,s);for(const i of TT.values())Ay(i,s);return!0}function ST(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function AT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new N_("app","Firebase",bT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=vT;function z_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:Fh,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Pr.create("bad-app-name",{appName:String(o)});if(i||(i=V_()),!i)throw Pr.create("no-options");const f=Ju.get(o);if(f){if($u(i,f.options)&&$u(a,f.config))return f;throw Pr.create("duplicate-app",{appName:o})}const d=new I1(o);for(const v of Yh.values())d.addComponent(v);const p=new RT(i,a,d);return Ju.set(o,p),p}function CT(s=Fh){const e=Ju.get(s);if(!e&&s===Fh&&V_())return z_();if(!e)throw Pr.create("no-app",{appName:s});return e}function Os(s,e,i){let a=ET[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),f=e.match(/\s|\//);if(o||f){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(d.join(" "));return}Wu(new so(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="firebase-heartbeat-database",IT=1,lo="firebase-heartbeat-store";let zh=null;function L_(){return zh||(zh=q1(DT,IT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(lo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Pr.create("idb-open",{originalErrorMessage:s.message})})),zh}async function xT(s){try{const i=(await L_()).transaction(lo),a=await i.objectStore(lo).get(P_(s));return await i.done,a}catch(e){if(e instanceof qs)ir.warn(e.message);else{const i=Pr.create("idb-get",{originalErrorMessage:e?.message});ir.warn(i.message)}}}async function by(s,e){try{const a=(await L_()).transaction(lo,"readwrite");await a.objectStore(lo).put(e,P_(s)),await a.done}catch(i){if(i instanceof qs)ir.warn(i.message);else{const a=Pr.create("idb-set",{originalErrorMessage:i?.message});ir.warn(a.message)}}}function P_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=1024,NT=30;class OT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new UT(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ry();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>NT){const o=zT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ir.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ry(),{heartbeatsToSend:i,unsentEntries:a}=MT(this._heartbeatsCache.heartbeats),o=Zu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ir.warn(e),""}}}function Ry(){return new Date().toISOString().substring(0,10)}function MT(s,e=VT){const i=[];let a=s.slice();for(const o of s){const f=i.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),wy(i)>e){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),wy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class UT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T1()?S1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await xT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return by(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return by(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function wy(s){return Zu(JSON.stringify({version:2,heartbeats:s})).length}function zT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(s){Wu(new so("platform-logger",e=>new Q1(e),"PRIVATE")),Wu(new so("heartbeat",e=>new OT(e),"PRIVATE")),Os(Qh,Sy,s),Os(Qh,Sy,"esm2020"),Os("fire-js","")}LT("");var PT="firebase",kT="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Os(PT,kT,"app");var Cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kr,k_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function w(){}w.prototype=A.prototype,N.D=A.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(V,O,U){for(var R=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)R[xe-2]=arguments[xe];return A.prototype[O].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,w){w||(w=0);var V=Array(16);if(typeof A=="string")for(var O=0;16>O;++O)V[O]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(O=0;16>O;++O)V[O]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=N.g[0],w=N.g[1],O=N.g[2];var U=N.g[3],R=A+(U^w&(O^U))+V[0]+3614090360&4294967295;A=w+(R<<7&4294967295|R>>>25),R=U+(O^A&(w^O))+V[1]+3905402710&4294967295,U=A+(R<<12&4294967295|R>>>20),R=O+(w^U&(A^w))+V[2]+606105819&4294967295,O=U+(R<<17&4294967295|R>>>15),R=w+(A^O&(U^A))+V[3]+3250441966&4294967295,w=O+(R<<22&4294967295|R>>>10),R=A+(U^w&(O^U))+V[4]+4118548399&4294967295,A=w+(R<<7&4294967295|R>>>25),R=U+(O^A&(w^O))+V[5]+1200080426&4294967295,U=A+(R<<12&4294967295|R>>>20),R=O+(w^U&(A^w))+V[6]+2821735955&4294967295,O=U+(R<<17&4294967295|R>>>15),R=w+(A^O&(U^A))+V[7]+4249261313&4294967295,w=O+(R<<22&4294967295|R>>>10),R=A+(U^w&(O^U))+V[8]+1770035416&4294967295,A=w+(R<<7&4294967295|R>>>25),R=U+(O^A&(w^O))+V[9]+2336552879&4294967295,U=A+(R<<12&4294967295|R>>>20),R=O+(w^U&(A^w))+V[10]+4294925233&4294967295,O=U+(R<<17&4294967295|R>>>15),R=w+(A^O&(U^A))+V[11]+2304563134&4294967295,w=O+(R<<22&4294967295|R>>>10),R=A+(U^w&(O^U))+V[12]+1804603682&4294967295,A=w+(R<<7&4294967295|R>>>25),R=U+(O^A&(w^O))+V[13]+4254626195&4294967295,U=A+(R<<12&4294967295|R>>>20),R=O+(w^U&(A^w))+V[14]+2792965006&4294967295,O=U+(R<<17&4294967295|R>>>15),R=w+(A^O&(U^A))+V[15]+1236535329&4294967295,w=O+(R<<22&4294967295|R>>>10),R=A+(O^U&(w^O))+V[1]+4129170786&4294967295,A=w+(R<<5&4294967295|R>>>27),R=U+(w^O&(A^w))+V[6]+3225465664&4294967295,U=A+(R<<9&4294967295|R>>>23),R=O+(A^w&(U^A))+V[11]+643717713&4294967295,O=U+(R<<14&4294967295|R>>>18),R=w+(U^A&(O^U))+V[0]+3921069994&4294967295,w=O+(R<<20&4294967295|R>>>12),R=A+(O^U&(w^O))+V[5]+3593408605&4294967295,A=w+(R<<5&4294967295|R>>>27),R=U+(w^O&(A^w))+V[10]+38016083&4294967295,U=A+(R<<9&4294967295|R>>>23),R=O+(A^w&(U^A))+V[15]+3634488961&4294967295,O=U+(R<<14&4294967295|R>>>18),R=w+(U^A&(O^U))+V[4]+3889429448&4294967295,w=O+(R<<20&4294967295|R>>>12),R=A+(O^U&(w^O))+V[9]+568446438&4294967295,A=w+(R<<5&4294967295|R>>>27),R=U+(w^O&(A^w))+V[14]+3275163606&4294967295,U=A+(R<<9&4294967295|R>>>23),R=O+(A^w&(U^A))+V[3]+4107603335&4294967295,O=U+(R<<14&4294967295|R>>>18),R=w+(U^A&(O^U))+V[8]+1163531501&4294967295,w=O+(R<<20&4294967295|R>>>12),R=A+(O^U&(w^O))+V[13]+2850285829&4294967295,A=w+(R<<5&4294967295|R>>>27),R=U+(w^O&(A^w))+V[2]+4243563512&4294967295,U=A+(R<<9&4294967295|R>>>23),R=O+(A^w&(U^A))+V[7]+1735328473&4294967295,O=U+(R<<14&4294967295|R>>>18),R=w+(U^A&(O^U))+V[12]+2368359562&4294967295,w=O+(R<<20&4294967295|R>>>12),R=A+(w^O^U)+V[5]+4294588738&4294967295,A=w+(R<<4&4294967295|R>>>28),R=U+(A^w^O)+V[8]+2272392833&4294967295,U=A+(R<<11&4294967295|R>>>21),R=O+(U^A^w)+V[11]+1839030562&4294967295,O=U+(R<<16&4294967295|R>>>16),R=w+(O^U^A)+V[14]+4259657740&4294967295,w=O+(R<<23&4294967295|R>>>9),R=A+(w^O^U)+V[1]+2763975236&4294967295,A=w+(R<<4&4294967295|R>>>28),R=U+(A^w^O)+V[4]+1272893353&4294967295,U=A+(R<<11&4294967295|R>>>21),R=O+(U^A^w)+V[7]+4139469664&4294967295,O=U+(R<<16&4294967295|R>>>16),R=w+(O^U^A)+V[10]+3200236656&4294967295,w=O+(R<<23&4294967295|R>>>9),R=A+(w^O^U)+V[13]+681279174&4294967295,A=w+(R<<4&4294967295|R>>>28),R=U+(A^w^O)+V[0]+3936430074&4294967295,U=A+(R<<11&4294967295|R>>>21),R=O+(U^A^w)+V[3]+3572445317&4294967295,O=U+(R<<16&4294967295|R>>>16),R=w+(O^U^A)+V[6]+76029189&4294967295,w=O+(R<<23&4294967295|R>>>9),R=A+(w^O^U)+V[9]+3654602809&4294967295,A=w+(R<<4&4294967295|R>>>28),R=U+(A^w^O)+V[12]+3873151461&4294967295,U=A+(R<<11&4294967295|R>>>21),R=O+(U^A^w)+V[15]+530742520&4294967295,O=U+(R<<16&4294967295|R>>>16),R=w+(O^U^A)+V[2]+3299628645&4294967295,w=O+(R<<23&4294967295|R>>>9),R=A+(O^(w|~U))+V[0]+4096336452&4294967295,A=w+(R<<6&4294967295|R>>>26),R=U+(w^(A|~O))+V[7]+1126891415&4294967295,U=A+(R<<10&4294967295|R>>>22),R=O+(A^(U|~w))+V[14]+2878612391&4294967295,O=U+(R<<15&4294967295|R>>>17),R=w+(U^(O|~A))+V[5]+4237533241&4294967295,w=O+(R<<21&4294967295|R>>>11),R=A+(O^(w|~U))+V[12]+1700485571&4294967295,A=w+(R<<6&4294967295|R>>>26),R=U+(w^(A|~O))+V[3]+2399980690&4294967295,U=A+(R<<10&4294967295|R>>>22),R=O+(A^(U|~w))+V[10]+4293915773&4294967295,O=U+(R<<15&4294967295|R>>>17),R=w+(U^(O|~A))+V[1]+2240044497&4294967295,w=O+(R<<21&4294967295|R>>>11),R=A+(O^(w|~U))+V[8]+1873313359&4294967295,A=w+(R<<6&4294967295|R>>>26),R=U+(w^(A|~O))+V[15]+4264355552&4294967295,U=A+(R<<10&4294967295|R>>>22),R=O+(A^(U|~w))+V[6]+2734768916&4294967295,O=U+(R<<15&4294967295|R>>>17),R=w+(U^(O|~A))+V[13]+1309151649&4294967295,w=O+(R<<21&4294967295|R>>>11),R=A+(O^(w|~U))+V[4]+4149444226&4294967295,A=w+(R<<6&4294967295|R>>>26),R=U+(w^(A|~O))+V[11]+3174756917&4294967295,U=A+(R<<10&4294967295|R>>>22),R=O+(A^(U|~w))+V[2]+718787259&4294967295,O=U+(R<<15&4294967295|R>>>17),R=w+(U^(O|~A))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var w=A-this.blockSize,V=this.B,O=this.h,U=0;U<A;){if(O==0)for(;U<=w;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<A;)if(V[O++]=N.charCodeAt(U++),O==this.blockSize){o(this,V),O=0;break}}else for(;U<A;)if(V[O++]=N[U++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=A},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var w=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=w&255,w/=256;for(this.u(N),N=Array(16),A=w=0;4>A;++A)for(var V=0;32>V;V+=8)N[w++]=this.g[A]>>>V&255;return N};function f(N,A){var w=p;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=A(N)}function d(N,A){this.h=A;for(var w=[],V=!0,O=N.length-1;0<=O;O--){var U=N[O]|0;V&&U==A||(w[O]=U,V=!1)}this.g=w}var p={};function v(N){return-128<=N&&128>N?f(N,function(A){return new d([A|0],0>A?-1:0)}):new d([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return x;if(0>N)return tt(_(-N));for(var A=[],w=1,V=0;N>=w;V++)A[V]=N/w|0,w*=4294967296;return new d(A,0)}function S(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return tt(S(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(A,8)),V=x,O=0;O<N.length;O+=8){var U=Math.min(8,N.length-O),R=parseInt(N.substring(O,O+U),A);8>U?(U=_(Math.pow(A,U)),V=V.j(U).add(_(R))):(V=V.j(w),V=V.add(_(R)))}return V}var x=v(0),I=v(1),Q=v(16777216);s=d.prototype,s.m=function(){if(rt(this))return-tt(this).m();for(var N=0,A=1,w=0;w<this.g.length;w++){var V=this.i(w);N+=(0<=V?V:4294967296+V)*A,A*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(rt(this))return"-"+tt(this).toString(N);for(var A=_(Math.pow(N,6)),w=this,V="";;){var O=Ht(w,A).g;w=It(w,O.j(A));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=O,J(w))return U+V;for(;6>U.length;)U="0"+U;V=U+V}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function rt(N){return N.h==-1}s.l=function(N){return N=It(this,N),rt(N)?-1:J(N)?0:1};function tt(N){for(var A=N.g.length,w=[],V=0;V<A;V++)w[V]=~N.g[V];return new d(w,~N.h).add(I)}s.abs=function(){return rt(this)?tt(this):this},s.add=function(N){for(var A=Math.max(this.g.length,N.g.length),w=[],V=0,O=0;O<=A;O++){var U=V+(this.i(O)&65535)+(N.i(O)&65535),R=(U>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=R>>>16,U&=65535,R&=65535,w[O]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function It(N,A){return N.add(tt(A))}s.j=function(N){if(J(this)||J(N))return x;if(rt(this))return rt(N)?tt(this).j(tt(N)):tt(tt(this).j(N));if(rt(N))return tt(this.j(tt(N)));if(0>this.l(Q)&&0>N.l(Q))return _(this.m()*N.m());for(var A=this.g.length+N.g.length,w=[],V=0;V<2*A;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var O=0;O<N.g.length;O++){var U=this.i(V)>>>16,R=this.i(V)&65535,xe=N.i(O)>>>16,ie=N.i(O)&65535;w[2*V+2*O]+=R*ie,Tt(w,2*V+2*O),w[2*V+2*O+1]+=U*ie,Tt(w,2*V+2*O+1),w[2*V+2*O+1]+=R*xe,Tt(w,2*V+2*O+1),w[2*V+2*O+2]+=U*xe,Tt(w,2*V+2*O+2)}for(V=0;V<A;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=A;V<2*A;V++)w[V]=0;return new d(w,0)};function Tt(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function ut(N,A){this.g=N,this.h=A}function Ht(N,A){if(J(A))throw Error("division by zero");if(J(N))return new ut(x,x);if(rt(N))return A=Ht(tt(N),A),new ut(tt(A.g),tt(A.h));if(rt(A))return A=Ht(N,tt(A)),new ut(tt(A.g),A.h);if(30<N.g.length){if(rt(N)||rt(A))throw Error("slowDivide_ only works with positive integers.");for(var w=I,V=A;0>=V.l(N);)w=At(w),V=At(V);var O=Gt(w,1),U=Gt(V,1);for(V=Gt(V,2),w=Gt(w,2);!J(V);){var R=U.add(V);0>=R.l(N)&&(O=O.add(w),U=R),V=Gt(V,1),w=Gt(w,1)}return A=It(N,O.j(A)),new ut(O,A)}for(O=x;0<=N.l(A);){for(w=Math.max(1,Math.floor(N.m()/A.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),U=_(w),R=U.j(A);rt(R)||0<R.l(N);)w-=V,U=_(w),R=U.j(A);J(U)&&(U=I),O=O.add(U),N=It(N,R)}return new ut(O,N)}s.A=function(N){return Ht(this,N).h},s.and=function(N){for(var A=Math.max(this.g.length,N.g.length),w=[],V=0;V<A;V++)w[V]=this.i(V)&N.i(V);return new d(w,this.h&N.h)},s.or=function(N){for(var A=Math.max(this.g.length,N.g.length),w=[],V=0;V<A;V++)w[V]=this.i(V)|N.i(V);return new d(w,this.h|N.h)},s.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),w=[],V=0;V<A;V++)w[V]=this.i(V)^N.i(V);return new d(w,this.h^N.h)};function At(N){for(var A=N.g.length+1,w=[],V=0;V<A;V++)w[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(w,N.h)}function Gt(N,A){var w=A>>5;A%=32;for(var V=N.g.length-w,O=[],U=0;U<V;U++)O[U]=0<A?N.i(U+w)>>>A|N.i(U+w+1)<<32-A:N.i(U+w);return new d(O,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,k_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,kr=d}).apply(typeof Cy<"u"?Cy:typeof self<"u"?self:typeof window<"u"?window:{});var ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var B_,$l,j_,Gu,Xh,q_,H_,G_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,g){return u==Array.prototype||u==Object.prototype||(u[m]=g.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ku=="object"&&ku];for(var m=0;m<u.length;++m){var g=u[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var g=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var z=u[T];if(!(z in g))break t;g=g[z]}u=u[u.length-1],T=g[u],m=m(T),m!=T&&m!=null&&e(g,u,{configurable:!0,writable:!0,value:m})}}function f(u,m){u instanceof String&&(u+="");var g=0,T=!1,z={next:function(){if(!T&&g<u.length){var q=g++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return f(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function v(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function S(u,m,g){return u.call.apply(u.bind,arguments)}function x(u,m,g){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function I(u,m,g){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:x,I.apply(null,arguments)}function Q(u,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function J(u,m){function g(){}g.prototype=m.prototype,u.aa=m.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(T,z,q){for(var et=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)et[Pt-2]=arguments[Pt];return m.prototype[z].apply(T,et)}}function rt(u){const m=u.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=u[T];return g}return[]}function tt(u,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(v(T)){const z=u.length||0,q=T.length||0;u.length=z+q;for(let et=0;et<q;et++)u[z+et]=T[et]}else u.push(T)}}class It{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Tt(u){return/^[\s\xa0]*$/.test(u)}function ut(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function Ht(u){return Ht[" "](u),u}Ht[" "]=function(){};var At=ut().indexOf("Gecko")!=-1&&!(ut().toLowerCase().indexOf("webkit")!=-1&&ut().indexOf("Edge")==-1)&&!(ut().indexOf("Trident")!=-1||ut().indexOf("MSIE")!=-1)&&ut().indexOf("Edge")==-1;function Gt(u,m,g){for(const T in u)m.call(g,u[T],T,u)}function N(u,m){for(const g in u)m.call(void 0,u[g],g,u)}function A(u){const m={};for(const g in u)m[g]=u[g];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let g,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(g in T)u[g]=T[g];for(let q=0;q<w.length;q++)g=w[q],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function O(u){var m=1;u=u.split(":");const g=[];for(;0<m&&u.length;)g.push(u.shift()),m--;return u.length&&g.push(u.join(":")),g}function U(u){p.setTimeout(()=>{throw u},0)}function R(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class xe{constructor(){this.h=this.g=null}add(m,g){const T=ie.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new It(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ft=!1,zt=new xe,C=()=>{const u=p.Promise.resolve(void 0);nt=()=>{u.then(Z)}};var Z=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(g){U(g)}var m=ie;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ft=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch{}return u}();function Ct(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(At){t:{try{Ht(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else g=="mouseover"?m=u.fromElement:g=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:pt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ct.aa.h.call(this)}}J(Ct,W);var pt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Yt=0;function en(u,m,g,T,z){this.listener=u,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=z,this.key=++Yt,this.da=this.fa=!1}function On(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function on(u){this.src=u,this.g={},this.h=0}on.prototype.add=function(u,m,g,T,z){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var et=Jn(u,m,T,z);return-1<et?(m=u[et],g||(m.fa=!1)):(m=new en(m,this.src,q,!!T,z),m.fa=g,u.push(m)),m};function $n(u,m){var g=m.type;if(g in u.g){var T=u.g[g],z=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=z)&&Array.prototype.splice.call(T,z,1),q&&(On(m),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Jn(u,m,g,T){for(var z=0;z<u.length;++z){var q=u[z];if(!q.da&&q.listener==m&&q.capture==!!g&&q.ha==T)return z}return-1}var li="closure_lm_"+(1e6*Math.random()|0),le={};function sr(u,m,g,T,z){if(Array.isArray(m)){for(var q=0;q<m.length;q++)sr(u,m[q],g,T,z);return null}return g=lr(g),u&&u[ce]?u.K(m,g,_(T)?!!T.capture:!1,z):Ve(u,m,g,!1,T,z)}function Ve(u,m,g,T,z,q){if(!m)throw Error("Invalid event type");var et=_(z)?!!z.capture:!!z,Pt=Ni(u);if(Pt||(u[li]=Pt=new on(u)),g=Pt.add(m,g,T,et,q),g.proxy)return g;if(T=Xs(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)ht||(z=et),z===void 0&&(z=!1),u.addEventListener(m.toString(),T,z);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Xs(){function u(g){return m.call(u.src,u.listener,g)}const m=za;return u}function Vi(u,m,g,T,z){if(Array.isArray(m))for(var q=0;q<m.length;q++)Vi(u,m[q],g,T,z);else T=_(T)?!!T.capture:!!T,g=lr(g),u&&u[ce]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],g=Jn(q,g,T,z),-1<g&&(On(q[g]),Array.prototype.splice.call(q,g,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ni(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Jn(m,g,T,z)),(g=-1<u?m[u]:null)&&Mn(g))}function Mn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ce])$n(m.i,u);else{var g=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(g,T,u.capture):m.detachEvent?m.detachEvent(Wn(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=Ni(m))?($n(g,u),g.h==0&&(g.src=null,m[li]=null)):On(u)}}}function Wn(u){return u in le?le[u]:le[u]="on"+u}function za(u,m){if(u.da)u=!0;else{m=new Ct(m,this);var g=u.listener,T=u.ha||u.src;u.fa&&Mn(u),u=g.call(T,m)}return u}function Ni(u){return u=u[li],u instanceof on?u:null}var $r="__closure_events_fn_"+(1e9*Math.random()>>>0);function lr(u){return typeof u=="function"?u:(u[$r]||(u[$r]=function(m){return u.handleEvent(m)}),u[$r])}function oe(){it.call(this),this.i=new on(this),this.M=this,this.F=null}J(oe,it),oe.prototype[ce]=!0,oe.prototype.removeEventListener=function(u,m,g,T){Vi(this,u,m,g,T)};function Lt(u,m){var g,T=u.F;if(T)for(g=[];T;T=T.F)g.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var z=m;m=new W(T,u),V(m,z)}if(z=!0,g)for(var q=g.length-1;0<=q;q--){var et=m.g=g[q];z=Ne(et,T,!0,m)&&z}if(et=m.g=u,z=Ne(et,T,!0,m)&&z,z=Ne(et,T,!1,m)&&z,g)for(q=0;q<g.length;q++)et=m.g=g[q],z=Ne(et,T,!1,m)&&z}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var g=u.g[m],T=0;T<g.length;T++)On(g[T]);delete u.g[m],u.h--}}this.F=null},oe.prototype.K=function(u,m,g,T){return this.i.add(String(u),m,!1,g,T)},oe.prototype.L=function(u,m,g,T){return this.i.add(String(u),m,!0,g,T)};function Ne(u,m,g,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,q=0;q<m.length;++q){var et=m[q];if(et&&!et.da&&et.capture==g){var Pt=et.listener,ze=et.ha||et.src;et.fa&&$n(u.i,et),z=Pt.call(ze,T)!==!1&&z}}return z&&!T.defaultPrevented}function Oe(u,m,g){if(typeof u=="function")g&&(u=I(u,g));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function La(u){u.g=Oe(()=>{u.g=null,u.i&&(u.i=!1,La(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ks extends it{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:La(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function En(u){it.call(this),this.h=u,this.g={}}J(En,it);var oi=[];function Un(u){Gt(u.g,function(m,g){this.g.hasOwnProperty(g)&&Mn(m)},u),u.g={}}En.prototype.N=function(){En.aa.N.call(this),Un(this)},En.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var un=p.JSON.stringify,or=p.JSON.parse,ti=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function Pa(){}Pa.prototype.h=null;function ka(u){return u.h||(u.h=u.i())}function ui(){}var Tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cn(){W.call(this,"d")}J(cn,W);function Jr(){W.call(this,"c")}J(Jr,W);var zn={},ur=null;function ci(){return ur=ur||new oe}zn.La="serverreachability";function cr(u){W.call(this,zn.La,u)}J(cr,W);function Sn(u){const m=ci();Lt(m,new cr(m))}zn.STAT_EVENT="statevent";function Ba(u,m){W.call(this,zn.STAT_EVENT,u),this.stat=m}J(Ba,W);function re(u){const m=ci();Lt(m,new Ba(m,u))}zn.Ma="timingevent";function Ee(u,m){W.call(this,zn.Ma,u),this.size=m}J(Ee,W);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function Wr(u,m,g,T,z,q){u.info(function(){if(u.g)if(q)for(var et="",Pt=q.split("&"),ze=0;ze<Pt.length;ze++){var kt=Pt[ze].split("=");if(1<kt.length){var qe=kt[0];kt=kt[1];var Le=qe.split("_");et=2<=Le.length&&Le[1]=="type"?et+(qe+"="+kt+"&"):et+(qe+"=redacted&")}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+g+`
`+et})}function Zs(u,m,g,T,z,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+g+`
`+q+" "+et})}function j(u,m,g,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ot(u,g)+(T?" "+T:"")})}function ct(u,m){u.info(function(){return"TIMEOUT: "+m})}mn.prototype.info=function(){};function ot(u,m){if(!u.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var T=g[u];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var q=z[0];if(q!="noop"&&q!="stop"&&q!="close")for(var et=1;et<z.length;et++)z[et]=""}}}}return un(g)}catch{return m}}var yt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},St={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ge;function Me(){}J(Me,Pa),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},ge=new Me;function Ue(u,m,g,T){this.j=u,this.i=m,this.l=g,this.R=T||1,this.U=new En(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var ja={},ta={};function An(u,m,g){u.L=1,u.v=ra(bn(m)),u.m=g,u.P=!0,ei(u,null)}function ei(u,m){u.F=Date.now(),Ui(u),u.A=bn(u.v);var g=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),nl(g.i,"t",T),u.C=0,g=u.j.J,u.h=new pe,u.g=Uo(u.j,g?m:null,!u.m),0<u.O&&(u.M=new Ks(I(u.Y,u,u.g),u.O)),m=u.U,g=u.g,T=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(oi[0]=z.toString()),z=oi);for(var q=0;q<z.length;q++){var et=sr(g,z[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Sn(),Wr(u.i,u.u,u.A,u.l,u.R,u.m)}Ue.prototype.ca=function(u){u=u.target;const m=this.M;m&&Bn(u)==3?m.j():this.Y(u)},Ue.prototype.Y=function(u){try{if(u==this.g)t:{const Le=Bn(this.g);var m=this.g.Ba();const Hi=this.g.Z();if(!(3>Le)&&(Le!=3||this.g&&(this.h.h||this.g.oa()||Co(this.g)))){this.J||Le!=4||m==7||(m==8||0>=Hi?Sn(3):Sn(2)),fr(this);var g=this.g.Z();this.X=g;e:if(Oi(this)){var T=Co(this.g);u="";var z=T.length,q=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ye(this),fi(this);var et="";break e}this.h.i=new p.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==z-1)});T.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=g==200,Zs(this.i,this.u,this.A,this.l,this.R,Le,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,ze=this.g;if((Pt=ze.g?ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tt(Pt)){var kt=Pt;break e}}kt=null}if(g=kt)j(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ea(this,g);else{this.o=!1,this.s=3,re(12),Ye(this),fi(this);break t}}if(this.P){g=!0;let Xe;for(;!this.J&&this.C<et.length;)if(Xe=Mi(this,et),Xe==ta){Le==4&&(this.s=4,re(14),g=!1),j(this.i,this.l,null,"[Incomplete Response]");break}else if(Xe==ja){this.s=4,re(15),j(this.i,this.l,et,"[Invalid Chunk]"),g=!1;break}else j(this.i,this.l,Xe,null),ea(this,Xe);if(Oi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||et.length!=0||this.h.h||(this.s=1,re(16),g=!1),this.o=this.o&&g,!g)j(this.i,this.l,et,"[Invalid Chunked Response]"),Ye(this),fi(this);else if(0<et.length&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.ba&&!qe.M&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),ha(qe),qe.M=!0,re(11))}}else j(this.i,this.l,et,null),ea(this,et);Le==4&&Ye(this),this.o&&!this.J&&(Le==4?No(this.j,this):(this.o=!1,Ui(this)))}else Mc(this.g),g==400&&0<et.indexOf("Unknown SID")?(this.s=3,re(12)):(this.s=0,re(13)),Ye(this),fi(this)}}}catch{}finally{}};function Oi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Mi(u,m){var g=u.C,T=m.indexOf(`
`,g);return T==-1?ta:(g=Number(m.substring(g,T)),isNaN(g)?ja:(T+=1,T+g>m.length?ta:(m=m.slice(T,T+g),u.C=T+g,m)))}Ue.prototype.cancel=function(){this.J=!0,Ye(this)};function Ui(u){u.S=Date.now()+u.I,So(u,u.I)}function So(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(I(u.ba,u),m)}function fr(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Ue.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ct(this.i,this.A),this.L!=2&&(Sn(),re(17)),Ye(this),this.s=2,fi(this)):So(this,this.S-u)};function fi(u){u.j.G==0||u.J||No(u.j,u)}function Ye(u){fr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Un(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ea(u,m){try{var g=u.j;if(g.G!=0&&(g.g==u||$s(g.h,u))){if(!u.K&&$s(g.h,u)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Wa(g),$a(g);else break t;ll(g),re(18)}}else g.za=z[1],0<g.za-g.T&&37500>z[2]&&g.F&&g.v==0&&!g.C&&(g.C=me(I(g.Za,g),6e3));if(1>=Ha(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else qi(g,11)}else if((u.K||g.g==u)&&Wa(g),!Tt(m))for(z=g.Da.g.parse(m),m=0;m<z.length;m++){let kt=z[m];if(g.T=kt[0],kt=kt[1],g.G==2)if(kt[0]=="c"){g.K=kt[1],g.ia=kt[2];const qe=kt[3];qe!=null&&(g.la=qe,g.j.info("VER="+g.la));const Le=kt[4];Le!=null&&(g.Aa=Le,g.j.info("SVER="+g.Aa));const Hi=kt[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(T=1.5*Hi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Xe=u.g;if(Xe){const _i=Xe.g?Xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var q=T.h;q.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ga(q,q.h),q.h=null))}if(T.D){const ul=Xe.g?Xe.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(T.ya=ul,Jt(T.I,T.D,ul))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var et=u;if(T.qa=Mo(T,T.J?T.ia:null,T.W),et.K){fn(T.h,et);var Pt=et,ze=T.L;ze&&(Pt.I=ze),Pt.B&&(fr(Pt),Ui(Pt)),T.g=et}else xo(T);0<g.i.length&&Ja(g)}else kt[0]!="stop"&&kt[0]!="close"||qi(g,7);else g.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?qi(g,7):al(g):kt[0]!="noop"&&g.l&&g.l.ta(kt),g.v=0)}}Sn(4)}catch{}}var Ao=class{constructor(u,m){this.g=u,this.map=m}};function zi(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ha(u){return u.h?1:u.g?u.g.size:0}function $s(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ga(u,m){u.g?u.g.add(m):u.h=m}function fn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}zi.prototype.cancel=function(){if(this.i=Js(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Js(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const g of u.g.values())m=m.concat(g.D);return m}return rt(u.i)}function xc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var m=[],g=u.length,T=0;T<g;T++)m.push(u[T]);return m}m=[],g=0;for(T in u)m[g++]=u[T];return m}function Qa(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var m=[];u=u.length;for(var g=0;g<u;g++)m.push(g);return m}m=[],g=0;for(const T in u)m[g++]=T;return m}}}function Ws(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var g=Qa(u),T=xc(u),z=T.length,q=0;q<z;q++)m.call(void 0,T[q],g&&g[q],u)}var na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vc(u,m){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var T=u[g].indexOf("="),z=null;if(0<=T){var q=u[g].substring(0,T);z=u[g].substring(T+1)}else q=u[g];m(q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function be(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof be){this.h=u.h,ia(this,u.j),this.o=u.o,this.g=u.g,hr(this,u.s),this.l=u.l;var m=u.i,g=new Pi;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),Li(this,g),this.m=u.m}else u&&(m=String(u).match(na))?(this.h=!1,ia(this,m[1]||"",!0),this.o=Ln(m[2]||""),this.g=Ln(m[3]||"",!0),hr(this,m[4]),this.l=Ln(m[5]||"",!0),Li(this,m[6]||"",!0),this.m=Ln(m[7]||"")):(this.h=!1,this.i=new Pi(null,this.h))}be.prototype.toString=function(){var u=[],m=this.j;m&&u.push(aa(m,tl,!0),":");var g=this.g;return(g||m=="file")&&(u.push("//"),(m=this.o)&&u.push(aa(m,tl,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(aa(g,g.charAt(0)=="/"?Nc:el,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",aa(g,Fa)),u.join("")};function bn(u){return new be(u)}function ia(u,m,g){u.j=g?Ln(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function hr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Li(u,m,g){m instanceof Pi?(u.i=m,Ro(u.i,u.h)):(g||(m=aa(m,Oc)),u.i=new Pi(m,u.h))}function Jt(u,m,g){u.i.set(m,g)}function ra(u){return Jt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ln(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function aa(u,m,g){return typeof u=="string"?(u=encodeURI(u).replace(m,bo),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function bo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var tl=/[#\/\?@]/g,el=/[#\?:]/g,Nc=/[#\?]/g,Oc=/[#\?@]/g,Fa=/#/g;function Pi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Pn(u){u.g||(u.g=new Map,u.h=0,u.i&&Vc(u.i,function(m,g){u.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=Pi.prototype,s.add=function(u,m){Pn(this),this.i=null,u=hi(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(m),this.h+=1,this};function ki(u,m){Pn(u),m=hi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Bi(u,m){return Pn(u),m=hi(u,m),u.g.has(m)}s.forEach=function(u,m){Pn(this),this.g.forEach(function(g,T){g.forEach(function(z){u.call(m,z,T,this)},this)},this)},s.na=function(){Pn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const z=u[T];for(let q=0;q<z.length;q++)g.push(m[T])}return g},s.V=function(u){Pn(this);let m=[];if(typeof u=="string")Bi(this,u)&&(m=m.concat(this.g.get(hi(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)m=m.concat(u[g])}return m},s.set=function(u,m){return Pn(this),this.i=null,u=hi(this,u),Bi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function nl(u,m,g){ki(u,m),0<g.length&&(u.i=null,u.g.set(hi(u,m),rt(g)),u.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const q=encodeURIComponent(String(T)),et=this.V(T);for(T=0;T<et.length;T++){var z=q;et[T]!==""&&(z+="="+encodeURIComponent(String(et[T]))),u.push(z)}}return this.i=u.join("&")};function hi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ro(u,m){m&&!u.j&&(Pn(u),u.i=null,u.g.forEach(function(g,T){var z=T.toLowerCase();T!=z&&(ki(this,T),nl(this,z,g))},u)),u.j=m}function sa(u,m){const g=new mn;if(p.Image){const T=new Image;T.onload=Q(kn,g,"TestLoadImage: loaded",!0,m,T),T.onerror=Q(kn,g,"TestLoadImage: error",!1,m,T),T.onabort=Q(kn,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=Q(kn,g,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function ni(u,m){const g=new mn,T=new AbortController,z=setTimeout(()=>{T.abort(),kn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(z),q.ok?kn(g,"TestPingServer: ok",!0,m):kn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),kn(g,"TestPingServer: error",!1,m)})}function kn(u,m,g,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(g)}catch{}}function la(){this.g=new ti}function di(u,m,g){const T=g||"";try{Ws(u,function(z,q){let et=z;_(z)&&(et=un(z)),m.push(T+q+"="+encodeURIComponent(et))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function dr(u){this.l=u.Ub||null,this.j=u.eb||!1}J(dr,Pa),dr.prototype.g=function(){return new ji(this.l,this.j)},dr.prototype.i=function(u){return function(){return u}}({});function ji(u,m){oe.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(ji,oe),s=ji.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,gi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;il(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function il(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?mi(this):gi(this),this.readyState==3&&il(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,mi(this))},s.Qa=function(u){this.g&&(this.response=u,mi(this))},s.ga=function(){this.g&&mi(this)};function mi(u){u.readyState=4,u.l=null,u.j=null,u.v=null,gi(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=m.next();return u.join(`\r
`)};function gi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function rl(u){let m="";return Gt(u,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function je(u,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=rl(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Jt(u,m,g))}function Xt(u){oe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(Xt,oe);var Ya=/^https?$/i,oa=["POST","PUT"];s=Xt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ge.g(),this.v=this.o?ka(this.o):ka(ge),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){wo(this,q);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)g.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())g.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(q=>q.toLowerCase()=="content-type"),z=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(oa,m,void 0))||T||z||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of g)this.g.setRequestHeader(q,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ua(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){wo(this,q)}};function wo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Xa(u),pi(u)}function Xa(u){u.A||(u.A=!0,Lt(u,"complete"),Lt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Lt(this,"complete"),Lt(this,"abort"),pi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),Xt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ka(this):this.bb())},s.bb=function(){Ka(this)};function Ka(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Bn(u)!=4||u.Z()!=2)){if(u.u&&Bn(u)==4)Oe(u.Ea,0,u);else if(Lt(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=et===0){var z=String(u.D).match(na)[1]||null;!z&&p.self&&p.self.location&&(z=p.self.location.protocol.slice(0,-1)),T=!Ya.test(z?z.toLowerCase():"")}g=T}if(g)Lt(u,"complete"),Lt(u,"success");else{u.m=6;try{var q=2<Bn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Xa(u)}}finally{pi(u)}}}}function pi(u,m){if(u.g){ua(u);const g=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Lt(u,"ready");try{g.onreadystatechange=T}catch{}}}function ua(u){u.I&&(p.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),or(m)}};function Co(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mc(u){const m={};u=(u.g&&2<=Bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(Tt(u[T]))continue;var g=O(u[T]);const z=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const q=m[z]||[];m[z]=q,q.push(g)}N(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ca(u,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||m}function Za(u){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ca("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ca("baseRetryDelayMs",5e3,u),this.cb=ca("retryDelaySeedMs",1e4,u),this.Wa=ca("forwardChannelMaxRetries",2,u),this.wa=ca("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(u&&u.concurrentRequestLimit),this.Da=new la,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Za.prototype,s.la=8,s.G=1,s.connect=function(u,m,g,T){re(0),this.W=u,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=Mo(this,null,this.W),Ja(this)};function al(u){if(Do(u),u.G==3){var m=u.U++,g=bn(u.I);if(Jt(g,"SID",u.K),Jt(g,"RID",m),Jt(g,"TYPE","terminate"),fa(u,g),m=new Ue(u,u.j,m),m.L=2,m.v=ra(bn(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=Uo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ui(m)}Oo(u)}function $a(u){u.g&&(ha(u),u.g.cancel(),u.g=null)}function Do(u){$a(u),u.u&&(p.clearTimeout(u.u),u.u=null),Wa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function Ja(u){if(!qa(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||C(),ft||(nt(),ft=!0),zt.add(m,u),u.B=0}}function Uc(u,m){return Ha(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(I(u.Ga,u,m),ol(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Ue(this,this.j,u);let q=this.o;if(this.S&&(q?(q=A(q),V(q,this.S)):q=this.S),this.m!==null||this.O||(z.H=q,q=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=Io(this,z,m),g=bn(this.I),Jt(g,"RID",u),Jt(g,"CVER",22),this.D&&Jt(g,"X-HTTP-Session-Id",this.D),fa(this,g),q&&(this.O?m="headers="+encodeURIComponent(String(rl(q)))+"&"+m:this.m&&je(g,this.m,q)),Ga(this.h,z),this.Ua&&Jt(g,"TYPE","init"),this.P?(Jt(g,"$req",m),Jt(g,"SID","null"),z.T=!0,An(z,g,null)):An(z,g,m),this.G=2}}else this.G==3&&(u?sl(this,u):this.i.length==0||qa(this.h)||sl(this))};function sl(u,m){var g;m?g=m.l:g=u.U++;const T=bn(u.I);Jt(T,"SID",u.K),Jt(T,"RID",g),Jt(T,"AID",u.T),fa(u,T),u.m&&u.o&&je(T,u.m,u.o),g=new Ue(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Io(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ga(u.h,g),An(g,T,m)}function fa(u,m){u.H&&Gt(u.H,function(g,T){Jt(m,T,g)}),u.l&&Ws({},function(g,T){Jt(m,T,g)})}function Io(u,m,g){g=Math.min(u.i.length,g);var T=u.l?I(u.l.Na,u.l,u):null;t:{var z=u.i;let q=-1;for(;;){const et=["count="+g];q==-1?0<g?(q=z[0].g,et.push("ofs="+q)):q=0:et.push("ofs="+q);let Pt=!0;for(let ze=0;ze<g;ze++){let kt=z[ze].g;const qe=z[ze].map;if(kt-=q,0>kt)q=Math.max(0,z[ze].g-100),Pt=!1;else try{di(qe,et,"req"+kt+"_")}catch{T&&T(qe)}}if(Pt){T=et.join("&");break t}}}return u=u.i.splice(0,g),m.D=u,T}function xo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||C(),ft||(nt(),ft=!0),zt.add(m,u),u.v=0}}function ll(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(I(u.Fa,u),ol(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,Vo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(I(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,re(10),$a(this),Vo(this))};function ha(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function Vo(u){u.g=new Ue(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=bn(u.qa);Jt(m,"RID","rpc"),Jt(m,"SID",u.K),Jt(m,"AID",u.T),Jt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Jt(m,"TO",u.ja),Jt(m,"TYPE","xmlhttp"),fa(u,m),u.m&&u.o&&je(m,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=ra(bn(m)),g.m=null,g.P=!0,ei(g,u)}s.Za=function(){this.C!=null&&(this.C=null,$a(this),ll(this),re(19))};function Wa(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function No(u,m){var g=null;if(u.g==m){Wa(u),ha(u),u.g=null;var T=2}else if($s(u.h,m))g=m.D,fn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;T=ci(),Lt(T,new Ee(T,g)),Ja(u)}else xo(u);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&Uc(u,m)||T==2&&ll(u)))switch(g&&0<g.length&&(m=u.h,m.i=m.i.concat(g)),z){case 1:qi(u,5);break;case 4:qi(u,10);break;case 3:qi(u,6);break;default:qi(u,2)}}}function ol(u,m){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*m}function qi(u,m){if(u.j.info("Error code "+m),m==2){var g=I(u.fb,u),T=u.Xa;const z=!T;T=new be(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||ia(T,"https"),ra(T),z?sa(T.toString(),g):ni(T.toString(),g)}else re(2);u.G=0,u.l&&u.l.sa(m),Oo(u),Do(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function Oo(u){if(u.G=0,u.ka=[],u.l){const m=Js(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ka,m),tt(u.ka,u.i),u.h.i.length=0,rt(u.i),u.i.length=0),u.l.ra()}}function Mo(u,m,g){var T=g instanceof be?bn(g):new be(g);if(T.g!="")m&&(T.g=m+"."+T.g),hr(T,T.s);else{var z=p.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var q=new be(null);T&&ia(q,T),m&&(q.g=m),z&&hr(q,z),g&&(q.l=g),T=q}return g=u.D,m=u.ya,g&&m&&Jt(T,g,m),Jt(T,"VER",u.la),fa(u,T),T}function Uo(u,m,g){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Xt(new dr({eb:g})):new Xt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function zo(){}s=zo.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function ts(){}ts.prototype.g=function(u,m){return new hn(u,m)};function hn(u,m){oe.call(this),this.g=new Za(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Tt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Tt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new yi(this)}J(hn,oe),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){al(this.g)},hn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=un(u),u=g);m.i.push(new Ao(m.Ya++,u)),m.G==3&&Ja(m)},hn.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,hn.aa.N.call(this)};function Lo(u){cn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const g in m){u=g;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}J(Lo,cn);function Po(){Jr.call(this),this.status=1}J(Po,Jr);function yi(u){this.g=u}J(yi,zo),yi.prototype.ua=function(){Lt(this.g,"a")},yi.prototype.ta=function(u){Lt(this.g,new Lo(u))},yi.prototype.sa=function(u){Lt(this.g,new Po)},yi.prototype.ra=function(){Lt(this.g,"b")},ts.prototype.createWebChannel=ts.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,G_=function(){return new ts},H_=function(){return ci()},q_=zn,Xh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yt.NO_ERROR=0,yt.TIMEOUT=8,yt.HTTP_ERROR=6,Gu=yt,St.COMPLETE="complete",j_=St,ui.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",oe.prototype.listen=oe.prototype.K,$l=ui,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,B_=Xt}).apply(typeof ku<"u"?ku:typeof self<"u"?self:typeof window<"u"?window:{});const Dy="@firebase/firestore",Iy="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hs="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new O_("@firebase/firestore");function Is(){return Na.logLevel}function st(s,...e){if(Na.logLevel<=qt.DEBUG){const i=e.map(yd);Na.debug(`Firestore (${Hs}): ${s}`,...i)}}function rr(s,...e){if(Na.logLevel<=qt.ERROR){const i=e.map(yd);Na.error(`Firestore (${Hs}): ${s}`,...i)}}function zs(s,...e){if(Na.logLevel<=qt.WARN){const i=e.map(yd);Na.warn(`Firestore (${Hs}): ${s}`,...i)}}function yd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Q_(s,a,i)}function Q_(s,e,i){let a=`FIRESTORE (${Hs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw rr(a),new Error(a)}function Kt(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||Q_(e,o,a)}function wt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends qs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(sn.UNAUTHENTICATED))}shutdown(){}}class jT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class qT{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Kt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let f=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Br,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const v=f;e.enqueueRetryable(async()=>{await v.promise,await o(this.currentUser)})},p=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Br)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Kt(typeof a.accessToken=="string",31837,{l:a}),new F_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kt(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class HT{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GT{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new HT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,AT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Kt(this.o===void 0,3512);const a=f=>{f.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>a(f))};const o=f=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(f=>o(f)),setTimeout(()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?o(f):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new xy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=FT(40);for(let f=0;f<o.length;++f)a.length<20&&o[f]<i&&(a+=e.charAt(o[f]%62))}return a}}function Mt(s,e){return s<e?-1:s>e?1:0}function Kh(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),f=e.charAt(a);if(o!==f)return Lh(o)===Lh(f)?Mt(o,f):Lh(o)?1:-1}return Mt(s.length,e.length)}const YT=55296,XT=57343;function Lh(s){const e=s.charCodeAt(0);return e>=YT&&e<=XT}function Ls(s,e,i){return s.length===e.length&&s.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="__name__";class bi{constructor(e,i,a){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&vt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const f=bi.compareSegments(e.get(o),i.get(o));if(f!==0)return f}return Mt(e.length,i.length)}static compareSegments(e,i){const a=bi.isNumericId(e),o=bi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?bi.extractNumericId(e).compare(bi.extractNumericId(i)):Kh(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return kr.fromString(e.substring(4,e.length-2))}}class se extends bi{construct(e,i,a){return new se(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new at(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new se(i)}static emptyPath(){return new se([])}}const KT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends bi{construct(e,i,a){return new We(e,i,a)}static isValidIdentifier(e){return KT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vy}static keyField(){return new We([Vy])}static fromServerFormat(e){const i=[];let a="",o=0;const f=()=>{if(a.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new at(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new at(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(f(),o++)}if(f(),d)throw new at(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new We(i)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(se.fromString(e))}static fromName(e){return new mt(se.fromString(e).popFirst(5))}static empty(){return new mt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return se.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new se(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(s,e,i){if(!i)throw new at(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function ZT(s,e,i,a){if(e===!0&&a===!0)throw new at(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Ny(s){if(!mt.isDocumentKey(s))throw new at(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Oy(s){if(mt.isDocumentKey(s))throw new at(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function X_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function hc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function Kn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new at(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=hc(s);throw new at(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(s,e){const i={typeString:s};return e&&(i.value=e),i}function go(s,e){if(!X_(s))throw new at(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,f="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(f!==void 0&&d!==f.value){i=`Expected '${a}' field to equal '${f.value}'`;break}}if(i)throw new at(Y.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=-62135596800,Uy=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(e){return ue.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Uy);return new ue(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<My)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uy}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(go(e,ue._jsonSchema))return new ue(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-My;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:Ie("string",ue._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(e){return new bt(e)}static min(){return new bt(new ue(0,0))}static max(){return new bt(new ue(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=-1;function $T(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(a===1e9?new ue(i+1,0):new ue(i,a));return new qr(o,mt.empty(),e)}function JT(s){return new qr(s.readTime,s.key,oo)}class qr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new qr(bt.min(),mt.empty(),oo)}static max(){return new qr(bt.max(),mt.empty(),oo)}}function WT(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(s.documentKey,e.documentKey),i!==0?i:Mt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gs(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==tS)throw s;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K((a,o)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(a,o)},this.catchCallback=f=>{this.wrapFailure(i,f).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):K.reject(i)}static resolve(e){return new K((i,a)=>{i(e)})}static reject(e){return new K((i,a)=>{a(e)})}static waitFor(e){return new K((i,a)=>{let o=0,f=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++f,d&&f===o&&i()},v=>a(v))}),d=!0,f===o&&i()})}static or(e){let i=K.resolve(!1);for(const a of e)i=i.next(o=>o?K.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,f)=>{a.push(i.call(this,o,f))}),this.waitFor(a)}static mapArray(e,i){return new K((a,o)=>{const f=e.length,d=new Array(f);let p=0;for(let v=0;v<f;v++){const _=v;i(e[_]).next(S=>{d[_]=S,++p,p===f&&a(d)},S=>o(S))}})}static doWhile(e,i){return new K((a,o)=>{const f=()=>{e()===!0?i().next(()=>{f()},o):a()};f()})}}function nS(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Qs(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=-1;function mc(s){return s==null}function tc(s){return s===0&&1/s==-1/0}function iS(s){return typeof s=="number"&&Number.isInteger(s)&&!tc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="";function rS(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=zy(e)),e=aS(s.get(i),e);return zy(e)}function aS(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const f=s.charAt(o);switch(f){case"\0":i+="";break;case K_:i+="";break;default:i+=f}}return i}function zy(s){return s+K_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Kr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Z_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e,i){this.comparator=e,this.root=i||Je.EMPTY}insert(e,i){return new de(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(e){return new de(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Je.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?a(e.key,i):1,i&&o&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Je{constructor(e,i,a,o,f){this.key=e,this.value=i,this.color=a??Je.RED,this.left=o??Je.EMPTY,this.right=f??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,f){return new Je(e??this.key,i??this.value,a??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const f=a(e,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(e,i,a),null):f===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Je.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,a,o,f){return this}insert(e,i,a){return new Je(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.comparator=e,this.data=new de(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Py(this.data.getIterator())}getIteratorFrom(e){return new Py(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Be)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=a.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Be(this.comparator);return i.data=e,i}}class Py{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(We.comparator)}static empty(){return new Nn([])}unionWith(e){let i=new Be(We.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Nn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ls(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new $_("Invalid base64 string: "+f):f}}(e);return new tn(i)}static fromUint8Array(e){const i=function(o){let f="";for(let d=0;d<o.length;++d)f+=String.fromCharCode(o[d]);return f}(e);return new tn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const sS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(s){if(Kt(!!s,39018),typeof s=="string"){let e=0;const i=sS.exec(s);if(Kt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ae(s.seconds),nanos:Ae(s.nanos)}}function Ae(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Gr(s){return typeof s=="string"?tn.fromBase64String(s):tn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="server_timestamp",W_="__type__",t0="__previous_value__",e0="__local_write_time__";function Ed(s){return(s?.mapValue?.fields||{})[W_]?.stringValue===J_}function gc(s){const e=s.mapValue.fields[t0];return Ed(e)?gc(e):e}function uo(s){const e=Hr(s.mapValue.fields[e0].timestampValue);return new ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,i,a,o,f,d,p,v,_,S){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const ec="(default)";class co{constructor(e,i){this.projectId=e,this.database=i||ec}static empty(){return new co("","")}get isDefaultDatabase(){return this.database===ec}isEqual(e){return e instanceof co&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="__type__",oS="__max__",ju={mapValue:{}},i0="__vector__",nc="value";function Qr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ed(s)?4:cS(s)?9007199254740991:uS(s)?10:11:vt(28295,{value:s})}function xi(s,e){if(s===e)return!0;const i=Qr(s);if(i!==Qr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return uo(s).isEqual(uo(e));case 3:return function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const d=Hr(o.timestampValue),p=Hr(f.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,f){return Gr(o.bytesValue).isEqual(Gr(f.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,f){return Ae(o.geoPointValue.latitude)===Ae(f.geoPointValue.latitude)&&Ae(o.geoPointValue.longitude)===Ae(f.geoPointValue.longitude)}(s,e);case 2:return function(o,f){if("integerValue"in o&&"integerValue"in f)return Ae(o.integerValue)===Ae(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const d=Ae(o.doubleValue),p=Ae(f.doubleValue);return d===p?tc(d)===tc(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return Ls(s.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return function(o,f){const d=o.mapValue.fields||{},p=f.mapValue.fields||{};if(Ly(d)!==Ly(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!xi(d[v],p[v])))return!1;return!0}(s,e);default:return vt(52216,{left:s})}}function fo(s,e){return(s.values||[]).find(i=>xi(i,e))!==void 0}function Ps(s,e){if(s===e)return 0;const i=Qr(s),a=Qr(e);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(s.booleanValue,e.booleanValue);case 2:return function(f,d){const p=Ae(f.integerValue||f.doubleValue),v=Ae(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1}(s,e);case 3:return ky(s.timestampValue,e.timestampValue);case 4:return ky(uo(s),uo(e));case 5:return Kh(s.stringValue,e.stringValue);case 6:return function(f,d){const p=Gr(f),v=Gr(d);return p.compareTo(v)}(s.bytesValue,e.bytesValue);case 7:return function(f,d){const p=f.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const S=Mt(p[_],v[_]);if(S!==0)return S}return Mt(p.length,v.length)}(s.referenceValue,e.referenceValue);case 8:return function(f,d){const p=Mt(Ae(f.latitude),Ae(d.latitude));return p!==0?p:Mt(Ae(f.longitude),Ae(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return By(s.arrayValue,e.arrayValue);case 10:return function(f,d){const p=f.fields||{},v=d.fields||{},_=p[nc]?.arrayValue,S=v[nc]?.arrayValue,x=Mt(_?.values?.length||0,S?.values?.length||0);return x!==0?x:By(_,S)}(s.mapValue,e.mapValue);case 11:return function(f,d){if(f===ju.mapValue&&d===ju.mapValue)return 0;if(f===ju.mapValue)return 1;if(d===ju.mapValue)return-1;const p=f.fields||{},v=Object.keys(p),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let x=0;x<v.length&&x<S.length;++x){const I=Kh(v[x],S[x]);if(I!==0)return I;const Q=Ps(p[v[x]],_[S[x]]);if(Q!==0)return Q}return Mt(v.length,S.length)}(s.mapValue,e.mapValue);default:throw vt(23264,{he:i})}}function ky(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Mt(s,e);const i=Hr(s),a=Hr(e),o=Mt(i.seconds,a.seconds);return o!==0?o:Mt(i.nanos,a.nanos)}function By(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const f=Ps(i[o],a[o]);if(f)return f}return Mt(i.length,a.length)}function ks(s){return Zh(s)}function Zh(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=Hr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Gr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return mt.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",o=!0;for(const f of i.values||[])o?o=!1:a+=",",a+=Zh(f);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",f=!0;for(const d of a)f?f=!1:o+=",",o+=`${d}:${Zh(i.fields[d])}`;return o+"}"}(s.mapValue):vt(61005,{value:s})}function Qu(s){switch(Qr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gc(s);return e?16+Qu(e):16;case 5:return 2*s.stringValue.length;case 6:return Gr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,f)=>o+Qu(f),0)}(s.arrayValue);case 10:case 11:return function(a){let o=0;return Kr(a.fields,(f,d)=>{o+=f.length+Qu(d)}),o}(s.mapValue);default:throw vt(13486,{value:s})}}function jy(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function $h(s){return!!s&&"integerValue"in s}function Td(s){return!!s&&"arrayValue"in s}function qy(s){return!!s&&"nullValue"in s}function Hy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Fu(s){return!!s&&"mapValue"in s}function uS(s){return(s?.mapValue?.fields||{})[n0]?.stringValue===i0}function no(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Kr(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=no(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=no(s.arrayValue.values[i]);return e}return{...s}}function cS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===oS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Fu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=no(i)}setAll(e){let i=We.emptyPath(),a={},o=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=no(d):o.push(p.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,a,o)}delete(e){const i=this.field(e.popLast());Fu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Fu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Kr(i,(o,f)=>e[o]=f);for(const o of a)delete e[o]}clone(){return new vn(no(this.value))}}function r0(s){const e=[];return Kr(s.fields,(i,a)=>{const o=new We([i]);if(Fu(a)){const f=r0(a.mapValue).fields;if(f.length===0)e.push(o);else for(const d of f)e.push(o.child(d))}else e.push(o)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,i,a,o,f,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=f,this.data=d,this.documentState=p}static newInvalidDocument(e){return new ln(e,0,bt.min(),bt.min(),bt.min(),vn.empty(),0)}static newFoundDocument(e,i,a,o){return new ln(e,1,i,bt.min(),a,o,0)}static newNoDocument(e,i){return new ln(e,2,i,bt.min(),bt.min(),vn.empty(),0)}static newUnknownDocument(e,i){return new ln(e,3,i,bt.min(),bt.min(),vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i){this.position=e,this.inclusive=i}}function Gy(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const f=e[o],d=s.position[o];if(f.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=Ps(d,i.data.field(f.field)),f.dir==="desc"&&(a*=-1),a!==0)break}return a}function Qy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!xi(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i="asc"){this.field=e,this.dir=i}}function fS(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{}class De extends a0{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new dS(e,i,a):i==="array-contains"?new pS(e,a):i==="in"?new yS(e,a):i==="not-in"?new _S(e,a):i==="array-contains-any"?new vS(e,a):new De(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new mS(e,a):new gS(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ps(i,this.value)):i!==null&&Qr(this.value)===Qr(i)&&this.matchesComparison(Ps(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends a0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new si(e,i)}matches(e){return s0(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function s0(s){return s.op==="and"}function l0(s){return hS(s)&&s0(s)}function hS(s){for(const e of s.filters)if(e instanceof si)return!1;return!0}function Jh(s){if(s instanceof De)return s.field.canonicalString()+s.op.toString()+ks(s.value);if(l0(s))return s.filters.map(e=>Jh(e)).join(",");{const e=s.filters.map(i=>Jh(i)).join(",");return`${s.op}(${e})`}}function o0(s,e){return s instanceof De?function(a,o){return o instanceof De&&a.op===o.op&&a.field.isEqual(o.field)&&xi(a.value,o.value)}(s,e):s instanceof si?function(a,o){return o instanceof si&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((f,d,p)=>f&&o0(d,o.filters[p]),!0):!1}(s,e):void vt(19439)}function u0(s){return s instanceof De?function(i){return`${i.field.canonicalString()} ${i.op} ${ks(i.value)}`}(s):s instanceof si?function(i){return i.op.toString()+" {"+i.getFilters().map(u0).join(" ,")+"}"}(s):"Filter"}class dS extends De{constructor(e,i,a){super(e,i,a),this.key=mt.fromName(a.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class mS extends De{constructor(e,i){super(e,"in",i),this.keys=c0("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class gS extends De{constructor(e,i){super(e,"not-in",i),this.keys=c0("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function c0(s,e){return(e.arrayValue?.values||[]).map(i=>mt.fromName(i.referenceValue))}class pS extends De{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Td(i)&&fo(i.arrayValue,this.value)}}class yS extends De{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&fo(this.value.arrayValue,i)}}class _S extends De{constructor(e,i){super(e,"not-in",i)}matches(e){if(fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!fo(this.value.arrayValue,i)}}class vS extends De{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Td(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>fo(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,i=null,a=[],o=[],f=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=f,this.startAt=d,this.endAt=p,this.Te=null}}function Fy(s,e=null,i=[],a=[],o=null,f=null,d=null){return new ES(s,e,i,a,o,f,d)}function Sd(s){const e=wt(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Jh(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(f){return f.field.canonicalString()+f.dir}(a)).join(","),mc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>ks(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>ks(a)).join(",")),e.Te=i}return e.Te}function Ad(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!fS(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!o0(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Qy(s.startAt,e.startAt)&&Qy(s.endAt,e.endAt)}function Wh(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,i=null,a=[],o=[],f=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=f,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TS(s,e,i,a,o,f,d,p){return new po(s,e,i,a,o,f,d,p)}function pc(s){return new po(s)}function Yy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function f0(s){return s.collectionGroup!==null}function io(s){const e=wt(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const f of e.explicitOrderBy)e.Ie.push(f),i.add(f.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Be(We.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(p=p.add(_.field))})}),p})(e).forEach(f=>{i.has(f.canonicalString())||f.isKeyField()||e.Ie.push(new rc(f,a))}),i.has(We.keyField().canonicalString())||e.Ie.push(new rc(We.keyField(),a))}return e.Ie}function Ri(s){const e=wt(s);return e.Ee||(e.Ee=SS(e,io(s))),e.Ee}function SS(s,e){if(s.limitType==="F")return Fy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const f=o.dir==="desc"?"asc":"desc";return new rc(o.field,f)});const i=s.endAt?new ic(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ic(s.startAt.position,s.startAt.inclusive):null;return Fy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function td(s,e){const i=s.filters.concat([e]);return new po(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function ed(s,e,i){return new po(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function yc(s,e){return Ad(Ri(s),Ri(e))&&s.limitType===e.limitType}function h0(s){return`${Sd(Ri(s))}|lt:${s.limitType}`}function xs(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>u0(o)).join(", ")}]`),mc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>ks(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>ks(o)).join(",")),`Target(${a})`}(Ri(s))}; limitType=${s.limitType})`}function _c(s,e){return e.isFoundDocument()&&function(a,o){const f=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(f):mt.isDocumentKey(a.path)?a.path.isEqual(f):a.path.isImmediateParentOf(f)}(s,e)&&function(a,o){for(const f of io(a))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0}(s,e)&&function(a,o){for(const f of a.filters)if(!f.matches(o))return!1;return!0}(s,e)&&function(a,o){return!(a.startAt&&!function(d,p,v){const _=Gy(d,p,v);return d.inclusive?_<=0:_<0}(a.startAt,io(a),o)||a.endAt&&!function(d,p,v){const _=Gy(d,p,v);return d.inclusive?_>=0:_>0}(a.endAt,io(a),o))}(s,e)}function AS(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function d0(s){return(e,i)=>{let a=!1;for(const o of io(s)){const f=bS(o,e,i);if(f!==0)return f;a=a||o.field.isKeyField()}return 0}}function bS(s,e,i){const a=s.field.isKeyField()?mt.comparator(e.key,i.key):function(f,d,p){const v=d.data.field(f),_=p.data.field(f);return v!==null&&_!==null?Ps(v,_):vt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,f]of a)if(this.equalsFn(o,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],e))return void(o[f]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Kr(this.inner,(i,a)=>{for(const[o,f]of a)e(o,f)})}isEmpty(){return Z_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=new de(mt.comparator);function ar(){return RS}const m0=new de(mt.comparator);function Jl(...s){let e=m0;for(const i of s)e=e.insert(i.key,i);return e}function g0(s){let e=m0;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function xa(){return ro()}function p0(){return ro()}function ro(){return new Ma(s=>s.toString(),(s,e)=>s.isEqual(e))}const wS=new de(mt.comparator),CS=new Be(mt.comparator);function Ut(...s){let e=CS;for(const i of s)e=e.add(i);return e}const DS=new Be(Mt);function IS(){return DS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tc(e)?"-0":e}}function y0(s){return{integerValue:""+s}}function xS(s,e){return iS(e)?y0(e):bd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this._=void 0}}function VS(s,e,i){return s instanceof ac?function(o,f){const d={fields:{[W_]:{stringValue:J_},[e0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&Ed(f)&&(f=gc(f)),f&&(d.fields[t0]=f),{mapValue:d}}(i,e):s instanceof ho?v0(s,e):s instanceof mo?E0(s,e):function(o,f){const d=_0(o,f),p=Xy(d)+Xy(o.Ae);return $h(d)&&$h(o.Ae)?y0(p):bd(o.serializer,p)}(s,e)}function NS(s,e,i){return s instanceof ho?v0(s,e):s instanceof mo?E0(s,e):i}function _0(s,e){return s instanceof sc?function(a){return $h(a)||function(f){return!!f&&"doubleValue"in f}(a)}(e)?e:{integerValue:0}:null}class ac extends vc{}class ho extends vc{constructor(e){super(),this.elements=e}}function v0(s,e){const i=T0(e);for(const a of s.elements)i.some(o=>xi(o,a))||i.push(a);return{arrayValue:{values:i}}}class mo extends vc{constructor(e){super(),this.elements=e}}function E0(s,e){let i=T0(e);for(const a of s.elements)i=i.filter(o=>!xi(o,a));return{arrayValue:{values:i}}}class sc extends vc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Xy(s){return Ae(s.integerValue||s.doubleValue)}function T0(s){return Td(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function OS(s,e){return s.field.isEqual(e.field)&&function(a,o){return a instanceof ho&&o instanceof ho||a instanceof mo&&o instanceof mo?Ls(a.elements,o.elements,xi):a instanceof sc&&o instanceof sc?xi(a.Ae,o.Ae):a instanceof ac&&o instanceof ac}(s.transform,e.transform)}class MS{constructor(e,i){this.version=e,this.transformResults=i}}class Zn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ec{}function S0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Rd(s.key,Zn.none()):new yo(s.key,s.data,Zn.none());{const i=s.data,a=vn.empty();let o=new Be(We.comparator);for(let f of e.fields)if(!o.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?a.delete(f):a.set(f,d),o=o.add(f)}return new Zr(s.key,a,new Nn(o.toArray()),Zn.none())}}function US(s,e,i){s instanceof yo?function(o,f,d){const p=o.value.clone(),v=Zy(o.fieldTransforms,f,d.transformResults);p.setAll(v),f.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,i):s instanceof Zr?function(o,f,d){if(!Yu(o.precondition,f))return void f.convertToUnknownDocument(d.version);const p=Zy(o.fieldTransforms,f,d.transformResults),v=f.data;v.setAll(A0(o)),v.setAll(p),f.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(s,e,i):function(o,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function ao(s,e,i,a){return s instanceof yo?function(f,d,p,v){if(!Yu(f.precondition,d))return p;const _=f.value.clone(),S=$y(f.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(s,e,i,a):s instanceof Zr?function(f,d,p,v){if(!Yu(f.precondition,d))return p;const _=$y(f.fieldTransforms,v,d),S=d.data;return S.setAll(A0(f)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(x=>x.field))}(s,e,i,a):function(f,d,p){return Yu(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,i)}function zS(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),f=_0(a.transform,o||null);f!=null&&(i===null&&(i=vn.empty()),i.set(a.field,f))}return i||null}function Ky(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ls(a,o,(f,d)=>OS(f,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class yo extends Ec{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zr extends Ec{constructor(e,i,a,o,f=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function A0(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function Zy(s,e,i){const a=new Map;Kt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const f=s[o],d=f.transform,p=e.data.field(f.field);a.set(f.field,NS(d,p,i[o]))}return a}function $y(s,e,i){const a=new Map;for(const o of s){const f=o.transform,d=i.data.field(o.field);a.set(o.field,VS(f,d,e))}return a}class Rd extends Ec{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LS extends Ec{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(e.key)&&US(f,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=ao(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=ao(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=p0();return this.mutations.forEach(o=>{const f=e.get(o.key),d=f.overlayedDocument;let p=this.applyToLocalView(d,f.mutatedFields);p=i.has(o.key)?null:p;const v=S0(d,p);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(bt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ut())}isEqual(e){return this.batchId===e.batchId&&Ls(this.mutations,e.mutations,(i,a)=>Ky(i,a))&&Ls(this.baseMutations,e.baseMutations,(i,a)=>Ky(i,a))}}class wd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Kt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=function(){return wS}();const f=e.mutations;for(let d=0;d<f.length;d++)o=o.insert(f[d].key,a[d].version);return new wd(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,jt;function jS(s){switch(s){case Y.OK:return vt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return vt(15467,{code:s})}}function b0(s){if(s===void 0)return rr("GRPC error has no .code"),Y.UNKNOWN;switch(s){case Ce.OK:return Y.OK;case Ce.CANCELLED:return Y.CANCELLED;case Ce.UNKNOWN:return Y.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return Y.INTERNAL;case Ce.UNAVAILABLE:return Y.UNAVAILABLE;case Ce.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ce.NOT_FOUND:return Y.NOT_FOUND;case Ce.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ce.ABORTED:return Y.ABORTED;case Ce.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ce.DATA_LOSS:return Y.DATA_LOSS;default:return vt(39323,{code:s})}}(jt=Ce||(Ce={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=new kr([4294967295,4294967295],0);function Jy(s){const e=qS().encode(s),i=new k_;return i.update(e),new Uint8Array(i.digest())}function Wy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new kr([i,a],0),new kr([o,f],0)]}class Cd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Wl(`Invalid padding: ${i}`);if(a<0)throw new Wl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=kr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(kr.fromNumber(a)));return o.compare(HS)===1&&(o=new kr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Jy(e),[a,o]=Wy(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(a,o,f);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new Cd(f,o,i);return a.forEach(p=>d.insert(p)),d}insert(e){if(this.ge===0)return;const i=Jy(e),[a,o]=Wy(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(a,o,f);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,i,a,o,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,_o.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Tc(bt.min(),o,new de(Mt),ar(),Ut())}}class _o{constructor(e,i,a,o,f){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new _o(a,i,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class R0{constructor(e,i){this.targetId=e,this.Ce=i}}class w0{constructor(e,i,a=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class t_{constructor(){this.ve=0,this.Fe=e_(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ut(),i=Ut(),a=Ut();return this.Fe.forEach((o,f)=>{switch(f){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:vt(38017,{changeType:f})}}),new _o(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=e_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class GS{constructor(e){this.Ge=e,this.ze=new Map,this.je=ar(),this.Je=qu(),this.He=qu(),this.Ye=new de(Mt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:vt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((a,o)=>{this.rt(o)&&i(o)})}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const f=o.target;if(Wh(f))if(a===0){const d=new mt(f.path);this.et(i,d,ln.newNoDocument(d,bt.min()))}else Kt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:f=0}=i;let d,p;try{d=Gr(a).toUint8Array()}catch(v){if(v instanceof $_)return zs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Cd(d,o,f)}catch(v){return zs(v instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach(f=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(p)||(this.et(i,f,null),o++)}),o}Tt(e){const i=new Map;this.ze.forEach((f,d)=>{const p=this.ot(d);if(p){if(f.current&&Wh(p.target)){const v=new mt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,ln.newNoDocument(v,e))}f.Be&&(i.set(d,f.ke()),f.qe())}});let a=Ut();this.He.forEach((f,d)=>{let p=!0;d.forEachWhile(v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(a=a.add(f))}),this.je.forEach((f,d)=>d.setReadTime(e));const o=new Tc(e,i,this.Ye,this.je,a);return this.je=ar(),this.Je=qu(),this.He=qu(),this.Ye=new de(Mt),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new t_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Be(Mt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Be(Mt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new t_),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function qu(){return new de(mt.comparator)}function e_(){return new de(mt.comparator)}const QS={asc:"ASCENDING",desc:"DESCENDING"},FS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YS={and:"AND",or:"OR"};class XS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function nd(s,e){return s.useProto3Json||mc(e)?e:{value:e}}function lc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function C0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function KS(s,e){return lc(s,e.toTimestamp())}function wi(s){return Kt(!!s,49232),bt.fromTimestamp(function(i){const a=Hr(i);return new ue(a.seconds,a.nanos)}(s))}function Dd(s,e){return id(s,e).canonicalString()}function id(s,e){const i=function(o){return new se(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?i:i.child(e)}function D0(s){const e=se.fromString(s);return Kt(O0(e),10190,{key:e.toString()}),e}function rd(s,e){return Dd(s.databaseId,e.path)}function Ph(s,e){const i=D0(e);if(i.get(1)!==s.databaseId.projectId)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new mt(x0(i))}function I0(s,e){return Dd(s.databaseId,e)}function ZS(s){const e=D0(s);return e.length===4?se.emptyPath():x0(e)}function ad(s){return new se(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function x0(s){return Kt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function n_(s,e,i){return{name:rd(s,e),fields:i.value.mapValue.fields}}function $S(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],f=function(_,S){return _.useProto3Json?(Kt(S===void 0||typeof S=="string",58123),tn.fromBase64String(S||"")):(Kt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),tn.fromUint8Array(S||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(_){const S=_.code===void 0?Y.UNKNOWN:b0(_.code);return new at(S,_.message||"")}(d);i=new w0(a,o,f,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Ph(s,a.document.name),f=wi(a.document.updateTime),d=a.document.createTime?wi(a.document.createTime):bt.min(),p=new vn({mapValue:{fields:a.document.fields}}),v=ln.newFoundDocument(o,f,d,p),_=a.targetIds||[],S=a.removedTargetIds||[];i=new Xu(_,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Ph(s,a.document),f=a.readTime?wi(a.readTime):bt.min(),d=ln.newNoDocument(o,f),p=a.removedTargetIds||[];i=new Xu([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Ph(s,a.document),f=a.removedTargetIds||[];i=new Xu([],f,o,null)}else{if(!("filter"in e))return vt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:f}=a,d=new BS(o,f),p=a.targetId;i=new R0(p,d)}}return i}function JS(s,e){let i;if(e instanceof yo)i={update:n_(s,e.key,e.value)};else if(e instanceof Rd)i={delete:rd(s,e.key)};else if(e instanceof Zr)i={update:n_(s,e.key,e.data),updateMask:lA(e.fieldMask)};else{if(!(e instanceof LS))return vt(16599,{Vt:e.type});i={verify:rd(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(f,d){const p=d.transform;if(p instanceof ac)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ho)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof mo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof sc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,f){return f.updateTime!==void 0?{updateTime:KS(o,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:vt(27497)}(s,e.precondition)),i}function WS(s,e){return s&&s.length>0?(Kt(e!==void 0,14353),s.map(i=>function(o,f){let d=o.updateTime?wi(o.updateTime):wi(f);return d.isEqual(bt.min())&&(d=wi(f)),new MS(d,o.transformResults||[])}(i,e))):[]}function tA(s,e){return{documents:[I0(s,e.path)]}}function eA(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=I0(s,o);const f=function(_){if(_.length!==0)return N0(si.create(_,"and"))}(e.filters);f&&(i.structuredQuery.where=f);const d=function(_){if(_.length!==0)return _.map(S=>function(I){return{field:Vs(I.field),direction:rA(I.dir)}}(S))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=nd(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ft:i,parent:o}}function nA(s){let e=ZS(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Kt(a===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let f=[];i.where&&(f=function(x){const I=V0(x);return I instanceof si&&l0(I)?I.getFilters():[I]}(i.where));let d=[];i.orderBy&&(d=function(x){return x.map(I=>function(J){return new rc(Ns(J.field),function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction))}(I))}(i.orderBy));let p=null;i.limit&&(p=function(x){let I;return I=typeof x=="object"?x.value:x,mc(I)?null:I}(i.limit));let v=null;i.startAt&&(v=function(x){const I=!!x.before,Q=x.values||[];return new ic(Q,I)}(i.startAt));let _=null;return i.endAt&&(_=function(x){const I=!x.before,Q=x.values||[];return new ic(Q,I)}(i.endAt)),TS(e,o,d,f,p,"F",v,_)}function iA(s,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function V0(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ns(i.unaryFilter.field);return De.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ns(i.unaryFilter.field);return De.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Ns(i.unaryFilter.field);return De.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ns(i.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}}(s):s.fieldFilter!==void 0?function(i){return De.create(Ns(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return si.create(i.compositeFilter.filters.map(a=>V0(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}}(i.compositeFilter.op))}(s):vt(30097,{filter:s})}function rA(s){return QS[s]}function aA(s){return FS[s]}function sA(s){return YS[s]}function Vs(s){return{fieldPath:s.canonicalString()}}function Ns(s){return We.fromServerFormat(s.fieldPath)}function N0(s){return s instanceof De?function(i){if(i.op==="=="){if(Hy(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NAN"}};if(qy(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Hy(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NOT_NAN"}};if(qy(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(i.field),op:aA(i.op),value:i.value}}}(s):s instanceof si?function(i){const a=i.getFilters().map(o=>N0(o));return a.length===1?a[0]:{compositeFilter:{op:sA(i.op),filters:a}}}(s):vt(54877,{filter:s})}function lA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function O0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,i,a,o,f=bt.min(),d=bt.min(),p=tn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.yt=e}}function uA(s){const e=nA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(){this.Cn=new fA}addToCollectionParentIndex(e,i){return this.Cn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(qr.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(qr.min())}updateCollectionGroup(e,i,a){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class fA{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Be(se.comparator),f=!o.has(a);return this.index[i]=o.add(a),f}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Be(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},M0=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(M0,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bs(0)}static cr(){return new Bs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="LruGarbageCollector",hA=1048576;function a_([s,e],[i,a]){const o=Mt(s,i);return o===0?Mt(e,a):o}class dA{constructor(e){this.Ir=e,this.buffer=new Be(a_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();a_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class mA{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){st(r_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Qs(i)?st(r_,"Ignoring IndexedDB error during garbage collection: ",i):await Gs(i)}await this.Vr(3e5)})}}class gA{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return K.resolve(dc.ce);const a=new dA(i);return this.mr.forEachTarget(e,o=>a.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>a.Ar(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(i_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i_):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,f,d,p,v,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o))).next(x=>(a=x,p=Date.now(),this.removeTargets(e,a,i))).next(x=>(f=x,v=Date.now(),this.removeOrphanedDocuments(e,a))).next(x=>(_=Date.now(),Is()<=qt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${f} targets in `+(v-p)+`ms
	Removed ${x} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:f,documentsRemoved:x})))}}function pA(s,e){return new gA(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this.changes=new Ma(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?K.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&ao(a.mutation,o,Nn.empty(),ue.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Ut()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Ut()){const o=xa();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(f=>{let d=Jl();return f.forEach((p,v)=>{d=d.insert(p,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=xa();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Ut()))}populateOverlays(e,i,a){const o=[];return a.forEach(f=>{i.has(f)||o.push(f)}),this.documentOverlayCache.getOverlays(e,o).next(f=>{f.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,a,o){let f=ar();const d=ro(),p=function(){return ro()}();return i.forEach((v,_)=>{const S=a.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof Zr)?f=f.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),ao(S.mutation,_,S.mutation.getFieldMask(),ue.now())):d.set(_.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,f).next(v=>(v.forEach((_,S)=>d.set(_,S)),i.forEach((_,S)=>p.set(_,new _A(S,d.get(_)??null))),p))}recalculateAndSaveOverlays(e,i){const a=ro();let o=new de((d,p)=>d-p),f=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let S=a.get(v)||Nn.empty();S=p.applyToLocalView(_,S),a.set(v,S);const x=(o.get(p.batchId)||Ut()).add(v);o=o.insert(p.batchId,x)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,S=v.value,x=p0();S.forEach(I=>{if(!f.has(I)){const Q=S0(i.get(I),a.get(I));Q!==null&&x.set(I,Q),f=f.add(I)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,x))}return K.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):f0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(f=>{const d=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-f.size):K.resolve(xa());let p=oo,v=f;return d.next(_=>K.forEach(_,(S,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),f.get(S)?K.resolve():this.remoteDocumentCache.getEntry(e,S).next(I=>{v=v.insert(S,I)}))).next(()=>this.populateOverlays(e,_,f)).next(()=>this.computeViews(e,v,_,Ut())).next(S=>({batchId:p,changes:g0(S)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next(a=>{let o=Jl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const f=i.collectionGroup;let d=Jl();return this.indexManager.getCollectionParents(e,f).next(p=>K.forEach(p,v=>{const _=function(x,I){return new po(I,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(i,v.child(f));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next(S=>{S.forEach((x,I)=>{d=d.insert(x,I)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,o){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,f,o))).next(d=>{f.forEach((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,ln.newInvalidDocument(S)))});let p=Jl();return d.forEach((v,_)=>{const S=f.get(v);S!==void 0&&ao(S.mutation,_,Nn.empty(),ue.now()),_c(i,_)&&(p=p.insert(v,_))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:wi(o.createTime)}}(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(o){return{name:o.name,query:uA(o.bundledQuery),readTime:wi(o.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(){this.overlays=new de(mt.comparator),this.qr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const a=xa();return K.forEach(i,o=>this.getOverlay(e,o).next(f=>{f!==null&&a.set(o,f)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,f)=>{this.St(e,i,f)}),K.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach(f=>this.overlays=this.overlays.remove(f)),this.qr.delete(a)),K.resolve()}getOverlaysForCollection(e,i,a){const o=xa(),f=i.length+1,d=new mt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===f&&v.largestBatchId>a&&o.set(v.getKey(),v)}return K.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let f=new de((_,S)=>_-S);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=f.get(_.largestBatchId);S===null&&(S=xa(),f=f.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const p=xa(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,S)=>p.set(_,S)),!(p.size()>=o)););return K.resolve(p)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new kS(i,a));let f=this.qr.get(i);f===void 0&&(f=Ut(),this.qr.set(i,f)),this.qr.set(i,f.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this.Qr=new Be(Fe.$r),this.Ur=new Be(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Fe(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.Gr(new Fe(e,i))}zr(e,i){e.forEach(a=>this.removeReference(a,i))}jr(e){const i=new mt(new se([])),a=new Fe(i,e),o=new Fe(i,e+1),f=[];return this.Ur.forEachInRange([a,o],d=>{this.Gr(d),f.push(d.key)}),f}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new mt(new se([])),a=new Fe(i,e),o=new Fe(i,e+1);let f=Ut();return this.Ur.forEachInRange([a,o],d=>{f=f.add(d.key)}),f}containsKey(e){const i=new Fe(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Fe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return mt.comparator(e.key,i.key)||Mt(e.Yr,i.Yr)}static Kr(e,i){return Mt(e.Yr,i.Yr)||mt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Be(Fe.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const f=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new PS(f,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Fe(p.key,f)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),f=o<0?0:o;return K.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?vd:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Fe(i,0),o=new Fe(i,Number.POSITIVE_INFINITY),f=[];return this.Zr.forEachInRange([a,o],d=>{const p=this.Xr(d.Yr);f.push(p)}),K.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Be(Mt);return i.forEach(o=>{const f=new Fe(o,0),d=new Fe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([f,d],p=>{a=a.add(p.Yr)})}),K.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let f=a;mt.isDocumentKey(f)||(f=f.child(""));const d=new Fe(new mt(f),0);let p=new Be(Mt);return this.Zr.forEachWhile(v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(v.Yr)),!0)},d),K.resolve(this.ti(p))}ti(e){const i=[];return e.forEach(a=>{const o=this.Xr(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return K.forEach(i.mutations,o=>{const f=new Fe(o.key,i.batchId);return a=a.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=a})}ir(e){}containsKey(e,i){const a=new Fe(i,0),o=this.Zr.firstAfterOrEqual(a);return K.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.ri=e,this.docs=function(){return new de(mt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),f=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return K.resolve(a?a.document.mutableCopy():ln.newInvalidDocument(i))}getEntries(e,i){let a=ar();return i.forEach(o=>{const f=this.docs.get(o);a=a.insert(o,f?f.document.mutableCopy():ln.newInvalidDocument(o))}),K.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let f=ar();const d=i.path,p=new mt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||WT(JT(S),a)<=0||(o.has(S.key)||_c(i,S))&&(f=f.insert(S.key,S.mutableCopy()))}return K.resolve(f)}getAllFromCollectionGroup(e,i,a,o){vt(9500)}ii(e,i){return K.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new RA(this)}getSize(e){return K.resolve(this.size)}}class RA extends yA{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)}),K.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.persistence=e,this.si=new Ma(i=>Sd(i),Ad),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Id,this.targetCount=0,this.ai=Bs.ur()}forEachTarget(e,i){return this.si.forEach((a,o)=>i(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),K.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Bs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.Pr(i),K.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,a){let o=0;const f=[];return this.si.forEach((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),f.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),K.waitFor(f).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return K.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),K.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,f=[];return o&&i.forEach(d=>{f.push(o.markPotentiallyOrphaned(e,d))}),K.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return K.resolve(a)}containsKey(e,i){return K.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,i){this.ui={},this.overlays={},this.ci=new dc(0),this.li=!1,this.li=!0,this.hi=new SA,this.referenceDelegate=e(this),this.Pi=new wA(this),this.indexManager=new cA,this.remoteDocumentCache=function(o){return new bA(o)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new oA(i),this.Ii=new EA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new TA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new AA(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){st("MemoryPersistence","Starting transaction:",e);const o=new CA(this.ci.next());return this.referenceDelegate.Ei(),a(o).next(f=>this.referenceDelegate.di(o).next(()=>f)).toPromise().then(f=>(o.raiseOnCommittedEvent(),f))}Ai(e,i){return K.or(Object.values(this.ui).map(a=>()=>a.containsKey(e,i)))}}class CA extends eS{constructor(e){super(),this.currentSequenceNumber=e}}class xd{constructor(e){this.persistence=e,this.Ri=new Id,this.Vi=null}static mi(e){return new xd(e)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),K.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(o=>this.fi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(f=>this.fi.add(f.toString()))}).next(()=>a.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,a=>{const o=mt.fromPath(a);return this.gi(e,o).next(f=>{f||i.removeEntry(o,bt.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class oc{constructor(e,i){this.persistence=e,this.pi=new Ma(a=>rS(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=pA(this,i)}static mi(e,i){return new oc(e,i)}Ei(){}di(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}wr(e){let i=0;return this.pr(e,a=>{i++}).next(()=>i)}pr(e,i){return K.forEach(this.pi,(a,o)=>this.br(e,a,o).next(f=>f?K.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),f=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,i).next(p=>{p||(a++,f.removeEntry(d,bt.min()))})).next(()=>f.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),K.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qu(e.data.value)),i}br(e,i,a){return K.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return K.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Ut(),o=Ut();for(const f of i.docChanges)switch(f.type){case 0:a=a.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new Vd(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return E1()?8:nS(_1())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const f={result:null};return this.ys(e,i).next(d=>{f.result=d}).next(()=>{if(!f.result)return this.ws(e,i,o,a).next(d=>{f.result=d})}).next(()=>{if(f.result)return;const d=new DA;return this.Ss(e,i,d).next(p=>{if(f.result=p,this.Vs)return this.bs(e,i,d,p.size)})}).next(()=>f.result)}bs(e,i,a,o){return a.documentReadCount<this.fs?(Is()<=qt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",xs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Is()<=qt.DEBUG&&st("QueryEngine","Query:",xs(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Is()<=qt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",xs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(i))):K.resolve())}ys(e,i){if(Yy(i))return K.resolve(null);let a=Ri(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=ed(i,null,"F"),a=Ri(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(f=>{const d=Ut(...f);return this.ps.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,a).next(v=>{const _=this.Ds(i,p);return this.Cs(i,_,d,v.readTime)?this.ys(e,ed(i,null,"F")):this.vs(e,_,i,v)}))})))}ws(e,i,a,o){return Yy(i)||o.isEqual(bt.min())?K.resolve(null):this.ps.getDocuments(e,a).next(f=>{const d=this.Ds(i,f);return this.Cs(i,d,a,o)?K.resolve(null):(Is()<=qt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xs(i)),this.vs(e,d,i,$T(o,oo)).next(p=>p))})}Ds(e,i){let a=new Be(d0(e));return i.forEach((o,f)=>{_c(e,f)&&(a=a.add(f))}),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}Ss(e,i,a){return Is()<=qt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",xs(i)),this.ps.getDocumentsMatchingQuery(e,i,qr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next(f=>(i.forEach(d=>{f=f.insert(d.key,d)}),f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="LocalStore",xA=3e8;class VA{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new de(Mt),this.xs=new Ma(f=>Sd(f),Ad),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function NA(s,e,i,a){return new VA(s,e,i,a)}async function z0(s,e){const i=wt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(f=>(o=f,i.Bs(e),i.mutationQueue.getAllMutationBatches(a))).next(f=>{const d=[],p=[];let v=Ut();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of f){p.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(a,v).next(_=>({Ls:_,removedBatchIds:d,addedBatchIds:p}))})})}function OA(s,e){const i=wt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),f=i.Ns.newChangeBuffer({trackRemovals:!0});return function(p,v,_,S){const x=_.batch,I=x.keys();let Q=K.resolve();return I.forEach(J=>{Q=Q.next(()=>S.getEntry(v,J)).next(rt=>{const tt=_.docVersions.get(J);Kt(tt!==null,48541),rt.version.compareTo(tt)<0&&(x.applyToRemoteDocument(rt,_),rt.isValidDocument()&&(rt.setReadTime(_.commitVersion),S.addEntry(rt)))})}),Q.next(()=>p.mutationQueue.removeMutationBatch(v,x))}(i,a,e,f).next(()=>f.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(p){let v=Ut();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function L0(s){const e=wt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function MA(s,e){const i=wt(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach((S,x)=>{const I=o.get(x);if(!I)return;p.push(i.Pi.removeMatchingKeys(f,S.removedDocuments,x).next(()=>i.Pi.addMatchingKeys(f,S.addedDocuments,x)));let Q=I.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(x)!==null?Q=Q.withResumeToken(tn.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):S.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(S.resumeToken,a)),o=o.insert(x,Q),function(rt,tt,It){return rt.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=xA?!0:It.addedDocuments.size+It.modifiedDocuments.size+It.removedDocuments.size>0}(I,Q,S)&&p.push(i.Pi.updateTargetData(f,Q))});let v=ar(),_=Ut();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(f,S))}),p.push(UA(f,d,e.documentUpdates).next(S=>{v=S.ks,_=S.qs})),!a.isEqual(bt.min())){const S=i.Pi.getLastRemoteSnapshotVersion(f).next(x=>i.Pi.setTargetsMetadata(f,f.currentSequenceNumber,a));p.push(S)}return K.waitFor(p).next(()=>d.apply(f)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,v,_)).next(()=>v)}).then(f=>(i.Ms=o,f))}function UA(s,e,i){let a=Ut(),o=Ut();return i.forEach(f=>a=a.add(f)),e.getEntries(s,a).next(f=>{let d=ar();return i.forEach((p,v)=>{const _=f.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(bt.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):st(Nd,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)}),{ks:d,qs:o}})}function zA(s,e){const i=wt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=vd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function LA(s,e){const i=wt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.Pi.getTargetData(a,e).next(f=>f?(o=f,K.resolve(o)):i.Pi.allocateTargetId(a).next(d=>(o=new zr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a})}async function sd(s,e,i){const a=wt(s),o=a.Ms.get(e),f=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",f,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Qs(d))throw d;st(Nd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function s_(s,e,i){const a=wt(s);let o=bt.min(),f=Ut();return a.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,S){const x=wt(v),I=x.xs.get(S);return I!==void 0?K.resolve(x.Ms.get(I)):x.Pi.getTargetData(_,S)}(a,d,Ri(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next(v=>{f=v})}).next(()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:bt.min(),i?f:Ut())).next(p=>(PA(a,AS(e),p),{documents:p,Qs:f})))}function PA(s,e,i){let a=s.Os.get(e)||bt.min();i.forEach((o,f)=>{f.readTime.compareTo(a)>0&&(a=f.readTime)}),s.Os.set(e,a)}class l_{constructor(){this.activeTargetIds=IS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kA{constructor(){this.Mo=new l_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new l_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="ConnectivityMonitor";class u_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(o_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){st(o_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=null;function ld(){return Hu===null?Hu=function(){return 268435456+Math.round(2147483648*Math.random())}():Hu++,"0x"+Hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="RestConnection",jA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===ec?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,f){const d=ld(),p=this.zo(e,i.toUriEncodedString());st(kh,`Sending RPC '${e}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,f);const{host:_}=new URL(p),S=gd(_);return this.Jo(e,p,v,a,S).then(x=>(st(kh,`Received RPC '${e}' ${d}: `,x),x),x=>{throw zs(kh,`RPC '${e}' ${d} failed with error: `,x,"url: ",p,"request:",a),x})}Ho(e,i,a,o,f,d){return this.Go(e,i,a,o,f)}jo(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,f)=>e[f]=o),a&&a.headers.forEach((o,f)=>e[f]=o)}zo(e,i){const a=jA[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class GA extends qA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,f){const d=ld();return new Promise((p,v)=>{const _=new B_;_.setWithCredentials(!0),_.listenOnce(j_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Gu.NO_ERROR:const x=_.getResponseJson();st(an,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),p(x);break;case Gu.TIMEOUT:st(an,`RPC '${e}' ${d} timed out`),v(new at(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Gu.HTTP_ERROR:const I=_.getStatus();if(st(an,`RPC '${e}' ${d} failed with status:`,I,"response text:",_.getResponseText()),I>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const J=Q?.error;if(J&&J.status&&J.message){const rt=function(It){const Tt=It.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Tt)>=0?Tt:Y.UNKNOWN}(J.status);v(new at(rt,J.message))}else v(new at(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new at(Y.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(an,`RPC '${e}' ${d} completed.`)}});const S=JSON.stringify(o);st(an,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",S,a,15)})}T_(e,i,a){const o=ld(),f=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=G_(),p=H_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const S=f.join("");st(an,`Creating RPC '${e}' stream ${o}: ${S}`,v);const x=d.createWebChannel(S,v);this.I_(x);let I=!1,Q=!1;const J=new HA({Yo:tt=>{Q?st(an,`Not sending because RPC '${e}' stream ${o} is closed:`,tt):(I||(st(an,`Opening RPC '${e}' stream ${o} transport.`),x.open(),I=!0),st(an,`RPC '${e}' stream ${o} sending:`,tt),x.send(tt))},Zo:()=>x.close()}),rt=(tt,It,Tt)=>{tt.listen(It,ut=>{try{Tt(ut)}catch(Ht){setTimeout(()=>{throw Ht},0)}})};return rt(x,$l.EventType.OPEN,()=>{Q||(st(an,`RPC '${e}' stream ${o} transport opened.`),J.o_())}),rt(x,$l.EventType.CLOSE,()=>{Q||(Q=!0,st(an,`RPC '${e}' stream ${o} transport closed`),J.a_(),this.E_(x))}),rt(x,$l.EventType.ERROR,tt=>{Q||(Q=!0,zs(an,`RPC '${e}' stream ${o} transport errored. Name:`,tt.name,"Message:",tt.message),J.a_(new at(Y.UNAVAILABLE,"The operation could not be completed")))}),rt(x,$l.EventType.MESSAGE,tt=>{if(!Q){const It=tt.data[0];Kt(!!It,16349);const Tt=It,ut=Tt?.error||Tt[0]?.error;if(ut){st(an,`RPC '${e}' stream ${o} received error:`,ut);const Ht=ut.status;let At=function(A){const w=Ce[A];if(w!==void 0)return b0(w)}(Ht),Gt=ut.message;At===void 0&&(At=Y.INTERNAL,Gt="Unknown error status: "+Ht+" with message "+ut.message),Q=!0,J.a_(new at(At,Gt)),x.close()}else st(an,`RPC '${e}' stream ${o} received:`,It),J.u_(It)}}),rt(p,q_.STAT_EVENT,tt=>{tt.stat===Xh.PROXY?st(an,`RPC '${e}' stream ${o} detected buffering proxy`):tt.stat===Xh.NOPROXY&&st(an,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{J.__()},0),J}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function Bh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(s){return new XS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,i,a=1e3,o=1.5,f=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=f,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="PersistentStream";class k0{constructor(e,i,a,o,f,d,p,v){this.Mi=e,this.S_=a,this.b_=o,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new P0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(rr(i.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.D_===i&&this.G_(a,o)},a=>{e(()=>{const o=new at(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)})})}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{a(()=>this.z_(o))}),this.stream.onMessage(o=>{a(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return st(c_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(st(c_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QA extends k0{constructor(e,i,a,o,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=f}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=$S(this.serializer,e),a=function(f){if(!("targetChange"in f))return bt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?wi(d.readTime):bt.min()}(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=ad(this.serializer),i.addTarget=function(f,d){let p;const v=d.target;if(p=Wh(v)?{documents:tA(f,v)}:{query:eA(f,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=C0(f,d.resumeToken);const _=nd(f,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(bt.min())>0){p.readTime=lc(f,d.snapshotVersion.toTimestamp());const _=nd(f,d.expectedCount);_!==null&&(p.expectedCount=_)}return p}(this.serializer,e);const a=iA(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=ad(this.serializer),i.removeTarget=e,this.q_(i)}}class FA extends k0{constructor(e,i,a,o,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=f}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=WS(e.writeResults,e.commitTime),a=wi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=ad(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>JS(this.serializer,a))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{}class XA extends YA{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.Go(e,id(i,a),o,f,d)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new at(Y.UNKNOWN,f.toString())})}Ho(e,i,a,o,f){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Ho(e,id(i,a),o,d,p,f)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(Y.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class KA{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rr(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="RemoteStore";class ZA{constructor(e,i,a,o,f){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=f,this.Aa.Oo(d=>{a.enqueueAndForget(async()=>{Ua(this)&&(st(Oa,"Restarting streams for network reachability change."),await async function(v){const _=wt(v);_.Ea.add(4),await vo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ac(_)}(this))})}),this.Ra=new KA(a,o)}}async function Ac(s){if(Ua(s))for(const e of s.da)await e(!0)}async function vo(s){for(const e of s.da)await e(!1)}function B0(s,e){const i=wt(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),zd(i)?Ud(i):Fs(i).O_()&&Md(i,e))}function Od(s,e){const i=wt(s),a=Fs(i);i.Ia.delete(e),a.O_()&&j0(i,e),i.Ia.size===0&&(a.O_()?a.L_():Ua(i)&&i.Ra.set("Unknown"))}function Md(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Fs(s).Y_(e)}function j0(s,e){s.Va.Ue(e),Fs(s).Z_(e)}function Ud(s){s.Va=new GS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Fs(s).start(),s.Ra.ua()}function zd(s){return Ua(s)&&!Fs(s).x_()&&s.Ia.size>0}function Ua(s){return wt(s).Ea.size===0}function q0(s){s.Va=void 0}async function $A(s){s.Ra.set("Online")}async function JA(s){s.Ia.forEach((e,i)=>{Md(s,e)})}async function WA(s,e){q0(s),zd(s)?(s.Ra.ha(e),Ud(s)):s.Ra.set("Unknown")}async function tb(s,e,i){if(s.Ra.set("Online"),e instanceof w0&&e.state===2&&e.cause)try{await async function(o,f){const d=f.cause;for(const p of f.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))}(s,e)}catch(a){st(Oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await uc(s,a)}else if(e instanceof Xu?s.Va.Ze(e):e instanceof R0?s.Va.st(e):s.Va.tt(e),!i.isEqual(bt.min()))try{const a=await L0(s.localStore);i.compareTo(a)>=0&&await function(f,d){const p=f.Va.Tt(d);return p.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=f.Ia.get(_);S&&f.Ia.set(_,S.withResumeToken(v.resumeToken,d))}}),p.targetMismatches.forEach((v,_)=>{const S=f.Ia.get(v);if(!S)return;f.Ia.set(v,S.withResumeToken(tn.EMPTY_BYTE_STRING,S.snapshotVersion)),j0(f,v);const x=new zr(S.target,v,_,S.sequenceNumber);Md(f,x)}),f.remoteSyncer.applyRemoteEvent(p)}(s,i)}catch(a){st(Oa,"Failed to raise snapshot:",a),await uc(s,a)}}async function uc(s,e,i){if(!Qs(e))throw e;s.Ea.add(1),await vo(s),s.Ra.set("Offline"),i||(i=()=>L0(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{st(Oa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ac(s)})}function H0(s,e){return e().catch(i=>uc(s,i,e))}async function bc(s){const e=wt(s),i=Fr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vd;for(;eb(e);)try{const o=await zA(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,nb(e,o)}catch(o){await uc(e,o)}G0(e)&&Q0(e)}function eb(s){return Ua(s)&&s.Ta.length<10}function nb(s,e){s.Ta.push(e);const i=Fr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function G0(s){return Ua(s)&&!Fr(s).x_()&&s.Ta.length>0}function Q0(s){Fr(s).start()}async function ib(s){Fr(s).ra()}async function rb(s){const e=Fr(s);for(const i of s.Ta)e.ea(i.mutations)}async function ab(s,e,i){const a=s.Ta.shift(),o=wd.from(a,e,i);await H0(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await bc(s)}async function sb(s,e){e&&Fr(s).X_&&await async function(a,o){if(function(d){return jS(d)&&d!==Y.ABORTED}(o.code)){const f=a.Ta.shift();Fr(a).B_(),await H0(a,()=>a.remoteSyncer.rejectFailedWrite(f.batchId,o)),await bc(a)}}(s,e),G0(s)&&Q0(s)}async function f_(s,e){const i=wt(s);i.asyncQueue.verifyOperationInProgress(),st(Oa,"RemoteStore received new credentials");const a=Ua(i);i.Ea.add(3),await vo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ac(i)}async function lb(s,e){const i=wt(s);e?(i.Ea.delete(2),await Ac(i)):e||(i.Ea.add(2),await vo(i),i.Ra.set("Unknown"))}function Fs(s){return s.ma||(s.ma=function(i,a,o){const f=wt(i);return f.sa(),new QA(a,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)}(s.datastore,s.asyncQueue,{Xo:$A.bind(null,s),t_:JA.bind(null,s),r_:WA.bind(null,s),H_:tb.bind(null,s)}),s.da.push(async e=>{e?(s.ma.B_(),zd(s)?Ud(s):s.Ra.set("Unknown")):(await s.ma.stop(),q0(s))})),s.ma}function Fr(s){return s.fa||(s.fa=function(i,a,o){const f=wt(i);return f.sa(),new FA(a,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)}(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:ib.bind(null,s),r_:sb.bind(null,s),ta:rb.bind(null,s),na:ab.bind(null,s)}),s.da.push(async e=>{e?(s.fa.B_(),await bc(s)):(await s.fa.stop(),s.Ta.length>0&&(st(Oa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))})),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,i,a,o,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=f,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,f){const d=Date.now()+a,p=new Ld(e,i,d,o,f);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pd(s,e){if(rr("AsyncQueue",`${e}: ${s}`),Qs(s))return new at(Y.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{static emptySet(e){return new Ms(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=Jl(),this.sortedSet=new de(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ms)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=a.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Ms;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(){this.ga=new de(mt.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):vt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,a)=>{e.push(a)}),e}}class js{constructor(e,i,a,o,f,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,f){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new js(e,i,Ms.emptySet(i),d,a,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class ub{constructor(){this.queries=d_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=wt(i),f=o.queries;o.queries=d_(),f.forEach((d,p)=>{for(const v of p.Sa)v.onError(a)})})(this,new at(Y.ABORTED,"Firestore shutting down"))}}function d_(){return new Ma(s=>h0(s),yc)}async function F0(s,e){const i=wt(s);let a=3;const o=e.query;let f=i.queries.get(o);f?!f.ba()&&e.Da()&&(a=2):(f=new ob,a=e.Da()?0:1);try{switch(a){case 0:f.wa=await i.onListen(o,!0);break;case 1:f.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Pd(d,`Initialization of query '${xs(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,f),f.Sa.push(e),e.va(i.onlineState),f.wa&&e.Fa(f.wa)&&kd(i)}async function Y0(s,e){const i=wt(s),a=e.query;let o=3;const f=i.queries.get(a);if(f){const d=f.Sa.indexOf(e);d>=0&&(f.Sa.splice(d,1),f.Sa.length===0?o=e.Da()?0:1:!f.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function cb(s,e){const i=wt(s);let a=!1;for(const o of e){const f=o.query,d=i.queries.get(f);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&kd(i)}function fb(s,e,i){const a=wt(s),o=a.queries.get(e);if(o)for(const f of o.Sa)f.onError(i);a.queries.delete(e)}function kd(s){s.Ca.forEach(e=>{e.next()})}var od,m_;(m_=od||(od={})).Ma="default",m_.Cache="cache";class X0{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new js(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==od.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e){this.key=e}}class Z0{constructor(e){this.key=e}}class hb{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=d0(e),this.tu=new Ms(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new h_,o=i?i.tu:this.tu;let f=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((S,x)=>{const I=o.get(S),Q=_c(this.query,x)?x:null,J=!!I&&this.mutatedKeys.has(I.key),rt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let tt=!1;I&&Q?I.data.isEqual(Q.data)?J!==rt&&(a.track({type:3,doc:Q}),tt=!0):this.su(I,Q)||(a.track({type:2,doc:Q}),tt=!0,(v&&this.eu(Q,v)>0||_&&this.eu(Q,_)<0)&&(p=!0)):!I&&Q?(a.track({type:0,doc:Q}),tt=!0):I&&!Q&&(a.track({type:1,doc:I}),tt=!0,(v||_)&&(p=!0)),tt&&(Q?(d=d.add(Q),f=rt?f.add(S):f.delete(S)):(d=d.delete(S),f=f.delete(S)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),f=f.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:p,mutatedKeys:f}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const f=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((S,x)=>function(Q,J){const rt=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:tt})}};return rt(Q)-rt(J)}(S.type,x.type)||this.eu(S.doc,x.doc)),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new js(this.query,e.tu,f,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new h_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ut(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const i=[];return e.forEach(a=>{this.Xa.has(a)||i.push(new Z0(a))}),this.Xa.forEach(a=>{e.has(a)||i.push(new K0(a))}),i}cu(e){this.Ya=e.Qs,this.Xa=Ut();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return js.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bd="SyncEngine";class db{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class mb{constructor(e){this.key=e,this.hu=!1}}class gb{constructor(e,i,a,o,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ma(p=>h0(p),yc),this.Iu=new Map,this.Eu=new Set,this.du=new de(mt.comparator),this.Au=new Map,this.Ru=new Id,this.Vu={},this.mu=new Map,this.fu=Bs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pb(s,e,i=!0){const a=nv(s);let o;const f=a.Tu.get(e);return f?(a.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.lu()):o=await $0(a,e,i,!0),o}async function yb(s,e){const i=nv(s);await $0(i,e,!0,!1)}async function $0(s,e,i,a){const o=await LA(s.localStore,Ri(e)),f=o.targetId,d=s.sharedClientState.addLocalQueryTarget(f,i);let p;return a&&(p=await _b(s,e,f,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&B0(s.remoteStore,o),p}async function _b(s,e,i,a,o){s.pu=(x,I,Q)=>async function(rt,tt,It,Tt){let ut=tt.view.ru(It);ut.Cs&&(ut=await s_(rt.localStore,tt.query,!1).then(({documents:N})=>tt.view.ru(N,ut)));const Ht=Tt&&Tt.targetChanges.get(tt.targetId),At=Tt&&Tt.targetMismatches.get(tt.targetId)!=null,Gt=tt.view.applyChanges(ut,rt.isPrimaryClient,Ht,At);return p_(rt,tt.targetId,Gt.au),Gt.snapshot}(s,x,I,Q);const f=await s_(s.localStore,e,!0),d=new hb(e,f.Qs),p=d.ru(f.documents),v=_o.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(p,s.isPrimaryClient,v);p_(s,i,_.au);const S=new db(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function vb(s,e,i){const a=wt(s),o=a.Tu.get(e),f=a.Iu.get(o.targetId);if(f.length>1)return a.Iu.set(o.targetId,f.filter(d=>!yc(d,e))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await sd(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Od(a.remoteStore,o.targetId),ud(a,o.targetId)}).catch(Gs)):(ud(a,o.targetId),await sd(a.localStore,o.targetId,!0))}async function Eb(s,e){const i=wt(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Od(i.remoteStore,a.targetId))}async function Tb(s,e,i){const a=Db(s);try{const o=await function(d,p){const v=wt(d),_=ue.now(),S=p.reduce((Q,J)=>Q.add(J.key),Ut());let x,I;return v.persistence.runTransaction("Locally write mutations","readwrite",Q=>{let J=ar(),rt=Ut();return v.Ns.getEntries(Q,S).next(tt=>{J=tt,J.forEach((It,Tt)=>{Tt.isValidDocument()||(rt=rt.add(It))})}).next(()=>v.localDocuments.getOverlayedDocuments(Q,J)).next(tt=>{x=tt;const It=[];for(const Tt of p){const ut=zS(Tt,x.get(Tt.key).overlayedDocument);ut!=null&&It.push(new Zr(Tt.key,ut,r0(ut.value.mapValue),Zn.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,_,It,p)}).next(tt=>{I=tt;const It=tt.applyToLocalDocumentSet(x,rt);return v.documentOverlayCache.saveOverlays(Q,tt.batchId,It)})}).then(()=>({batchId:I.batchId,changes:g0(x)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,p,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new de(Mt)),_=_.insert(p,v),d.Vu[d.currentUser.toKey()]=_}(a,o.batchId,i),await Eo(a,o.changes),await bc(a.remoteStore)}catch(o){const f=Pd(o,"Failed to persist write");i.reject(f)}}async function J0(s,e){const i=wt(s);try{const a=await MA(i.localStore,e);e.targetChanges.forEach((o,f)=>{const d=i.Au.get(f);d&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Kt(d.hu,14607):o.removedDocuments.size>0&&(Kt(d.hu,42227),d.hu=!1))}),await Eo(i,a,e)}catch(a){await Gs(a)}}function g_(s,e,i){const a=wt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach((f,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)}),function(d,p){const v=wt(d);v.onlineState=p;let _=!1;v.queries.forEach((S,x)=>{for(const I of x.Sa)I.va(p)&&(_=!0)}),_&&kd(v)}(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Sb(s,e,i){const a=wt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),f=o&&o.key;if(f){let d=new de(mt.comparator);d=d.insert(f,ln.newNoDocument(f,bt.min()));const p=Ut().add(f),v=new Tc(bt.min(),new Map,new de(Mt),d,p);await J0(a,v),a.du=a.du.remove(f),a.Au.delete(e),jd(a)}else await sd(a.localStore,e,!1).then(()=>ud(a,e,i)).catch(Gs)}async function Ab(s,e){const i=wt(s),a=e.batch.batchId;try{const o=await OA(i.localStore,e);tv(i,a,null),W0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Eo(i,o)}catch(o){await Gs(o)}}async function bb(s,e,i){const a=wt(s);try{const o=await function(d,p){const v=wt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let S;return v.mutationQueue.lookupMutationBatch(_,p).next(x=>(Kt(x!==null,37113),S=x.keys(),v.mutationQueue.removeMutationBatch(_,x))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,p)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S)).next(()=>v.localDocuments.getDocuments(_,S))})}(a.localStore,e);tv(a,e,i),W0(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Eo(a,o)}catch(o){await Gs(o)}}function W0(s,e){(s.mu.get(e)||[]).forEach(i=>{i.resolve()}),s.mu.delete(e)}function tv(s,e,i){const a=wt(s);let o=a.Vu[a.currentUser.toKey()];if(o){const f=o.get(e);f&&(i?f.reject(i):f.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function ud(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach(a=>{s.Ru.containsKey(a)||ev(s,a)})}function ev(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Od(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),jd(s))}function p_(s,e,i){for(const a of i)a instanceof K0?(s.Ru.addReference(a.key,e),Rb(s,a)):a instanceof Z0?(st(Bd,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||ev(s,a.key)):vt(19791,{wu:a})}function Rb(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(st(Bd,"New document in limbo: "+i),s.Eu.add(a),jd(s))}function jd(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new mt(se.fromString(e)),a=s.fu.next();s.Au.set(a,new mb(i)),s.du=s.du.insert(i,a),B0(s.remoteStore,new zr(Ri(pc(i.path)),a,"TargetPurposeLimboResolution",dc.ce))}}async function Eo(s,e,i){const a=wt(s),o=[],f=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach((p,v)=>{d.push(a.pu(v,e,i).then(_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Vd.As(v.targetId,_);f.push(S)}}))}),await Promise.all(d),a.Pu.H_(o),await async function(v,_){const S=wt(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>K.forEach(_,I=>K.forEach(I.Es,Q=>S.persistence.referenceDelegate.addReference(x,I.targetId,Q)).next(()=>K.forEach(I.ds,Q=>S.persistence.referenceDelegate.removeReference(x,I.targetId,Q)))))}catch(x){if(!Qs(x))throw x;st(Nd,"Failed to update sequence numbers: "+x)}for(const x of _){const I=x.targetId;if(!x.fromCache){const Q=S.Ms.get(I),J=Q.snapshotVersion,rt=Q.withLastLimboFreeSnapshotVersion(J);S.Ms=S.Ms.insert(I,rt)}}}(a.localStore,f))}async function wb(s,e){const i=wt(s);if(!i.currentUser.isEqual(e)){st(Bd,"User change. New user:",e.toKey());const a=await z0(i.localStore,e);i.currentUser=e,function(f,d){f.mu.forEach(p=>{p.forEach(v=>{v.reject(new at(Y.CANCELLED,d))})}),f.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Eo(i,a.Ls)}}function Cb(s,e){const i=wt(s),a=i.Au.get(e);if(a&&a.hu)return Ut().add(a.key);{let o=Ut();const f=i.Iu.get(e);if(!f)return o;for(const d of f){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function nv(s){const e=wt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=J0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sb.bind(null,e),e.Pu.H_=cb.bind(null,e.eventManager),e.Pu.yu=fb.bind(null,e.eventManager),e}function Db(s){const e=wt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ab.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bb.bind(null,e),e}class cc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return NA(this.persistence,new IA,e.initialUser,this.serializer)}Cu(e){return new U0(xd.mi,this.serializer)}Du(e){return new kA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cc.provider={build:()=>new cc};class Ib extends cc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Kt(this.persistence.referenceDelegate instanceof oc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new mA(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new U0(a=>oc.mi(a,i),this.serializer)}}class cd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>g_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=wb.bind(null,this.syncEngine),await lb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ub}()}createDatastore(e){const i=Sc(e.databaseInfo.databaseId),a=function(f){return new GA(f)}(e.databaseInfo);return function(f,d,p,v){return new XA(f,d,p,v)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,f,d,p){return new ZA(a,o,f,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>g_(this.syncEngine,i,0),function(){return u_.v()?new u_:new BA}())}createSyncEngine(e,i){return function(o,f,d,p,v,_,S){const x=new gb(o,f,d,p,v,_);return S&&(x.gu=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const a=wt(i);st(Oa,"RemoteStore shutting down."),a.Ea.add(5),await vo(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cd.provider={build:()=>new cd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="FirestoreClient";class xb{constructor(e,i,a,o,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=_d.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(a,async d=>{st(Yr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(st(Yr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Pd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function jh(s,e){s.asyncQueue.verifyOperationInProgress(),st(Yr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async o=>{a.isEqual(o)||(await z0(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function y_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Vb(s);st(Yr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>f_(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,o)=>f_(e.remoteStore,o)),s._onlineComponents=e}async function Vb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(Yr,"Using user provided OfflineComponentProvider");try{await jh(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;zs("Error using user provided cache. Falling back to memory cache: "+i),await jh(s,new cc)}}else st(Yr,"Using default OfflineComponentProvider"),await jh(s,new Ib(void 0));return s._offlineComponents}async function rv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(Yr,"Using user provided OnlineComponentProvider"),await y_(s,s._uninitializedComponentsProvider._online)):(st(Yr,"Using default OnlineComponentProvider"),await y_(s,new cd))),s._onlineComponents}function Nb(s){return rv(s).then(e=>e.syncEngine)}async function fd(s){const e=await rv(s),i=e.eventManager;return i.onListen=pb.bind(null,e.syncEngine),i.onUnlisten=vb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=yb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Eb.bind(null,e.syncEngine),i}function Ob(s,e,i={}){const a=new Br;return s.asyncQueue.enqueueAndForget(async()=>function(f,d,p,v,_){const S=new iv({next:I=>{S.Nu(),d.enqueueAndForget(()=>Y0(f,x));const Q=I.docs.has(p);!Q&&I.fromCache?_.reject(new at(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&I.fromCache&&v&&v.source==="server"?_.reject(new at(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),x=new X0(pc(p.path),S,{includeMetadataChanges:!0,qa:!0});return F0(f,x)}(await fd(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="firestore.googleapis.com",v_=!0;class E_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sv,this.ssl=v_}else this.host=e.host,this.ssl=e.ssl??v_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=M0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hA)throw new at(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=av(e.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new BT;switch(a.type){case"firstParty":return new GT(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=__.get(i);a&&(st("ComponentProvider","Removing Datastore"),__.delete(i),a.terminate())}(this),Promise.resolve()}}function Mb(s,e,i,a={}){s=Kn(s,Rc);const o=gd(e),f=s._getSettings(),d={...f,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(d1(`https://${p}`),y1("Firestore",!0)),f.host!==sv&&f.host!==p&&zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...f,host:p,ssl:o,emulatorOptions:a};if(!$u(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=sn.MOCK_USER;else{_=m1(a.mockUserToken,s._app?.options.projectId);const x=a.mockUserToken.sub||a.mockUserToken.user_id;if(!x)throw new at(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new sn(x)}s._authCredentials=new jT(new F_(_,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ys(this.firestore,e,this._query)}}class ve{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ve(this.firestore,e,this._key)}toJSON(){return{type:ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(go(i,ve._jsonSchema))return new ve(e,a||null,new mt(se.fromString(i.referencePath)))}}ve._jsonSchemaVersion="firestore/documentReference/1.0",ve._jsonSchema={type:Ie("string",ve._jsonSchemaVersion),referencePath:Ie("string")};class jr extends Ys{constructor(e,i,a){super(e,i,pc(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ve(this.firestore,null,new mt(e))}withConverter(e){return new jr(this.firestore,e,this._path)}}function T_(s,e,...i){if(s=Ii(s),Y_("collection","path",e),s instanceof Rc){const a=se.fromString(e,...i);return Oy(a),new jr(s,null,a)}{if(!(s instanceof ve||s instanceof jr))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(se.fromString(e,...i));return Oy(a),new jr(s.firestore,null,a)}}function Ia(s,e,...i){if(s=Ii(s),arguments.length===1&&(e=_d.newId()),Y_("doc","path",e),s instanceof Rc){const a=se.fromString(e,...i);return Ny(a),new ve(s,null,new mt(a))}{if(!(s instanceof ve||s instanceof jr))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(se.fromString(e,...i));return Ny(a),new ve(s.firestore,s instanceof jr?s.converter:null,new mt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="AsyncQueue";class A_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new P0(this,"async_queue_retry"),this._c=()=>{const a=Bh();a&&st(S_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Bh();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Bh();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new Br;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Qs(e))throw e;st(S_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(a=>{throw this.nc=a,this.rc=!1,rr("INTERNAL UNHANDLED ERROR: ",b_(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Ld.createAndSchedule(this,e,i,a,f=>this.hc(f));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:b_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function b_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const f of a)if(f in o&&typeof o[f]=="function")return!0;return!1}(s,["next","error","complete"])}class Xr extends Rc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new A_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A_(e),this._firestoreClient=void 0,await e}}}function Ub(s,e){const i=typeof s=="object"?s:CT(),a=typeof s=="string"?s:ec,o=ST(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const f=f1("firestore");f&&Mb(o,...f)}return o}function qd(s){if(s._terminated)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||zb(s),s._firestoreClient}function zb(s){const e=s._freezeSettings(),i=function(o,f,d,p){return new lS(o,f,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,av(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new xb(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&function(o){const f=o?._online.build();return{_offline:o?._offline.build(f),_online:f}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(tn.fromBase64String(e))}catch(i){throw new at(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Xn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(go(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Ie("string",Xn._jsonSchemaVersion),bytes:Ie("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(e){if(go(e,Ci._jsonSchema))return new Ci(e.latitude,e.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Ie("string",Ci._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let f=0;f<a.length;++f)if(a[f]!==o[f])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(go(e,Di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new Di(e.vectorValues);throw new at(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:Ie("string",Di._jsonSchemaVersion),vectorValues:Ie("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=/^__.*__$/;class Pb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Zr(e,this.data,this.fieldMask,i,this.fieldTransforms):new yo(e,this.data,i,this.fieldTransforms)}}class lv{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Zr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function ov(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:s})}}class Gd{constructor(e,i,a,o,f,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,f===void 0&&this.Rc(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Gd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ov(this.Ac)&&Lb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Sc(e)}Cc(e,i,a,o=!1){return new Gd({Ac:e,methodName:i,Dc:a,path:We.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cc(s){const e=s._freezeSettings(),i=Sc(s._databaseId);return new kb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function uv(s,e,i,a,o,f={}){const d=s.Cc(f.merge||f.mergeFields?2:0,e,i,o);Qd("Data must be an object, but it was:",d,a);const p=cv(a,d);let v,_;if(f.merge)v=new Nn(d.fieldMask),_=d.fieldTransforms;else if(f.mergeFields){const S=[];for(const x of f.mergeFields){const I=hd(e,x,i);if(!d.contains(I))throw new at(Y.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);hv(S,I)||S.push(I)}v=new Nn(S),_=d.fieldTransforms.filter(x=>v.covers(x.field))}else v=null,_=d.fieldTransforms;return new Pb(new vn(p),v,_)}class Dc extends Hd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dc}}function Bb(s,e,i,a){const o=s.Cc(1,e,i);Qd("Data must be an object, but it was:",o,a);const f=[],d=vn.empty();Kr(a,(v,_)=>{const S=Fd(e,v,i);_=Ii(_);const x=o.yc(S);if(_ instanceof Dc)f.push(S);else{const I=To(_,x);I!=null&&(f.push(S),d.set(S,I))}});const p=new Nn(f);return new lv(d,p,o.fieldTransforms)}function jb(s,e,i,a,o,f){const d=s.Cc(1,e,i),p=[hd(e,a,i)],v=[o];if(f.length%2!=0)throw new at(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<f.length;I+=2)p.push(hd(e,f[I])),v.push(f[I+1]);const _=[],S=vn.empty();for(let I=p.length-1;I>=0;--I)if(!hv(_,p[I])){const Q=p[I];let J=v[I];J=Ii(J);const rt=d.yc(Q);if(J instanceof Dc)_.push(Q);else{const tt=To(J,rt);tt!=null&&(_.push(Q),S.set(Q,tt))}}const x=new Nn(_);return new lv(S,x,d.fieldTransforms)}function qb(s,e,i,a=!1){return To(i,s.Cc(a?4:3,e))}function To(s,e){if(fv(s=Ii(s)))return Qd("Unsupported field value:",e,s),cv(s,e);if(s instanceof Hd)return function(a,o){if(!ov(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const f=a._toFieldTransform(o);f&&o.fieldTransforms.push(f)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(a,o){const f=[];let d=0;for(const p of a){let v=To(p,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),f.push(v),d++}return{arrayValue:{values:f}}}(s,e)}return function(a,o){if((a=Ii(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return xS(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const f=ue.fromDate(a);return{timestampValue:lc(o.serializer,f)}}if(a instanceof ue){const f=new ue(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:lc(o.serializer,f)}}if(a instanceof Ci)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Xn)return{bytesValue:C0(o.serializer,a._byteString)};if(a instanceof ve){const f=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(f))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Dd(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Di)return function(d,p){return{mapValue:{fields:{[n0]:{stringValue:i0},[nc]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return bd(p.serializer,_)})}}}}}}(a,o);throw o.Sc(`Unsupported field value: ${hc(a)}`)}(s,e)}function cv(s,e){const i={};return Z_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kr(s,(a,o)=>{const f=To(o,e.mc(a));f!=null&&(i[a]=f)}),{mapValue:{fields:i}}}function fv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ue||s instanceof Ci||s instanceof Xn||s instanceof ve||s instanceof Hd||s instanceof Di)}function Qd(s,e,i){if(!fv(i)||!X_(i)){const a=hc(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function hd(s,e,i){if((e=Ii(e))instanceof wc)return e._internalPath;if(typeof e=="string")return Fd(s,e);throw fc("Field path arguments must be of type string or ",s,!1,void 0,i)}const Hb=new RegExp("[~\\*/\\[\\]]");function Fd(s,e,i){if(e.search(Hb)>=0)throw fc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new wc(...e.split("."))._internalPath}catch{throw fc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function fc(s,e,i,a,o){const f=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(f||d)&&(v+=" (found",f&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new at(Y.INVALID_ARGUMENT,p+s+v)}function hv(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,i,a,o,f){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Gb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(mv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Gb extends dv{data(){return super.data()}}function mv(s,e){return typeof e=="string"?Fd(s,e):e instanceof wc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yd{}class Fb extends Yd{}function Yb(s,e,...i){let a=[];e instanceof Yd&&a.push(e),a=a.concat(i),function(f){const d=f.filter(v=>v instanceof Kd).length,p=f.filter(v=>v instanceof Xd).length;if(d>1||d>0&&p>0)throw new at(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)s=o._apply(s);return s}class Xd extends Fb{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Xd(e,i,a)}_apply(e){const i=this._parse(e);return gv(e._query,i),new Ys(e.firestore,e.converter,td(e._query,i))}_parse(e){const i=Cc(e.firestore);return function(f,d,p,v,_,S,x){let I;if(_.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new at(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){C_(x,S);const J=[];for(const rt of x)J.push(w_(v,f,rt));I={arrayValue:{values:J}}}else I=w_(v,f,x)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||C_(x,S),I=qb(p,d,x,S==="in"||S==="not-in");return De.create(_,S,I)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Kd extends Yd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Kd(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:si.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,f){let d=o;const p=f.getFlattenedFilters();for(const v of p)gv(d,v),d=td(d,v)}(e._query,i),new Ys(e.firestore,e.converter,td(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function w_(s,e,i){if(typeof(i=Ii(i))=="string"){if(i==="")throw new at(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f0(e)&&i.indexOf("/")!==-1)throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(se.fromString(i));if(!mt.isDocumentKey(a))throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return jy(s,new mt(a))}if(i instanceof ve)return jy(s,i._key);throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hc(i)}.`)}function C_(s,e){if(!Array.isArray(s)||s.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gv(s,e){const i=function(o,f){for(const d of o)for(const p of d.getFlattenedFilters())if(f.indexOf(p.op)>=0)return p.op;return null}(s.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Xb{convertValue(e,i="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Kr(e,(o,f)=>{a[o]=this.convertValue(f,i)}),a}convertVectorValue(e){const i=e.fields?.[nc].arrayValue?.values?.map(a=>Ae(a.doubleValue));return new Di(i)}convertGeoPoint(e){return new Ci(Ae(e.latitude),Ae(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=gc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(uo(e));default:return null}}convertTimestamp(e){const i=Hr(e);return new ue(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=se.fromString(e);Kt(O0(a),9688,{name:e});const o=new co(a.get(1),a.get(3)),f=new mt(a.popFirst(5));return o.isEqual(i)||rr(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class to{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Va extends dv{constructor(e,i,a,o,f,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(mv("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Va._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:Ie("string",Va._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Ku extends Va{data(e={}){return super.data(e)}}class Us{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new to(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Ku(this._firestore,this._userDataWriter,a.key,a,new to(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,f){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const v=new Ku(o._firestore,o._userDataWriter,p.doc.key,p.doc,new to(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>f||p.type!==3).map(p=>{const v=new Ku(o._firestore,o._userDataWriter,p.doc.key,p.doc,new to(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:Kb(p.type),doc:v,oldIndex:_,newIndex:S}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Us._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_d.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach(f=>{f._document!==null&&(i.push(f._document),a.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),o.push(f.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Kb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(s){s=Kn(s,ve);const e=Kn(s.firestore,Xr);return Ob(qd(e),s._key).then(i=>_v(e,s,i))}Us._jsonSchemaVersion="firestore/querySnapshot/1.0",Us._jsonSchema={type:Ie("string",Us._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class yv extends Xb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ve(this.firestore,null,i)}}function qh(s,e,i){s=Kn(s,ve);const a=Kn(s.firestore,Xr),o=pv(s.converter,e);return Ic(a,[uv(Cc(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Zn.none())])}function $b(s,e,i,...a){s=Kn(s,ve);const o=Kn(s.firestore,Xr),f=Cc(o);let d;return d=typeof(e=Ii(e))=="string"||e instanceof wc?jb(f,"updateDoc",s._key,e,i,a):Bb(f,"updateDoc",s._key,e),Ic(o,[d.toMutation(s._key,Zn.exists(!0))])}function Jb(s){return Ic(Kn(s.firestore,Xr),[new Rd(s._key,Zn.none())])}function Wb(s,e){const i=Kn(s.firestore,Xr),a=Ia(s),o=pv(s.converter,e);return Ic(i,[uv(Cc(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,Zn.exists(!1))]).then(()=>a)}function D_(s,...e){s=Ii(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||R_(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(R_(e[a])){const v=e[a];e[a]=v.next?.bind(v),e[a+1]=v.error?.bind(v),e[a+2]=v.complete?.bind(v)}let f,d,p;if(s instanceof ve)d=Kn(s.firestore,Xr),p=pc(s._key.path),f={next:v=>{e[a]&&e[a](_v(d,s,v))},error:e[a+1],complete:e[a+2]};else{const v=Kn(s,Ys);d=Kn(v.firestore,Xr),p=v._query;const _=new yv(d);f={next:S=>{e[a]&&e[a](new Us(d,_,v,S))},error:e[a+1],complete:e[a+2]},Qb(s._query)}return function(_,S,x,I){const Q=new iv(I),J=new X0(S,Q,x);return _.asyncQueue.enqueueAndForget(async()=>F0(await fd(_),J)),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget(async()=>Y0(await fd(_),J))}}(qd(d),p,o,f)}function Ic(s,e){return function(a,o){const f=new Br;return a.asyncQueue.enqueueAndForget(async()=>Tb(await Nb(a),o,f)),f.promise}(qd(s),e)}function _v(s,e,i){const a=i.docs.get(e._key),o=new yv(s);return new Va(s,o,e._key,a,new to(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Hs=o})(wT),Wu(new so("firestore",(a,{instanceIdentifier:o,options:f})=>{const d=a.getProvider("app").getImmediate(),p=new Xr(new qT(a.getProvider("auth-internal")),new QT(d,a.getProvider("app-check-internal")),function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new co(_.options.projectId,S)}(d,o),d);return f={useFetchStreams:i,...f},p._setSettings(f),p},"PUBLIC").setMultipleInstances(!0)),Os(Dy,Iy,e),Os(Dy,Iy,"esm2020")})();const t2={apiKey:"AIzaSyCj6edi2ZrsSv0mpbGh5gGDEIxmUSzFo6g",authDomain:"inventory-4614f.firebaseapp.com",projectId:"inventory-4614f",storageBucket:"inventory-4614f.firebasestorage.app",messagingSenderId:"252486694632",appId:"1:252486694632:web:2e3c7b5f66df1e76157b5d",measurementId:"G-0GBQJD9Q23"},e2=z_(t2),Ur=Ub(e2);function n2(){const s=j=>/[\u0590-\u05FF]/.test(j),[e,i]=Rt.useState(typeof window<"u"&&window.innerWidth<900);Rt.useEffect(()=>{const j=()=>{i(window.innerWidth<900)};return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const a=j=>{if(!j)return e?"1.1rem":"1.3rem";const ct=j.length;return e?ct>35?"0.65rem":ct>25?"0.75rem":ct>20?"0.85rem":ct>15?"0.95rem":ct>10?"1.05rem":"1.1rem":ct>45?"0.75rem":ct>35?"0.85rem":ct>25?"0.95rem":ct>18?"1.1rem":ct>12?"1.2rem":"1.3rem"},o=j=>{const ct={borderRadius:"0.5rem",background:j,color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",whiteSpace:"nowrap"};return e?{...ct,fontSize:window.innerWidth<400?"0.9rem":"1rem",padding:window.innerWidth<400?"0.4rem 0.7rem":"0.5rem 0.8rem"}:{...ct,fontSize:"1.1rem",padding:"0.5rem 1rem"}},[f,d]=Rt.useState([]),[p,v]=Rt.useState([]),[_,S]=Rt.useState([]),[x,I]=Rt.useState([]),[Q,J]=Rt.useState([]),[rt,tt]=Rt.useState([]),[It,Tt]=Rt.useState([]),[ut,Ht]=Rt.useState([]),[At,Gt]=Rt.useState([]),[N,A]=Rt.useState(""),[w,V]=Rt.useState(!1);Rt.useEffect(()=>((async()=>{const ot=Ia(Ur,"settings","sites"),yt=await Zb(ot);if(yt.exists())Ht(yt.data().list);else{const St=[{id:"office",name:"Office"},{id:"ci",name:"C/I"},{id:"gate",name:"GATE"},{id:"ctx",name:"CTX"},{id:"check-room",name:"CHECK-ROOM"},{id:"celler",name:"CELLER"},{id:"innsbruck",name:"Innsbruck"}];await qh(ot,{list:St}),Ht(St)}})(),D_(Ia(Ur,"settings","sites"),ot=>{ot.exists()&&Ht(ot.data().list)})),[]);const O=async()=>{if(!N)return;const j=N.toLowerCase().replace(/\s+/g,"-"),ct={id:j,name:N};if(ut.some(yt=>yt.id===j)){alert("Site already exists!");return}const ot=[...ut,ct];await qh(Ia(Ur,"settings","sites"),{list:ot}),A(""),V(!1)},U=async j=>{if(!window.confirm("Are you sure you want to delete this column? Items will remain but be hidden."))return;const ct=ut.filter(ot=>ot.id!==j);await qh(Ia(Ur,"settings","sites"),{list:ct}),le===j&&sr("add")},[R,xe]=Rt.useState("office"),[ie,H]=Rt.useState(""),[nt,ft]=Rt.useState(""),[zt,C]=Rt.useState("refill"),[Z,it]=Rt.useState("10"),[W,ht]=Rt.useState(null),[Ct,pt]=Rt.useState(""),[ce,Yt]=Rt.useState(""),[en,On]=Rt.useState("refill"),[on,$n]=Rt.useState("10"),[Jn,li]=Rt.useState("office"),[le,sr]=Rt.useState("office"),Ve=10,[Xs,Vi]=Rt.useState(!1),[Mn,Wn]=Rt.useState({idx:null,site:null,itemName:""}),[za,Ni]=Rt.useState(!1),[$r,lr]=Rt.useState(!1),[oe,Lt]=Rt.useState(""),[Ne,Oe]=Rt.useState(null),La="2006",Ks=600*1e3,[En,oi]=Rt.useState(null),[Un,un]=Rt.useState(null),[or,ti]=Rt.useState(!1),[Pa,ka]=Rt.useState({}),ui=Rt.useCallback(j=>{if(!e)return;const ct=document.querySelector(".column-container");if(ct){const ot=ct.scrollTop;localStorage.setItem(`scroll_${j}`,ot.toString()),console.log(` Saved ${j} scroll: ${ot}`)}},[e]),Tn=Rt.useCallback(j=>{if(!e)return;const ct=localStorage.getItem(`scroll_${j}`);if(ct){const ot=parseInt(ct,10);setTimeout(()=>{const yt=document.querySelector(".column-container");yt&&(yt.scrollTop=ot,console.log(` Restored ${j} scroll: ${ot}`))},300)}},[e]),cn=j=>At.filter(ct=>ct.site===j),Jr=(j,ct)=>{const yt=cn(ct)[j];Wn({idx:j,site:ct,itemName:yt?.name||"Unknown Item"}),Vi(!0)},zn=()=>{Vi(!1),Wn({idx:null,site:null,itemName:""})},ur=()=>{if(oe===La){Ni(!0),lr(!1),Lt(""),Ne&&clearTimeout(Ne);const j=setTimeout(()=>{Ni(!1),Oe(null)},Ks);Oe(j)}else alert("Incorrect password. Please try again."),Lt("")},ci=()=>{lr(!1),Lt("")},cr=()=>{za?me():lr(!0)};Rt.useEffect(()=>()=>{Ne&&clearTimeout(Ne)},[Ne]);const Sn=j=>{if(!or)if(ti(!0),e){ui(le);const ct=[...ut.map(Me=>Me.id),"add"],ot=ct.indexOf(le),St=ct.indexOf(j)>ot,ge=document.querySelector(".column-container");ge&&(ge.style.transform=St?"translateX(-50px)":"translateX(50px)",ge.style.opacity="0"),setTimeout(()=>{sr(j),setTimeout(()=>{const Me=document.querySelector(".column-container");Me&&(Me.style.transform=St?"translateX(50px)":"translateX(-50px)",Me.style.opacity="0",requestAnimationFrame(()=>{Me.style.transform="translateX(0)",Me.style.opacity="1"}),Tn(j));const Ue=document.querySelector(`[data-tab="${j}"]`);Ue&&Ue.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}),setTimeout(()=>ti(!1),300)},50)},200)}else sr(j),ti(!1)},Ba=j=>{j.target.tagName==="INPUT"||j.target.tagName==="SELECT"||j.target.tagName==="BUTTON"||j.target.tagName==="TEXTAREA"||(un(null),oi({x:j.targetTouches[0].clientX,y:j.targetTouches[0].clientY,time:Date.now()}))},re=j=>{j.target.tagName==="INPUT"||j.target.tagName==="SELECT"||j.target.tagName==="BUTTON"||j.target.tagName==="TEXTAREA"||En&&un({x:j.targetTouches[0].clientX,y:j.targetTouches[0].clientY,time:Date.now()})},Ee=j=>{if(j.target.tagName==="INPUT"||j.target.tagName==="SELECT"||j.target.tagName==="BUTTON"||j.target.tagName==="TEXTAREA"||!En||!Un)return;const ct=En.x-Un.x,ot=En.y-Un.y,yt=Un.time-En.time,St=Math.abs(ct),ge=Math.abs(ot);if(St>80&&ge<60&&St>ge*1.5&&yt<800){const An=ct>0,ei=ct<0;j.preventDefault(),ui(le);const Oi=[...ut.map(Ui=>Ui.id),"add"],Mi=Oi.indexOf(le);An&&Mi<Oi.length-1?Sn(Oi[Mi+1]):ei&&Mi>0&&Sn(Oi[Mi-1])}oi(null),un(null)};Rt.useEffect(()=>{const j=Yb(T_(Ur,"inventory"));return D_(j,ot=>{const yt=ot.docs.map(St=>({...St.data(),id:St.id}));Gt(yt),d(yt.filter(St=>St.site==="office")),v(yt.filter(St=>St.site==="innsbruck")),S(yt.filter(St=>St.site==="ci")),I(yt.filter(St=>St.site==="gate")),J(yt.filter(St=>St.site==="ctx")),tt(yt.filter(St=>St.site==="celler")),Tt(yt.filter(St=>St.site==="check-room"))})},[]),Rt.useEffect(()=>{if(!e)return;const j=()=>{ui(le)},ct=document.querySelector(".column-container");if(ct)return console.log(` Setup scroll tracking for ${le}`),ct.addEventListener("scroll",j,{passive:!0}),()=>{ct.removeEventListener("scroll",j)}},[le,e,ui]),Rt.useEffect(()=>{e&&(console.log(` Switching to ${le}`),Tn(le))},[le,e,Tn]);const me=async()=>{if(!ie||!nt||isNaN(nt)||!Z||isNaN(Z))return;const j={name:ie,amount:Number(nt),type:zt,site:R,lowStockThreshold:Number(Z)};await Wb(T_(Ur,"inventory"),j),H(""),ft(""),C("refill"),it("10")},mn=async()=>{if(Mn.idx!==null&&Mn.site){const ct=cn(Mn.site).find((ot,yt)=>yt===Mn.idx);ct&&ct.id&&await Jb(Ia(Ur,"inventory",ct.id))}Vi(!1),Wn({idx:null,site:null,itemName:""})},Wr=(j,ct)=>{ht(j),li(ct);const yt=cn(ct).find((St,ge)=>ge===j);pt(yt.name),Yt(yt.amount),On(yt.type),$n(yt.lowStockThreshold||10)},Zs=async()=>{if(!Ct||!ce||isNaN(ce)||!on||isNaN(on))return;const ct=cn(Jn).find((ot,yt)=>yt===W);ct&&ct.id&&await $b(Ia(Ur,"inventory",ct.id),{name:Ct,amount:Number(ce),type:en,site:Jn,lowStockThreshold:Number(on)}),ht(null),pt(""),Yt(""),On("refill"),$n("10"),li("office")};return $.jsxs($.Fragment,{children:[$.jsx("style",{jsx:!0,children:`
        /* Global modern font family */
        * {
          font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Inter", "Roboto", "Helvetica Neue", sans-serif;
        }
        
        /* EliExpress branding animations */
        @keyframes logoGlow {
          0% { text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
          50% { text-shadow: 2px 2px 8px rgba(255,255,255,0.5), 0 0 20px rgba(255,101,0,0.5); }
          100% { text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
        }
        
        .eli-logo {
          animation: logoGlow 3s ease-in-out infinite;
        }
        
        /* Custom scrollbar for mobile navigation */
        .mobile-nav {
          scrollbar-width: none; /* Firefox */
          -ms-overflow-style: none; /* IE and Edge */
        }
        .mobile-nav::-webkit-scrollbar {
          display: none; /* Chrome, Safari, Opera */
        }
        /* Smooth scrolling for mobile */
        .mobile-nav {
          scroll-behavior: smooth;
        }
        /* Smooth slide animations for columns */
        .column-container {
          transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.4s ease;
          transform: translateX(0);
          opacity: 1;
        }
        /* Enhanced swipe animations */
        @keyframes slideInRight {
          from {
            transform: translateX(100px);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        @keyframes slideInLeft {
          from {
            transform: translateX(-100px);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        .slide-enter {
          animation: slideInRight 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        .slide-enter-reverse {
          animation: slideInLeft 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        /* Ensure form elements don't interfere with animations */
        .column-container input,
        .column-container select,
        .column-container button {
          pointer-events: auto;
        }
      `}),$.jsxs("div",{className:"inventory-app main-container",style:{display:e?"block":"grid",gridTemplateColumns:e?"1fr":"1fr 1fr 1fr 1fr 1fr 1fr 1fr auto",gap:e?"0":"1rem",height:"100dvh",width:"100vw",fontFamily:'-apple-system, BlinkMacSystemFont, "SF Pro Display", "Inter", "Roboto", "Helvetica Neue", sans-serif',fontSize:e?"1.2rem":"1.3rem",background:"linear-gradient(90deg, #f8fafc 0%, #e0e7ef 100%)",boxSizing:"border-box",overflow:"auto",margin:0,padding:e?"0":"1rem",minHeight:"100vh",touchAction:e?"pan-x":"auto",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},onTouchStart:e?Ba:void 0,onTouchMove:e?re:void 0,onTouchEnd:e?Ee:void 0,children:[$.jsxs("div",{style:{gridColumn:e?"1":"1 / -1",background:"linear-gradient(135deg, #ff6500, #ff8533)",color:"#fff",padding:e?"1rem":"1.5rem 2rem",marginBottom:e?"0":"1rem",borderRadius:e?"0":"1rem",boxShadow:"0 4px 20px rgba(255, 101, 0, 0.3)",display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",overflow:"hidden"},children:[$.jsx("div",{style:{position:"absolute",top:0,right:0,width:e?"80px":"120px",height:e?"80px":"120px",backgroundImage:"url(/eli-photo.jpg)",backgroundSize:"cover",backgroundPosition:"center",opacity:.6,borderRadius:"0 1rem 0 0",filter:"brightness(1.1) contrast(1.1)"}}),$.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",zIndex:1},children:[$.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[$.jsx("div",{className:"eli-logo",style:{fontSize:e?"1.5rem":"2rem",fontWeight:"900",letterSpacing:"-0.02em",textShadow:"2px 2px 4px rgba(0,0,0,0.3)",lineHeight:"1.1"},children:" EliExpress"}),$.jsx("div",{style:{fontSize:e?"0.75rem":"0.9rem",fontWeight:"500",opacity:.85,fontStyle:"italic",marginTop:"0.2rem",letterSpacing:"0.5px"},children:"Inventory Management System"})]}),$.jsx("button",{onClick:()=>V(!0),style:{background:"rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.4)",borderRadius:"0.5rem",color:"#fff",padding:"0.5rem 1rem",cursor:"pointer",fontWeight:"bold",fontSize:e?"0.8rem":"1rem",marginLeft:"1rem"},children:"+ Add Column"})]}),!e&&$.jsxs("div",{style:{fontSize:"1rem",fontWeight:"500",opacity:.8,display:"flex",alignItems:"center",gap:"0.5rem",zIndex:1},children:[$.jsx("span",{children:""}),"Smart Inventory Solutions"]})]}),e&&$.jsxs("div",{className:"mobile-nav",style:{display:"flex",justifyContent:"flex-start",gap:"0.5rem",background:"#fff",boxShadow:"0 2px 8px #e0e7ef",padding:"1rem",position:"sticky",top:0,zIndex:10,overflowX:"auto",overflowY:"hidden",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",scrollbarWidth:"thin",width:"100vw",boxSizing:"border-box"},children:[ut.map(j=>$.jsx("button",{"data-tab":j.id,onClick:()=>Sn(j.id),style:{fontWeight:le===j.id?"bold":"normal",background:le===j.id?"#2563eb":"#f1f5f9",color:le===j.id?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.8rem 1.2rem",fontSize:"1rem",cursor:"pointer",minWidth:"fit-content",whiteSpace:"nowrap",flexShrink:0},children:j.name.toUpperCase()},j.id)),$.jsx("button",{"data-tab":"add",onClick:()=>Sn("add"),style:{fontWeight:le==="add"?"bold":"normal",background:le==="add"?"#2563eb":"#f1f5f9",color:le==="add"?"#fff":"#2563eb",border:"none",borderRadius:"0.5rem",padding:"0.8rem 1.2rem",fontSize:"1rem",cursor:"pointer",minWidth:"fit-content",whiteSpace:"nowrap",flexShrink:0},children:"ADD ITEM"})]}),(!e||le==="add")&&$.jsxs("div",{className:"column-container",style:{gridColumn:e?"1":"8",flex:e?"none":"unset",minWidth:"0",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",borderRadius:e?"0":"1rem",height:e?"100vh":"100%",overflowY:"auto",boxSizing:"border-box",padding:e?"0.5rem 0.5rem":"1.5rem",position:"relative",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.3)"},children:[$.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:'url("data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.05"%3E%3Ccircle cx="30" cy="30" r="2"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")',borderRadius:e?"0":"1rem",pointerEvents:"none"}}),$.jsxs("div",{style:{textAlign:"center",marginBottom:e?"0.5rem":"1.5rem",zIndex:1},children:[$.jsx("div",{style:{fontSize:e?"1.5rem":"2.5rem",marginBottom:e?"0.1rem":"0.3rem"},children:""}),$.jsx("h2",{style:{fontSize:e?"1.2rem":"2rem",margin:"0",color:"#fff",fontWeight:"700",textShadow:"0 2px 4px rgba(0,0,0,0.3)",letterSpacing:"-0.5px"},children:"Add New Item"}),$.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:e?"0.7rem":"0.9rem",margin:e?"0.1rem 0 0 0":"0.3rem 0 0 0",fontWeight:"400"},children:"Create inventory entries"})]}),za&&$.jsxs("div",{style:{backgroundColor:"rgba(34, 197, 94, 0.9)",color:"#fff",padding:e?"0.4rem 0.8rem":"0.75rem 1.25rem",borderRadius:"50px",fontSize:e?"0.7rem":"0.8rem",fontWeight:"600",marginBottom:e?"0.5rem":"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 4px 16px rgba(34, 197, 94, 0.3)",zIndex:1},children:[$.jsx("span",{children:""}),$.jsx("span",{children:"Ready to add items"})]}),$.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:e?"0.6rem":"1.2rem",width:"100%",maxWidth:e?"100%":"350px",background:"rgba(255, 255, 255, 0.95)",padding:e?"1rem 0.8rem":"2rem 1.5rem",borderRadius:"1.5rem",boxShadow:"0 16px 40px rgba(0,0,0,0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.3)",zIndex:1,flex:"1",minHeight:"0",boxSizing:"border-box"},children:[$.jsxs("div",{style:{position:"relative",width:"100%",boxSizing:"border-box"},children:[$.jsx("label",{style:{display:"block",fontSize:e?"0.65rem":"0.75rem",fontWeight:"600",color:"#374151",marginBottom:e?"0.25rem":"0.4rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:" Location"}),$.jsx("select",{value:R,onChange:j=>xe(j.target.value),style:{fontSize:e?"0.8rem":"1rem",padding:e?"0.6rem 0.7rem":"0.875rem 1rem",borderRadius:"0.75rem",border:"2px solid #e5e7eb",width:"100%",boxSizing:"border-box",background:"#fff",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",outline:"none"},onFocus:j=>j.target.style.borderColor="#667eea",onBlur:j=>j.target.style.borderColor="#e5e7eb",children:ut.map(j=>$.jsx("option",{value:j.id,children:j.name},j.id))})]}),$.jsxs("div",{style:{position:"relative",width:"100%",boxSizing:"border-box"},children:[$.jsx("label",{style:{display:"block",fontSize:e?"0.65rem":"0.75rem",fontWeight:"600",color:"#374151",marginBottom:e?"0.25rem":"0.4rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:" Item Name"}),$.jsx("input",{type:"text",placeholder:"Enter item name...",value:ie,onChange:j=>H(j.target.value),style:{fontSize:e?"0.8rem":"1rem",padding:e?"0.6rem 0.7rem":"0.875rem 1rem",borderRadius:"0.75rem",border:"2px solid #e5e7eb",width:"100%",boxSizing:"border-box",background:"#fff",color:"#374151",fontWeight:"500",transition:"all 0.2s ease",outline:"none"},onFocus:j=>j.target.style.borderColor="#667eea",onBlur:j=>j.target.style.borderColor="#e5e7eb"})]}),$.jsxs("div",{style:{position:"relative",width:"100%",boxSizing:"border-box"},children:[$.jsx("label",{style:{display:"block",fontSize:e?"0.65rem":"0.75rem",fontWeight:"600",color:"#374151",marginBottom:e?"0.25rem":"0.4rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:" Quantity"}),$.jsx("input",{type:"number",placeholder:"Enter quantity...",value:nt,onChange:j=>ft(j.target.value),style:{fontSize:e?"0.8rem":"1rem",padding:e?"0.6rem 0.7rem":"0.875rem 1rem",borderRadius:"0.75rem",border:"2px solid #e5e7eb",width:"100%",boxSizing:"border-box",background:"#fff",color:"#374151",fontWeight:"500",transition:"all 0.2s ease",outline:"none"},onFocus:j=>j.target.style.borderColor="#667eea",onBlur:j=>j.target.style.borderColor="#e5e7eb"})]}),$.jsxs("div",{style:{position:"relative",width:"100%",boxSizing:"border-box"},children:[$.jsx("label",{style:{display:"block",fontSize:e?"0.65rem":"0.75rem",fontWeight:"600",color:"#374151",marginBottom:e?"0.25rem":"0.4rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:" Low Stock Alert"}),$.jsx("input",{type:"number",placeholder:"Alert when below...",value:Z,onChange:j=>it(j.target.value),style:{fontSize:e?"0.8rem":"1rem",padding:e?"0.6rem 0.7rem":"0.875rem 1rem",borderRadius:"0.75rem",border:"2px solid #e5e7eb",width:"100%",boxSizing:"border-box",background:"#fff",color:"#374151",fontWeight:"500",transition:"all 0.2s ease",outline:"none"},onFocus:j=>j.target.style.borderColor="#667eea",onBlur:j=>j.target.style.borderColor="#e5e7eb"})]}),$.jsxs("div",{style:{position:"relative",width:"100%",boxSizing:"border-box"},children:[$.jsx("label",{style:{display:"block",fontSize:e?"0.65rem":"0.75rem",fontWeight:"600",color:"#374151",marginBottom:e?"0.25rem":"0.4rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:" Item Type"}),$.jsxs("select",{value:zt,onChange:j=>C(j.target.value),style:{fontSize:e?"0.8rem":"1rem",padding:e?"0.6rem 0.7rem":"0.875rem 1rem",borderRadius:"0.75rem",border:"2px solid #e5e7eb",width:"100%",boxSizing:"border-box",background:"#fff",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",outline:"none"},onFocus:j=>j.target.style.borderColor="#667eea",onBlur:j=>j.target.style.borderColor="#e5e7eb",children:[$.jsx("option",{value:"refill",children:" Supplies (Consumable)"}),$.jsx("option",{value:"stable",children:" Equipment (Permanent)"})]})]}),$.jsx("button",{onClick:cr,style:{fontSize:e?"0.9rem":"1.1rem",padding:e?"0.7rem 1.2rem":"1rem 2rem",borderRadius:"0.75rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",border:"none",cursor:"pointer",fontWeight:"700",marginTop:e?"0.3rem":"0.5rem",transition:"all 0.2s ease",boxShadow:"0 8px 25px rgba(102, 126, 234, 0.4)",textTransform:"uppercase",letterSpacing:"0.5px",width:"100%",boxSizing:"border-box"},onMouseEnter:j=>{j.target.style.transform="translateY(-2px)",j.target.style.boxShadow="0 12px 35px rgba(102, 126, 234, 0.5)"},onMouseLeave:j=>{j.target.style.transform="translateY(0)",j.target.style.boxShadow="0 8px 25px rgba(102, 126, 234, 0.4)"},children:" Add Item"})]})]}),ut.map(j=>{const ct=cn(j.id);return(!e||le===j.id)&&$.jsxs("div",{className:"column-container",style:{gridColumn:e?"1":"auto",flex:e?"none":"unset",background:"#fff",borderRadius:"1rem",boxShadow:"0 2px 8px #e0e7ef",padding:"1.5rem",minWidth:e?"0":"250px",height:e?"auto":"100%",overflowY:"auto",marginTop:e?"2rem":"0",display:"flex",flexDirection:"column",alignItems:"center"},children:[$.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.2rem"},children:[$.jsx("h2",{style:{fontSize:"1.5rem",color:"#2563eb",textAlign:"center",margin:0,flex:1},children:j.name}),$.jsx("button",{onClick:()=>U(j.id),style:{background:"none",border:"none",cursor:"pointer",fontSize:"1.2rem",opacity:.5},title:"Delete Column",children:""})]}),$.jsxs("ul",{className:"item-list",style:{listStyle:"none",padding:0,width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[ct.length===0&&$.jsx("p",{style:{color:"#64748b"},children:"No items yet."}),[...ct].map((ot,yt)=>({item:ot,originalIdx:yt})).sort((ot,yt)=>{const St=ot.item.type==="refill"&&ot.item.amount<(ot.item.lowStockThreshold||Ve),ge=yt.item.type==="refill"&&yt.item.amount<(yt.item.lowStockThreshold||Ve);return St&&!ge?-1:!St&&ge?1:(ot.item.type==="refill"?-1:1)-(yt.item.type==="refill"?-1:1)}).map(({item:ot,originalIdx:yt})=>$.jsx("li",{style:{background:ot.type==="refill"&&ot.amount<(ot.lowStockThreshold||Ve)?"#fef2f2":ot.type==="stable"?"#eff6ff":"#f0fdf4",borderRadius:"0.8rem",boxShadow:"0 2px 6px #e0e7ef",padding:"0.9rem",width:e?"90%":"260px",maxWidth:"280px",border:"2px solid",borderColor:ot.type==="refill"&&ot.amount<(ot.lowStockThreshold||Ve)?"#fca5a5":ot.type==="stable"?"#93c5fd":"#a7f3d0",position:"relative",marginBottom:"1.5rem"},children:W===yt&&Jn===j.id?$.jsx(YE.Fragment,{children:$.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[$.jsx("input",{type:"text",value:Ct,onChange:St=>pt(St.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"}}),$.jsx("input",{type:"number",value:ce,onChange:St=>Yt(St.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"}}),$.jsxs("select",{value:en,onChange:St=>On(St.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"},children:[$.jsx("option",{value:"refill",children:"Supplies"}),$.jsx("option",{value:"stable",children:"Equipment"})]}),$.jsx("input",{type:"number",value:on,onChange:St=>$n(St.target.value),style:{fontSize:"1.1rem",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1"},placeholder:"Low stock threshold"}),$.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginTop:"0.5rem"},children:[$.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[$.jsx("span",{style:{fontSize:"1rem",color:"#64748b"},children:"Type:"}),$.jsx("span",{style:{fontSize:"1rem",fontWeight:"bold",color:en==="stable"?"#2563eb":"#059669"},children:en==="refill"?"Supplies":"Equipment"}),en==="refill"&&ce<on&&$.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"1rem"},children:" Low stock!"})]}),$.jsxs("div",{style:{display:"flex",gap:"0.8rem",justifyContent:e?"stretch":"flex-end"},children:[$.jsx("button",{onClick:Zs,style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#22c55e",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Save"}),$.jsx("button",{onClick:()=>ht(null),style:{fontSize:"1rem",padding:"0.6rem 1rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",flex:e?"1":"none"},children:"Cancel"})]})]})]})}):$.jsxs("div",{children:[$.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"0.8rem",alignItems:"center",justifyContent:"space-between",marginBottom:"0.8rem"},children:[$.jsx("span",{style:{fontWeight:"bold",fontSize:a(ot.name),color:"#1e293b",textAlign:s(ot.name)?"right":"left",direction:s(ot.name)?"rtl":"ltr",wordBreak:"break-word",hyphens:"auto",lineHeight:"1.2",flex:"1"},children:ot.name}),$.jsx("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:"#0f172a",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",padding:"0.3rem 0.6rem",borderRadius:"0.5rem",border:"1px solid #cbd5e1",minWidth:"50px",textAlign:"center"},children:ot.amount}),$.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"0.4rem",alignItems:"center"},children:[$.jsx("button",{onClick:()=>Wr(yt,j.id),style:{...o("#f59e0b"),fontSize:"0.85rem",padding:"0.4rem 0.7rem"},children:"Edit"}),$.jsx("button",{onClick:()=>Jr(yt,j.id),style:{...o("#ef4444"),fontSize:"0.85rem",padding:"0.4rem 0.7rem"},children:"Delete"})]})]}),$.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[$.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[$.jsx("span",{style:{fontSize:"0.9rem",color:ot.type==="stable"?"#2563eb":"#059669",fontWeight:"bold",padding:"0.2rem 0.6rem",borderRadius:"0.4rem",background:ot.type==="stable"?"#eff6ff":"#f0fdf4",border:"1px solid",borderColor:ot.type==="stable"?"#93c5fd":"#a7f3d0"},children:ot.type==="refill"?"Supplies":"Equipment"}),ot.type==="refill"&&ot.amount<(ot.lowStockThreshold||Ve)&&$.jsx("span",{className:"alert",style:{color:"#ef4444",fontWeight:"bold",fontSize:"0.8rem",flexShrink:0},children:" Low stock!"})]}),$.jsxs("span",{style:{fontSize:"0.8rem",color:"#64748b"},children:["Low: < ",ot.lowStockThreshold||Ve]})]})]})},ot.id))]})]},j.id)})]}),Xs&&$.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"1rem"},children:$.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"1rem",padding:"2rem",maxWidth:"400px",width:"100%",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)",textAlign:"center"},children:[$.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem",color:"#ef4444"},children:""}),$.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"0.5rem",color:"#1f2937",fontWeight:"bold"},children:"Confirm Delete"}),$.jsxs("p",{style:{fontSize:"1.1rem",marginBottom:"1.5rem",color:"#6b7280",lineHeight:"1.5"},children:["Are you sure you want to delete"," ",$.jsxs("strong",{style:{color:"#1f2937"},children:['"',Mn.itemName,'"']}),"?",$.jsx("br",{}),$.jsx("span",{style:{fontSize:"1rem",color:"#ef4444"},children:"This action cannot be undone."})]}),$.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[$.jsx("button",{onClick:zn,style:{fontSize:"1.1rem",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",background:"#6b7280",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",minWidth:"100px"},children:"Cancel"}),$.jsx("button",{onClick:mn,style:{fontSize:"1.1rem",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",background:"#ef4444",color:"#fff",border:"none",cursor:"pointer",fontWeight:"bold",minWidth:"100px"},children:"Delete"})]})]})}),$r&&$.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:$.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"1rem",padding:"2rem",maxWidth:"400px",width:"90%",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)"},children:[$.jsx("h3",{style:{margin:"0 0 1.5rem 0",fontSize:"1.5rem",color:"#2d3748",textAlign:"center"},children:" Admin Access Required"}),$.jsx("p",{style:{margin:"0 0 1.5rem 0",color:"#4a5568",textAlign:"center",fontSize:"1rem"},children:"Enter password to add new items:"}),$.jsx("input",{type:"password",value:oe,onChange:j=>Lt(j.target.value),onKeyPress:j=>j.key==="Enter"&&ur(),placeholder:"Enter password",style:{width:"100%",padding:"0.75rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"1rem",marginBottom:"1.5rem",boxSizing:"border-box"},autoFocus:!0}),$.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[$.jsx("button",{onClick:ci,style:{padding:"0.75rem 1.5rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",backgroundColor:"#fff",color:"#4a5568",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Cancel"}),$.jsx("button",{onClick:ur,style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:"0.5rem",backgroundColor:"#2563eb",color:"#fff",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Submit"})]})]})}),w&&$.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:$.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"1rem",padding:"2rem",maxWidth:"400px",width:"90%",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)"},children:[$.jsx("h3",{style:{margin:"0 0 1.5rem 0",fontSize:"1.5rem",color:"#2d3748",textAlign:"center"},children:"Add New Column"}),$.jsx("input",{type:"text",value:N,onChange:j=>A(j.target.value),placeholder:"Column Name",style:{width:"100%",padding:"0.75rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"1rem",marginBottom:"1.5rem",boxSizing:"border-box"},autoFocus:!0}),$.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[$.jsx("button",{onClick:()=>V(!1),style:{padding:"0.75rem 1.5rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",backgroundColor:"#fff",color:"#4a5568",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Cancel"}),$.jsx("button",{onClick:()=>{O(),V(!1)},style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:"0.5rem",backgroundColor:"#2563eb",color:"#fff",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Add"})]})]})})]})}t1.createRoot(document.getElementById("root")).render($.jsx(Rt.StrictMode,{children:$.jsx(n2,{})}));
